{"version":3,"sources":["app.js","mediaelement.min.js","foundation.core.js","foundation.util.box.js","foundation.util.keyboard.js","foundation.util.mediaQuery.js","foundation.util.motion.js","foundation.util.nest.js","foundation.util.timerAndImageLoader.js","foundation.util.touch.js","foundation.util.triggers.js","foundation.accordion.js","foundation.interchange.js","foundation.tabs.js","flickity.pkgd.min.js","flickitybg-lazyload.js","jquery-autocomplete.js","jquery.magnific-popup.js","lazyload.js","what-input.js","z-menubar.js"],"names":["_classCallCheck","instance","Constructor","TypeError","onYouTubePlayerAPIReady","mejs","YouTubeApi","iFrameReady","onYouTubePlayerReady","a","flashReady","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","onLoadeddata","event","cell","$gallery","flickity","target","element","toggleSearchClasses","$","toggleClass","removeClass","setTimeout","_typeof","Symbol","iterator","constructor","prototype","functionName","fn","undefined","Function","name","funcNameRegex","results","exec","toString","length","trim","parseValue","str","isNaN","parseFloat","hyphenate","replace","toLowerCase","FOUNDATION_VERSION","Foundation","version","_plugins","_uuids","rtl","attr","plugin","className","attrName","this","registerPlugin","pluginName","uuid","GetYoDigits","$element","data","trigger","push","unregisterPlugin","splice","indexOf","removeAttr","removeData","prop","reInit","plugins","isJQ","each","_init","type","_this","fns","object","plgs","forEach","p","foundation","string","keys","err","console","error","namespace","Math","round","pow","random","slice","reflow","elem","i","$elem","find","addBack","$el","opts","warn","split","e","opt","map","el","er","getFnName","transitionend","end","transitions","transition","WebkitTransition","MozTransition","OTransition","document","createElement","t","style","triggerHandler","util","throttle","func","delay","timer","context","args","arguments","apply","method","$meta","$noJS","appendTo","head","MediaQuery","Array","call","plugClass","ReferenceError","window","Date","now","getTime","vendors","requestAnimationFrame","vp","cancelAnimationFrame","test","navigator","userAgent","lastTime","callback","nextTime","max","clearTimeout","performance","start","bind","oThis","aArgs","fToBind","fNOP","fBound","concat","jQuery","ImNotTouchingYou","parent","lrOnly","tbOnly","top","bottom","left","right","eleDims","GetDimensions","parDims","offset","height","width","windowDims","allDirs","Error","rect","getBoundingClientRect","parRect","parentNode","winRect","body","winY","pageYOffset","winX","pageXOffset","parentDims","GetOffsets","anchor","position","vOffset","hOffset","isOverflow","$eleDims","$anchorDims","Box","getKeyCodes","kcs","k","kc","keyCodes","9","13","27","32","37","38","39","40","commands","Keyboard","parseKey","which","keyCode","String","fromCharCode","toUpperCase","shiftKey","ctrlKey","altKey","handleKey","component","functions","cmds","command","commandList","ltr","extend","returnValue","handled","unhandled","findFocusable","filter","is","register","componentName","trapFocus","$focusable","$firstFocusable","eq","$lastFocusable","on","preventDefault","focus","releaseFocus","off","parseStyleToObject","styleObject","reduce","ret","param","parts","val","decodeURIComponent","hasOwnProperty","isArray","queries","current","namedQueries","self","extractedStyles","css","_getCurrentSize","_watcher","atLeast","size","query","get","matchMedia","matches","matched","newSize","currentSize","styleMedia","media","script","getElementsByTagName","info","id","insertBefore","getComputedStyle","currentStyle","matchMedium","text","styleSheet","cssText","textContent","Move","duration","move","ts","prog","anim","animate","isIn","animation","cb","finish","hide","reset","transitionDuration","initClass","activeClass","initClasses","activeClasses","addClass","show","offsetWidth","one","Motion","animateIn","animateOut","Nest","Feather","menu","items","role","subMenuClass","subItemClass","hasSubClass","$item","$sub","children","aria-haspopup","aria-label","aria-expanded","data-submenu","aria-hidden","Burn","Timer","options","nameSpace","remain","isPaused","restart","infinite","pause","onImagesLoaded","images","singleImageLoaded","unloaded","complete","readyState","src","onTouchEnd","removeEventListener","onTouchMove","isMoving","spotSwipe","dir","x","touches","pageX","dx","pageY","startPosX","elapsedTime","startTime","abs","moveThreshold","timeThreshold","onTouchStart","startPosY","addEventListener","init","enabled","documentElement","special","swipe","setup","noop","addTouch","handleTouch","simulatedEvent","changedTouches","first","eventTypes","touchstart","touchmove","touchend","MouseEvent","bubbles","cancelable","screenX","screenY","clientX","clientY","createEvent","initMouseEvent","dispatchEvent","checkListeners","eventsListener","resizeListener","scrollListener","closemeListener","yetiBoxes","plugNames","listeners","join","pluginId","not","debounce","$nodes","MutationObserver","nodes","querySelectorAll","listeningElementsMutation","mutationRecordsList","$target","attributeName","closest","elementObserver","observe","attributes","childList","characterData","subtree","attributeFilter","prefixes","triggers","stopPropagation","fadeOut","IHearYou","_createClass","defineProperties","props","descriptor","protoProps","staticProps","Accordion","defaults","ENTER","SPACE","ARROW_DOWN","ARROW_UP","_this2","$tabs","idx","$content","linkId","aria-controls","aria-selected","aria-labelledby","$initActive","firstTimeInit","down","_checkDeepLink","location","hash","$link","$anchor","hasClass","deepLinkSmudge","load","scrollTop","deepLinkSmudgeDelay","deepLink","_events","$tabContent","toggle","next","$a","multiExpand","previous","prev","up","updateHistory","history","pushState","replaceState","firstTime","_this3","$currentActive","slideDown","slideSpeed","$aunts","siblings","allowAllClosed","slideUp","stop","Interchange","rules","currentPath","_addBreakpoints","_generateRules","_reflow","match","rule","path","SPECIAL_QUERIES","rulesList","nodeName","background-image","response","html","landscape","portrait","retina","Tabs","ARROW_RIGHT","ARROW_LEFT","$tabTitles","linkClass","isActive","linkActiveClass","autoFocus","matchHeight","$images","_setHeight","selectTab","_addKeyHandler","_addClickHandler","_setHeightMqHandler","_handleTabChange","$prevElement","$nextElement","$elements","wrapOnKeys","last","min","open","historyHandled","activeCollapse","_collapseTab","$oldTab","$tabLink","$targetContent","_openTab","panelActiveClass","$target_anchor","idStr","panelClass","panel","visibility","display","temp","meIndex","silverlight","types","flash","youtube","vimeo","Utility","encodeUrl","encodeURIComponent","escapeHTML","absolutizeUrl","b","innerHTML","firstChild","href","getScriptPath","c","g","f","d","h","lastIndexOf","substring","secondsToTimeCode","floor","toFixed","timeCodeToSeconds","parseInt","convertSMPTEtoSeconds","reverse","Number","removeSwf","getElementById","MediaFeatures","isIE","removeObjectInIE","callee","removeChild","PluginDetector","hasPluginVersion","nav","ua","addPlugin","detectPlugin","description","mimeTypes","enabledPlugin","ActiveXObject","GetVariable","isVersionSupported","isiPad","isiPhone","isiOS","isAndroid","isBustedAndroid","isBustedNativeHTTPS","protocol","appName","isChrome","isChromium","isFirefox","isWebkit","isGecko","isOpera","hasTouch","svg","createElementNS","createSVGRect","supportsMediaTag","canPlayType","hasSemiNativeFullScreen","webkitEnterFullscreen","hasNativeFullscreen","requestFullscreen","hasWebkitNativeFullScreen","webkitRequestFullScreen","hasMozNativeFullScreen","mozRequestFullScreen","hasMsNativeFullScreen","msRequestFullscreen","hasTrueNativeFullScreen","nativeFullScreenEnabled","mozFullScreenEnabled","msFullscreenEnabled","fullScreenEventName","isFullScreen","mozFullScreen","webkitIsFullScreen","msFullscreenElement","requestFullScreen","cancelFullScreen","webkitCancelFullScreen","mozCancelFullScreen","msExitFullscreen","hasNativeFullScreen","HtmlMediaElement","pluginType","setCurrentTime","currentTime","setMuted","muted","setVolume","volume","setSrc","setVideoSize","PluginMediaElement","events","pluginElement","playbackRate","defaultPlaybackRate","seekable","played","paused","ended","seeking","tagName","play","pluginApi","playVideo","playMedia","loadMedia","pauseVideo","pauseMedia","stopVideo","stopMedia","positionFullscreenButton","hideFullscreenButton","seekTo","mute","unMute","setFullscreen","enterFullScreen","exitFullScreen","hasAttribute","removeAttribute","getAttribute","setAttribute","remove","MediaPluginBridge","unregisterPluginElement","pluginMediaElements","htmlMediaElements","registerPluginElement","initPlugin","Content","MediaElementJS","success","fireEvent","bufferedTime","buffered","MediaElementDefaults","mode","enablePluginDebug","httpsBasicAuthSite","pluginPath","flashName","flashStreamer","enablePluginSmoothing","enablePseudoStreaming","pseudoStreamingStartQueryParam","silverlightName","defaultVideoWidth","defaultVideoHeight","pluginWidth","pluginHeight","pluginVars","timerRate","startVolume","MediaElement","HtmlMediaElementShim","create","j","determinePlayback","url","updateNative","createPlugin","createErrorMessage","htmlMediaElement","isVideo","formatType","childNodes","nodeType","getTypeFromFile","m","substr","getTypeFromExtension","customError","i18n","q","specified","videoWidth","videoHeight","appendChild","outerHTML","youtubeSettings","container","containerId","pluginMediaElement","videoId","createFlash","enqueueIframe","vimeoid","$f","l","addEvent","o","n","r","s","seconds","api","lastVolume","isIframeStarted","isIframeLoaded","loadIframeApi","iframeQueue","isLoaded","createIframe","YT","Player","playerVars","controls","onReady","setInterval","onStateChange","handleStateChange","getDuration","getCurrentTime","isMuted","getVolume","bytesTotal","getVideoBytesTotal","bufferedBytes","getVideoBytesLoaded","pop","flashPlayers","cueVideoById","locale","language","strings","methods","getLanguage","userLanguage","mejsL10n","checkPlain","&","\"","<",">","RegExp","message","de","Fullscreen","Go Fullscreen","Turn off Fullscreen","Close","zh","factory","define","amd","module","exports","require","jQueryBridget","PluginClass","methodCall","$elems","methodName","pluginMethodStr","logError","charAt","plainCall","option","isPlainObject","arg0","arraySlice","updateJQuery","bridget","global","EvEmitter","proto","eventName","listener","once","onceEvents","_onceEvents","onceListeners","index","emitEvent","isOnce","allOff","getSize","getStyleSize","num","isValid","getZeroSize","innerWidth","innerHeight","outerWidth","outerHeight","measurementsLength","measurement","measurements","getStyle","isSetup","div","padding","borderStyle","borderWidth","boxSizing","isBoxSizeOuter","querySelector","offsetHeight","isBorderBox","paddingWidth","paddingLeft","paddingRight","paddingHeight","paddingTop","paddingBottom","marginWidth","marginLeft","marginRight","marginHeight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderHeight","borderTopWidth","borderBottomWidth","isBorderBoxSizeOuter","styleWidth","styleHeight","matchesSelector","matchesMethod","ElemProto","Element","prefix","selector","fizzyUIUtils","utils","modulo","makeArray","isArrayLike","removeFrom","ary","getParent","getQueryElement","handleEvent","filterFindElements","elems","ffElems","HTMLElement","childElems","debounceMethod","_class","threshold","timeoutName","timeout","docReady","toDashed","$1","$2","htmlInit","WidgetClass","dashedNamespace","dataAttr","dataAttrElems","jsDashElems","dataOptionsAttr","JSON","parse","Flickity","Cell","shift","destroy","side","originSide","setPosition","updateTarget","renderPosition","setDefaultTarget","marginProperty","cellAlign","getPositionValue","wrapShift","slideableWidth","Slide","isOriginLeft","cells","addCell","beginMargin","firstMargin","endMargin","lastCell","getLastCell","lastMargin","slideWidth","select","changeSelected","unselect","isSelected","classMethod","classList","getCellElements","animatePrototype","startAnimation","isAnimating","restingFrames","applyDragForce","applySelectedAttraction","previousX","integratePhysics","positionSlider","settle","wrapAround","shiftWrapCells","cursorPosition","rightToLeft","slider","transform","firstSlide","slides","positionX","progress","slidesWidth","positionSliderAtSelected","selectedSlide","velocity","percentPosition","isPointerDown","isFreeScrolling","selectedIndex","beforeGap","_shiftCells","beforeShiftCells","afterGap","afterShiftCells","gap","cellShift","_unshiftCells","getFrictionFactor","applyForce","force","getRestingPosition","isDraggable","dragVelocity","dragX","dragForce","dragDown","distance","selectedAttraction","_Flickity","moveElements","toElem","queryElement","flickityGUID","instances","_create","GUID","accessibility","freeScrollFriction","friction","namespaceJQueryEvents","resize","setGallerySize","createMethods","guid","viewport","_createSlider","watchCSS","activate","add","cellElems","_filterFindCellElements","reloadCells","tabIndex","initialIndex","isInitActivated","cellSelector","_makeCells","positionCells","_getWrapShiftCells","cellElem","getLastSlide","_sizeCells","_positionCells","maxCellHeight","cellX","startCell","len","updateSlides","_containSlides","slide","nextMargin","canCellFit","_getCanCellFit","updateSelectedSlide","groupCells","number","percentMatch","percent","reposition","setCellAlign","cellAlignShorthands","center","shorthand","adaptiveHeight","gapX","cellIndex","_getGapCells","increment","contain","isRightToLeft","contentWidth","isContentSmaller","beginBound","endBound","emitArgs","$event","jQEvent","Event","isWrap","isInstant","_wrapSelect","prevIndex","isWrapping","wrapIndex","delta","backWrapDelta","forewardWrapDelta","isDragSelect","unselectSelectedSlide","selectedCells","selectedElements","selectedCell","selectedElement","selectCell","queryCell","getCellSlideIndex","getCell","getCells","getParentCell","getAdjacentCellElements","adjCount","slideIndex","uiChange","childUIPointerDown","onresize","watchOption","afterContent","content","deactivate","onkeydown","isNotFocused","activeElement","handler","keyboardHandlers","leftMethod","rightMethod","prevScrollY","scrollTo","setJQuery","jq","Unipointer","bindStartEvent","_bindStartEvent","unbindStartEvent","isAdd","bindMethod","startEvent","PointerEvent","getTouch","touch","identifier","pointerIdentifier","onmousedown","button","_pointerDown","ontouchstart","onpointerdown","pointer","pointerId","pointerDown","_bindPostStartEvents","postStartEvents","mousedown","pointerdown","_boundPointerEvents","_unbindPostStartEvents","onmousemove","_pointerMove","onpointermove","ontouchmove","pointerMove","onmouseup","_pointerUp","onpointerup","ontouchend","_pointerDone","pointerUp","_pointerReset","pointerDone","onpointercancel","_pointerCancel","ontouchcancel","pointerCancel","getPointerPoint","y","Unidragger","bindHandles","_bindHandles","unbindHandles","touchAction","_touchActionValue","handles","handle","isOkay","okayPointerDown","pointerDownPointer","pointerDownBlur","cursorNodes","TEXTAREA","INPUT","SELECT","OPTION","clickTypes","radio","checkbox","submit","image","file","isCursorNode","isClickType","focused","canBlur","blur","moveVector","_dragPointerMove","_dragMove","isDragging","hasDragStarted","_dragStart","_dragPointerUp","_dragEnd","_staticClick","isPreventingClicks","dragStart","dragMove","dragEnd","onclick","isIgnoringMouseUp","staticClick","getScrollPosition","draggable","dragThreshold","isTouch","isTouchmoveScrollCanceled","_createDrag","onActivateDrag","_uiChangeDrag","_childUIPointerDownDrag","unbindDrag","updateDraggable","onDeactivateDrag","bindDrag","pointerDownFocus","_pointerDownDefault","_pointerDownPreventDefault","pointerDownScroll","focusNodes","isFocusNode","isTouchStart","isTouchPointer","pointerType","isTouchScrolling","dragStartPosition","previousDragX","direction","originBound","dragMoveTime","freeScroll","dragEndRestingSelect","restingX","dragEndBoostSelect","getSlideDistance","positiveResting","_getClosestResting","negativeResting","minDistance","Infinity","condition","md","isWrapAround","wrap","clickedCell","onscroll","scroll","scrollMoveX","scrollMoveY","TapListener","bindTap","unbindTap","tapElement","pointerPoint","boundingRect","scrollX","scrollY","isInside","PrevNextButton","getArrowMovements","shape","x0","x1","y1","x2","y2","x3","svgURI","isEnabled","isPrevious","leftDirection","isLeft","disable","createSVG","onTap","update","pathMovements","arrowShape","enable","disabled","lastIndex","boundIndex","prevNextButtons","_createPrevNextButtons","prevButton","nextButton","activatePrevNextButtons","deactivatePrevNextButtons","PageDots","holder","dots","setDots","addDots","removeDots","count","fragment","createDocumentFragment","newDots","dot","updateSelected","selectedDot","pageDots","_createPageDots","activatePageDots","updateSelectedPageDots","updatePageDots","deactivatePageDots","state","onVisibilityChange","visibilityChange","onVisibilityPlay","visibilityPlay","isPageHidden","hidden","tick","time","autoPlay","clear","unpause","pauseAutoPlayOnHover","_createPlayer","player","activatePlayer","stopPlayer","deactivatePlayer","playPlayer","pausePlayer","unpausePlayer","onmouseenter","onmouseleave","getCellsFragment","insert","isAppend","insertCellElement","endCells","cellChange","append","prepend","minCellIndex","cellSizeChange","changedCellIndex","isPositioningSlider","prevSelectedElem","getCellLazyImages","lazyloadAttr","srcAttr","srcsetAttr","lazySelector","imgs","LazyLoader","img","_createLazyload","lazyLoad","lazyImages","lazyCellImages","srcset","onload","onerror","lerp","_createAsNavFor","activateAsNavFor","deactivateAsNavFor","destroyAsNavFor","asNavForOption","asNavFor","setNavCompanion","companion","navCompanion","onNavCompanionSelect","navCompanionSelect","onNavStaticClick","firstIndex","selectIndex","removeNavSelectedElements","navSelectedElements","changeNavSelectedClass","navElem","cellElement","imagesLoaded","ImagesLoaded","onAlways","queryElem","elements","getImages","jqDeferred","Deferred","check","LoadingImage","Background","Image","addElementImages","addImage","background","addElementBackgroundImages","elementNodeTypes","childImgs","child","1","11","reURL","backgroundImage","addBackground","loadingImage","onProgress","progressedCount","hasAnyBroken","notify","debug","log","isComplete","jqMethod","getIsImageComplete","confirm","naturalWidth","proxyImage","unbindEvents","makeJQueryPlugin","promise","_createImagesLoaded","onImagesLoadedProgress","BgLazyLoader","_createBgLazyLoad","bgLazyLoad","bgLazyLoadElem","Autocomplete","that","ajaxSettings","autoSelectFirst","serviceUrl","lookup","onSelect","minChars","maxHeight","deferRequestBy","params","formatResult","delimiter","zIndex","noCache","onSearchStart","onSearchComplete","onSearchError","preserveInput","containerClass","tabDisabled","dataType","currentRequest","triggerSelectOnValidInput","preventBadQueries","lookupFilter","suggestion","originalQuery","queryLowerCase","paramName","transformResult","parseJSON","showNoSuggestionNotice","noSuggestionNotice","orientation","forceFixPosition","suggestions","badQueries","currentValue","intervalId","cachedResponse","onChangeInterval","onChange","isLocal","suggestionsContainer","noSuggestionsContainer","classes","selected","hint","hintValue","selection","initialize","setOptions","escapeRegExChars","createNode","ESC","TAB","RETURN","LEFT","UP","RIGHT","DOWN","pattern","killerFn","suggestionSelector","killSuggestions","disableKillerFn","fixPositionCapture","visible","fixPosition","onKeyPress","onKeyUp","onBlur","onFocus","onValueChange","enableKillerFn","abortAjax","abort","suppliedOptions","verifySuggestionsFormat","validateOrientation","max-height","z-index","clearCache","clearInterval","$container","containerParent","siteSearchDiv","containerHeight","styles","viewPortHeight","topOverflow","bottomOverflow","parentOffsetDiff","opacity","offsetParent","stopKillSuggestions","isCursorAtEnd","range","valLength","selectionStart","createRange","moveStart","suggest","onHint","selectHint","moveUp","moveDown","stopImmediatePropagation","findBestHint","getQuery","onInvalidateSelection","isExactMatch","getSuggestions","getSuggestionsLocal","limit","lookupLimit","grep","cacheKey","ignoreParams","isFunction","isBadQuery","ajax","done","result","processResponse","fail","jqXHR","textStatus","errorThrown","onHide","signalHint","noSuggestions","category","groupBy","classSelected","beforeRender","formatGroup","currentCategory","adjustContainerWidth","detach","empty","bestMatch","foundMatch","fallback","inArray","activeItem","adjustScroll","offsetTop","upperBound","lowerBound","heightDelta","getValue","onSelectCallback","dispose","autocomplete","devbridgeAutocomplete","dataKey","inputElement","Zepto","mfp","_prevStatus","_document","_prevContentType","_wrapClasses","_currPopupType","CLOSE_EVENT","BEFORE_CLOSE_EVENT","AFTER_CLOSE_EVENT","BEFORE_APPEND_EVENT","MARKUP_PARSE_EVENT","OPEN_EVENT","CHANGE_EVENT","NS","EVENT_NS","READY_CLASS","REMOVING_CLASS","PREVENT_CLOSE_CLASS","MagnificPopup","_isJQ","_window","_mfpOn","ev","_getEl","raw","_mfpTrigger","st","callbacks","_getCloseBtn","currTemplate","closeBtn","closeMarkup","tClose","_checkInstance","magnificPopup","supportsTransitions","v","appVersion","isLowIE","isIE8","all","isIOS","supportsTransition","probablyMobile","popupsCache","isObj","toArray","item","parsed","isOpen","updateItemHTML","mainEl","fixedContentPos","modal","closeOnContentClick","closeOnBgClick","showCloseBtn","enableEscapeKey","bgOverlay","close","_checkIfClose","contentContainer","preloader","tLoading","modules","closeBtnInside","template","values","close_replaceWith","alignTop","overflow","overflowY","overflowX","fixedBgPos","updateSize","windowHeight","wH","windowStyles","_hasScrollBar","_getScrollbarSize","isIE7","classesToadd","mainClass","_addClassToMFP","prependTo","_lastFocusedEl","_setFocus","_onFocusIn","removalDelay","_close","classesToRemove","_removeClassFromMFP","currItem","autoFocusLast","prevHeight","winHeight","zoomLevel","clientWidth","parseEl","markup","newContent","appendContent","preloaded","addGroup","eHandler","mfpEl","_openClick","eName","delegate","midClick","metaKey","disableOn","updateStatus","status","closeOnContent","closeOnBg","contains","cName","scrollHeight","_parseMarkup","arr","replaceWith","scrollbarSize","scrollDiv","registerModule","jqEl","itemOpts","_hiddenClass","_inlinePlaceholder","_lastInlineElement","INLINE_NS","_putInlineElementsBack","after","hiddenClass","tNotFound","initInline","getInline","inlineSt","inline","inlineElement","_ajaxCur","AJAX_NS","_removeAjaxCursor","_destroyAjaxRequest","req","settings","cursor","tError","initAjax","getAjax","xhr","finished","loadError","_imgInterval","_getTitle","title","titleSrc","verticalFit","initImage","imgSt","ns","resizeImage","decr","_onImageHasSize","hasSize","isCheckingImgSize","imgHidden","findImageSize","counter","mfpSetInterval","getImage","guard","onLoadComplete","loaded","onLoadError","alt","clone","img_replaceWith","loading","hasMozTransform","getHasMozTransform","MozTransform","easing","opener","initZoom","zoomSt","zoom","openTimeout","animatedImg","getElToAnimate","newImg","cssObj","-webkit-backface-visibility","showMainContent","_allowZoom","_getItemToZoom","_getOffset","isLarge","IFRAME_NS","_emptyPage","_fixIframeBugs","isShowing","srcAction","patterns","gmaps","initIframe","prevType","newType","getIframe","embedSrc","iframeSt","iframe","dataObj","_getLoopedId","numSlides","_replaceCurrTotal","curr","total","arrowMarkup","preload","navigateByImgClick","arrows","tPrev","tNext","tCounter","initGallery","gSt","gallery","arrowLeft","arrowRight","click","_preloadTimeout","preloadNearbyImages","goTo","newIndex","preloadBefore","preloadAfter","_preloadItem","RETINA_NS","replaceSrc","ratio","initRetina","devicePixelRatio","max-width","_extends","assign","source","LazyLoad","defaultSettings","elements_selector","data_src","data_srcset","class_loading","class_loaded","class_error","class_initial","skip_invisible","callback_load","callback_error","callback_set","callback_processed","isBot","callCallback","argument","getTopOffset","ownerDocument","clientTop","isBelowViewport","fold","getLeftOffset","clientLeft","isAtRightOfViewport","documentWidth","isAboveViewport","isAtLeftOfViewport","isInsideViewport","createInstance","classObj","CustomEvent","detail","autoInitialize","optsLength","dataPrefix","getData","attribute","setData","setSourcesForPicture","srcsetDataAttribute","parentElement","pictureChild","sourceSrcset","setSources","srcDataAttribute","elementSrc","imgSrcset","supportsClassList","instanceSettings","_settings","_queryOriginNode","_previousLoopTime","_loopTimeout","_boundHandleScroll","handleScroll","_isFirstLoop","_reveal","errorCallback","loadCallback","_loopThroughElements","_elements","elementsLength","processedIndexes","firstLoop","_stopScrollHandler","_purgeElements","elementsToPurge","_startScrollHandler","_isHandlingScroll","remainingTime","autoInitOptions","lazyLoadOptions","root","__webpack_require__","moduleId","installedModules","docElem","currentInput","currentIntent","formInputs","ignoreMap","inputMap","keyup","mousemove","MSPointerDown","MSPointerMove","pointermove","inputTypes","isBuffering","pointerMap","2","3","4","touchTimer","setUp","detectWheel","addListeners","setInput","updateInput","setIntent","MSPointerEvent","touchBuffer","eventKey","activeElem","activeInput","onmousewheel","ask","setup_navigation","keyCodeMap","48","49","50","51","52","53","54","55","56","57","59","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","96","97","98","99","100","101","102","103","104","105","menuHoverClass","top_level_links","hover","keydown","parents","links","found","nextAll","prevAll","_$$flickity","bases","baseHref","myLazyLoad","$carousel","$imgs","docStyle","transformProp","flkty","video","$slideshow","slideshowflk","whatInput","toggleMobileMenuClasses","focusout","oldSize","pathname","hostname"],"mappings":"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","file":"../lib/app.js","sourcesContent":["'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n!function ($) {\n\n  \"use strict\";\n\n  var FOUNDATION_VERSION = '6.3.1';\n\n  // Global Foundation object\n  // This is attached to the window, or used as a module for AMD/Browserify\n  var Foundation = {\n    version: FOUNDATION_VERSION,\n\n    /**\n     * Stores initialized plugins.\n     */\n    _plugins: {},\n\n    /**\n     * Stores generated unique ids for plugin instances\n     */\n    _uuids: [],\n\n    /**\n     * Returns a boolean for RTL support\n     */\n    rtl: function rtl() {\n      return $('html').attr('dir') === 'rtl';\n    },\n    /**\n     * Defines a Foundation plugin, adding it to the `Foundation` namespace and the list of plugins to initialize when reflowing.\n     * @param {Object} plugin - The constructor of the plugin.\n     */\n    plugin: function plugin(_plugin, name) {\n      // Object key to use when adding to global Foundation object\n      // Examples: Foundation.Reveal, Foundation.OffCanvas\n      var className = name || functionName(_plugin);\n      // Object key to use when storing the plugin, also used to create the identifying data attribute for the plugin\n      // Examples: data-reveal, data-off-canvas\n      var attrName = hyphenate(className);\n\n      // Add to the Foundation object and the plugins list (for reflowing)\n      this._plugins[attrName] = this[className] = _plugin;\n    },\n    /**\n     * @function\n     * Populates the _uuids array with pointers to each individual plugin instance.\n     * Adds the `zfPlugin` data-attribute to programmatically created plugins to allow use of $(selector).foundation(method) calls.\n     * Also fires the initialization event for each plugin, consolidating repetitive code.\n     * @param {Object} plugin - an instance of a plugin, usually `this` in context.\n     * @param {String} name - the name of the plugin, passed as a camelCased string.\n     * @fires Plugin#init\n     */\n    registerPlugin: function registerPlugin(plugin, name) {\n      var pluginName = name ? hyphenate(name) : functionName(plugin.constructor).toLowerCase();\n      plugin.uuid = this.GetYoDigits(6, pluginName);\n\n      if (!plugin.$element.attr('data-' + pluginName)) {\n        plugin.$element.attr('data-' + pluginName, plugin.uuid);\n      }\n      if (!plugin.$element.data('zfPlugin')) {\n        plugin.$element.data('zfPlugin', plugin);\n      }\n      /**\n       * Fires when the plugin has initialized.\n       * @event Plugin#init\n       */\n      plugin.$element.trigger('init.zf.' + pluginName);\n\n      this._uuids.push(plugin.uuid);\n\n      return;\n    },\n    /**\n     * @function\n     * Removes the plugins uuid from the _uuids array.\n     * Removes the zfPlugin data attribute, as well as the data-plugin-name attribute.\n     * Also fires the destroyed event for the plugin, consolidating repetitive code.\n     * @param {Object} plugin - an instance of a plugin, usually `this` in context.\n     * @fires Plugin#destroyed\n     */\n    unregisterPlugin: function unregisterPlugin(plugin) {\n      var pluginName = hyphenate(functionName(plugin.$element.data('zfPlugin').constructor));\n\n      this._uuids.splice(this._uuids.indexOf(plugin.uuid), 1);\n      plugin.$element.removeAttr('data-' + pluginName).removeData('zfPlugin')\n      /**\n       * Fires when the plugin has been destroyed.\n       * @event Plugin#destroyed\n       */\n      .trigger('destroyed.zf.' + pluginName);\n      for (var prop in plugin) {\n        plugin[prop] = null; //clean up script to prep for garbage collection.\n      }\n      return;\n    },\n\n    /**\n     * @function\n     * Causes one or more active plugins to re-initialize, resetting event listeners, recalculating positions, etc.\n     * @param {String} plugins - optional string of an individual plugin key, attained by calling `$(element).data('pluginName')`, or string of a plugin class i.e. `'dropdown'`\n     * @default If no argument is passed, reflow all currently active plugins.\n     */\n    reInit: function reInit(plugins) {\n      var isJQ = plugins instanceof $;\n      try {\n        if (isJQ) {\n          plugins.each(function () {\n            $(this).data('zfPlugin')._init();\n          });\n        } else {\n          var type = typeof plugins === 'undefined' ? 'undefined' : _typeof(plugins),\n              _this = this,\n              fns = {\n            'object': function object(plgs) {\n              plgs.forEach(function (p) {\n                p = hyphenate(p);\n                $('[data-' + p + ']').foundation('_init');\n              });\n            },\n            'string': function string() {\n              plugins = hyphenate(plugins);\n              $('[data-' + plugins + ']').foundation('_init');\n            },\n            'undefined': function undefined() {\n              this['object'](Object.keys(_this._plugins));\n            }\n          };\n          fns[type](plugins);\n        }\n      } catch (err) {\n        console.error(err);\n      } finally {\n        return plugins;\n      }\n    },\n\n    /**\n     * returns a random base-36 uid with namespacing\n     * @function\n     * @param {Number} length - number of random base-36 digits desired. Increase for more random strings.\n     * @param {String} namespace - name of plugin to be incorporated in uid, optional.\n     * @default {String} '' - if no plugin name is provided, nothing is appended to the uid.\n     * @returns {String} - unique id\n     */\n    GetYoDigits: function GetYoDigits(length, namespace) {\n      length = length || 6;\n      return Math.round(Math.pow(36, length + 1) - Math.random() * Math.pow(36, length)).toString(36).slice(1) + (namespace ? '-' + namespace : '');\n    },\n    /**\n     * Initialize plugins on any elements within `elem` (and `elem` itself) that aren't already initialized.\n     * @param {Object} elem - jQuery object containing the element to check inside. Also checks the element itself, unless it's the `document` object.\n     * @param {String|Array} plugins - A list of plugins to initialize. Leave this out to initialize everything.\n     */\n    reflow: function reflow(elem, plugins) {\n\n      // If plugins is undefined, just grab everything\n      if (typeof plugins === 'undefined') {\n        plugins = Object.keys(this._plugins);\n      }\n      // If plugins is a string, convert it to an array with one item\n      else if (typeof plugins === 'string') {\n          plugins = [plugins];\n        }\n\n      var _this = this;\n\n      // Iterate through each plugin\n      $.each(plugins, function (i, name) {\n        // Get the current plugin\n        var plugin = _this._plugins[name];\n\n        // Localize the search to all elements inside elem, as well as elem itself, unless elem === document\n        var $elem = $(elem).find('[data-' + name + ']').addBack('[data-' + name + ']');\n\n        // For each plugin found, initialize it\n        $elem.each(function () {\n          var $el = $(this),\n              opts = {};\n          // Don't double-dip on plugins\n          if ($el.data('zfPlugin')) {\n            console.warn(\"Tried to initialize \" + name + \" on an element that already has a Foundation plugin.\");\n            return;\n          }\n\n          if ($el.attr('data-options')) {\n            var thing = $el.attr('data-options').split(';').forEach(function (e, i) {\n              var opt = e.split(':').map(function (el) {\n                return el.trim();\n              });\n              if (opt[0]) opts[opt[0]] = parseValue(opt[1]);\n            });\n          }\n          try {\n            $el.data('zfPlugin', new plugin($(this), opts));\n          } catch (er) {\n            console.error(er);\n          } finally {\n            return;\n          }\n        });\n      });\n    },\n    getFnName: functionName,\n    transitionend: function transitionend($elem) {\n      var transitions = {\n        'transition': 'transitionend',\n        'WebkitTransition': 'webkitTransitionEnd',\n        'MozTransition': 'transitionend',\n        'OTransition': 'otransitionend'\n      };\n      var elem = document.createElement('div'),\n          end;\n\n      for (var t in transitions) {\n        if (typeof elem.style[t] !== 'undefined') {\n          end = transitions[t];\n        }\n      }\n      if (end) {\n        return end;\n      } else {\n        end = setTimeout(function () {\n          $elem.triggerHandler('transitionend', [$elem]);\n        }, 1);\n        return 'transitionend';\n      }\n    }\n  };\n\n  Foundation.util = {\n    /**\n     * Function for applying a debounce effect to a function call.\n     * @function\n     * @param {Function} func - Function to be called at end of timeout.\n     * @param {Number} delay - Time in ms to delay the call of `func`.\n     * @returns function\n     */\n    throttle: function throttle(func, delay) {\n      var timer = null;\n\n      return function () {\n        var context = this,\n            args = arguments;\n\n        if (timer === null) {\n          timer = setTimeout(function () {\n            func.apply(context, args);\n            timer = null;\n          }, delay);\n        }\n      };\n    }\n  };\n\n  // TODO: consider not making this a jQuery function\n  // TODO: need way to reflow vs. re-initialize\n  /**\n   * The Foundation jQuery method.\n   * @param {String|Array} method - An action to perform on the current jQuery object.\n   */\n  var foundation = function foundation(method) {\n    var type = typeof method === 'undefined' ? 'undefined' : _typeof(method),\n        $meta = $('meta.foundation-mq'),\n        $noJS = $('.no-js');\n\n    if (!$meta.length) {\n      $('<meta class=\"foundation-mq\">').appendTo(document.head);\n    }\n    if ($noJS.length) {\n      $noJS.removeClass('no-js');\n    }\n\n    if (type === 'undefined') {\n      //needs to initialize the Foundation object, or an individual plugin.\n      Foundation.MediaQuery._init();\n      Foundation.reflow(this);\n    } else if (type === 'string') {\n      //an individual method to invoke on a plugin or group of plugins\n      var args = Array.prototype.slice.call(arguments, 1); //collect all the arguments, if necessary\n      var plugClass = this.data('zfPlugin'); //determine the class of plugin\n\n      if (plugClass !== undefined && plugClass[method] !== undefined) {\n        //make sure both the class and method exist\n        if (this.length === 1) {\n          //if there's only one, call it directly.\n          plugClass[method].apply(plugClass, args);\n        } else {\n          this.each(function (i, el) {\n            //otherwise loop through the jQuery collection and invoke the method on each\n            plugClass[method].apply($(el).data('zfPlugin'), args);\n          });\n        }\n      } else {\n        //error for no class or no method\n        throw new ReferenceError(\"We're sorry, '\" + method + \"' is not an available method for \" + (plugClass ? functionName(plugClass) : 'this element') + '.');\n      }\n    } else {\n      //error for invalid argument type\n      throw new TypeError('We\\'re sorry, ' + type + ' is not a valid parameter. You must use a string representing the method you wish to invoke.');\n    }\n    return this;\n  };\n\n  window.Foundation = Foundation;\n  $.fn.foundation = foundation;\n\n  // Polyfill for requestAnimationFrame\n  (function () {\n    if (!Date.now || !window.Date.now) window.Date.now = Date.now = function () {\n      return new Date().getTime();\n    };\n\n    var vendors = ['webkit', 'moz'];\n    for (var i = 0; i < vendors.length && !window.requestAnimationFrame; ++i) {\n      var vp = vendors[i];\n      window.requestAnimationFrame = window[vp + 'RequestAnimationFrame'];\n      window.cancelAnimationFrame = window[vp + 'CancelAnimationFrame'] || window[vp + 'CancelRequestAnimationFrame'];\n    }\n    if (/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent) || !window.requestAnimationFrame || !window.cancelAnimationFrame) {\n      var lastTime = 0;\n      window.requestAnimationFrame = function (callback) {\n        var now = Date.now();\n        var nextTime = Math.max(lastTime + 16, now);\n        return setTimeout(function () {\n          callback(lastTime = nextTime);\n        }, nextTime - now);\n      };\n      window.cancelAnimationFrame = clearTimeout;\n    }\n    /**\n     * Polyfill for performance.now, required by rAF\n     */\n    if (!window.performance || !window.performance.now) {\n      window.performance = {\n        start: Date.now(),\n        now: function now() {\n          return Date.now() - this.start;\n        }\n      };\n    }\n  })();\n  if (!Function.prototype.bind) {\n    Function.prototype.bind = function (oThis) {\n      if (typeof this !== 'function') {\n        // closest thing possible to the ECMAScript 5\n        // internal IsCallable function\n        throw new TypeError('Function.prototype.bind - what is trying to be bound is not callable');\n      }\n\n      var aArgs = Array.prototype.slice.call(arguments, 1),\n          fToBind = this,\n          fNOP = function fNOP() {},\n          fBound = function fBound() {\n        return fToBind.apply(this instanceof fNOP ? this : oThis, aArgs.concat(Array.prototype.slice.call(arguments)));\n      };\n\n      if (this.prototype) {\n        // native functions don't have a prototype\n        fNOP.prototype = this.prototype;\n      }\n      fBound.prototype = new fNOP();\n\n      return fBound;\n    };\n  }\n  // Polyfill to get the name of a function in IE9\n  function functionName(fn) {\n    if (Function.prototype.name === undefined) {\n      var funcNameRegex = /function\\s([^(]{1,})\\(/;\n      var results = funcNameRegex.exec(fn.toString());\n      return results && results.length > 1 ? results[1].trim() : \"\";\n    } else if (fn.prototype === undefined) {\n      return fn.constructor.name;\n    } else {\n      return fn.prototype.constructor.name;\n    }\n  }\n  function parseValue(str) {\n    if ('true' === str) return true;else if ('false' === str) return false;else if (!isNaN(str * 1)) return parseFloat(str);\n    return str;\n  }\n  // Convert PascalCase to kebab-case\n  // Thank you: http://stackoverflow.com/a/8955580\n  function hyphenate(str) {\n    return str.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n  }\n}(jQuery);\n'use strict';\n\n!function ($) {\n\n  Foundation.Box = {\n    ImNotTouchingYou: ImNotTouchingYou,\n    GetDimensions: GetDimensions,\n    GetOffsets: GetOffsets\n\n    /**\n     * Compares the dimensions of an element to a container and determines collision events with container.\n     * @function\n     * @param {jQuery} element - jQuery object to test for collisions.\n     * @param {jQuery} parent - jQuery object to use as bounding container.\n     * @param {Boolean} lrOnly - set to true to check left and right values only.\n     * @param {Boolean} tbOnly - set to true to check top and bottom values only.\n     * @default if no parent object passed, detects collisions with `window`.\n     * @returns {Boolean} - true if collision free, false if a collision in any direction.\n     */\n  };function ImNotTouchingYou(element, parent, lrOnly, tbOnly) {\n    var eleDims = GetDimensions(element),\n        top,\n        bottom,\n        left,\n        right;\n\n    if (parent) {\n      var parDims = GetDimensions(parent);\n\n      bottom = eleDims.offset.top + eleDims.height <= parDims.height + parDims.offset.top;\n      top = eleDims.offset.top >= parDims.offset.top;\n      left = eleDims.offset.left >= parDims.offset.left;\n      right = eleDims.offset.left + eleDims.width <= parDims.width + parDims.offset.left;\n    } else {\n      bottom = eleDims.offset.top + eleDims.height <= eleDims.windowDims.height + eleDims.windowDims.offset.top;\n      top = eleDims.offset.top >= eleDims.windowDims.offset.top;\n      left = eleDims.offset.left >= eleDims.windowDims.offset.left;\n      right = eleDims.offset.left + eleDims.width <= eleDims.windowDims.width;\n    }\n\n    var allDirs = [bottom, top, left, right];\n\n    if (lrOnly) {\n      return left === right === true;\n    }\n\n    if (tbOnly) {\n      return top === bottom === true;\n    }\n\n    return allDirs.indexOf(false) === -1;\n  };\n\n  /**\n   * Uses native methods to return an object of dimension values.\n   * @function\n   * @param {jQuery || HTML} element - jQuery object or DOM element for which to get the dimensions. Can be any element other that document or window.\n   * @returns {Object} - nested object of integer pixel values\n   * TODO - if element is window, return only those values.\n   */\n  function GetDimensions(elem, test) {\n    elem = elem.length ? elem[0] : elem;\n\n    if (elem === window || elem === document) {\n      throw new Error(\"I'm sorry, Dave. I'm afraid I can't do that.\");\n    }\n\n    var rect = elem.getBoundingClientRect(),\n        parRect = elem.parentNode.getBoundingClientRect(),\n        winRect = document.body.getBoundingClientRect(),\n        winY = window.pageYOffset,\n        winX = window.pageXOffset;\n\n    return {\n      width: rect.width,\n      height: rect.height,\n      offset: {\n        top: rect.top + winY,\n        left: rect.left + winX\n      },\n      parentDims: {\n        width: parRect.width,\n        height: parRect.height,\n        offset: {\n          top: parRect.top + winY,\n          left: parRect.left + winX\n        }\n      },\n      windowDims: {\n        width: winRect.width,\n        height: winRect.height,\n        offset: {\n          top: winY,\n          left: winX\n        }\n      }\n    };\n  }\n\n  /**\n   * Returns an object of top and left integer pixel values for dynamically rendered elements,\n   * such as: Tooltip, Reveal, and Dropdown\n   * @function\n   * @param {jQuery} element - jQuery object for the element being positioned.\n   * @param {jQuery} anchor - jQuery object for the element's anchor point.\n   * @param {String} position - a string relating to the desired position of the element, relative to it's anchor\n   * @param {Number} vOffset - integer pixel value of desired vertical separation between anchor and element.\n   * @param {Number} hOffset - integer pixel value of desired horizontal separation between anchor and element.\n   * @param {Boolean} isOverflow - if a collision event is detected, sets to true to default the element to full width - any desired offset.\n   * TODO alter/rewrite to work with `em` values as well/instead of pixels\n   */\n  function GetOffsets(element, anchor, position, vOffset, hOffset, isOverflow) {\n    var $eleDims = GetDimensions(element),\n        $anchorDims = anchor ? GetDimensions(anchor) : null;\n\n    switch (position) {\n      case 'top':\n        return {\n          left: Foundation.rtl() ? $anchorDims.offset.left - $eleDims.width + $anchorDims.width : $anchorDims.offset.left,\n          top: $anchorDims.offset.top - ($eleDims.height + vOffset)\n        };\n        break;\n      case 'left':\n        return {\n          left: $anchorDims.offset.left - ($eleDims.width + hOffset),\n          top: $anchorDims.offset.top\n        };\n        break;\n      case 'right':\n        return {\n          left: $anchorDims.offset.left + $anchorDims.width + hOffset,\n          top: $anchorDims.offset.top\n        };\n        break;\n      case 'center top':\n        return {\n          left: $anchorDims.offset.left + $anchorDims.width / 2 - $eleDims.width / 2,\n          top: $anchorDims.offset.top - ($eleDims.height + vOffset)\n        };\n        break;\n      case 'center bottom':\n        return {\n          left: isOverflow ? hOffset : $anchorDims.offset.left + $anchorDims.width / 2 - $eleDims.width / 2,\n          top: $anchorDims.offset.top + $anchorDims.height + vOffset\n        };\n        break;\n      case 'center left':\n        return {\n          left: $anchorDims.offset.left - ($eleDims.width + hOffset),\n          top: $anchorDims.offset.top + $anchorDims.height / 2 - $eleDims.height / 2\n        };\n        break;\n      case 'center right':\n        return {\n          left: $anchorDims.offset.left + $anchorDims.width + hOffset + 1,\n          top: $anchorDims.offset.top + $anchorDims.height / 2 - $eleDims.height / 2\n        };\n        break;\n      case 'center':\n        return {\n          left: $eleDims.windowDims.offset.left + $eleDims.windowDims.width / 2 - $eleDims.width / 2,\n          top: $eleDims.windowDims.offset.top + $eleDims.windowDims.height / 2 - $eleDims.height / 2\n        };\n        break;\n      case 'reveal':\n        return {\n          left: ($eleDims.windowDims.width - $eleDims.width) / 2,\n          top: $eleDims.windowDims.offset.top + vOffset\n        };\n      case 'reveal full':\n        return {\n          left: $eleDims.windowDims.offset.left,\n          top: $eleDims.windowDims.offset.top\n        };\n        break;\n      case 'left bottom':\n        return {\n          left: $anchorDims.offset.left,\n          top: $anchorDims.offset.top + $anchorDims.height + vOffset\n        };\n        break;\n      case 'right bottom':\n        return {\n          left: $anchorDims.offset.left + $anchorDims.width + hOffset - $eleDims.width,\n          top: $anchorDims.offset.top + $anchorDims.height + vOffset\n        };\n        break;\n      default:\n        return {\n          left: Foundation.rtl() ? $anchorDims.offset.left - $eleDims.width + $anchorDims.width : $anchorDims.offset.left + hOffset,\n          top: $anchorDims.offset.top + $anchorDims.height + vOffset\n        };\n    }\n  }\n}(jQuery);\n/*******************************************\n *                                         *\n * This util was created by Marius Olbertz *\n * Please thank Marius on GitHub /owlbertz *\n * or the web http://www.mariusolbertz.de/ *\n *                                         *\n ******************************************/\n\n'use strict';\n\n!function ($) {\n\n  var keyCodes = {\n    9: 'TAB',\n    13: 'ENTER',\n    27: 'ESCAPE',\n    32: 'SPACE',\n    37: 'ARROW_LEFT',\n    38: 'ARROW_UP',\n    39: 'ARROW_RIGHT',\n    40: 'ARROW_DOWN'\n  };\n\n  var commands = {};\n\n  var Keyboard = {\n    keys: getKeyCodes(keyCodes),\n\n    /**\n     * Parses the (keyboard) event and returns a String that represents its key\n     * Can be used like Foundation.parseKey(event) === Foundation.keys.SPACE\n     * @param {Event} event - the event generated by the event handler\n     * @return String key - String that represents the key pressed\n     */\n    parseKey: function parseKey(event) {\n      var key = keyCodes[event.which || event.keyCode] || String.fromCharCode(event.which).toUpperCase();\n\n      // Remove un-printable characters, e.g. for `fromCharCode` calls for CTRL only events\n      key = key.replace(/\\W+/, '');\n\n      if (event.shiftKey) key = 'SHIFT_' + key;\n      if (event.ctrlKey) key = 'CTRL_' + key;\n      if (event.altKey) key = 'ALT_' + key;\n\n      // Remove trailing underscore, in case only modifiers were used (e.g. only `CTRL_ALT`)\n      key = key.replace(/_$/, '');\n\n      return key;\n    },\n\n\n    /**\n     * Handles the given (keyboard) event\n     * @param {Event} event - the event generated by the event handler\n     * @param {String} component - Foundation component's name, e.g. Slider or Reveal\n     * @param {Objects} functions - collection of functions that are to be executed\n     */\n    handleKey: function handleKey(event, component, functions) {\n      var commandList = commands[component],\n          keyCode = this.parseKey(event),\n          cmds,\n          command,\n          fn;\n\n      if (!commandList) return console.warn('Component not defined!');\n\n      if (typeof commandList.ltr === 'undefined') {\n        // this component does not differentiate between ltr and rtl\n        cmds = commandList; // use plain list\n      } else {\n        // merge ltr and rtl: if document is rtl, rtl overwrites ltr and vice versa\n        if (Foundation.rtl()) cmds = $.extend({}, commandList.ltr, commandList.rtl);else cmds = $.extend({}, commandList.rtl, commandList.ltr);\n      }\n      command = cmds[keyCode];\n\n      fn = functions[command];\n      if (fn && typeof fn === 'function') {\n        // execute function  if exists\n        var returnValue = fn.apply();\n        if (functions.handled || typeof functions.handled === 'function') {\n          // execute function when event was handled\n          functions.handled(returnValue);\n        }\n      } else {\n        if (functions.unhandled || typeof functions.unhandled === 'function') {\n          // execute function when event was not handled\n          functions.unhandled();\n        }\n      }\n    },\n\n\n    /**\n     * Finds all focusable elements within the given `$element`\n     * @param {jQuery} $element - jQuery object to search within\n     * @return {jQuery} $focusable - all focusable elements within `$element`\n     */\n    findFocusable: function findFocusable($element) {\n      if (!$element) {\n        return false;\n      }\n      return $element.find('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]').filter(function () {\n        if (!$(this).is(':visible') || $(this).attr('tabindex') < 0) {\n          return false;\n        } //only have visible elements and those that have a tabindex greater or equal 0\n        return true;\n      });\n    },\n\n\n    /**\n     * Returns the component name name\n     * @param {Object} component - Foundation component, e.g. Slider or Reveal\n     * @return String componentName\n     */\n\n    register: function register(componentName, cmds) {\n      commands[componentName] = cmds;\n    },\n\n\n    /**\n     * Traps the focus in the given element.\n     * @param  {jQuery} $element  jQuery object to trap the foucs into.\n     */\n    trapFocus: function trapFocus($element) {\n      var $focusable = Foundation.Keyboard.findFocusable($element),\n          $firstFocusable = $focusable.eq(0),\n          $lastFocusable = $focusable.eq(-1);\n\n      $element.on('keydown.zf.trapfocus', function (event) {\n        if (event.target === $lastFocusable[0] && Foundation.Keyboard.parseKey(event) === 'TAB') {\n          event.preventDefault();\n          $firstFocusable.focus();\n        } else if (event.target === $firstFocusable[0] && Foundation.Keyboard.parseKey(event) === 'SHIFT_TAB') {\n          event.preventDefault();\n          $lastFocusable.focus();\n        }\n      });\n    },\n\n    /**\n     * Releases the trapped focus from the given element.\n     * @param  {jQuery} $element  jQuery object to release the focus for.\n     */\n    releaseFocus: function releaseFocus($element) {\n      $element.off('keydown.zf.trapfocus');\n    }\n  };\n\n  /*\n   * Constants for easier comparing.\n   * Can be used like Foundation.parseKey(event) === Foundation.keys.SPACE\n   */\n  function getKeyCodes(kcs) {\n    var k = {};\n    for (var kc in kcs) {\n      k[kcs[kc]] = kcs[kc];\n    }return k;\n  }\n\n  Foundation.Keyboard = Keyboard;\n}(jQuery);\n'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n!function ($) {\n\n  // Default set of media queries\n  var defaultQueries = {\n    'default': 'only screen',\n    landscape: 'only screen and (orientation: landscape)',\n    portrait: 'only screen and (orientation: portrait)',\n    retina: 'only screen and (-webkit-min-device-pixel-ratio: 2),' + 'only screen and (min--moz-device-pixel-ratio: 2),' + 'only screen and (-o-min-device-pixel-ratio: 2/1),' + 'only screen and (min-device-pixel-ratio: 2),' + 'only screen and (min-resolution: 192dpi),' + 'only screen and (min-resolution: 2dppx)'\n  };\n\n  var MediaQuery = {\n    queries: [],\n\n    current: '',\n\n    /**\n     * Initializes the media query helper, by extracting the breakpoint list from the CSS and activating the breakpoint watcher.\n     * @function\n     * @private\n     */\n    _init: function _init() {\n      var self = this;\n      var extractedStyles = $('.foundation-mq').css('font-family');\n      var namedQueries;\n\n      namedQueries = parseStyleToObject(extractedStyles);\n\n      for (var key in namedQueries) {\n        if (namedQueries.hasOwnProperty(key)) {\n          self.queries.push({\n            name: key,\n            value: 'only screen and (min-width: ' + namedQueries[key] + ')'\n          });\n        }\n      }\n\n      this.current = this._getCurrentSize();\n\n      this._watcher();\n    },\n\n\n    /**\n     * Checks if the screen is at least as wide as a breakpoint.\n     * @function\n     * @param {String} size - Name of the breakpoint to check.\n     * @returns {Boolean} `true` if the breakpoint matches, `false` if it's smaller.\n     */\n    atLeast: function atLeast(size) {\n      var query = this.get(size);\n\n      if (query) {\n        return window.matchMedia(query).matches;\n      }\n\n      return false;\n    },\n\n\n    /**\n     * Checks if the screen matches to a breakpoint.\n     * @function\n     * @param {String} size - Name of the breakpoint to check, either 'small only' or 'small'. Omitting 'only' falls back to using atLeast() method.\n     * @returns {Boolean} `true` if the breakpoint matches, `false` if it does not.\n     */\n    is: function is(size) {\n      size = size.trim().split(' ');\n      if (size.length > 1 && size[1] === 'only') {\n        if (size[0] === this._getCurrentSize()) return true;\n      } else {\n        return this.atLeast(size[0]);\n      }\n      return false;\n    },\n\n\n    /**\n     * Gets the media query of a breakpoint.\n     * @function\n     * @param {String} size - Name of the breakpoint to get.\n     * @returns {String|null} - The media query of the breakpoint, or `null` if the breakpoint doesn't exist.\n     */\n    get: function get(size) {\n      for (var i in this.queries) {\n        if (this.queries.hasOwnProperty(i)) {\n          var query = this.queries[i];\n          if (size === query.name) return query.value;\n        }\n      }\n\n      return null;\n    },\n\n\n    /**\n     * Gets the current breakpoint name by testing every breakpoint and returning the last one to match (the biggest one).\n     * @function\n     * @private\n     * @returns {String} Name of the current breakpoint.\n     */\n    _getCurrentSize: function _getCurrentSize() {\n      var matched;\n\n      for (var i = 0; i < this.queries.length; i++) {\n        var query = this.queries[i];\n\n        if (window.matchMedia(query.value).matches) {\n          matched = query;\n        }\n      }\n\n      if ((typeof matched === 'undefined' ? 'undefined' : _typeof(matched)) === 'object') {\n        return matched.name;\n      } else {\n        return matched;\n      }\n    },\n\n\n    /**\n     * Activates the breakpoint watcher, which fires an event on the window whenever the breakpoint changes.\n     * @function\n     * @private\n     */\n    _watcher: function _watcher() {\n      var _this = this;\n\n      $(window).on('resize.zf.mediaquery', function () {\n        var newSize = _this._getCurrentSize(),\n            currentSize = _this.current;\n\n        if (newSize !== currentSize) {\n          // Change the current media query\n          _this.current = newSize;\n\n          // Broadcast the media query change on the window\n          $(window).trigger('changed.zf.mediaquery', [newSize, currentSize]);\n        }\n      });\n    }\n  };\n\n  Foundation.MediaQuery = MediaQuery;\n\n  // matchMedia() polyfill - Test a CSS media type/query in JS.\n  // Authors & copyright (c) 2012: Scott Jehl, Paul Irish, Nicholas Zakas, David Knight. Dual MIT/BSD license\n  window.matchMedia || (window.matchMedia = function () {\n    'use strict';\n\n    // For browsers that support matchMedium api such as IE 9 and webkit\n\n    var styleMedia = window.styleMedia || window.media;\n\n    // For those that don't support matchMedium\n    if (!styleMedia) {\n      var style = document.createElement('style'),\n          script = document.getElementsByTagName('script')[0],\n          info = null;\n\n      style.type = 'text/css';\n      style.id = 'matchmediajs-test';\n\n      script && script.parentNode && script.parentNode.insertBefore(style, script);\n\n      // 'style.currentStyle' is used by IE <= 8 and 'window.getComputedStyle' for all other browsers\n      info = 'getComputedStyle' in window && window.getComputedStyle(style, null) || style.currentStyle;\n\n      styleMedia = {\n        matchMedium: function matchMedium(media) {\n          var text = '@media ' + media + '{ #matchmediajs-test { width: 1px; } }';\n\n          // 'style.styleSheet' is used by IE <= 8 and 'style.textContent' for all other browsers\n          if (style.styleSheet) {\n            style.styleSheet.cssText = text;\n          } else {\n            style.textContent = text;\n          }\n\n          // Test if media query is true or false\n          return info.width === '1px';\n        }\n      };\n    }\n\n    return function (media) {\n      return {\n        matches: styleMedia.matchMedium(media || 'all'),\n        media: media || 'all'\n      };\n    };\n  }());\n\n  // Thank you: https://github.com/sindresorhus/query-string\n  function parseStyleToObject(str) {\n    var styleObject = {};\n\n    if (typeof str !== 'string') {\n      return styleObject;\n    }\n\n    str = str.trim().slice(1, -1); // browsers re-quote string style values\n\n    if (!str) {\n      return styleObject;\n    }\n\n    styleObject = str.split('&').reduce(function (ret, param) {\n      var parts = param.replace(/\\+/g, ' ').split('=');\n      var key = parts[0];\n      var val = parts[1];\n      key = decodeURIComponent(key);\n\n      // missing `=` should be `null`:\n      // http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n      val = val === undefined ? null : decodeURIComponent(val);\n\n      if (!ret.hasOwnProperty(key)) {\n        ret[key] = val;\n      } else if (Array.isArray(ret[key])) {\n        ret[key].push(val);\n      } else {\n        ret[key] = [ret[key], val];\n      }\n      return ret;\n    }, {});\n\n    return styleObject;\n  }\n\n  Foundation.MediaQuery = MediaQuery;\n}(jQuery);\n'use strict';\n\n!function ($) {\n\n  /**\n   * Motion module.\n   * @module foundation.motion\n   */\n\n  var initClasses = ['mui-enter', 'mui-leave'];\n  var activeClasses = ['mui-enter-active', 'mui-leave-active'];\n\n  var Motion = {\n    animateIn: function animateIn(element, animation, cb) {\n      animate(true, element, animation, cb);\n    },\n\n    animateOut: function animateOut(element, animation, cb) {\n      animate(false, element, animation, cb);\n    }\n  };\n\n  function Move(duration, elem, fn) {\n    var anim,\n        prog,\n        start = null;\n    // console.log('called');\n\n    if (duration === 0) {\n      fn.apply(elem);\n      elem.trigger('finished.zf.animate', [elem]).triggerHandler('finished.zf.animate', [elem]);\n      return;\n    }\n\n    function move(ts) {\n      if (!start) start = ts;\n      // console.log(start, ts);\n      prog = ts - start;\n      fn.apply(elem);\n\n      if (prog < duration) {\n        anim = window.requestAnimationFrame(move, elem);\n      } else {\n        window.cancelAnimationFrame(anim);\n        elem.trigger('finished.zf.animate', [elem]).triggerHandler('finished.zf.animate', [elem]);\n      }\n    }\n    anim = window.requestAnimationFrame(move);\n  }\n\n  /**\n   * Animates an element in or out using a CSS transition class.\n   * @function\n   * @private\n   * @param {Boolean} isIn - Defines if the animation is in or out.\n   * @param {Object} element - jQuery or HTML object to animate.\n   * @param {String} animation - CSS class to use.\n   * @param {Function} cb - Callback to run when animation is finished.\n   */\n  function animate(isIn, element, animation, cb) {\n    element = $(element).eq(0);\n\n    if (!element.length) return;\n\n    var initClass = isIn ? initClasses[0] : initClasses[1];\n    var activeClass = isIn ? activeClasses[0] : activeClasses[1];\n\n    // Set up the animation\n    reset();\n\n    element.addClass(animation).css('transition', 'none');\n\n    requestAnimationFrame(function () {\n      element.addClass(initClass);\n      if (isIn) element.show();\n    });\n\n    // Start the animation\n    requestAnimationFrame(function () {\n      element[0].offsetWidth;\n      element.css('transition', '').addClass(activeClass);\n    });\n\n    // Clean up the animation when it finishes\n    element.one(Foundation.transitionend(element), finish);\n\n    // Hides the element (for out animations), resets the element, and runs a callback\n    function finish() {\n      if (!isIn) element.hide();\n      reset();\n      if (cb) cb.apply(element);\n    }\n\n    // Resets transitions and removes motion-specific classes\n    function reset() {\n      element[0].style.transitionDuration = 0;\n      element.removeClass(initClass + ' ' + activeClass + ' ' + animation);\n    }\n  }\n\n  Foundation.Move = Move;\n  Foundation.Motion = Motion;\n}(jQuery);\n'use strict';\n\n!function ($) {\n\n  var Nest = {\n    Feather: function Feather(menu) {\n      var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'zf';\n\n      menu.attr('role', 'menubar');\n\n      var items = menu.find('li').attr({ 'role': 'menuitem' }),\n          subMenuClass = 'is-' + type + '-submenu',\n          subItemClass = subMenuClass + '-item',\n          hasSubClass = 'is-' + type + '-submenu-parent';\n\n      items.each(function () {\n        var $item = $(this),\n            $sub = $item.children('ul');\n\n        if ($sub.length) {\n          $item.addClass(hasSubClass).attr({\n            'aria-haspopup': true,\n            'aria-label': $item.children('a:first').text()\n          });\n          // Note:  Drilldowns behave differently in how they hide, and so need\n          // additional attributes.  We should look if this possibly over-generalized\n          // utility (Nest) is appropriate when we rework menus in 6.4\n          if (type === 'drilldown') {\n            $item.attr({ 'aria-expanded': false });\n          }\n\n          $sub.addClass('submenu ' + subMenuClass).attr({\n            'data-submenu': '',\n            'role': 'menu'\n          });\n          if (type === 'drilldown') {\n            $sub.attr({ 'aria-hidden': true });\n          }\n        }\n\n        if ($item.parent('[data-submenu]').length) {\n          $item.addClass('is-submenu-item ' + subItemClass);\n        }\n      });\n\n      return;\n    },\n    Burn: function Burn(menu, type) {\n      var //items = menu.find('li'),\n      subMenuClass = 'is-' + type + '-submenu',\n          subItemClass = subMenuClass + '-item',\n          hasSubClass = 'is-' + type + '-submenu-parent';\n\n      menu.find('>li, .menu, .menu > li').removeClass(subMenuClass + ' ' + subItemClass + ' ' + hasSubClass + ' is-submenu-item submenu is-active').removeAttr('data-submenu').css('display', '');\n\n      // console.log(      menu.find('.' + subMenuClass + ', .' + subItemClass + ', .has-submenu, .is-submenu-item, .submenu, [data-submenu]')\n      //           .removeClass(subMenuClass + ' ' + subItemClass + ' has-submenu is-submenu-item submenu')\n      //           .removeAttr('data-submenu'));\n      // items.each(function(){\n      //   var $item = $(this),\n      //       $sub = $item.children('ul');\n      //   if($item.parent('[data-submenu]').length){\n      //     $item.removeClass('is-submenu-item ' + subItemClass);\n      //   }\n      //   if($sub.length){\n      //     $item.removeClass('has-submenu');\n      //     $sub.removeClass('submenu ' + subMenuClass).removeAttr('data-submenu');\n      //   }\n      // });\n    }\n  };\n\n  Foundation.Nest = Nest;\n}(jQuery);\n'use strict';\n\n!function ($) {\n\n  function Timer(elem, options, cb) {\n    var _this = this,\n        duration = options.duration,\n        //options is an object for easily adding features later.\n    nameSpace = Object.keys(elem.data())[0] || 'timer',\n        remain = -1,\n        start,\n        timer;\n\n    this.isPaused = false;\n\n    this.restart = function () {\n      remain = -1;\n      clearTimeout(timer);\n      this.start();\n    };\n\n    this.start = function () {\n      this.isPaused = false;\n      // if(!elem.data('paused')){ return false; }//maybe implement this sanity check if used for other things.\n      clearTimeout(timer);\n      remain = remain <= 0 ? duration : remain;\n      elem.data('paused', false);\n      start = Date.now();\n      timer = setTimeout(function () {\n        if (options.infinite) {\n          _this.restart(); //rerun the timer.\n        }\n        if (cb && typeof cb === 'function') {\n          cb();\n        }\n      }, remain);\n      elem.trigger('timerstart.zf.' + nameSpace);\n    };\n\n    this.pause = function () {\n      this.isPaused = true;\n      //if(elem.data('paused')){ return false; }//maybe implement this sanity check if used for other things.\n      clearTimeout(timer);\n      elem.data('paused', true);\n      var end = Date.now();\n      remain = remain - (end - start);\n      elem.trigger('timerpaused.zf.' + nameSpace);\n    };\n  }\n\n  /**\n   * Runs a callback function when images are fully loaded.\n   * @param {Object} images - Image(s) to check if loaded.\n   * @param {Func} callback - Function to execute when image is fully loaded.\n   */\n  function onImagesLoaded(images, callback) {\n    var self = this,\n        unloaded = images.length;\n\n    if (unloaded === 0) {\n      callback();\n    }\n\n    images.each(function () {\n      // Check if image is loaded\n      if (this.complete || this.readyState === 4 || this.readyState === 'complete') {\n        singleImageLoaded();\n      }\n      // Force load the image\n      else {\n          // fix for IE. See https://css-tricks.com/snippets/jquery/fixing-load-in-ie-for-cached-images/\n          var src = $(this).attr('src');\n          $(this).attr('src', src + (src.indexOf('?') >= 0 ? '&' : '?') + new Date().getTime());\n          $(this).one('load', function () {\n            singleImageLoaded();\n          });\n        }\n    });\n\n    function singleImageLoaded() {\n      unloaded--;\n      if (unloaded === 0) {\n        callback();\n      }\n    }\n  }\n\n  Foundation.Timer = Timer;\n  Foundation.onImagesLoaded = onImagesLoaded;\n}(jQuery);\n'use strict';\n\n//**************************************************\n//**Work inspired by multiple jquery swipe plugins**\n//**Done by Yohai Ararat ***************************\n//**************************************************\n(function ($) {\n\n\t$.spotSwipe = {\n\t\tversion: '1.0.0',\n\t\tenabled: 'ontouchstart' in document.documentElement,\n\t\tpreventDefault: false,\n\t\tmoveThreshold: 75,\n\t\ttimeThreshold: 200\n\t};\n\n\tvar startPosX,\n\t    startPosY,\n\t    startTime,\n\t    elapsedTime,\n\t    isMoving = false;\n\n\tfunction onTouchEnd() {\n\t\t//  alert(this);\n\t\tthis.removeEventListener('touchmove', onTouchMove);\n\t\tthis.removeEventListener('touchend', onTouchEnd);\n\t\tisMoving = false;\n\t}\n\n\tfunction onTouchMove(e) {\n\t\tif ($.spotSwipe.preventDefault) {\n\t\t\te.preventDefault();\n\t\t}\n\t\tif (isMoving) {\n\t\t\tvar x = e.touches[0].pageX;\n\t\t\tvar y = e.touches[0].pageY;\n\t\t\tvar dx = startPosX - x;\n\t\t\tvar dy = startPosY - y;\n\t\t\tvar dir;\n\t\t\telapsedTime = new Date().getTime() - startTime;\n\t\t\tif (Math.abs(dx) >= $.spotSwipe.moveThreshold && elapsedTime <= $.spotSwipe.timeThreshold) {\n\t\t\t\tdir = dx > 0 ? 'left' : 'right';\n\t\t\t}\n\t\t\t// else if(Math.abs(dy) >= $.spotSwipe.moveThreshold && elapsedTime <= $.spotSwipe.timeThreshold) {\n\t\t\t//   dir = dy > 0 ? 'down' : 'up';\n\t\t\t// }\n\t\t\tif (dir) {\n\t\t\t\te.preventDefault();\n\t\t\t\tonTouchEnd.call(this);\n\t\t\t\t$(this).trigger('swipe', dir).trigger('swipe' + dir);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction onTouchStart(e) {\n\t\tif (e.touches.length == 1) {\n\t\t\tstartPosX = e.touches[0].pageX;\n\t\t\tstartPosY = e.touches[0].pageY;\n\t\t\tisMoving = true;\n\t\t\tstartTime = new Date().getTime();\n\t\t\tthis.addEventListener('touchmove', onTouchMove, false);\n\t\t\tthis.addEventListener('touchend', onTouchEnd, false);\n\t\t}\n\t}\n\n\tfunction init() {\n\t\tthis.addEventListener && this.addEventListener('touchstart', onTouchStart, false);\n\t}\n\n\tfunction teardown() {\n\t\tthis.removeEventListener('touchstart', onTouchStart);\n\t}\n\n\t$.event.special.swipe = { setup: init };\n\n\t$.each(['left', 'up', 'down', 'right'], function () {\n\t\t$.event.special['swipe' + this] = { setup: function setup() {\n\t\t\t\t$(this).on('swipe', $.noop);\n\t\t\t} };\n\t});\n})(jQuery);\n/****************************************************\n * Method for adding psuedo drag events to elements *\n ***************************************************/\n!function ($) {\n\t$.fn.addTouch = function () {\n\t\tthis.each(function (i, el) {\n\t\t\t$(el).bind('touchstart touchmove touchend touchcancel', function () {\n\t\t\t\t//we pass the original event object because the jQuery event\n\t\t\t\t//object is normalized to w3c specs and does not provide the TouchList\n\t\t\t\thandleTouch(event);\n\t\t\t});\n\t\t});\n\n\t\tvar handleTouch = function handleTouch(event) {\n\t\t\tvar touches = event.changedTouches,\n\t\t\t    first = touches[0],\n\t\t\t    eventTypes = {\n\t\t\t\ttouchstart: 'mousedown',\n\t\t\t\ttouchmove: 'mousemove',\n\t\t\t\ttouchend: 'mouseup'\n\t\t\t},\n\t\t\t    type = eventTypes[event.type],\n\t\t\t    simulatedEvent;\n\n\t\t\tif ('MouseEvent' in window && typeof window.MouseEvent === 'function') {\n\t\t\t\tsimulatedEvent = new window.MouseEvent(type, {\n\t\t\t\t\t'bubbles': true,\n\t\t\t\t\t'cancelable': true,\n\t\t\t\t\t'screenX': first.screenX,\n\t\t\t\t\t'screenY': first.screenY,\n\t\t\t\t\t'clientX': first.clientX,\n\t\t\t\t\t'clientY': first.clientY\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tsimulatedEvent = document.createEvent('MouseEvent');\n\t\t\t\tsimulatedEvent.initMouseEvent(type, true, true, window, 1, first.screenX, first.screenY, first.clientX, first.clientY, false, false, false, false, 0 /*left*/, null);\n\t\t\t}\n\t\t\tfirst.target.dispatchEvent(simulatedEvent);\n\t\t};\n\t};\n}(jQuery);\n\n//**********************************\n//**From the jQuery Mobile Library**\n//**need to recreate functionality**\n//**and try to improve if possible**\n//**********************************\n\n/* Removing the jQuery function ****\n************************************\n\n(function( $, window, undefined ) {\n\n\tvar $document = $( document ),\n\t\t// supportTouch = $.mobile.support.touch,\n\t\ttouchStartEvent = 'touchstart'//supportTouch ? \"touchstart\" : \"mousedown\",\n\t\ttouchStopEvent = 'touchend'//supportTouch ? \"touchend\" : \"mouseup\",\n\t\ttouchMoveEvent = 'touchmove'//supportTouch ? \"touchmove\" : \"mousemove\";\n\n\t// setup new event shortcuts\n\t$.each( ( \"touchstart touchmove touchend \" +\n\t\t\"swipe swipeleft swiperight\" ).split( \" \" ), function( i, name ) {\n\n\t\t$.fn[ name ] = function( fn ) {\n\t\t\treturn fn ? this.bind( name, fn ) : this.trigger( name );\n\t\t};\n\n\t\t// jQuery < 1.8\n\t\tif ( $.attrFn ) {\n\t\t\t$.attrFn[ name ] = true;\n\t\t}\n\t});\n\n\tfunction triggerCustomEvent( obj, eventType, event, bubble ) {\n\t\tvar originalType = event.type;\n\t\tevent.type = eventType;\n\t\tif ( bubble ) {\n\t\t\t$.event.trigger( event, undefined, obj );\n\t\t} else {\n\t\t\t$.event.dispatch.call( obj, event );\n\t\t}\n\t\tevent.type = originalType;\n\t}\n\n\t// also handles taphold\n\n\t// Also handles swipeleft, swiperight\n\t$.event.special.swipe = {\n\n\t\t// More than this horizontal displacement, and we will suppress scrolling.\n\t\tscrollSupressionThreshold: 30,\n\n\t\t// More time than this, and it isn't a swipe.\n\t\tdurationThreshold: 1000,\n\n\t\t// Swipe horizontal displacement must be more than this.\n\t\thorizontalDistanceThreshold: window.devicePixelRatio >= 2 ? 15 : 30,\n\n\t\t// Swipe vertical displacement must be less than this.\n\t\tverticalDistanceThreshold: window.devicePixelRatio >= 2 ? 15 : 30,\n\n\t\tgetLocation: function ( event ) {\n\t\t\tvar winPageX = window.pageXOffset,\n\t\t\t\twinPageY = window.pageYOffset,\n\t\t\t\tx = event.clientX,\n\t\t\t\ty = event.clientY;\n\n\t\t\tif ( event.pageY === 0 && Math.floor( y ) > Math.floor( event.pageY ) ||\n\t\t\t\tevent.pageX === 0 && Math.floor( x ) > Math.floor( event.pageX ) ) {\n\n\t\t\t\t// iOS4 clientX/clientY have the value that should have been\n\t\t\t\t// in pageX/pageY. While pageX/page/ have the value 0\n\t\t\t\tx = x - winPageX;\n\t\t\t\ty = y - winPageY;\n\t\t\t} else if ( y < ( event.pageY - winPageY) || x < ( event.pageX - winPageX ) ) {\n\n\t\t\t\t// Some Android browsers have totally bogus values for clientX/Y\n\t\t\t\t// when scrolling/zooming a page. Detectable since clientX/clientY\n\t\t\t\t// should never be smaller than pageX/pageY minus page scroll\n\t\t\t\tx = event.pageX - winPageX;\n\t\t\t\ty = event.pageY - winPageY;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tx: x,\n\t\t\t\ty: y\n\t\t\t};\n\t\t},\n\n\t\tstart: function( event ) {\n\t\t\tvar data = event.originalEvent.touches ?\n\t\t\t\t\tevent.originalEvent.touches[ 0 ] : event,\n\t\t\t\tlocation = $.event.special.swipe.getLocation( data );\n\t\t\treturn {\n\t\t\t\t\t\ttime: ( new Date() ).getTime(),\n\t\t\t\t\t\tcoords: [ location.x, location.y ],\n\t\t\t\t\t\torigin: $( event.target )\n\t\t\t\t\t};\n\t\t},\n\n\t\tstop: function( event ) {\n\t\t\tvar data = event.originalEvent.touches ?\n\t\t\t\t\tevent.originalEvent.touches[ 0 ] : event,\n\t\t\t\tlocation = $.event.special.swipe.getLocation( data );\n\t\t\treturn {\n\t\t\t\t\t\ttime: ( new Date() ).getTime(),\n\t\t\t\t\t\tcoords: [ location.x, location.y ]\n\t\t\t\t\t};\n\t\t},\n\n\t\thandleSwipe: function( start, stop, thisObject, origTarget ) {\n\t\t\tif ( stop.time - start.time < $.event.special.swipe.durationThreshold &&\n\t\t\t\tMath.abs( start.coords[ 0 ] - stop.coords[ 0 ] ) > $.event.special.swipe.horizontalDistanceThreshold &&\n\t\t\t\tMath.abs( start.coords[ 1 ] - stop.coords[ 1 ] ) < $.event.special.swipe.verticalDistanceThreshold ) {\n\t\t\t\tvar direction = start.coords[0] > stop.coords[ 0 ] ? \"swipeleft\" : \"swiperight\";\n\n\t\t\t\ttriggerCustomEvent( thisObject, \"swipe\", $.Event( \"swipe\", { target: origTarget, swipestart: start, swipestop: stop }), true );\n\t\t\t\ttriggerCustomEvent( thisObject, direction,$.Event( direction, { target: origTarget, swipestart: start, swipestop: stop } ), true );\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\n\t\t},\n\n\t\t// This serves as a flag to ensure that at most one swipe event event is\n\t\t// in work at any given time\n\t\teventInProgress: false,\n\n\t\tsetup: function() {\n\t\t\tvar events,\n\t\t\t\tthisObject = this,\n\t\t\t\t$this = $( thisObject ),\n\t\t\t\tcontext = {};\n\n\t\t\t// Retrieve the events data for this element and add the swipe context\n\t\t\tevents = $.data( this, \"mobile-events\" );\n\t\t\tif ( !events ) {\n\t\t\t\tevents = { length: 0 };\n\t\t\t\t$.data( this, \"mobile-events\", events );\n\t\t\t}\n\t\t\tevents.length++;\n\t\t\tevents.swipe = context;\n\n\t\t\tcontext.start = function( event ) {\n\n\t\t\t\t// Bail if we're already working on a swipe event\n\t\t\t\tif ( $.event.special.swipe.eventInProgress ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t$.event.special.swipe.eventInProgress = true;\n\n\t\t\t\tvar stop,\n\t\t\t\t\tstart = $.event.special.swipe.start( event ),\n\t\t\t\t\torigTarget = event.target,\n\t\t\t\t\temitted = false;\n\n\t\t\t\tcontext.move = function( event ) {\n\t\t\t\t\tif ( !start || event.isDefaultPrevented() ) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tstop = $.event.special.swipe.stop( event );\n\t\t\t\t\tif ( !emitted ) {\n\t\t\t\t\t\temitted = $.event.special.swipe.handleSwipe( start, stop, thisObject, origTarget );\n\t\t\t\t\t\tif ( emitted ) {\n\n\t\t\t\t\t\t\t// Reset the context to make way for the next swipe event\n\t\t\t\t\t\t\t$.event.special.swipe.eventInProgress = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// prevent scrolling\n\t\t\t\t\tif ( Math.abs( start.coords[ 0 ] - stop.coords[ 0 ] ) > $.event.special.swipe.scrollSupressionThreshold ) {\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tcontext.stop = function() {\n\t\t\t\t\t\temitted = true;\n\n\t\t\t\t\t\t// Reset the context to make way for the next swipe event\n\t\t\t\t\t\t$.event.special.swipe.eventInProgress = false;\n\t\t\t\t\t\t$document.off( touchMoveEvent, context.move );\n\t\t\t\t\t\tcontext.move = null;\n\t\t\t\t};\n\n\t\t\t\t$document.on( touchMoveEvent, context.move )\n\t\t\t\t\t.one( touchStopEvent, context.stop );\n\t\t\t};\n\t\t\t$this.on( touchStartEvent, context.start );\n\t\t},\n\n\t\tteardown: function() {\n\t\t\tvar events, context;\n\n\t\t\tevents = $.data( this, \"mobile-events\" );\n\t\t\tif ( events ) {\n\t\t\t\tcontext = events.swipe;\n\t\t\t\tdelete events.swipe;\n\t\t\t\tevents.length--;\n\t\t\t\tif ( events.length === 0 ) {\n\t\t\t\t\t$.removeData( this, \"mobile-events\" );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( context ) {\n\t\t\t\tif ( context.start ) {\n\t\t\t\t\t$( this ).off( touchStartEvent, context.start );\n\t\t\t\t}\n\t\t\t\tif ( context.move ) {\n\t\t\t\t\t$document.off( touchMoveEvent, context.move );\n\t\t\t\t}\n\t\t\t\tif ( context.stop ) {\n\t\t\t\t\t$document.off( touchStopEvent, context.stop );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\t$.each({\n\t\tswipeleft: \"swipe.left\",\n\t\tswiperight: \"swipe.right\"\n\t}, function( event, sourceEvent ) {\n\n\t\t$.event.special[ event ] = {\n\t\t\tsetup: function() {\n\t\t\t\t$( this ).bind( sourceEvent, $.noop );\n\t\t\t},\n\t\t\tteardown: function() {\n\t\t\t\t$( this ).unbind( sourceEvent );\n\t\t\t}\n\t\t};\n\t});\n})( jQuery, this );\n*/\n'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n!function ($) {\n\n  var MutationObserver = function () {\n    var prefixes = ['WebKit', 'Moz', 'O', 'Ms', ''];\n    for (var i = 0; i < prefixes.length; i++) {\n      if (prefixes[i] + 'MutationObserver' in window) {\n        return window[prefixes[i] + 'MutationObserver'];\n      }\n    }\n    return false;\n  }();\n\n  var triggers = function triggers(el, type) {\n    el.data(type).split(' ').forEach(function (id) {\n      $('#' + id)[type === 'close' ? 'trigger' : 'triggerHandler'](type + '.zf.trigger', [el]);\n    });\n  };\n  // Elements with [data-open] will reveal a plugin that supports it when clicked.\n  $(document).on('click.zf.trigger', '[data-open]', function () {\n    triggers($(this), 'open');\n  });\n\n  // Elements with [data-close] will close a plugin that supports it when clicked.\n  // If used without a value on [data-close], the event will bubble, allowing it to close a parent component.\n  $(document).on('click.zf.trigger', '[data-close]', function () {\n    var id = $(this).data('close');\n    if (id) {\n      triggers($(this), 'close');\n    } else {\n      $(this).trigger('close.zf.trigger');\n    }\n  });\n\n  // Elements with [data-toggle] will toggle a plugin that supports it when clicked.\n  $(document).on('click.zf.trigger', '[data-toggle]', function () {\n    var id = $(this).data('toggle');\n    if (id) {\n      triggers($(this), 'toggle');\n    } else {\n      $(this).trigger('toggle.zf.trigger');\n    }\n  });\n\n  // Elements with [data-closable] will respond to close.zf.trigger events.\n  $(document).on('close.zf.trigger', '[data-closable]', function (e) {\n    e.stopPropagation();\n    var animation = $(this).data('closable');\n\n    if (animation !== '') {\n      Foundation.Motion.animateOut($(this), animation, function () {\n        $(this).trigger('closed.zf');\n      });\n    } else {\n      $(this).fadeOut().trigger('closed.zf');\n    }\n  });\n\n  $(document).on('focus.zf.trigger blur.zf.trigger', '[data-toggle-focus]', function () {\n    var id = $(this).data('toggle-focus');\n    $('#' + id).triggerHandler('toggle.zf.trigger', [$(this)]);\n  });\n\n  /**\n  * Fires once after all other scripts have loaded\n  * @function\n  * @private\n  */\n  $(window).on('load', function () {\n    checkListeners();\n  });\n\n  function checkListeners() {\n    eventsListener();\n    resizeListener();\n    scrollListener();\n    closemeListener();\n  }\n\n  //******** only fires this function once on load, if there's something to watch ********\n  function closemeListener(pluginName) {\n    var yetiBoxes = $('[data-yeti-box]'),\n        plugNames = ['dropdown', 'tooltip', 'reveal'];\n\n    if (pluginName) {\n      if (typeof pluginName === 'string') {\n        plugNames.push(pluginName);\n      } else if ((typeof pluginName === 'undefined' ? 'undefined' : _typeof(pluginName)) === 'object' && typeof pluginName[0] === 'string') {\n        plugNames.concat(pluginName);\n      } else {\n        console.error('Plugin names must be strings');\n      }\n    }\n    if (yetiBoxes.length) {\n      var listeners = plugNames.map(function (name) {\n        return 'closeme.zf.' + name;\n      }).join(' ');\n\n      $(window).off(listeners).on(listeners, function (e, pluginId) {\n        var plugin = e.namespace.split('.')[0];\n        var plugins = $('[data-' + plugin + ']').not('[data-yeti-box=\"' + pluginId + '\"]');\n\n        plugins.each(function () {\n          var _this = $(this);\n\n          _this.triggerHandler('close.zf.trigger', [_this]);\n        });\n      });\n    }\n  }\n\n  function resizeListener(debounce) {\n    var timer = void 0,\n        $nodes = $('[data-resize]');\n    if ($nodes.length) {\n      $(window).off('resize.zf.trigger').on('resize.zf.trigger', function (e) {\n        if (timer) {\n          clearTimeout(timer);\n        }\n\n        timer = setTimeout(function () {\n\n          if (!MutationObserver) {\n            //fallback for IE 9\n            $nodes.each(function () {\n              $(this).triggerHandler('resizeme.zf.trigger');\n            });\n          }\n          //trigger all listening elements and signal a resize event\n          $nodes.attr('data-events', \"resize\");\n        }, debounce || 10); //default time to emit resize event\n      });\n    }\n  }\n\n  function scrollListener(debounce) {\n    var timer = void 0,\n        $nodes = $('[data-scroll]');\n    if ($nodes.length) {\n      $(window).off('scroll.zf.trigger').on('scroll.zf.trigger', function (e) {\n        if (timer) {\n          clearTimeout(timer);\n        }\n\n        timer = setTimeout(function () {\n\n          if (!MutationObserver) {\n            //fallback for IE 9\n            $nodes.each(function () {\n              $(this).triggerHandler('scrollme.zf.trigger');\n            });\n          }\n          //trigger all listening elements and signal a scroll event\n          $nodes.attr('data-events', \"scroll\");\n        }, debounce || 10); //default time to emit scroll event\n      });\n    }\n  }\n\n  function eventsListener() {\n    if (!MutationObserver) {\n      return false;\n    }\n    var nodes = document.querySelectorAll('[data-resize], [data-scroll], [data-mutate]');\n\n    //element callback\n    var listeningElementsMutation = function listeningElementsMutation(mutationRecordsList) {\n      var $target = $(mutationRecordsList[0].target);\n\n      //trigger the event handler for the element depending on type\n      switch (mutationRecordsList[0].type) {\n\n        case \"attributes\":\n          if ($target.attr(\"data-events\") === \"scroll\" && mutationRecordsList[0].attributeName === \"data-events\") {\n            $target.triggerHandler('scrollme.zf.trigger', [$target, window.pageYOffset]);\n          }\n          if ($target.attr(\"data-events\") === \"resize\" && mutationRecordsList[0].attributeName === \"data-events\") {\n            $target.triggerHandler('resizeme.zf.trigger', [$target]);\n          }\n          if (mutationRecordsList[0].attributeName === \"style\") {\n            $target.closest(\"[data-mutate]\").attr(\"data-events\", \"mutate\");\n            $target.closest(\"[data-mutate]\").triggerHandler('mutateme.zf.trigger', [$target.closest(\"[data-mutate]\")]);\n          }\n          break;\n\n        case \"childList\":\n          $target.closest(\"[data-mutate]\").attr(\"data-events\", \"mutate\");\n          $target.closest(\"[data-mutate]\").triggerHandler('mutateme.zf.trigger', [$target.closest(\"[data-mutate]\")]);\n          break;\n\n        default:\n          return false;\n        //nothing\n      }\n    };\n\n    if (nodes.length) {\n      //for each element that needs to listen for resizing, scrolling, or mutation add a single observer\n      for (var i = 0; i <= nodes.length - 1; i++) {\n        var elementObserver = new MutationObserver(listeningElementsMutation);\n        elementObserver.observe(nodes[i], { attributes: true, childList: true, characterData: false, subtree: true, attributeFilter: [\"data-events\", \"style\"] });\n      }\n    }\n  }\n\n  // ------------------------------------\n\n  // [PH]\n  // Foundation.CheckWatchers = checkWatchers;\n  Foundation.IHearYou = checkListeners;\n  // Foundation.ISeeYou = scrollListener;\n  // Foundation.IFeelYou = closemeListener;\n}(jQuery);\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n!function ($) {\n\n  /**\n   * Accordion module.\n   * @module foundation.accordion\n   * @requires foundation.util.keyboard\n   * @requires foundation.util.motion\n   */\n\n  var Accordion = function () {\n    /**\n     * Creates a new instance of an accordion.\n     * @class\n     * @fires Accordion#init\n     * @param {jQuery} element - jQuery object to make into an accordion.\n     * @param {Object} options - a plain object with settings to override the default options.\n     */\n    function Accordion(element, options) {\n      _classCallCheck(this, Accordion);\n\n      this.$element = element;\n      this.options = $.extend({}, Accordion.defaults, this.$element.data(), options);\n\n      this._init();\n\n      Foundation.registerPlugin(this, 'Accordion');\n      Foundation.Keyboard.register('Accordion', {\n        'ENTER': 'toggle',\n        'SPACE': 'toggle',\n        'ARROW_DOWN': 'next',\n        'ARROW_UP': 'previous'\n      });\n    }\n\n    /**\n     * Initializes the accordion by animating the preset active pane(s).\n     * @private\n     */\n\n\n    _createClass(Accordion, [{\n      key: '_init',\n      value: function _init() {\n        var _this2 = this;\n\n        this.$element.attr('role', 'tablist');\n        this.$tabs = this.$element.children('[data-accordion-item]');\n\n        this.$tabs.each(function (idx, el) {\n          var $el = $(el),\n              $content = $el.children('[data-tab-content]'),\n              id = $content[0].id || Foundation.GetYoDigits(6, 'accordion'),\n              linkId = el.id || id + '-label';\n\n          $el.find('a:first').attr({\n            'aria-controls': id,\n            'role': 'tab',\n            'id': linkId,\n            'aria-expanded': false,\n            'aria-selected': false\n          });\n\n          $content.attr({ 'role': 'tabpanel', 'aria-labelledby': linkId, 'aria-hidden': true, 'id': id });\n        });\n        var $initActive = this.$element.find('.is-active').children('[data-tab-content]');\n        this.firstTimeInit = true;\n        if ($initActive.length) {\n          this.down($initActive, this.firstTimeInit);\n          this.firstTimeInit = false;\n        }\n\n        this._checkDeepLink = function () {\n          var anchor = window.location.hash;\n          //need a hash and a relevant anchor in this tabset\n          if (anchor.length) {\n            var $link = _this2.$element.find('[href$=\"' + anchor + '\"]'),\n                $anchor = $(anchor);\n\n            if ($link.length && $anchor) {\n              if (!$link.parent('[data-accordion-item]').hasClass('is-active')) {\n                _this2.down($anchor, _this2.firstTimeInit);\n                _this2.firstTimeInit = false;\n              };\n\n              //roll up a little to show the titles\n              if (_this2.options.deepLinkSmudge) {\n                var _this = _this2;\n                $(window).load(function () {\n                  var offset = _this.$element.offset();\n                  $('html, body').animate({ scrollTop: offset.top }, _this.options.deepLinkSmudgeDelay);\n                });\n              }\n\n              /**\n                * Fires when the zplugin has deeplinked at pageload\n                * @event Accordion#deeplink\n                */\n              _this2.$element.trigger('deeplink.zf.accordion', [$link, $anchor]);\n            }\n          }\n        };\n\n        //use browser to open a tab, if it exists in this tabset\n        if (this.options.deepLink) {\n          this._checkDeepLink();\n        }\n\n        this._events();\n      }\n\n      /**\n       * Adds event handlers for items within the accordion.\n       * @private\n       */\n\n    }, {\n      key: '_events',\n      value: function _events() {\n        var _this = this;\n\n        this.$tabs.each(function () {\n          var $elem = $(this);\n          var $tabContent = $elem.children('[data-tab-content]');\n          if ($tabContent.length) {\n            $elem.children('a').off('click.zf.accordion keydown.zf.accordion').on('click.zf.accordion', function (e) {\n              e.preventDefault();\n              _this.toggle($tabContent);\n            }).on('keydown.zf.accordion', function (e) {\n              Foundation.Keyboard.handleKey(e, 'Accordion', {\n                toggle: function toggle() {\n                  _this.toggle($tabContent);\n                },\n                next: function next() {\n                  var $a = $elem.next().find('a').focus();\n                  if (!_this.options.multiExpand) {\n                    $a.trigger('click.zf.accordion');\n                  }\n                },\n                previous: function previous() {\n                  var $a = $elem.prev().find('a').focus();\n                  if (!_this.options.multiExpand) {\n                    $a.trigger('click.zf.accordion');\n                  }\n                },\n                handled: function handled() {\n                  e.preventDefault();\n                  e.stopPropagation();\n                }\n              });\n            });\n          }\n        });\n        if (this.options.deepLink) {\n          $(window).on('popstate', this._checkDeepLink);\n        }\n      }\n\n      /**\n       * Toggles the selected content pane's open/close state.\n       * @param {jQuery} $target - jQuery object of the pane to toggle (`.accordion-content`).\n       * @function\n       */\n\n    }, {\n      key: 'toggle',\n      value: function toggle($target) {\n        if ($target.parent().hasClass('is-active')) {\n          this.up($target);\n        } else {\n          this.down($target);\n        }\n        //either replace or update browser history\n        if (this.options.deepLink) {\n          var anchor = $target.prev('a').attr('href');\n\n          if (this.options.updateHistory) {\n            history.pushState({}, '', anchor);\n          } else {\n            history.replaceState({}, '', anchor);\n          }\n        }\n      }\n\n      /**\n       * Opens the accordion tab defined by `$target`.\n       * @param {jQuery} $target - Accordion pane to open (`.accordion-content`).\n       * @param {Boolean} firstTime - flag to determine if reflow should happen.\n       * @fires Accordion#down\n       * @function\n       */\n\n    }, {\n      key: 'down',\n      value: function down($target, firstTime) {\n        var _this3 = this;\n\n        $target.attr('aria-hidden', false).parent('[data-tab-content]').addBack().parent().addClass('is-active');\n\n        if (!this.options.multiExpand && !firstTime) {\n          var $currentActive = this.$element.children('.is-active').children('[data-tab-content]');\n          if ($currentActive.length) {\n            this.up($currentActive.not($target));\n          }\n        }\n\n        $target.slideDown(this.options.slideSpeed, function () {\n          /**\n           * Fires when the tab is done opening.\n           * @event Accordion#down\n           */\n          _this3.$element.trigger('down.zf.accordion', [$target]);\n        });\n\n        $('#' + $target.attr('aria-labelledby')).attr({\n          'aria-expanded': true,\n          'aria-selected': true\n        });\n      }\n\n      /**\n       * Closes the tab defined by `$target`.\n       * @param {jQuery} $target - Accordion tab to close (`.accordion-content`).\n       * @fires Accordion#up\n       * @function\n       */\n\n    }, {\n      key: 'up',\n      value: function up($target) {\n        var $aunts = $target.parent().siblings(),\n            _this = this;\n\n        if (!this.options.allowAllClosed && !$aunts.hasClass('is-active') || !$target.parent().hasClass('is-active')) {\n          return;\n        }\n\n        // Foundation.Move(this.options.slideSpeed, $target, function(){\n        $target.slideUp(_this.options.slideSpeed, function () {\n          /**\n           * Fires when the tab is done collapsing up.\n           * @event Accordion#up\n           */\n          _this.$element.trigger('up.zf.accordion', [$target]);\n        });\n        // });\n\n        $target.attr('aria-hidden', true).parent().removeClass('is-active');\n\n        $('#' + $target.attr('aria-labelledby')).attr({\n          'aria-expanded': false,\n          'aria-selected': false\n        });\n      }\n\n      /**\n       * Destroys an instance of an accordion.\n       * @fires Accordion#destroyed\n       * @function\n       */\n\n    }, {\n      key: 'destroy',\n      value: function destroy() {\n        this.$element.find('[data-tab-content]').stop(true).slideUp(0).css('display', '');\n        this.$element.find('a').off('.zf.accordion');\n        if (this.options.deepLink) {\n          $(window).off('popstate', this._checkDeepLink);\n        }\n\n        Foundation.unregisterPlugin(this);\n      }\n    }]);\n\n    return Accordion;\n  }();\n\n  Accordion.defaults = {\n    /**\n     * Amount of time to animate the opening of an accordion pane.\n     * @option\n     * @type {number}\n     * @default 250\n     */\n    slideSpeed: 250,\n    /**\n     * Allow the accordion to have multiple open panes.\n     * @option\n     * @type {boolean}\n     * @default false\n     */\n    multiExpand: false,\n    /**\n     * Allow the accordion to close all panes.\n     * @option\n     * @type {boolean}\n     * @default false\n     */\n    allowAllClosed: false,\n    /**\n     * Allows the window to scroll to content of pane specified by hash anchor\n     * @option\n     * @type {boolean}\n     * @default false\n     */\n    deepLink: false,\n\n    /**\n     * Adjust the deep link scroll to make sure the top of the accordion panel is visible\n     * @option\n     * @type {boolean}\n     * @default false\n     */\n    deepLinkSmudge: false,\n\n    /**\n     * Animation time (ms) for the deep link adjustment\n     * @option\n     * @type {number}\n     * @default 300\n     */\n    deepLinkSmudgeDelay: 300,\n\n    /**\n     * Update the browser history with the open accordion\n     * @option\n     * @type {boolean}\n     * @default false\n     */\n    updateHistory: false\n  };\n\n  // Window exports\n  Foundation.plugin(Accordion, 'Accordion');\n}(jQuery);\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n!function ($) {\n\n  /**\n   * Interchange module.\n   * @module foundation.interchange\n   * @requires foundation.util.mediaQuery\n   * @requires foundation.util.timerAndImageLoader\n   */\n\n  var Interchange = function () {\n    /**\n     * Creates a new instance of Interchange.\n     * @class\n     * @fires Interchange#init\n     * @param {Object} element - jQuery object to add the trigger to.\n     * @param {Object} options - Overrides to the default plugin settings.\n     */\n    function Interchange(element, options) {\n      _classCallCheck(this, Interchange);\n\n      this.$element = element;\n      this.options = $.extend({}, Interchange.defaults, options);\n      this.rules = [];\n      this.currentPath = '';\n\n      this._init();\n      this._events();\n\n      Foundation.registerPlugin(this, 'Interchange');\n    }\n\n    /**\n     * Initializes the Interchange plugin and calls functions to get interchange functioning on load.\n     * @function\n     * @private\n     */\n\n\n    _createClass(Interchange, [{\n      key: '_init',\n      value: function _init() {\n        this._addBreakpoints();\n        this._generateRules();\n        this._reflow();\n      }\n\n      /**\n       * Initializes events for Interchange.\n       * @function\n       * @private\n       */\n\n    }, {\n      key: '_events',\n      value: function _events() {\n        var _this2 = this;\n\n        $(window).on('resize.zf.interchange', Foundation.util.throttle(function () {\n          _this2._reflow();\n        }, 50));\n      }\n\n      /**\n       * Calls necessary functions to update Interchange upon DOM change\n       * @function\n       * @private\n       */\n\n    }, {\n      key: '_reflow',\n      value: function _reflow() {\n        var match;\n\n        // Iterate through each rule, but only save the last match\n        for (var i in this.rules) {\n          if (this.rules.hasOwnProperty(i)) {\n            var rule = this.rules[i];\n            if (window.matchMedia(rule.query).matches) {\n              match = rule;\n            }\n          }\n        }\n\n        if (match) {\n          this.replace(match.path);\n        }\n      }\n\n      /**\n       * Gets the Foundation breakpoints and adds them to the Interchange.SPECIAL_QUERIES object.\n       * @function\n       * @private\n       */\n\n    }, {\n      key: '_addBreakpoints',\n      value: function _addBreakpoints() {\n        for (var i in Foundation.MediaQuery.queries) {\n          if (Foundation.MediaQuery.queries.hasOwnProperty(i)) {\n            var query = Foundation.MediaQuery.queries[i];\n            Interchange.SPECIAL_QUERIES[query.name] = query.value;\n          }\n        }\n      }\n\n      /**\n       * Checks the Interchange element for the provided media query + content pairings\n       * @function\n       * @private\n       * @param {Object} element - jQuery object that is an Interchange instance\n       * @returns {Array} scenarios - Array of objects that have 'mq' and 'path' keys with corresponding keys\n       */\n\n    }, {\n      key: '_generateRules',\n      value: function _generateRules(element) {\n        var rulesList = [];\n        var rules;\n\n        if (this.options.rules) {\n          rules = this.options.rules;\n        } else {\n          rules = this.$element.data('interchange');\n        }\n\n        rules = typeof rules === 'string' ? rules.match(/\\[.*?\\]/g) : rules;\n\n        for (var i in rules) {\n          if (rules.hasOwnProperty(i)) {\n            var rule = rules[i].slice(1, -1).split(', ');\n            var path = rule.slice(0, -1).join('');\n            var query = rule[rule.length - 1];\n\n            if (Interchange.SPECIAL_QUERIES[query]) {\n              query = Interchange.SPECIAL_QUERIES[query];\n            }\n\n            rulesList.push({\n              path: path,\n              query: query\n            });\n          }\n        }\n\n        this.rules = rulesList;\n      }\n\n      /**\n       * Update the `src` property of an image, or change the HTML of a container, to the specified path.\n       * @function\n       * @param {String} path - Path to the image or HTML partial.\n       * @fires Interchange#replaced\n       */\n\n    }, {\n      key: 'replace',\n      value: function replace(path) {\n        if (this.currentPath === path) return;\n\n        var _this = this,\n            trigger = 'replaced.zf.interchange';\n\n        // Replacing images\n        if (this.$element[0].nodeName === 'IMG') {\n          this.$element.attr('src', path).on('load', function () {\n            _this.currentPath = path;\n          }).trigger(trigger);\n        }\n        // Replacing background images\n        else if (path.match(/\\.(gif|jpg|jpeg|png|svg|tiff)([?#].*)?/i)) {\n            this.$element.css({ 'background-image': 'url(' + path + ')' }).trigger(trigger);\n          }\n          // Replacing HTML\n          else {\n              $.get(path, function (response) {\n                _this.$element.html(response).trigger(trigger);\n                $(response).foundation();\n                _this.currentPath = path;\n              });\n            }\n\n        /**\n         * Fires when content in an Interchange element is done being loaded.\n         * @event Interchange#replaced\n         */\n        // this.$element.trigger('replaced.zf.interchange');\n      }\n\n      /**\n       * Destroys an instance of interchange.\n       * @function\n       */\n\n    }, {\n      key: 'destroy',\n      value: function destroy() {\n        //TODO this.\n      }\n    }]);\n\n    return Interchange;\n  }();\n\n  /**\n   * Default settings for plugin\n   */\n\n\n  Interchange.defaults = {\n    /**\n     * Rules to be applied to Interchange elements. Set with the `data-interchange` array notation.\n     * @option\n     * @type {?array}\n     * @default null\n     */\n    rules: null\n  };\n\n  Interchange.SPECIAL_QUERIES = {\n    'landscape': 'screen and (orientation: landscape)',\n    'portrait': 'screen and (orientation: portrait)',\n    'retina': 'only screen and (-webkit-min-device-pixel-ratio: 2), only screen and (min--moz-device-pixel-ratio: 2), only screen and (-o-min-device-pixel-ratio: 2/1), only screen and (min-device-pixel-ratio: 2), only screen and (min-resolution: 192dpi), only screen and (min-resolution: 2dppx)'\n  };\n\n  // Window exports\n  Foundation.plugin(Interchange, 'Interchange');\n}(jQuery);\n'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n!function ($) {\n\n  /**\n   * Tabs module.\n   * @module foundation.tabs\n   * @requires foundation.util.keyboard\n   * @requires foundation.util.timerAndImageLoader if tabs contain images\n   */\n\n  var Tabs = function () {\n    /**\n     * Creates a new instance of tabs.\n     * @class\n     * @fires Tabs#init\n     * @param {jQuery} element - jQuery object to make into tabs.\n     * @param {Object} options - Overrides to the default plugin settings.\n     */\n    function Tabs(element, options) {\n      _classCallCheck(this, Tabs);\n\n      this.$element = element;\n      this.options = $.extend({}, Tabs.defaults, this.$element.data(), options);\n\n      this._init();\n      Foundation.registerPlugin(this, 'Tabs');\n      Foundation.Keyboard.register('Tabs', {\n        'ENTER': 'open',\n        'SPACE': 'open',\n        'ARROW_RIGHT': 'next',\n        'ARROW_UP': 'previous',\n        'ARROW_DOWN': 'next',\n        'ARROW_LEFT': 'previous'\n        // 'TAB': 'next',\n        // 'SHIFT_TAB': 'previous'\n      });\n    }\n\n    /**\n     * Initializes the tabs by showing and focusing (if autoFocus=true) the preset active tab.\n     * @private\n     */\n\n\n    _createClass(Tabs, [{\n      key: '_init',\n      value: function _init() {\n        var _this2 = this;\n\n        var _this = this;\n\n        this.$element.attr({ 'role': 'tablist' });\n        this.$tabTitles = this.$element.find('.' + this.options.linkClass);\n        this.$tabContent = $('[data-tabs-content=\"' + this.$element[0].id + '\"]');\n\n        this.$tabTitles.each(function () {\n          var $elem = $(this),\n              $link = $elem.find('a'),\n              isActive = $elem.hasClass('' + _this.options.linkActiveClass),\n              hash = $link[0].hash.slice(1),\n              linkId = $link[0].id ? $link[0].id : hash + '-label',\n              $tabContent = $('#' + hash);\n\n          $elem.attr({ 'role': 'presentation' });\n\n          $link.attr({\n            'role': 'tab',\n            'aria-controls': hash,\n            'aria-selected': isActive,\n            'id': linkId\n          });\n\n          $tabContent.attr({\n            'role': 'tabpanel',\n            'aria-hidden': !isActive,\n            'aria-labelledby': linkId\n          });\n\n          if (isActive && _this.options.autoFocus) {\n            $(window).load(function () {\n              $('html, body').animate({ scrollTop: $elem.offset().top }, _this.options.deepLinkSmudgeDelay, function () {\n                $link.focus();\n              });\n            });\n          }\n        });\n        if (this.options.matchHeight) {\n          var $images = this.$tabContent.find('img');\n\n          if ($images.length) {\n            Foundation.onImagesLoaded($images, this._setHeight.bind(this));\n          } else {\n            this._setHeight();\n          }\n        }\n\n        //current context-bound function to open tabs on page load or history popstate\n        this._checkDeepLink = function () {\n          var anchor = window.location.hash;\n          //need a hash and a relevant anchor in this tabset\n          if (anchor.length) {\n            var $link = _this2.$element.find('[href$=\"' + anchor + '\"]');\n            if ($link.length) {\n              _this2.selectTab($(anchor), true);\n\n              //roll up a little to show the titles\n              if (_this2.options.deepLinkSmudge) {\n                var offset = _this2.$element.offset();\n                $('html, body').animate({ scrollTop: offset.top }, _this2.options.deepLinkSmudgeDelay);\n              }\n\n              /**\n                * Fires when the zplugin has deeplinked at pageload\n                * @event Tabs#deeplink\n                */\n              _this2.$element.trigger('deeplink.zf.tabs', [$link, $(anchor)]);\n            }\n          }\n        };\n\n        //use browser to open a tab, if it exists in this tabset\n        if (this.options.deepLink) {\n          this._checkDeepLink();\n        }\n\n        this._events();\n      }\n\n      /**\n       * Adds event handlers for items within the tabs.\n       * @private\n       */\n\n    }, {\n      key: '_events',\n      value: function _events() {\n        this._addKeyHandler();\n        this._addClickHandler();\n        this._setHeightMqHandler = null;\n\n        if (this.options.matchHeight) {\n          this._setHeightMqHandler = this._setHeight.bind(this);\n\n          $(window).on('changed.zf.mediaquery', this._setHeightMqHandler);\n        }\n\n        if (this.options.deepLink) {\n          $(window).on('popstate', this._checkDeepLink);\n        }\n      }\n\n      /**\n       * Adds click handlers for items within the tabs.\n       * @private\n       */\n\n    }, {\n      key: '_addClickHandler',\n      value: function _addClickHandler() {\n        var _this = this;\n\n        this.$element.off('click.zf.tabs').on('click.zf.tabs', '.' + this.options.linkClass, function (e) {\n          e.preventDefault();\n          e.stopPropagation();\n          _this._handleTabChange($(this));\n        });\n      }\n\n      /**\n       * Adds keyboard event handlers for items within the tabs.\n       * @private\n       */\n\n    }, {\n      key: '_addKeyHandler',\n      value: function _addKeyHandler() {\n        var _this = this;\n\n        this.$tabTitles.off('keydown.zf.tabs').on('keydown.zf.tabs', function (e) {\n          if (e.which === 9) return;\n\n          var $element = $(this),\n              $elements = $element.parent('ul').children('li'),\n              $prevElement,\n              $nextElement;\n\n          $elements.each(function (i) {\n            if ($(this).is($element)) {\n              if (_this.options.wrapOnKeys) {\n                $prevElement = i === 0 ? $elements.last() : $elements.eq(i - 1);\n                $nextElement = i === $elements.length - 1 ? $elements.first() : $elements.eq(i + 1);\n              } else {\n                $prevElement = $elements.eq(Math.max(0, i - 1));\n                $nextElement = $elements.eq(Math.min(i + 1, $elements.length - 1));\n              }\n              return;\n            }\n          });\n\n          // handle keyboard event with keyboard util\n          Foundation.Keyboard.handleKey(e, 'Tabs', {\n            open: function open() {\n              $element.find('[role=\"tab\"]').focus();\n              _this._handleTabChange($element);\n            },\n            previous: function previous() {\n              $prevElement.find('[role=\"tab\"]').focus();\n              _this._handleTabChange($prevElement);\n            },\n            next: function next() {\n              $nextElement.find('[role=\"tab\"]').focus();\n              _this._handleTabChange($nextElement);\n            },\n            handled: function handled() {\n              e.stopPropagation();\n              e.preventDefault();\n            }\n          });\n        });\n      }\n\n      /**\n       * Opens the tab `$targetContent` defined by `$target`. Collapses active tab.\n       * @param {jQuery} $target - Tab to open.\n       * @param {boolean} historyHandled - browser has already handled a history update\n       * @fires Tabs#change\n       * @function\n       */\n\n    }, {\n      key: '_handleTabChange',\n      value: function _handleTabChange($target, historyHandled) {\n\n        /**\n         * Check for active class on target. Collapse if exists.\n         */\n        if ($target.hasClass('' + this.options.linkActiveClass)) {\n          if (this.options.activeCollapse) {\n            this._collapseTab($target);\n\n            /**\n             * Fires when the zplugin has successfully collapsed tabs.\n             * @event Tabs#collapse\n             */\n            this.$element.trigger('collapse.zf.tabs', [$target]);\n          }\n          return;\n        }\n\n        var $oldTab = this.$element.find('.' + this.options.linkClass + '.' + this.options.linkActiveClass),\n            $tabLink = $target.find('[role=\"tab\"]'),\n            hash = $tabLink[0].hash,\n            $targetContent = this.$tabContent.find(hash);\n\n        //close old tab\n        this._collapseTab($oldTab);\n\n        //open new tab\n        this._openTab($target);\n\n        //either replace or update browser history\n        if (this.options.deepLink && !historyHandled) {\n          var anchor = $target.find('a').attr('href');\n\n          if (this.options.updateHistory) {\n            history.pushState({}, '', anchor);\n          } else {\n            history.replaceState({}, '', anchor);\n          }\n        }\n\n        /**\n         * Fires when the plugin has successfully changed tabs.\n         * @event Tabs#change\n         */\n        this.$element.trigger('change.zf.tabs', [$target, $targetContent]);\n\n        //fire to children a mutation event\n        $targetContent.find(\"[data-mutate]\").trigger(\"mutateme.zf.trigger\");\n      }\n\n      /**\n       * Opens the tab `$targetContent` defined by `$target`.\n       * @param {jQuery} $target - Tab to Open.\n       * @function\n       */\n\n    }, {\n      key: '_openTab',\n      value: function _openTab($target) {\n        var $tabLink = $target.find('[role=\"tab\"]'),\n            hash = $tabLink[0].hash,\n            $targetContent = this.$tabContent.find(hash);\n\n        $target.addClass('' + this.options.linkActiveClass);\n\n        $tabLink.attr({ 'aria-selected': 'true' });\n\n        $targetContent.addClass('' + this.options.panelActiveClass).attr({ 'aria-hidden': 'false' });\n      }\n\n      /**\n       * Collapses `$targetContent` defined by `$target`.\n       * @param {jQuery} $target - Tab to Open.\n       * @function\n       */\n\n    }, {\n      key: '_collapseTab',\n      value: function _collapseTab($target) {\n        var $target_anchor = $target.removeClass('' + this.options.linkActiveClass).find('[role=\"tab\"]').attr({ 'aria-selected': 'false' });\n\n        $('#' + $target_anchor.attr('aria-controls')).removeClass('' + this.options.panelActiveClass).attr({ 'aria-hidden': 'true' });\n      }\n\n      /**\n       * Public method for selecting a content pane to display.\n       * @param {jQuery | String} elem - jQuery object or string of the id of the pane to display.\n       * @param {boolean} historyHandled - browser has already handled a history update\n       * @function\n       */\n\n    }, {\n      key: 'selectTab',\n      value: function selectTab(elem, historyHandled) {\n        var idStr;\n\n        if ((typeof elem === 'undefined' ? 'undefined' : _typeof(elem)) === 'object') {\n          idStr = elem[0].id;\n        } else {\n          idStr = elem;\n        }\n\n        if (idStr.indexOf('#') < 0) {\n          idStr = '#' + idStr;\n        }\n\n        var $target = this.$tabTitles.find('[href$=\"' + idStr + '\"]').parent('.' + this.options.linkClass);\n\n        this._handleTabChange($target, historyHandled);\n      }\n    }, {\n      key: '_setHeight',\n\n      /**\n       * Sets the height of each panel to the height of the tallest panel.\n       * If enabled in options, gets called on media query change.\n       * If loading content via external source, can be called directly or with _reflow.\n       * If enabled with `data-match-height=\"true\"`, tabs sets to equal height\n       * @function\n       * @private\n       */\n      value: function _setHeight() {\n        var max = 0,\n            _this = this; // Lock down the `this` value for the root tabs object\n\n        this.$tabContent.find('.' + this.options.panelClass).css('height', '').each(function () {\n\n          var panel = $(this),\n              isActive = panel.hasClass('' + _this.options.panelActiveClass); // get the options from the parent instead of trying to get them from the child\n\n          if (!isActive) {\n            panel.css({ 'visibility': 'hidden', 'display': 'block' });\n          }\n\n          var temp = this.getBoundingClientRect().height;\n\n          if (!isActive) {\n            panel.css({\n              'visibility': '',\n              'display': ''\n            });\n          }\n\n          max = temp > max ? temp : max;\n        }).css('height', max + 'px');\n      }\n\n      /**\n       * Destroys an instance of an tabs.\n       * @fires Tabs#destroyed\n       */\n\n    }, {\n      key: 'destroy',\n      value: function destroy() {\n        this.$element.find('.' + this.options.linkClass).off('.zf.tabs').hide().end().find('.' + this.options.panelClass).hide();\n\n        if (this.options.matchHeight) {\n          if (this._setHeightMqHandler != null) {\n            $(window).off('changed.zf.mediaquery', this._setHeightMqHandler);\n          }\n        }\n\n        if (this.options.deepLink) {\n          $(window).off('popstate', this._checkDeepLink);\n        }\n\n        Foundation.unregisterPlugin(this);\n      }\n    }]);\n\n    return Tabs;\n  }();\n\n  Tabs.defaults = {\n    /**\n     * Allows the window to scroll to content of pane specified by hash anchor\n     * @option\n     * @type {boolean}\n     * @default false\n     */\n    deepLink: false,\n\n    /**\n     * Adjust the deep link scroll to make sure the top of the tab panel is visible\n     * @option\n     * @type {boolean}\n     * @default false\n     */\n    deepLinkSmudge: false,\n\n    /**\n     * Animation time (ms) for the deep link adjustment\n     * @option\n     * @type {number}\n     * @default 300\n     */\n    deepLinkSmudgeDelay: 300,\n\n    /**\n     * Update the browser history with the open tab\n     * @option\n     * @type {boolean}\n     * @default false\n     */\n    updateHistory: false,\n\n    /**\n     * Allows the window to scroll to content of active pane on load if set to true.\n     * Not recommended if more than one tab panel per page.\n     * @option\n     * @type {boolean}\n     * @default false\n     */\n    autoFocus: false,\n\n    /**\n     * Allows keyboard input to 'wrap' around the tab links.\n     * @option\n     * @type {boolean}\n     * @default true\n     */\n    wrapOnKeys: true,\n\n    /**\n     * Allows the tab content panes to match heights if set to true.\n     * @option\n     * @type {boolean}\n     * @default false\n     */\n    matchHeight: false,\n\n    /**\n     * Allows active tabs to collapse when clicked.\n     * @option\n     * @type {boolean}\n     * @default false\n     */\n    activeCollapse: false,\n\n    /**\n     * Class applied to `li`'s in tab link list.\n     * @option\n     * @type {string}\n     * @default 'tabs-title'\n     */\n    linkClass: 'tabs-title',\n\n    /**\n     * Class applied to the active `li` in tab link list.\n     * @option\n     * @type {string}\n     * @default 'is-active'\n     */\n    linkActiveClass: 'is-active',\n\n    /**\n     * Class applied to the content containers.\n     * @option\n     * @type {string}\n     * @default 'tabs-panel'\n     */\n    panelClass: 'tabs-panel',\n\n    /**\n     * Class applied to the active content container.\n     * @option\n     * @type {string}\n     * @default 'is-active'\n     */\n    panelActiveClass: 'is-active'\n  };\n\n  // Window exports\n  Foundation.plugin(Tabs, 'Tabs');\n}(jQuery);\n/*!\n* MediaElement.js\n* HTML5 <video> and <audio> shim and player\n* http://mediaelementjs.com/\n*\n* Creates a JavaScript object that mimics HTML5 MediaElement API\n* for browsers that don't understand HTML5 or can't play the provided codec\n* Can play MP4 (H.264), Ogg, WebM, FLV, WMV, WMA, ACC, and MP3\n*\n* Copyright 2010-2014, John Dyer (http://j.hn)\n* License: MIT\n*\n*/var mejs = mejs || {};mejs.version = \"2.15.0\";mejs.meIndex = 0;\nmejs.plugins = { silverlight: [{ version: [3, 0], types: [\"video/mp4\", \"video/m4v\", \"video/mov\", \"video/wmv\", \"audio/wma\", \"audio/m4a\", \"audio/mp3\", \"audio/wav\", \"audio/mpeg\"] }], flash: [{ version: [9, 0, 124], types: [\"video/mp4\", \"video/m4v\", \"video/mov\", \"video/flv\", \"video/rtmp\", \"video/x-flv\", \"audio/flv\", \"audio/x-flv\", \"audio/mp3\", \"audio/m4a\", \"audio/mpeg\", \"video/youtube\", \"video/x-youtube\", \"application/x-mpegURL\"] }], youtube: [{ version: null, types: [\"video/youtube\", \"video/x-youtube\", \"audio/youtube\", \"audio/x-youtube\"] }], vimeo: [{ version: null,\n    types: [\"video/vimeo\", \"video/x-vimeo\"] }] };\nmejs.Utility = { encodeUrl: function (a) {\n    return encodeURIComponent(a);\n  }, escapeHTML: function (a) {\n    return a.toString().split(\"&\").join(\"&amp;\").split(\"<\").join(\"&lt;\").split('\"').join(\"&quot;\");\n  }, absolutizeUrl: function (a) {\n    var b = document.createElement(\"div\");b.innerHTML = '<a href=\"' + this.escapeHTML(a) + '\">x</a>';return b.firstChild.href;\n  }, getScriptPath: function (a) {\n    for (var b = 0, c, d = \"\", e = \"\", g, f, i = document.getElementsByTagName(\"script\"), k = i.length, h = a.length; b < k; b++) {\n      g = i[b].src;c = g.lastIndexOf(\"/\");if (c > -1) {\n        f = g.substring(c + 1);g = g.substring(0, c + 1);\n      } else {\n        f = g;g = \"\";\n      }for (c = 0; c < h; c++) {\n        e = a[c];e = f.indexOf(e);if (e > -1) {\n          d = g;break;\n        }\n      }if (d !== \"\") break;\n    }return d;\n  }, secondsToTimeCode: function (a, b, c, d) {\n    if (typeof c == \"undefined\") c = false;else if (typeof d == \"undefined\") d = 25;var e = Math.floor(a / 3600) % 24,\n        g = Math.floor(a / 60) % 60,\n        f = Math.floor(a % 60);a = Math.floor((a % 1 * d).toFixed(3));return (b || e > 0 ? (e < 10 ? \"0\" + e : e) + \":\" : \"\") + (g < 10 ? \"0\" + g : g) + \":\" + (f < 10 ? \"0\" + f : f) + (c ? \":\" + (a < 10 ? \"0\" + a : a) : \"\");\n  }, timeCodeToSeconds: function (a, b, c, d) {\n    if (typeof c == \"undefined\") c = false;else if (typeof d == \"undefined\") d = 25;a = a.split(\":\");b = parseInt(a[0], 10);var e = parseInt(a[1], 10),\n        g = parseInt(a[2], 10),\n        f = 0,\n        i = 0;if (c) f = parseInt(a[3]) / d;return i = b * 3600 + e * 60 + g + f;\n  }, convertSMPTEtoSeconds: function (a) {\n    if (typeof a != \"string\") return false;a = a.replace(\",\", \".\");var b = 0,\n        c = a.indexOf(\".\") != -1 ? a.split(\".\")[1].length : 0,\n        d = 1;a = a.split(\":\").reverse();for (var e = 0; e < a.length; e++) {\n      d = 1;if (e > 0) d = Math.pow(60, e);b += Number(a[e]) * d;\n    }return Number(b.toFixed(c));\n  }, removeSwf: function (a) {\n    var b = document.getElementById(a);if (b && /object|embed/i.test(b.nodeName)) if (mejs.MediaFeatures.isIE) {\n      b.style.display = \"none\";(function () {\n        b.readyState == 4 ? mejs.Utility.removeObjectInIE(a) : setTimeout(arguments.callee, 10);\n      })();\n    } else b.parentNode.removeChild(b);\n  }, removeObjectInIE: function (a) {\n    if (a = document.getElementById(a)) {\n      for (var b in a) if (typeof a[b] == \"function\") a[b] = null;a.parentNode.removeChild(a);\n    }\n  } };\nmejs.PluginDetector = { hasPluginVersion: function (a, b) {\n    var c = this.plugins[a];b[1] = b[1] || 0;b[2] = b[2] || 0;return c[0] > b[0] || c[0] == b[0] && c[1] > b[1] || c[0] == b[0] && c[1] == b[1] && c[2] >= b[2] ? true : false;\n  }, nav: window.navigator, ua: window.navigator.userAgent.toLowerCase(), plugins: [], addPlugin: function (a, b, c, d, e) {\n    this.plugins[a] = this.detectPlugin(b, c, d, e);\n  }, detectPlugin: function (a, b, c, d) {\n    var e = [0, 0, 0],\n        g;if (typeof this.nav.plugins != \"undefined\" && typeof this.nav.plugins[a] == \"object\") {\n      if ((c = this.nav.plugins[a].description) && !(typeof this.nav.mimeTypes != \"undefined\" && this.nav.mimeTypes[b] && !this.nav.mimeTypes[b].enabledPlugin)) {\n        e = c.replace(a, \"\").replace(/^\\s+/, \"\").replace(/\\sr/gi, \".\").split(\".\");for (a = 0; a < e.length; a++) e[a] = parseInt(e[a].match(/\\d+/), 10);\n      }\n    } else if (typeof window.ActiveXObject != \"undefined\") try {\n      if (g = new ActiveXObject(c)) e = d(g);\n    } catch (f) {}return e;\n  } };\nmejs.PluginDetector.addPlugin(\"flash\", \"Shockwave Flash\", \"application/x-shockwave-flash\", \"ShockwaveFlash.ShockwaveFlash\", function (a) {\n  var b = [];if (a = a.GetVariable(\"$version\")) {\n    a = a.split(\" \")[1].split(\",\");b = [parseInt(a[0], 10), parseInt(a[1], 10), parseInt(a[2], 10)];\n  }return b;\n});\nmejs.PluginDetector.addPlugin(\"silverlight\", \"Silverlight Plug-In\", \"application/x-silverlight-2\", \"AgControl.AgControl\", function (a) {\n  var b = [0, 0, 0, 0],\n      c = function (d, e, g, f) {\n    for (; d.isVersionSupported(e[0] + \".\" + e[1] + \".\" + e[2] + \".\" + e[3]);) e[g] += f;e[g] -= f;\n  };c(a, b, 0, 1);c(a, b, 1, 1);c(a, b, 2, 1E4);c(a, b, 2, 1E3);c(a, b, 2, 100);c(a, b, 2, 10);c(a, b, 2, 1);c(a, b, 3, 1);return b;\n});\nmejs.MediaFeatures = { init: function () {\n    var a = this,\n        b = document,\n        c = mejs.PluginDetector.nav,\n        d = mejs.PluginDetector.ua.toLowerCase(),\n        e,\n        g = [\"source\", \"track\", \"audio\", \"video\"];a.isiPad = d.match(/ipad/i) !== null;a.isiPhone = d.match(/iphone/i) !== null;a.isiOS = a.isiPhone || a.isiPad;a.isAndroid = d.match(/android/i) !== null;a.isBustedAndroid = d.match(/android 2\\.[12]/) !== null;a.isBustedNativeHTTPS = location.protocol === \"https:\" && (d.match(/android [12]\\./) !== null || d.match(/macintosh.* version.* safari/) !== null);a.isIE = c.appName.toLowerCase().indexOf(\"microsoft\") != -1 || c.appName.toLowerCase().match(/trident/gi) !== null;a.isChrome = d.match(/chrome/gi) !== null;a.isChromium = d.match(/chromium/gi) !== null;a.isFirefox = d.match(/firefox/gi) !== null;a.isWebkit = d.match(/webkit/gi) !== null;a.isGecko = d.match(/gecko/gi) !== null && !a.isWebkit && !a.isIE;a.isOpera = d.match(/opera/gi) !== null;a.hasTouch = \"ontouchstart\" in window;a.svg = !!document.createElementNS && !!document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\").createSVGRect;for (c = 0; c < g.length; c++) e = document.createElement(g[c]);\n    a.supportsMediaTag = typeof e.canPlayType !== \"undefined\" || a.isBustedAndroid;try {\n      e.canPlayType(\"video/mp4\");\n    } catch (f) {\n      a.supportsMediaTag = false;\n    }a.hasSemiNativeFullScreen = typeof e.webkitEnterFullscreen !== \"undefined\";a.hasNativeFullscreen = typeof e.requestFullscreen !== \"undefined\";a.hasWebkitNativeFullScreen = typeof e.webkitRequestFullScreen !== \"undefined\";a.hasMozNativeFullScreen = typeof e.mozRequestFullScreen !== \"undefined\";a.hasMsNativeFullScreen = typeof e.msRequestFullscreen !== \"undefined\";a.hasTrueNativeFullScreen = a.hasWebkitNativeFullScreen || a.hasMozNativeFullScreen || a.hasMsNativeFullScreen;a.nativeFullScreenEnabled = a.hasTrueNativeFullScreen;if (a.hasMozNativeFullScreen) a.nativeFullScreenEnabled = document.mozFullScreenEnabled;else if (a.hasMsNativeFullScreen) a.nativeFullScreenEnabled = document.msFullscreenEnabled;if (a.isChrome) a.hasSemiNativeFullScreen = false;if (a.hasTrueNativeFullScreen) {\n      a.fullScreenEventName = \"\";if (a.hasWebkitNativeFullScreen) a.fullScreenEventName = \"webkitfullscreenchange\";else if (a.hasMozNativeFullScreen) a.fullScreenEventName = \"mozfullscreenchange\";else if (a.hasMsNativeFullScreen) a.fullScreenEventName = \"MSFullscreenChange\";a.isFullScreen = function () {\n        if (a.hasMozNativeFullScreen) return b.mozFullScreen;else if (a.hasWebkitNativeFullScreen) return b.webkitIsFullScreen;else if (a.hasMsNativeFullScreen) return b.msFullscreenElement !== null;\n      };a.requestFullScreen = function (i) {\n        if (a.hasWebkitNativeFullScreen) i.webkitRequestFullScreen();else if (a.hasMozNativeFullScreen) i.mozRequestFullScreen();else a.hasMsNativeFullScreen && i.msRequestFullscreen();\n      };\n      a.cancelFullScreen = function () {\n        if (a.hasWebkitNativeFullScreen) document.webkitCancelFullScreen();else if (a.hasMozNativeFullScreen) document.mozCancelFullScreen();else a.hasMsNativeFullScreen && document.msExitFullscreen();\n      };\n    }if (a.hasSemiNativeFullScreen && d.match(/mac os x 10_5/i)) {\n      a.hasNativeFullScreen = false;a.hasSemiNativeFullScreen = false;\n    }\n  } };mejs.MediaFeatures.init();\nmejs.HtmlMediaElement = { pluginType: \"native\", isFullScreen: false, setCurrentTime: function (a) {\n    this.currentTime = a;\n  }, setMuted: function (a) {\n    this.muted = a;\n  }, setVolume: function (a) {\n    this.volume = a;\n  }, stop: function () {\n    this.pause();\n  }, setSrc: function (a) {\n    for (var b = this.getElementsByTagName(\"source\"); b.length > 0;) this.removeChild(b[0]);if (typeof a == \"string\") this.src = a;else {\n      var c;for (b = 0; b < a.length; b++) {\n        c = a[b];if (this.canPlayType(c.type)) {\n          this.src = c.src;break;\n        }\n      }\n    }\n  }, setVideoSize: function (a, b) {\n    this.width = a;this.height = b;\n  } };\nmejs.PluginMediaElement = function (a, b, c) {\n  this.id = a;this.pluginType = b;this.src = c;this.events = {};this.attributes = {};\n};\nmejs.PluginMediaElement.prototype = { pluginElement: null, pluginType: \"\", isFullScreen: false, playbackRate: -1, defaultPlaybackRate: -1, seekable: [], played: [], paused: true, ended: false, seeking: false, duration: 0, error: null, tagName: \"\", muted: false, volume: 1, currentTime: 0, play: function () {\n    if (this.pluginApi != null) {\n      this.pluginType == \"youtube\" || this.pluginType == \"vimeo\" ? this.pluginApi.playVideo() : this.pluginApi.playMedia();this.paused = false;\n    }\n  }, load: function () {\n    if (this.pluginApi != null) {\n      this.pluginType == \"youtube\" || this.pluginType == \"vimeo\" || this.pluginApi.loadMedia();this.paused = false;\n    }\n  }, pause: function () {\n    if (this.pluginApi != null) {\n      this.pluginType == \"youtube\" || this.pluginType == \"vimeo\" ? this.pluginApi.pauseVideo() : this.pluginApi.pauseMedia();this.paused = true;\n    }\n  }, stop: function () {\n    if (this.pluginApi != null) {\n      this.pluginType == \"youtube\" || this.pluginType == \"vimeo\" ? this.pluginApi.stopVideo() : this.pluginApi.stopMedia();this.paused = true;\n    }\n  }, canPlayType: function (a) {\n    var b,\n        c,\n        d,\n        e = mejs.plugins[this.pluginType];for (b = 0; b < e.length; b++) {\n      d = e[b];if (mejs.PluginDetector.hasPluginVersion(this.pluginType, d.version)) for (c = 0; c < d.types.length; c++) if (a == d.types[c]) return \"probably\";\n    }return \"\";\n  }, positionFullscreenButton: function (a, b, c) {\n    this.pluginApi != null && this.pluginApi.positionFullscreenButton && this.pluginApi.positionFullscreenButton(Math.floor(a), Math.floor(b), c);\n  }, hideFullscreenButton: function () {\n    this.pluginApi != null && this.pluginApi.hideFullscreenButton && this.pluginApi.hideFullscreenButton();\n  }, setSrc: function (a) {\n    if (typeof a == \"string\") {\n      this.pluginApi.setSrc(mejs.Utility.absolutizeUrl(a));this.src = mejs.Utility.absolutizeUrl(a);\n    } else {\n      var b, c;for (b = 0; b < a.length; b++) {\n        c = a[b];if (this.canPlayType(c.type)) {\n          this.pluginApi.setSrc(mejs.Utility.absolutizeUrl(c.src));this.src = mejs.Utility.absolutizeUrl(a);break;\n        }\n      }\n    }\n  }, setCurrentTime: function (a) {\n    if (this.pluginApi != null) {\n      this.pluginType == \"youtube\" || this.pluginType == \"vimeo\" ? this.pluginApi.seekTo(a) : this.pluginApi.setCurrentTime(a);this.currentTime = a;\n    }\n  }, setVolume: function (a) {\n    if (this.pluginApi != null) {\n      this.pluginType == \"youtube\" ? this.pluginApi.setVolume(a * 100) : this.pluginApi.setVolume(a);this.volume = a;\n    }\n  },\n  setMuted: function (a) {\n    if (this.pluginApi != null) {\n      if (this.pluginType == \"youtube\") {\n        a ? this.pluginApi.mute() : this.pluginApi.unMute();this.muted = a;this.dispatchEvent(\"volumechange\");\n      } else this.pluginApi.setMuted(a);this.muted = a;\n    }\n  }, setVideoSize: function (a, b) {\n    if (this.pluginElement && this.pluginElement.style) {\n      this.pluginElement.style.width = a + \"px\";this.pluginElement.style.height = b + \"px\";\n    }this.pluginApi != null && this.pluginApi.setVideoSize && this.pluginApi.setVideoSize(a, b);\n  }, setFullscreen: function (a) {\n    this.pluginApi != null && this.pluginApi.setFullscreen && this.pluginApi.setFullscreen(a);\n  }, enterFullScreen: function () {\n    this.pluginApi != null && this.pluginApi.setFullscreen && this.setFullscreen(true);\n  }, exitFullScreen: function () {\n    this.pluginApi != null && this.pluginApi.setFullscreen && this.setFullscreen(false);\n  }, addEventListener: function (a, b) {\n    this.events[a] = this.events[a] || [];this.events[a].push(b);\n  }, removeEventListener: function (a, b) {\n    if (!a) {\n      this.events = {};return true;\n    }var c = this.events[a];if (!c) return true;if (!b) {\n      this.events[a] = [];return true;\n    }for (var d = 0; d < c.length; d++) if (c[d] === b) {\n      this.events[a].splice(d, 1);return true;\n    }return false;\n  }, dispatchEvent: function (a) {\n    var b,\n        c,\n        d = this.events[a];if (d) {\n      c = Array.prototype.slice.call(arguments, 1);for (b = 0; b < d.length; b++) d[b].apply(null, c);\n    }\n  }, hasAttribute: function (a) {\n    return a in this.attributes;\n  }, removeAttribute: function (a) {\n    delete this.attributes[a];\n  }, getAttribute: function (a) {\n    if (this.hasAttribute(a)) return this.attributes[a];return \"\";\n  }, setAttribute: function (a, b) {\n    this.attributes[a] = b;\n  }, remove: function () {\n    mejs.Utility.removeSwf(this.pluginElement.id);\n    mejs.MediaPluginBridge.unregisterPluginElement(this.pluginElement.id);\n  } };\nmejs.MediaPluginBridge = { pluginMediaElements: {}, htmlMediaElements: {}, registerPluginElement: function (a, b, c) {\n    this.pluginMediaElements[a] = b;this.htmlMediaElements[a] = c;\n  }, unregisterPluginElement: function (a) {\n    delete this.pluginMediaElements[a];delete this.htmlMediaElements[a];\n  }, initPlugin: function (a) {\n    var b = this.pluginMediaElements[a],\n        c = this.htmlMediaElements[a];if (b) {\n      switch (b.pluginType) {case \"flash\":\n          b.pluginElement = b.pluginApi = document.getElementById(a);break;case \"silverlight\":\n          b.pluginElement = document.getElementById(b.id);\n          b.pluginApi = b.pluginElement.Content.MediaElementJS;}b.pluginApi != null && b.success && b.success(b, c);\n    }\n  }, fireEvent: function (a, b, c) {\n    var d, e;if (a = this.pluginMediaElements[a]) {\n      b = { type: b, target: a };for (d in c) {\n        a[d] = c[d];b[d] = c[d];\n      }e = c.bufferedTime || 0;b.target.buffered = b.buffered = { start: function () {\n          return 0;\n        }, end: function () {\n          return e;\n        }, length: 1 };a.dispatchEvent(b.type, b);\n    }\n  } };\nmejs.MediaElementDefaults = { mode: \"auto\", plugins: [\"flash\", \"silverlight\", \"youtube\", \"vimeo\"], enablePluginDebug: false, httpsBasicAuthSite: false, type: \"\", pluginPath: mejs.Utility.getScriptPath([\"mediaelement.js\", \"mediaelement.min.js\", \"mediaelement-and-player.js\", \"mediaelement-and-player.min.js\"]), flashName: \"flashmediaelement.swf\", flashStreamer: \"\", enablePluginSmoothing: false, enablePseudoStreaming: false, pseudoStreamingStartQueryParam: \"start\", silverlightName: \"silverlightmediaelement.xap\", defaultVideoWidth: 480,\n  defaultVideoHeight: 270, pluginWidth: -1, pluginHeight: -1, pluginVars: [], timerRate: 250, startVolume: 0.8, success: function () {}, error: function () {} };mejs.MediaElement = function (a, b) {\n  return mejs.HtmlMediaElementShim.create(a, b);\n};\nmejs.HtmlMediaElementShim = { create: function (a, b) {\n    var c = mejs.MediaElementDefaults,\n        d = typeof a == \"string\" ? document.getElementById(a) : a,\n        e = d.tagName.toLowerCase(),\n        g = e === \"audio\" || e === \"video\",\n        f = g ? d.getAttribute(\"src\") : d.getAttribute(\"href\");e = d.getAttribute(\"poster\");var i = d.getAttribute(\"autoplay\"),\n        k = d.getAttribute(\"preload\"),\n        h = d.getAttribute(\"controls\"),\n        j;for (j in b) c[j] = b[j];f = typeof f == \"undefined\" || f === null || f == \"\" ? null : f;e = typeof e == \"undefined\" || e === null ? \"\" : e;k = typeof k == \"undefined\" || k === null || k === \"false\" ? \"none\" : k;i = !(typeof i == \"undefined\" || i === null || i === \"false\");h = !(typeof h == \"undefined\" || h === null || h === \"false\");j = this.determinePlayback(d, c, mejs.MediaFeatures.supportsMediaTag, g, f);j.url = j.url !== null ? mejs.Utility.absolutizeUrl(j.url) : \"\";if (j.method == \"native\") {\n      if (mejs.MediaFeatures.isBustedAndroid) {\n        d.src = j.url;d.addEventListener(\"click\", function () {\n          d.play();\n        }, false);\n      }return this.updateNative(j, c, i, k);\n    } else if (j.method !== \"\") return this.createPlugin(j, c, e, i, k, h);else {\n      this.createErrorMessage(j, c, e);return this;\n    }\n  },\n  determinePlayback: function (a, b, c, d, e) {\n    var g = [],\n        f,\n        i,\n        k,\n        h = { method: \"\", url: \"\", htmlMediaElement: a, isVideo: a.tagName.toLowerCase() != \"audio\" },\n        j;if (typeof b.type != \"undefined\" && b.type !== \"\") {\n      if (typeof b.type == \"string\") g.push({ type: b.type, url: e });else for (f = 0; f < b.type.length; f++) g.push({ type: b.type[f], url: e });\n    } else if (e !== null) {\n      k = this.formatType(e, a.getAttribute(\"type\"));g.push({ type: k, url: e });\n    } else for (f = 0; f < a.childNodes.length; f++) {\n      i = a.childNodes[f];if (i.nodeType == 1 && i.tagName.toLowerCase() == \"source\") {\n        e = i.getAttribute(\"src\");\n        k = this.formatType(e, i.getAttribute(\"type\"));i = i.getAttribute(\"media\");if (!i || !window.matchMedia || window.matchMedia && window.matchMedia(i).matches) g.push({ type: k, url: e });\n      }\n    }if (!d && g.length > 0 && g[0].url !== null && this.getTypeFromFile(g[0].url).indexOf(\"audio\") > -1) h.isVideo = false;if (mejs.MediaFeatures.isBustedAndroid) a.canPlayType = function (m) {\n      return m.match(/video\\/(mp4|m4v)/gi) !== null ? \"maybe\" : \"\";\n    };if (mejs.MediaFeatures.isChromium) a.canPlayType = function (m) {\n      return m.match(/video\\/(webm|ogv|ogg)/gi) !== null ? \"maybe\" : \"\";\n    };if (c && (b.mode === \"auto\" || b.mode === \"auto_plugin\" || b.mode === \"native\") && !(mejs.MediaFeatures.isBustedNativeHTTPS && b.httpsBasicAuthSite === true)) {\n      if (!d) {\n        f = document.createElement(h.isVideo ? \"video\" : \"audio\");a.parentNode.insertBefore(f, a);a.style.display = \"none\";h.htmlMediaElement = a = f;\n      }for (f = 0; f < g.length; f++) if (g[f].type == \"video/m3u8\" || a.canPlayType(g[f].type).replace(/no/, \"\") !== \"\" || a.canPlayType(g[f].type.replace(/mp3/, \"mpeg\")).replace(/no/, \"\") !== \"\" || a.canPlayType(g[f].type.replace(/m4a/, \"mp4\")).replace(/no/, \"\") !== \"\") {\n        h.method = \"native\";h.url = g[f].url;break;\n      }if (h.method === \"native\") {\n        if (h.url !== null) a.src = h.url;if (b.mode !== \"auto_plugin\") return h;\n      }\n    }if (b.mode === \"auto\" || b.mode === \"auto_plugin\" || b.mode === \"shim\") for (f = 0; f < g.length; f++) {\n      k = g[f].type;for (a = 0; a < b.plugins.length; a++) {\n        e = b.plugins[a];i = mejs.plugins[e];for (c = 0; c < i.length; c++) {\n          j = i[c];if (j.version == null || mejs.PluginDetector.hasPluginVersion(e, j.version)) for (d = 0; d < j.types.length; d++) if (k == j.types[d]) {\n            h.method = e;h.url = g[f].url;return h;\n          }\n        }\n      }\n    }if (b.mode === \"auto_plugin\" && h.method === \"native\") return h;if (h.method === \"\" && g.length > 0) h.url = g[0].url;return h;\n  }, formatType: function (a, b) {\n    return a && !b ? this.getTypeFromFile(a) : b && ~b.indexOf(\";\") ? b.substr(0, b.indexOf(\";\")) : b;\n  }, getTypeFromFile: function (a) {\n    a = a.split(\"?\")[0];a = a.substring(a.lastIndexOf(\".\") + 1).toLowerCase();return (/(mp4|m4v|ogg|ogv|m3u8|webm|webmv|flv|wmv|mpeg|mov)/gi.test(a) ? \"video\" : \"audio\") + \"/\" + this.getTypeFromExtension(a);\n  }, getTypeFromExtension: function (a) {\n    switch (a) {case \"mp4\":case \"m4v\":case \"m4a\":\n        return \"mp4\";case \"webm\":case \"webma\":case \"webmv\":\n        return \"webm\";\n      case \"ogg\":case \"oga\":case \"ogv\":\n        return \"ogg\";default:\n        return a;}\n  }, createErrorMessage: function (a, b, c) {\n    var d = a.htmlMediaElement,\n        e = document.createElement(\"div\");e.className = \"me-cannotplay\";try {\n      e.style.width = d.width + \"px\";e.style.height = d.height + \"px\";\n    } catch (g) {}e.innerHTML = b.customError ? b.customError : c !== \"\" ? '<a href=\"' + a.url + '\"><img src=\"' + c + '\" width=\"100%\" height=\"100%\" /></a>' : '<a href=\"' + a.url + '\"><span>' + mejs.i18n.t(\"Download File\") + \"</span></a>\";d.parentNode.insertBefore(e, d);d.style.display = \"none\";b.error(d);\n  },\n  createPlugin: function (a, b, c, d, e, g) {\n    c = a.htmlMediaElement;var f = 1,\n        i = 1,\n        k = \"me_\" + a.method + \"_\" + mejs.meIndex++,\n        h = new mejs.PluginMediaElement(k, a.method, a.url),\n        j = document.createElement(\"div\"),\n        m;h.tagName = c.tagName;for (m = 0; m < c.attributes.length; m++) {\n      var q = c.attributes[m];q.specified == true && h.setAttribute(q.name, q.value);\n    }for (m = c.parentNode; m !== null && m.tagName.toLowerCase() !== \"body\" && m.parentNode != null;) {\n      if (m.parentNode.tagName.toLowerCase() === \"p\") {\n        m.parentNode.parentNode.insertBefore(m, m.parentNode);break;\n      }m = m.parentNode;\n    }if (a.isVideo) {\n      f = b.pluginWidth > 0 ? b.pluginWidth : b.videoWidth > 0 ? b.videoWidth : c.getAttribute(\"width\") !== null ? c.getAttribute(\"width\") : b.defaultVideoWidth;i = b.pluginHeight > 0 ? b.pluginHeight : b.videoHeight > 0 ? b.videoHeight : c.getAttribute(\"height\") !== null ? c.getAttribute(\"height\") : b.defaultVideoHeight;f = mejs.Utility.encodeUrl(f);i = mejs.Utility.encodeUrl(i);\n    } else if (b.enablePluginDebug) {\n      f = 320;i = 240;\n    }h.success = b.success;mejs.MediaPluginBridge.registerPluginElement(k, h, c);j.className = \"me-plugin\";j.id = k + \"_container\";a.isVideo ? c.parentNode.insertBefore(j, c) : document.body.insertBefore(j, document.body.childNodes[0]);d = [\"id=\" + k, \"isvideo=\" + (a.isVideo ? \"true\" : \"false\"), \"autoplay=\" + (d ? \"true\" : \"false\"), \"preload=\" + e, \"width=\" + f, \"startvolume=\" + b.startVolume, \"timerrate=\" + b.timerRate, \"flashstreamer=\" + b.flashStreamer, \"height=\" + i, \"pseudostreamstart=\" + b.pseudoStreamingStartQueryParam];if (a.url !== null) a.method == \"flash\" ? d.push(\"file=\" + mejs.Utility.encodeUrl(a.url)) : d.push(\"file=\" + a.url);b.enablePluginDebug && d.push(\"debug=true\");\n    b.enablePluginSmoothing && d.push(\"smoothing=true\");b.enablePseudoStreaming && d.push(\"pseudostreaming=true\");g && d.push(\"controls=true\");if (b.pluginVars) d = d.concat(b.pluginVars);switch (a.method) {case \"silverlight\":\n        j.innerHTML = '<object data=\"data:application/x-silverlight-2,\" type=\"application/x-silverlight-2\" id=\"' + k + '\" name=\"' + k + '\" width=\"' + f + '\" height=\"' + i + '\" class=\"mejs-shim\"><param name=\"initParams\" value=\"' + d.join(\",\") + '\" /><param name=\"windowless\" value=\"true\" /><param name=\"background\" value=\"black\" /><param name=\"minRuntimeVersion\" value=\"3.0.0.0\" /><param name=\"autoUpgrade\" value=\"true\" /><param name=\"source\" value=\"' + b.pluginPath + b.silverlightName + '\" /></object>';break;case \"flash\":\n        if (mejs.MediaFeatures.isIE) {\n          a = document.createElement(\"div\");j.appendChild(a);a.outerHTML = '<object classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\" codebase=\"//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab\" id=\"' + k + '\" width=\"' + f + '\" height=\"' + i + '\" class=\"mejs-shim\"><param name=\"movie\" value=\"' + b.pluginPath + b.flashName + \"?x=\" + new Date() + '\" /><param name=\"flashvars\" value=\"' + d.join(\"&amp;\") + '\" /><param name=\"quality\" value=\"high\" /><param name=\"bgcolor\" value=\"#000000\" /><param name=\"wmode\" value=\"transparent\" /><param name=\"allowScriptAccess\" value=\"always\" /><param name=\"allowFullScreen\" value=\"true\" /><param name=\"scale\" value=\"default\" /></object>';\n        } else j.innerHTML = '<embed id=\"' + k + '\" name=\"' + k + '\" play=\"true\" loop=\"false\" quality=\"high\" bgcolor=\"#000000\" wmode=\"transparent\" allowScriptAccess=\"always\" allowFullScreen=\"true\" type=\"application/x-shockwave-flash\" pluginspage=\"//www.macromedia.com/go/getflashplayer\" src=\"' + b.pluginPath + b.flashName + '\" flashvars=\"' + d.join(\"&\") + '\" width=\"' + f + '\" height=\"' + i + '\" scale=\"default\"class=\"mejs-shim\"></embed>';break;case \"youtube\":\n        if (a.url.lastIndexOf(\"youtu.be\") != -1) {\n          a = a.url.substr(a.url.lastIndexOf(\"/\") + 1);if (a.indexOf(\"?\") != -1) a = a.substr(0, a.indexOf(\"?\"));\n        } else a = a.url.substr(a.url.lastIndexOf(\"=\") + 1);youtubeSettings = { container: j, containerId: j.id, pluginMediaElement: h, pluginId: k, videoId: a, height: i, width: f };mejs.PluginDetector.hasPluginVersion(\"flash\", [10, 0, 0]) ? mejs.YouTubeApi.createFlash(youtubeSettings) : mejs.YouTubeApi.enqueueIframe(youtubeSettings);break;case \"vimeo\":\n        b = k + \"_player\";h.vimeoid = a.url.substr(a.url.lastIndexOf(\"/\") + 1);j.innerHTML = '<iframe src=\"//player.vimeo.com/video/' + h.vimeoid + \"?api=1&portrait=0&byline=0&title=0&player_id=\" + b + '\" width=\"' + f + '\" height=\"' + i + '\" frameborder=\"0\" class=\"mejs-shim\" id=\"' + b + '\"></iframe>';if (typeof $f == \"function\") {\n          var l = $f(j.childNodes[0]);l.addEvent(\"ready\", function () {\n            function o(n, p, r, s) {\n              n = { type: r, target: p };if (r == \"timeupdate\") {\n                p.currentTime = n.currentTime = s.seconds;p.duration = n.duration = s.duration;\n              }p.dispatchEvent(n.type, n);\n            }$.extend(l, { playVideo: function () {\n                l.api(\"play\");\n              }, stopVideo: function () {\n                l.api(\"unload\");\n              }, pauseVideo: function () {\n                l.api(\"pause\");\n              }, seekTo: function (n) {\n                l.api(\"seekTo\", n);\n              }, setVolume: function (n) {\n                l.api(\"setVolume\", n);\n              }, setMuted: function (n) {\n                if (n) {\n                  l.lastVolume = l.api(\"getVolume\");l.api(\"setVolume\", 0);\n                } else {\n                  l.api(\"setVolume\", l.lastVolume);delete l.lastVolume;\n                }\n              } });l.addEvent(\"play\", function () {\n              o(l, h, \"play\");o(l, h, \"playing\");\n            });l.addEvent(\"pause\", function () {\n              o(l, h, \"pause\");\n            });l.addEvent(\"finish\", function () {\n              o(l, h, \"ended\");\n            });l.addEvent(\"playProgress\", function (n) {\n              o(l, h, \"timeupdate\", n);\n            });h.pluginElement = j;h.pluginApi = l;mejs.MediaPluginBridge.initPlugin(k);\n          });\n        } else console.warn(\"You need to include froogaloop for vimeo to work\");}c.style.display = \"none\";c.removeAttribute(\"autoplay\");return h;\n  }, updateNative: function (a, b) {\n    var c = a.htmlMediaElement,\n        d;for (d in mejs.HtmlMediaElement) c[d] = mejs.HtmlMediaElement[d];b.success(c, c);return c;\n  } };\nmejs.YouTubeApi = { isIframeStarted: false, isIframeLoaded: false, loadIframeApi: function () {\n    if (!this.isIframeStarted) {\n      var a = document.createElement(\"script\");a.src = \"//www.youtube.com/player_api\";var b = document.getElementsByTagName(\"script\")[0];b.parentNode.insertBefore(a, b);this.isIframeStarted = true;\n    }\n  }, iframeQueue: [], enqueueIframe: function (a) {\n    if (this.isLoaded) this.createIframe(a);else {\n      this.loadIframeApi();this.iframeQueue.push(a);\n    }\n  }, createIframe: function (a) {\n    var b = a.pluginMediaElement,\n        c = new YT.Player(a.containerId, { height: a.height, width: a.width, videoId: a.videoId, playerVars: { controls: 0 }, events: { onReady: function () {\n          a.pluginMediaElement.pluginApi = c;mejs.MediaPluginBridge.initPlugin(a.pluginId);setInterval(function () {\n            mejs.YouTubeApi.createEvent(c, b, \"timeupdate\");\n          }, 250);\n        }, onStateChange: function (d) {\n          mejs.YouTubeApi.handleStateChange(d.data, c, b);\n        } } });\n  }, createEvent: function (a, b, c) {\n    c = { type: c, target: b };if (a && a.getDuration) {\n      b.currentTime = c.currentTime = a.getCurrentTime();b.duration = c.duration = a.getDuration();c.paused = b.paused;\n      c.ended = b.ended;c.muted = a.isMuted();c.volume = a.getVolume() / 100;c.bytesTotal = a.getVideoBytesTotal();c.bufferedBytes = a.getVideoBytesLoaded();var d = c.bufferedBytes / c.bytesTotal * c.duration;c.target.buffered = c.buffered = { start: function () {\n          return 0;\n        }, end: function () {\n          return d;\n        }, length: 1 };\n    }b.dispatchEvent(c.type, c);\n  }, iFrameReady: function () {\n    for (this.isIframeLoaded = this.isLoaded = true; this.iframeQueue.length > 0;) this.createIframe(this.iframeQueue.pop());\n  }, flashPlayers: {}, createFlash: function (a) {\n    this.flashPlayers[a.pluginId] = a;var b,\n        c = \"//www.youtube.com/apiplayer?enablejsapi=1&amp;playerapiid=\" + a.pluginId + \"&amp;version=3&amp;autoplay=0&amp;controls=0&amp;modestbranding=1&loop=0\";if (mejs.MediaFeatures.isIE) {\n      b = document.createElement(\"div\");a.container.appendChild(b);b.outerHTML = '<object classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\" codebase=\"//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab\" id=\"' + a.pluginId + '\" width=\"' + a.width + '\" height=\"' + a.height + '\" class=\"mejs-shim\"><param name=\"movie\" value=\"' + c + '\" /><param name=\"wmode\" value=\"transparent\" /><param name=\"allowScriptAccess\" value=\"always\" /><param name=\"allowFullScreen\" value=\"true\" /></object>';\n    } else a.container.innerHTML = '<object type=\"application/x-shockwave-flash\" id=\"' + a.pluginId + '\" data=\"' + c + '\" width=\"' + a.width + '\" height=\"' + a.height + '\" style=\"visibility: visible; \" class=\"mejs-shim\"><param name=\"allowScriptAccess\" value=\"always\"><param name=\"wmode\" value=\"transparent\"></object>';\n  }, flashReady: function (a) {\n    var b = this.flashPlayers[a],\n        c = document.getElementById(a),\n        d = b.pluginMediaElement;d.pluginApi = d.pluginElement = c;mejs.MediaPluginBridge.initPlugin(a);c.cueVideoById(b.videoId);a = b.containerId + \"_callback\";window[a] = function (e) {\n      mejs.YouTubeApi.handleStateChange(e, c, d);\n    };c.addEventListener(\"onStateChange\", a);setInterval(function () {\n      mejs.YouTubeApi.createEvent(c, d, \"timeupdate\");\n    }, 250);mejs.YouTubeApi.createEvent(c, d, \"canplay\");\n  }, handleStateChange: function (a, b, c) {\n    switch (a) {case -1:\n        c.paused = true;c.ended = true;mejs.YouTubeApi.createEvent(b, c, \"loadedmetadata\");break;case 0:\n        c.paused = false;c.ended = true;mejs.YouTubeApi.createEvent(b, c, \"ended\");break;case 1:\n        c.paused = false;c.ended = false;mejs.YouTubeApi.createEvent(b, c, \"play\");mejs.YouTubeApi.createEvent(b, c, \"playing\");break;case 2:\n        c.paused = true;c.ended = false;mejs.YouTubeApi.createEvent(b, c, \"pause\");break;case 3:\n        mejs.YouTubeApi.createEvent(b, c, \"progress\");}\n  } };function onYouTubePlayerAPIReady() {\n  mejs.YouTubeApi.iFrameReady();\n}function onYouTubePlayerReady(a) {\n  mejs.YouTubeApi.flashReady(a);\n}\nwindow.mejs = mejs;window.MediaElement = mejs.MediaElement;\n(function (a, b) {\n  var c = { locale: { language: \"\", strings: {} }, methods: {} };c.getLanguage = function () {\n    return (c.locale.language || window.navigator.userLanguage || window.navigator.language).substr(0, 2).toLowerCase();\n  };if (typeof mejsL10n != \"undefined\") c.locale.language = mejsL10n.language;c.methods.checkPlain = function (d) {\n    var e,\n        g,\n        f = { \"&\": \"&amp;\", '\"': \"&quot;\", \"<\": \"&lt;\", \">\": \"&gt;\" };d = String(d);for (e in f) if (f.hasOwnProperty(e)) {\n      g = RegExp(e, \"g\");d = d.replace(g, f[e]);\n    }return d;\n  };c.methods.t = function (d, e) {\n    if (c.locale.strings && c.locale.strings[e.context] && c.locale.strings[e.context][d]) d = c.locale.strings[e.context][d];return c.methods.checkPlain(d);\n  };c.t = function (d, e) {\n    if (typeof d === \"string\" && d.length > 0) {\n      var g = c.getLanguage();e = e || { context: g };return c.methods.t(d, e);\n    } else throw { name: \"InvalidArgumentException\", message: \"First argument is either not a string or empty.\" };\n  };b.i18n = c;\n})(document, mejs);(function (a) {\n  if (typeof mejsL10n != \"undefined\") a[mejsL10n.language] = mejsL10n.strings;\n})(mejs.i18n.locale.strings);\n(function (a) {\n  if (typeof a.de === \"undefined\") a.de = { Fullscreen: \"Vollbild\", \"Go Fullscreen\": \"Vollbild an\", \"Turn off Fullscreen\": \"Vollbild aus\", Close: \"Schlie\\u00dfen\" };\n})(mejs.i18n.locale.strings);(function (a) {\n  if (typeof a.zh === \"undefined\") a.zh = { Fullscreen: \"\\u5168\\u87a2\\u5e55\", \"Go Fullscreen\": \"\\u5168\\u5c4f\\u6a21\\u5f0f\", \"Turn off Fullscreen\": \"\\u9000\\u51fa\\u5168\\u5c4f\\u6a21\\u5f0f\", Close: \"\\u95dc\\u9589\" };\n})(mejs.i18n.locale.strings);\n'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n/*!\n * Flickity PACKAGED v2.1.1\n * Touch, responsive, flickable carousels\n *\n * Licensed GPLv3 for open source use\n * or Flickity Commercial License for commercial use\n *\n * https://flickity.metafizzy.co\n * Copyright 2015-2018 Metafizzy\n */\n\n/**\n * Bridget makes jQuery widgets\n * v2.0.1\n * MIT license\n */\n\n/* jshint browser: true, strict: true, undef: true, unused: true */\n\n(function (window, factory) {\n  // universal module definition\n  /*jshint strict: false */ /* globals define, module, require */\n  if (typeof define == 'function' && define.amd) {\n    // AMD\n    define('jquery-bridget/jquery-bridget', ['jquery'], function (jQuery) {\n      return factory(window, jQuery);\n    });\n  } else if ((typeof module === 'undefined' ? 'undefined' : _typeof(module)) == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory(window, require('jquery'));\n  } else {\n    // browser global\n    window.jQueryBridget = factory(window, window.jQuery);\n  }\n})(window, function factory(window, jQuery) {\n  'use strict';\n\n  // ----- utils ----- //\n\n  var arraySlice = Array.prototype.slice;\n\n  // helper function for logging errors\n  // $.error breaks jQuery chaining\n  var console = window.console;\n  var logError = typeof console == 'undefined' ? function () {} : function (message) {\n    console.error(message);\n  };\n\n  // ----- jQueryBridget ----- //\n\n  function jQueryBridget(namespace, PluginClass, $) {\n    $ = $ || jQuery || window.jQuery;\n    if (!$) {\n      return;\n    }\n\n    // add option method -> $().plugin('option', {...})\n    if (!PluginClass.prototype.option) {\n      // option setter\n      PluginClass.prototype.option = function (opts) {\n        // bail out if not an object\n        if (!$.isPlainObject(opts)) {\n          return;\n        }\n        this.options = $.extend(true, this.options, opts);\n      };\n    }\n\n    // make jQuery plugin\n    $.fn[namespace] = function (arg0 /*, arg1 */) {\n      if (typeof arg0 == 'string') {\n        // method call $().plugin( 'methodName', { options } )\n        // shift arguments by 1\n        var args = arraySlice.call(arguments, 1);\n        return methodCall(this, arg0, args);\n      }\n      // just $().plugin({ options })\n      plainCall(this, arg0);\n      return this;\n    };\n\n    // $().plugin('methodName')\n    function methodCall($elems, methodName, args) {\n      var returnValue;\n      var pluginMethodStr = '$().' + namespace + '(\"' + methodName + '\")';\n\n      $elems.each(function (i, elem) {\n        // get instance\n        var instance = $.data(elem, namespace);\n        if (!instance) {\n          logError(namespace + ' not initialized. Cannot call methods, i.e. ' + pluginMethodStr);\n          return;\n        }\n\n        var method = instance[methodName];\n        if (!method || methodName.charAt(0) == '_') {\n          logError(pluginMethodStr + ' is not a valid method');\n          return;\n        }\n\n        // apply method, get return value\n        var value = method.apply(instance, args);\n        // set return value if value is returned, use only first value\n        returnValue = returnValue === undefined ? value : returnValue;\n      });\n\n      return returnValue !== undefined ? returnValue : $elems;\n    }\n\n    function plainCall($elems, options) {\n      $elems.each(function (i, elem) {\n        var instance = $.data(elem, namespace);\n        if (instance) {\n          // set options & init\n          instance.option(options);\n          instance._init();\n        } else {\n          // initialize new instance\n          instance = new PluginClass(elem, options);\n          $.data(elem, namespace, instance);\n        }\n      });\n    }\n\n    updateJQuery($);\n  }\n\n  // ----- updateJQuery ----- //\n\n  // set $.bridget for v1 backwards compatibility\n  function updateJQuery($) {\n    if (!$ || $ && $.bridget) {\n      return;\n    }\n    $.bridget = jQueryBridget;\n  }\n\n  updateJQuery(jQuery || window.jQuery);\n\n  // -----  ----- //\n\n  return jQueryBridget;\n});\n\n/**\n * EvEmitter v1.1.0\n * Lil' event emitter\n * MIT License\n */\n\n/* jshint unused: true, undef: true, strict: true */\n\n(function (global, factory) {\n  // universal module definition\n  /* jshint strict: false */ /* globals define, module, window */\n  if (typeof define == 'function' && define.amd) {\n    // AMD - RequireJS\n    define('ev-emitter/ev-emitter', factory);\n  } else if ((typeof module === 'undefined' ? 'undefined' : _typeof(module)) == 'object' && module.exports) {\n    // CommonJS - Browserify, Webpack\n    module.exports = factory();\n  } else {\n    // Browser globals\n    global.EvEmitter = factory();\n  }\n})(typeof window != 'undefined' ? window : undefined, function () {\n\n  function EvEmitter() {}\n\n  var proto = EvEmitter.prototype;\n\n  proto.on = function (eventName, listener) {\n    if (!eventName || !listener) {\n      return;\n    }\n    // set events hash\n    var events = this._events = this._events || {};\n    // set listeners array\n    var listeners = events[eventName] = events[eventName] || [];\n    // only add once\n    if (listeners.indexOf(listener) == -1) {\n      listeners.push(listener);\n    }\n\n    return this;\n  };\n\n  proto.once = function (eventName, listener) {\n    if (!eventName || !listener) {\n      return;\n    }\n    // add event\n    this.on(eventName, listener);\n    // set once flag\n    // set onceEvents hash\n    var onceEvents = this._onceEvents = this._onceEvents || {};\n    // set onceListeners object\n    var onceListeners = onceEvents[eventName] = onceEvents[eventName] || {};\n    // set flag\n    onceListeners[listener] = true;\n\n    return this;\n  };\n\n  proto.off = function (eventName, listener) {\n    var listeners = this._events && this._events[eventName];\n    if (!listeners || !listeners.length) {\n      return;\n    }\n    var index = listeners.indexOf(listener);\n    if (index != -1) {\n      listeners.splice(index, 1);\n    }\n\n    return this;\n  };\n\n  proto.emitEvent = function (eventName, args) {\n    var listeners = this._events && this._events[eventName];\n    if (!listeners || !listeners.length) {\n      return;\n    }\n    // copy over to avoid interference if .off() in listener\n    listeners = listeners.slice(0);\n    args = args || [];\n    // once stuff\n    var onceListeners = this._onceEvents && this._onceEvents[eventName];\n\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      var isOnce = onceListeners && onceListeners[listener];\n      if (isOnce) {\n        // remove listener\n        // remove before trigger to prevent recursion\n        this.off(eventName, listener);\n        // unset once flag\n        delete onceListeners[listener];\n      }\n      // trigger listener\n      listener.apply(this, args);\n    }\n\n    return this;\n  };\n\n  proto.allOff = function () {\n    delete this._events;\n    delete this._onceEvents;\n  };\n\n  return EvEmitter;\n});\n\n/*!\n * getSize v2.0.2\n * measure size of elements\n * MIT license\n */\n\n/*jshint browser: true, strict: true, undef: true, unused: true */\n/*global define: false, module: false, console: false */\n\n(function (window, factory) {\n  'use strict';\n\n  if (typeof define == 'function' && define.amd) {\n    // AMD\n    define('get-size/get-size', [], function () {\n      return factory();\n    });\n  } else if ((typeof module === 'undefined' ? 'undefined' : _typeof(module)) == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory();\n  } else {\n    // browser global\n    window.getSize = factory();\n  }\n})(window, function factory() {\n  'use strict';\n\n  // -------------------------- helpers -------------------------- //\n\n  // get a number from a string, not a percentage\n\n  function getStyleSize(value) {\n    var num = parseFloat(value);\n    // not a percent like '100%', and a number\n    var isValid = value.indexOf('%') == -1 && !isNaN(num);\n    return isValid && num;\n  }\n\n  function noop() {}\n\n  var logError = typeof console == 'undefined' ? noop : function (message) {\n    console.error(message);\n  };\n\n  // -------------------------- measurements -------------------------- //\n\n  var measurements = ['paddingLeft', 'paddingRight', 'paddingTop', 'paddingBottom', 'marginLeft', 'marginRight', 'marginTop', 'marginBottom', 'borderLeftWidth', 'borderRightWidth', 'borderTopWidth', 'borderBottomWidth'];\n\n  var measurementsLength = measurements.length;\n\n  function getZeroSize() {\n    var size = {\n      width: 0,\n      height: 0,\n      innerWidth: 0,\n      innerHeight: 0,\n      outerWidth: 0,\n      outerHeight: 0\n    };\n    for (var i = 0; i < measurementsLength; i++) {\n      var measurement = measurements[i];\n      size[measurement] = 0;\n    }\n    return size;\n  }\n\n  // -------------------------- getStyle -------------------------- //\n\n  /**\n   * getStyle, get style of element, check for Firefox bug\n   * https://bugzilla.mozilla.org/show_bug.cgi?id=548397\n   */\n  function getStyle(elem) {\n    var style = getComputedStyle(elem);\n    if (!style) {\n      logError('Style returned ' + style + '. Are you running this code in a hidden iframe on Firefox? ' + 'See http://bit.ly/getsizebug1');\n    }\n    return style;\n  }\n\n  // -------------------------- setup -------------------------- //\n\n  var isSetup = false;\n\n  var isBoxSizeOuter;\n\n  /**\n   * setup\n   * check isBoxSizerOuter\n   * do on first getSize() rather than on page load for Firefox bug\n   */\n  function setup() {\n    // setup once\n    if (isSetup) {\n      return;\n    }\n    isSetup = true;\n\n    // -------------------------- box sizing -------------------------- //\n\n    /**\n     * WebKit measures the outer-width on style.width on border-box elems\n     * IE & Firefox<29 measures the inner-width\n     */\n    var div = document.createElement('div');\n    div.style.width = '200px';\n    div.style.padding = '1px 2px 3px 4px';\n    div.style.borderStyle = 'solid';\n    div.style.borderWidth = '1px 2px 3px 4px';\n    div.style.boxSizing = 'border-box';\n\n    var body = document.body || document.documentElement;\n    body.appendChild(div);\n    var style = getStyle(div);\n\n    getSize.isBoxSizeOuter = isBoxSizeOuter = getStyleSize(style.width) == 200;\n    body.removeChild(div);\n  }\n\n  // -------------------------- getSize -------------------------- //\n\n  function getSize(elem) {\n    setup();\n\n    // use querySeletor if elem is string\n    if (typeof elem == 'string') {\n      elem = document.querySelector(elem);\n    }\n\n    // do not proceed on non-objects\n    if (!elem || (typeof elem === 'undefined' ? 'undefined' : _typeof(elem)) != 'object' || !elem.nodeType) {\n      return;\n    }\n\n    var style = getStyle(elem);\n\n    // if hidden, everything is 0\n    if (style.display == 'none') {\n      return getZeroSize();\n    }\n\n    var size = {};\n    size.width = elem.offsetWidth;\n    size.height = elem.offsetHeight;\n\n    var isBorderBox = size.isBorderBox = style.boxSizing == 'border-box';\n\n    // get all measurements\n    for (var i = 0; i < measurementsLength; i++) {\n      var measurement = measurements[i];\n      var value = style[measurement];\n      var num = parseFloat(value);\n      // any 'auto', 'medium' value will be 0\n      size[measurement] = !isNaN(num) ? num : 0;\n    }\n\n    var paddingWidth = size.paddingLeft + size.paddingRight;\n    var paddingHeight = size.paddingTop + size.paddingBottom;\n    var marginWidth = size.marginLeft + size.marginRight;\n    var marginHeight = size.marginTop + size.marginBottom;\n    var borderWidth = size.borderLeftWidth + size.borderRightWidth;\n    var borderHeight = size.borderTopWidth + size.borderBottomWidth;\n\n    var isBorderBoxSizeOuter = isBorderBox && isBoxSizeOuter;\n\n    // overwrite width and height if we can get it from style\n    var styleWidth = getStyleSize(style.width);\n    if (styleWidth !== false) {\n      size.width = styleWidth + (\n      // add padding and border unless it's already including it\n      isBorderBoxSizeOuter ? 0 : paddingWidth + borderWidth);\n    }\n\n    var styleHeight = getStyleSize(style.height);\n    if (styleHeight !== false) {\n      size.height = styleHeight + (\n      // add padding and border unless it's already including it\n      isBorderBoxSizeOuter ? 0 : paddingHeight + borderHeight);\n    }\n\n    size.innerWidth = size.width - (paddingWidth + borderWidth);\n    size.innerHeight = size.height - (paddingHeight + borderHeight);\n\n    size.outerWidth = size.width + marginWidth;\n    size.outerHeight = size.height + marginHeight;\n\n    return size;\n  }\n\n  return getSize;\n});\n\n/**\n * matchesSelector v2.0.2\n * matchesSelector( element, '.selector' )\n * MIT license\n */\n\n/*jshint browser: true, strict: true, undef: true, unused: true */\n\n(function (window, factory) {\n  /*global define: false, module: false */\n  'use strict';\n  // universal module definition\n\n  if (typeof define == 'function' && define.amd) {\n    // AMD\n    define('desandro-matches-selector/matches-selector', factory);\n  } else if ((typeof module === 'undefined' ? 'undefined' : _typeof(module)) == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory();\n  } else {\n    // browser global\n    window.matchesSelector = factory();\n  }\n})(window, function factory() {\n  'use strict';\n\n  var matchesMethod = function () {\n    var ElemProto = window.Element.prototype;\n    // check for the standard method name first\n    if (ElemProto.matches) {\n      return 'matches';\n    }\n    // check un-prefixed\n    if (ElemProto.matchesSelector) {\n      return 'matchesSelector';\n    }\n    // check vendor prefixes\n    var prefixes = ['webkit', 'moz', 'ms', 'o'];\n\n    for (var i = 0; i < prefixes.length; i++) {\n      var prefix = prefixes[i];\n      var method = prefix + 'MatchesSelector';\n      if (ElemProto[method]) {\n        return method;\n      }\n    }\n  }();\n\n  return function matchesSelector(elem, selector) {\n    return elem[matchesMethod](selector);\n  };\n});\n\n/**\n * Fizzy UI utils v2.0.7\n * MIT license\n */\n\n/*jshint browser: true, undef: true, unused: true, strict: true */\n\n(function (window, factory) {\n  // universal module definition\n  /*jshint strict: false */ /*globals define, module, require */\n\n  if (typeof define == 'function' && define.amd) {\n    // AMD\n    define('fizzy-ui-utils/utils', ['desandro-matches-selector/matches-selector'], function (matchesSelector) {\n      return factory(window, matchesSelector);\n    });\n  } else if ((typeof module === 'undefined' ? 'undefined' : _typeof(module)) == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory(window, require('desandro-matches-selector'));\n  } else {\n    // browser global\n    window.fizzyUIUtils = factory(window, window.matchesSelector);\n  }\n})(window, function factory(window, matchesSelector) {\n\n  var utils = {};\n\n  // ----- extend ----- //\n\n  // extends objects\n  utils.extend = function (a, b) {\n    for (var prop in b) {\n      a[prop] = b[prop];\n    }\n    return a;\n  };\n\n  // ----- modulo ----- //\n\n  utils.modulo = function (num, div) {\n    return (num % div + div) % div;\n  };\n\n  // ----- makeArray ----- //\n\n  var arraySlice = Array.prototype.slice;\n\n  // turn element or nodeList into an array\n  utils.makeArray = function (obj) {\n    if (Array.isArray(obj)) {\n      // use object if already an array\n      return obj;\n    }\n    // return empty array if undefined or null. #6\n    if (obj === null || obj === undefined) {\n      return [];\n    }\n\n    var isArrayLike = (typeof obj === 'undefined' ? 'undefined' : _typeof(obj)) == 'object' && typeof obj.length == 'number';\n    if (isArrayLike) {\n      // convert nodeList to array\n      return arraySlice.call(obj);\n    }\n\n    // array of single index\n    return [obj];\n  };\n\n  // ----- removeFrom ----- //\n\n  utils.removeFrom = function (ary, obj) {\n    var index = ary.indexOf(obj);\n    if (index != -1) {\n      ary.splice(index, 1);\n    }\n  };\n\n  // ----- getParent ----- //\n\n  utils.getParent = function (elem, selector) {\n    while (elem.parentNode && elem != document.body) {\n      elem = elem.parentNode;\n      if (matchesSelector(elem, selector)) {\n        return elem;\n      }\n    }\n  };\n\n  // ----- getQueryElement ----- //\n\n  // use element as selector string\n  utils.getQueryElement = function (elem) {\n    if (typeof elem == 'string') {\n      return document.querySelector(elem);\n    }\n    return elem;\n  };\n\n  // ----- handleEvent ----- //\n\n  // enable .ontype to trigger from .addEventListener( elem, 'type' )\n  utils.handleEvent = function (event) {\n    var method = 'on' + event.type;\n    if (this[method]) {\n      this[method](event);\n    }\n  };\n\n  // ----- filterFindElements ----- //\n\n  utils.filterFindElements = function (elems, selector) {\n    // make array of elems\n    elems = utils.makeArray(elems);\n    var ffElems = [];\n\n    elems.forEach(function (elem) {\n      // check that elem is an actual element\n      if (!(elem instanceof HTMLElement)) {\n        return;\n      }\n      // add elem if no selector\n      if (!selector) {\n        ffElems.push(elem);\n        return;\n      }\n      // filter & find items if we have a selector\n      // filter\n      if (matchesSelector(elem, selector)) {\n        ffElems.push(elem);\n      }\n      // find children\n      var childElems = elem.querySelectorAll(selector);\n      // concat childElems to filterFound array\n      for (var i = 0; i < childElems.length; i++) {\n        ffElems.push(childElems[i]);\n      }\n    });\n\n    return ffElems;\n  };\n\n  // ----- debounceMethod ----- //\n\n  utils.debounceMethod = function (_class, methodName, threshold) {\n    threshold = threshold || 100;\n    // original method\n    var method = _class.prototype[methodName];\n    var timeoutName = methodName + 'Timeout';\n\n    _class.prototype[methodName] = function () {\n      var timeout = this[timeoutName];\n      clearTimeout(timeout);\n\n      var args = arguments;\n      var _this = this;\n      this[timeoutName] = setTimeout(function () {\n        method.apply(_this, args);\n        delete _this[timeoutName];\n      }, threshold);\n    };\n  };\n\n  // ----- docReady ----- //\n\n  utils.docReady = function (callback) {\n    var readyState = document.readyState;\n    if (readyState == 'complete' || readyState == 'interactive') {\n      // do async to allow for other scripts to run. metafizzy/flickity#441\n      setTimeout(callback);\n    } else {\n      document.addEventListener('DOMContentLoaded', callback);\n    }\n  };\n\n  // ----- htmlInit ----- //\n\n  // http://jamesroberts.name/blog/2010/02/22/string-functions-for-javascript-trim-to-camel-case-to-dashed-and-to-underscore/\n  utils.toDashed = function (str) {\n    return str.replace(/(.)([A-Z])/g, function (match, $1, $2) {\n      return $1 + '-' + $2;\n    }).toLowerCase();\n  };\n\n  var console = window.console;\n  /**\n   * allow user to initialize classes via [data-namespace] or .js-namespace class\n   * htmlInit( Widget, 'widgetName' )\n   * options are parsed from data-namespace-options\n   */\n  utils.htmlInit = function (WidgetClass, namespace) {\n    utils.docReady(function () {\n      var dashedNamespace = utils.toDashed(namespace);\n      var dataAttr = 'data-' + dashedNamespace;\n      var dataAttrElems = document.querySelectorAll('[' + dataAttr + ']');\n      var jsDashElems = document.querySelectorAll('.js-' + dashedNamespace);\n      var elems = utils.makeArray(dataAttrElems).concat(utils.makeArray(jsDashElems));\n      var dataOptionsAttr = dataAttr + '-options';\n      var jQuery = window.jQuery;\n\n      elems.forEach(function (elem) {\n        var attr = elem.getAttribute(dataAttr) || elem.getAttribute(dataOptionsAttr);\n        var options;\n        try {\n          options = attr && JSON.parse(attr);\n        } catch (error) {\n          // log error, do not initialize\n          if (console) {\n            console.error('Error parsing ' + dataAttr + ' on ' + elem.className + ': ' + error);\n          }\n          return;\n        }\n        // initialize\n        var instance = new WidgetClass(elem, options);\n        // make available via $().data('namespace')\n        if (jQuery) {\n          jQuery.data(elem, namespace, instance);\n        }\n      });\n    });\n  };\n\n  // -----  ----- //\n\n  return utils;\n});\n\n// Flickity.Cell\n(function (window, factory) {\n  // universal module definition\n  /* jshint strict: false */\n  if (typeof define == 'function' && define.amd) {\n    // AMD\n    define('flickity/js/cell', ['get-size/get-size'], function (getSize) {\n      return factory(window, getSize);\n    });\n  } else if ((typeof module === 'undefined' ? 'undefined' : _typeof(module)) == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory(window, require('get-size'));\n  } else {\n    // browser global\n    window.Flickity = window.Flickity || {};\n    window.Flickity.Cell = factory(window, window.getSize);\n  }\n})(window, function factory(window, getSize) {\n\n  function Cell(elem, parent) {\n    this.element = elem;\n    this.parent = parent;\n\n    this.create();\n  }\n\n  var proto = Cell.prototype;\n\n  proto.create = function () {\n    this.element.style.position = 'absolute';\n    this.element.setAttribute('aria-selected', 'false');\n    this.x = 0;\n    this.shift = 0;\n  };\n\n  proto.destroy = function () {\n    // reset style\n    this.element.style.position = '';\n    var side = this.parent.originSide;\n    this.element.removeAttribute('aria-selected');\n    this.element.style[side] = '';\n  };\n\n  proto.getSize = function () {\n    this.size = getSize(this.element);\n  };\n\n  proto.setPosition = function (x) {\n    this.x = x;\n    this.updateTarget();\n    this.renderPosition(x);\n  };\n\n  // setDefaultTarget v1 method, backwards compatibility, remove in v3\n  proto.updateTarget = proto.setDefaultTarget = function () {\n    var marginProperty = this.parent.originSide == 'left' ? 'marginLeft' : 'marginRight';\n    this.target = this.x + this.size[marginProperty] + this.size.width * this.parent.cellAlign;\n  };\n\n  proto.renderPosition = function (x) {\n    // render position of cell with in slider\n    var side = this.parent.originSide;\n    this.element.style[side] = this.parent.getPositionValue(x);\n  };\n\n  /**\n   * @param {Integer} factor - 0, 1, or -1\n  **/\n  proto.wrapShift = function (shift) {\n    this.shift = shift;\n    this.renderPosition(this.x + this.parent.slideableWidth * shift);\n  };\n\n  proto.remove = function () {\n    this.element.parentNode.removeChild(this.element);\n  };\n\n  return Cell;\n});\n\n// slide\n(function (window, factory) {\n  // universal module definition\n  /* jshint strict: false */\n  if (typeof define == 'function' && define.amd) {\n    // AMD\n    define('flickity/js/slide', factory);\n  } else if ((typeof module === 'undefined' ? 'undefined' : _typeof(module)) == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory();\n  } else {\n    // browser global\n    window.Flickity = window.Flickity || {};\n    window.Flickity.Slide = factory();\n  }\n})(window, function factory() {\n  'use strict';\n\n  function Slide(parent) {\n    this.parent = parent;\n    this.isOriginLeft = parent.originSide == 'left';\n    this.cells = [];\n    this.outerWidth = 0;\n    this.height = 0;\n  }\n\n  var proto = Slide.prototype;\n\n  proto.addCell = function (cell) {\n    this.cells.push(cell);\n    this.outerWidth += cell.size.outerWidth;\n    this.height = Math.max(cell.size.outerHeight, this.height);\n    // first cell stuff\n    if (this.cells.length == 1) {\n      this.x = cell.x; // x comes from first cell\n      var beginMargin = this.isOriginLeft ? 'marginLeft' : 'marginRight';\n      this.firstMargin = cell.size[beginMargin];\n    }\n  };\n\n  proto.updateTarget = function () {\n    var endMargin = this.isOriginLeft ? 'marginRight' : 'marginLeft';\n    var lastCell = this.getLastCell();\n    var lastMargin = lastCell ? lastCell.size[endMargin] : 0;\n    var slideWidth = this.outerWidth - (this.firstMargin + lastMargin);\n    this.target = this.x + this.firstMargin + slideWidth * this.parent.cellAlign;\n  };\n\n  proto.getLastCell = function () {\n    return this.cells[this.cells.length - 1];\n  };\n\n  proto.select = function () {\n    this.changeSelected(true);\n  };\n\n  proto.unselect = function () {\n    this.changeSelected(false);\n  };\n\n  proto.changeSelected = function (isSelected) {\n    var classMethod = isSelected ? 'add' : 'remove';\n    this.cells.forEach(function (cell) {\n      cell.element.classList[classMethod]('is-selected');\n      cell.element.setAttribute('aria-selected', isSelected.toString());\n    });\n  };\n\n  proto.getCellElements = function () {\n    return this.cells.map(function (cell) {\n      return cell.element;\n    });\n  };\n\n  return Slide;\n});\n\n// animate\n(function (window, factory) {\n  // universal module definition\n  /* jshint strict: false */\n  if (typeof define == 'function' && define.amd) {\n    // AMD\n    define('flickity/js/animate', ['fizzy-ui-utils/utils'], function (utils) {\n      return factory(window, utils);\n    });\n  } else if ((typeof module === 'undefined' ? 'undefined' : _typeof(module)) == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory(window, require('fizzy-ui-utils'));\n  } else {\n    // browser global\n    window.Flickity = window.Flickity || {};\n    window.Flickity.animatePrototype = factory(window, window.fizzyUIUtils);\n  }\n})(window, function factory(window, utils) {\n\n  // -------------------------- animate -------------------------- //\n\n  var proto = {};\n\n  proto.startAnimation = function () {\n    if (this.isAnimating) {\n      return;\n    }\n\n    this.isAnimating = true;\n    this.restingFrames = 0;\n    this.animate();\n  };\n\n  proto.animate = function () {\n    this.applyDragForce();\n    this.applySelectedAttraction();\n\n    var previousX = this.x;\n\n    this.integratePhysics();\n    this.positionSlider();\n    this.settle(previousX);\n    // animate next frame\n    if (this.isAnimating) {\n      var _this = this;\n      requestAnimationFrame(function animateFrame() {\n        _this.animate();\n      });\n    }\n  };\n\n  proto.positionSlider = function () {\n    var x = this.x;\n    // wrap position around\n    if (this.options.wrapAround && this.cells.length > 1) {\n      x = utils.modulo(x, this.slideableWidth);\n      x = x - this.slideableWidth;\n      this.shiftWrapCells(x);\n    }\n\n    x = x + this.cursorPosition;\n    // reverse if right-to-left and using transform\n    x = this.options.rightToLeft ? -x : x;\n    var value = this.getPositionValue(x);\n    // use 3D tranforms for hardware acceleration on iOS\n    // but use 2D when settled, for better font-rendering\n    this.slider.style.transform = this.isAnimating ? 'translate3d(' + value + ',0,0)' : 'translateX(' + value + ')';\n\n    // scroll event\n    var firstSlide = this.slides[0];\n    if (firstSlide) {\n      var positionX = -this.x - firstSlide.target;\n      var progress = positionX / this.slidesWidth;\n      this.dispatchEvent('scroll', null, [progress, positionX]);\n    }\n  };\n\n  proto.positionSliderAtSelected = function () {\n    if (!this.cells.length) {\n      return;\n    }\n    this.x = -this.selectedSlide.target;\n    this.velocity = 0; // stop wobble\n    this.positionSlider();\n  };\n\n  proto.getPositionValue = function (position) {\n    if (this.options.percentPosition) {\n      // percent position, round to 2 digits, like 12.34%\n      return Math.round(position / this.size.innerWidth * 10000) * 0.01 + '%';\n    } else {\n      // pixel positioning\n      return Math.round(position) + 'px';\n    }\n  };\n\n  proto.settle = function (previousX) {\n    // keep track of frames where x hasn't moved\n    if (!this.isPointerDown && Math.round(this.x * 100) == Math.round(previousX * 100)) {\n      this.restingFrames++;\n    }\n    // stop animating if resting for 3 or more frames\n    if (this.restingFrames > 2) {\n      this.isAnimating = false;\n      delete this.isFreeScrolling;\n      // render position with translateX when settled\n      this.positionSlider();\n      this.dispatchEvent('settle', null, [this.selectedIndex]);\n    }\n  };\n\n  proto.shiftWrapCells = function (x) {\n    // shift before cells\n    var beforeGap = this.cursorPosition + x;\n    this._shiftCells(this.beforeShiftCells, beforeGap, -1);\n    // shift after cells\n    var afterGap = this.size.innerWidth - (x + this.slideableWidth + this.cursorPosition);\n    this._shiftCells(this.afterShiftCells, afterGap, 1);\n  };\n\n  proto._shiftCells = function (cells, gap, shift) {\n    for (var i = 0; i < cells.length; i++) {\n      var cell = cells[i];\n      var cellShift = gap > 0 ? shift : 0;\n      cell.wrapShift(cellShift);\n      gap -= cell.size.outerWidth;\n    }\n  };\n\n  proto._unshiftCells = function (cells) {\n    if (!cells || !cells.length) {\n      return;\n    }\n    for (var i = 0; i < cells.length; i++) {\n      cells[i].wrapShift(0);\n    }\n  };\n\n  // -------------------------- physics -------------------------- //\n\n  proto.integratePhysics = function () {\n    this.x += this.velocity;\n    this.velocity *= this.getFrictionFactor();\n  };\n\n  proto.applyForce = function (force) {\n    this.velocity += force;\n  };\n\n  proto.getFrictionFactor = function () {\n    return 1 - this.options[this.isFreeScrolling ? 'freeScrollFriction' : 'friction'];\n  };\n\n  proto.getRestingPosition = function () {\n    // my thanks to Steven Wittens, who simplified this math greatly\n    return this.x + this.velocity / (1 - this.getFrictionFactor());\n  };\n\n  proto.applyDragForce = function () {\n    if (!this.isDraggable || !this.isPointerDown) {\n      return;\n    }\n    // change the position to drag position by applying force\n    var dragVelocity = this.dragX - this.x;\n    var dragForce = dragVelocity - this.velocity;\n    this.applyForce(dragForce);\n  };\n\n  proto.applySelectedAttraction = function () {\n    // do not attract if pointer down or no slides\n    var dragDown = this.isDraggable && this.isPointerDown;\n    if (dragDown || this.isFreeScrolling || !this.slides.length) {\n      return;\n    }\n    var distance = this.selectedSlide.target * -1 - this.x;\n    var force = distance * this.options.selectedAttraction;\n    this.applyForce(force);\n  };\n\n  return proto;\n});\n\n// Flickity main\n(function (window, factory) {\n  // universal module definition\n  /* jshint strict: false */\n  if (typeof define == 'function' && define.amd) {\n    // AMD\n    define('flickity/js/flickity', ['ev-emitter/ev-emitter', 'get-size/get-size', 'fizzy-ui-utils/utils', './cell', './slide', './animate'], function (EvEmitter, getSize, utils, Cell, Slide, animatePrototype) {\n      return factory(window, EvEmitter, getSize, utils, Cell, Slide, animatePrototype);\n    });\n  } else if ((typeof module === 'undefined' ? 'undefined' : _typeof(module)) == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory(window, require('ev-emitter'), require('get-size'), require('fizzy-ui-utils'), require('./cell'), require('./slide'), require('./animate'));\n  } else {\n    // browser global\n    var _Flickity = window.Flickity;\n\n    window.Flickity = factory(window, window.EvEmitter, window.getSize, window.fizzyUIUtils, _Flickity.Cell, _Flickity.Slide, _Flickity.animatePrototype);\n  }\n})(window, function factory(window, EvEmitter, getSize, utils, Cell, Slide, animatePrototype) {\n\n  // vars\n  var jQuery = window.jQuery;\n  var getComputedStyle = window.getComputedStyle;\n  var console = window.console;\n\n  function moveElements(elems, toElem) {\n    elems = utils.makeArray(elems);\n    while (elems.length) {\n      toElem.appendChild(elems.shift());\n    }\n  }\n\n  // -------------------------- Flickity -------------------------- //\n\n  // globally unique identifiers\n  var GUID = 0;\n  // internal store of all Flickity intances\n  var instances = {};\n\n  function Flickity(element, options) {\n    var queryElement = utils.getQueryElement(element);\n    if (!queryElement) {\n      if (console) {\n        console.error('Bad element for Flickity: ' + (queryElement || element));\n      }\n      return;\n    }\n    this.element = queryElement;\n    // do not initialize twice on same element\n    if (this.element.flickityGUID) {\n      var instance = instances[this.element.flickityGUID];\n      instance.option(options);\n      return instance;\n    }\n\n    // add jQuery\n    if (jQuery) {\n      this.$element = jQuery(this.element);\n    }\n    // options\n    this.options = utils.extend({}, this.constructor.defaults);\n    this.option(options);\n\n    // kick things off\n    this._create();\n  }\n\n  Flickity.defaults = {\n    accessibility: true,\n    // adaptiveHeight: false,\n    cellAlign: 'center',\n    // cellSelector: undefined,\n    // contain: false,\n    freeScrollFriction: 0.075, // friction when free-scrolling\n    friction: 0.28, // friction when selecting\n    namespaceJQueryEvents: true,\n    // initialIndex: 0,\n    percentPosition: true,\n    resize: true,\n    selectedAttraction: 0.025,\n    setGallerySize: true\n    // watchCSS: false,\n    // wrapAround: false\n  };\n\n  // hash of methods triggered on _create()\n  Flickity.createMethods = [];\n\n  var proto = Flickity.prototype;\n  // inherit EventEmitter\n  utils.extend(proto, EvEmitter.prototype);\n\n  proto._create = function () {\n    // add id for Flickity.data\n    var id = this.guid = ++GUID;\n    this.element.flickityGUID = id; // expando\n    instances[id] = this; // associate via id\n    // initial properties\n    this.selectedIndex = 0;\n    // how many frames slider has been in same position\n    this.restingFrames = 0;\n    // initial physics properties\n    this.x = 0;\n    this.velocity = 0;\n    this.originSide = this.options.rightToLeft ? 'right' : 'left';\n    // create viewport & slider\n    this.viewport = document.createElement('div');\n    this.viewport.className = 'flickity-viewport';\n    this._createSlider();\n\n    if (this.options.resize || this.options.watchCSS) {\n      window.addEventListener('resize', this);\n    }\n\n    // add listeners from on option\n    for (var eventName in this.options.on) {\n      var listener = this.options.on[eventName];\n      this.on(eventName, listener);\n    }\n\n    Flickity.createMethods.forEach(function (method) {\n      this[method]();\n    }, this);\n\n    if (this.options.watchCSS) {\n      this.watchCSS();\n    } else {\n      this.activate();\n    }\n  };\n\n  /**\n   * set options\n   * @param {Object} opts\n   */\n  proto.option = function (opts) {\n    utils.extend(this.options, opts);\n  };\n\n  proto.activate = function () {\n    if (this.isActive) {\n      return;\n    }\n    this.isActive = true;\n    this.element.classList.add('flickity-enabled');\n    if (this.options.rightToLeft) {\n      this.element.classList.add('flickity-rtl');\n    }\n\n    this.getSize();\n    // move initial cell elements so they can be loaded as cells\n    var cellElems = this._filterFindCellElements(this.element.children);\n    moveElements(cellElems, this.slider);\n    this.viewport.appendChild(this.slider);\n    this.element.appendChild(this.viewport);\n    // get cells from children\n    this.reloadCells();\n\n    if (this.options.accessibility) {\n      // allow element to focusable\n      this.element.tabIndex = 0;\n      // listen for key presses\n      this.element.addEventListener('keydown', this);\n    }\n\n    this.emitEvent('activate');\n\n    var index;\n    var initialIndex = this.options.initialIndex;\n    if (this.isInitActivated) {\n      index = this.selectedIndex;\n    } else if (initialIndex !== undefined) {\n      index = this.cells[initialIndex] ? initialIndex : 0;\n    } else {\n      index = 0;\n    }\n    // select instantly\n    this.select(index, false, true);\n    // flag for initial activation, for using initialIndex\n    this.isInitActivated = true;\n    // ready event. #493\n    this.dispatchEvent('ready');\n  };\n\n  // slider positions the cells\n  proto._createSlider = function () {\n    // slider element does all the positioning\n    var slider = document.createElement('div');\n    slider.className = 'flickity-slider';\n    slider.style[this.originSide] = 0;\n    this.slider = slider;\n  };\n\n  proto._filterFindCellElements = function (elems) {\n    return utils.filterFindElements(elems, this.options.cellSelector);\n  };\n\n  // goes through all children\n  proto.reloadCells = function () {\n    // collection of item elements\n    this.cells = this._makeCells(this.slider.children);\n    this.positionCells();\n    this._getWrapShiftCells();\n    this.setGallerySize();\n  };\n\n  /**\n   * turn elements into Flickity.Cells\n   * @param {Array or NodeList or HTMLElement} elems\n   * @returns {Array} items - collection of new Flickity Cells\n   */\n  proto._makeCells = function (elems) {\n    var cellElems = this._filterFindCellElements(elems);\n\n    // create new Flickity for collection\n    var cells = cellElems.map(function (cellElem) {\n      return new Cell(cellElem, this);\n    }, this);\n\n    return cells;\n  };\n\n  proto.getLastCell = function () {\n    return this.cells[this.cells.length - 1];\n  };\n\n  proto.getLastSlide = function () {\n    return this.slides[this.slides.length - 1];\n  };\n\n  // positions all cells\n  proto.positionCells = function () {\n    // size all cells\n    this._sizeCells(this.cells);\n    // position all cells\n    this._positionCells(0);\n  };\n\n  /**\n   * position certain cells\n   * @param {Integer} index - which cell to start with\n   */\n  proto._positionCells = function (index) {\n    index = index || 0;\n    // also measure maxCellHeight\n    // start 0 if positioning all cells\n    this.maxCellHeight = index ? this.maxCellHeight || 0 : 0;\n    var cellX = 0;\n    // get cellX\n    if (index > 0) {\n      var startCell = this.cells[index - 1];\n      cellX = startCell.x + startCell.size.outerWidth;\n    }\n    var len = this.cells.length;\n    for (var i = index; i < len; i++) {\n      var cell = this.cells[i];\n      cell.setPosition(cellX);\n      cellX += cell.size.outerWidth;\n      this.maxCellHeight = Math.max(cell.size.outerHeight, this.maxCellHeight);\n    }\n    // keep track of cellX for wrap-around\n    this.slideableWidth = cellX;\n    // slides\n    this.updateSlides();\n    // contain slides target\n    this._containSlides();\n    // update slidesWidth\n    this.slidesWidth = len ? this.getLastSlide().target - this.slides[0].target : 0;\n  };\n\n  /**\n   * cell.getSize() on multiple cells\n   * @param {Array} cells\n   */\n  proto._sizeCells = function (cells) {\n    cells.forEach(function (cell) {\n      cell.getSize();\n    });\n  };\n\n  // --------------------------  -------------------------- //\n\n  proto.updateSlides = function () {\n    this.slides = [];\n    if (!this.cells.length) {\n      return;\n    }\n\n    var slide = new Slide(this);\n    this.slides.push(slide);\n    var isOriginLeft = this.originSide == 'left';\n    var nextMargin = isOriginLeft ? 'marginRight' : 'marginLeft';\n\n    var canCellFit = this._getCanCellFit();\n\n    this.cells.forEach(function (cell, i) {\n      // just add cell if first cell in slide\n      if (!slide.cells.length) {\n        slide.addCell(cell);\n        return;\n      }\n\n      var slideWidth = slide.outerWidth - slide.firstMargin + (cell.size.outerWidth - cell.size[nextMargin]);\n\n      if (canCellFit.call(this, i, slideWidth)) {\n        slide.addCell(cell);\n      } else {\n        // doesn't fit, new slide\n        slide.updateTarget();\n\n        slide = new Slide(this);\n        this.slides.push(slide);\n        slide.addCell(cell);\n      }\n    }, this);\n    // last slide\n    slide.updateTarget();\n    // update .selectedSlide\n    this.updateSelectedSlide();\n  };\n\n  proto._getCanCellFit = function () {\n    var groupCells = this.options.groupCells;\n    if (!groupCells) {\n      return function () {\n        return false;\n      };\n    } else if (typeof groupCells == 'number') {\n      // group by number. 3 -> [0,1,2], [3,4,5], ...\n      var number = parseInt(groupCells, 10);\n      return function (i) {\n        return i % number !== 0;\n      };\n    }\n    // default, group by width of slide\n    // parse '75%\n    var percentMatch = typeof groupCells == 'string' && groupCells.match(/^(\\d+)%$/);\n    var percent = percentMatch ? parseInt(percentMatch[1], 10) / 100 : 1;\n    return function (i, slideWidth) {\n      return slideWidth <= (this.size.innerWidth + 1) * percent;\n    };\n  };\n\n  // alias _init for jQuery plugin .flickity()\n  proto._init = proto.reposition = function () {\n    this.positionCells();\n    this.positionSliderAtSelected();\n  };\n\n  proto.getSize = function () {\n    this.size = getSize(this.element);\n    this.setCellAlign();\n    this.cursorPosition = this.size.innerWidth * this.cellAlign;\n  };\n\n  var cellAlignShorthands = {\n    // cell align, then based on origin side\n    center: {\n      left: 0.5,\n      right: 0.5\n    },\n    left: {\n      left: 0,\n      right: 1\n    },\n    right: {\n      right: 0,\n      left: 1\n    }\n  };\n\n  proto.setCellAlign = function () {\n    var shorthand = cellAlignShorthands[this.options.cellAlign];\n    this.cellAlign = shorthand ? shorthand[this.originSide] : this.options.cellAlign;\n  };\n\n  proto.setGallerySize = function () {\n    if (this.options.setGallerySize) {\n      var height = this.options.adaptiveHeight && this.selectedSlide ? this.selectedSlide.height : this.maxCellHeight;\n      this.viewport.style.height = height + 'px';\n    }\n  };\n\n  proto._getWrapShiftCells = function () {\n    // only for wrap-around\n    if (!this.options.wrapAround) {\n      return;\n    }\n    // unshift previous cells\n    this._unshiftCells(this.beforeShiftCells);\n    this._unshiftCells(this.afterShiftCells);\n    // get before cells\n    // initial gap\n    var gapX = this.cursorPosition;\n    var cellIndex = this.cells.length - 1;\n    this.beforeShiftCells = this._getGapCells(gapX, cellIndex, -1);\n    // get after cells\n    // ending gap between last cell and end of gallery viewport\n    gapX = this.size.innerWidth - this.cursorPosition;\n    // start cloning at first cell, working forwards\n    this.afterShiftCells = this._getGapCells(gapX, 0, 1);\n  };\n\n  proto._getGapCells = function (gapX, cellIndex, increment) {\n    // keep adding cells until the cover the initial gap\n    var cells = [];\n    while (gapX > 0) {\n      var cell = this.cells[cellIndex];\n      if (!cell) {\n        break;\n      }\n      cells.push(cell);\n      cellIndex += increment;\n      gapX -= cell.size.outerWidth;\n    }\n    return cells;\n  };\n\n  // ----- contain ----- //\n\n  // contain cell targets so no excess sliding\n  proto._containSlides = function () {\n    if (!this.options.contain || this.options.wrapAround || !this.cells.length) {\n      return;\n    }\n    var isRightToLeft = this.options.rightToLeft;\n    var beginMargin = isRightToLeft ? 'marginRight' : 'marginLeft';\n    var endMargin = isRightToLeft ? 'marginLeft' : 'marginRight';\n    var contentWidth = this.slideableWidth - this.getLastCell().size[endMargin];\n    // content is less than gallery size\n    var isContentSmaller = contentWidth < this.size.innerWidth;\n    // bounds\n    var beginBound = this.cursorPosition + this.cells[0].size[beginMargin];\n    var endBound = contentWidth - this.size.innerWidth * (1 - this.cellAlign);\n    // contain each cell target\n    this.slides.forEach(function (slide) {\n      if (isContentSmaller) {\n        // all cells fit inside gallery\n        slide.target = contentWidth * this.cellAlign;\n      } else {\n        // contain to bounds\n        slide.target = Math.max(slide.target, beginBound);\n        slide.target = Math.min(slide.target, endBound);\n      }\n    }, this);\n  };\n\n  // -----  ----- //\n\n  /**\n   * emits events via eventEmitter and jQuery events\n   * @param {String} type - name of event\n   * @param {Event} event - original event\n   * @param {Array} args - extra arguments\n   */\n  proto.dispatchEvent = function (type, event, args) {\n    var emitArgs = event ? [event].concat(args) : args;\n    this.emitEvent(type, emitArgs);\n\n    if (jQuery && this.$element) {\n      // default trigger with type if no event\n      type += this.options.namespaceJQueryEvents ? '.flickity' : '';\n      var $event = type;\n      if (event) {\n        // create jQuery event\n        var jQEvent = jQuery.Event(event);\n        jQEvent.type = type;\n        $event = jQEvent;\n      }\n      this.$element.trigger($event, args);\n    }\n  };\n\n  // -------------------------- select -------------------------- //\n\n  /**\n   * @param {Integer} index - index of the slide\n   * @param {Boolean} isWrap - will wrap-around to last/first if at the end\n   * @param {Boolean} isInstant - will immediately set position at selected cell\n   */\n  proto.select = function (index, isWrap, isInstant) {\n    if (!this.isActive) {\n      return;\n    }\n    index = parseInt(index, 10);\n    this._wrapSelect(index);\n\n    if (this.options.wrapAround || isWrap) {\n      index = utils.modulo(index, this.slides.length);\n    }\n    // bail if invalid index\n    if (!this.slides[index]) {\n      return;\n    }\n    var prevIndex = this.selectedIndex;\n    this.selectedIndex = index;\n    this.updateSelectedSlide();\n    if (isInstant) {\n      this.positionSliderAtSelected();\n    } else {\n      this.startAnimation();\n    }\n    if (this.options.adaptiveHeight) {\n      this.setGallerySize();\n    }\n    // events\n    this.dispatchEvent('select', null, [index]);\n    // change event if new index\n    if (index != prevIndex) {\n      this.dispatchEvent('change', null, [index]);\n    }\n    // old v1 event name, remove in v3\n    this.dispatchEvent('cellSelect');\n  };\n\n  // wraps position for wrapAround, to move to closest slide. #113\n  proto._wrapSelect = function (index) {\n    var len = this.slides.length;\n    var isWrapping = this.options.wrapAround && len > 1;\n    if (!isWrapping) {\n      return index;\n    }\n    var wrapIndex = utils.modulo(index, len);\n    // go to shortest\n    var delta = Math.abs(wrapIndex - this.selectedIndex);\n    var backWrapDelta = Math.abs(wrapIndex + len - this.selectedIndex);\n    var forewardWrapDelta = Math.abs(wrapIndex - len - this.selectedIndex);\n    if (!this.isDragSelect && backWrapDelta < delta) {\n      index += len;\n    } else if (!this.isDragSelect && forewardWrapDelta < delta) {\n      index -= len;\n    }\n    // wrap position so slider is within normal area\n    if (index < 0) {\n      this.x -= this.slideableWidth;\n    } else if (index >= len) {\n      this.x += this.slideableWidth;\n    }\n  };\n\n  proto.previous = function (isWrap, isInstant) {\n    this.select(this.selectedIndex - 1, isWrap, isInstant);\n  };\n\n  proto.next = function (isWrap, isInstant) {\n    this.select(this.selectedIndex + 1, isWrap, isInstant);\n  };\n\n  proto.updateSelectedSlide = function () {\n    var slide = this.slides[this.selectedIndex];\n    // selectedIndex could be outside of slides, if triggered before resize()\n    if (!slide) {\n      return;\n    }\n    // unselect previous selected slide\n    this.unselectSelectedSlide();\n    // update new selected slide\n    this.selectedSlide = slide;\n    slide.select();\n    this.selectedCells = slide.cells;\n    this.selectedElements = slide.getCellElements();\n    // HACK: selectedCell & selectedElement is first cell in slide, backwards compatibility\n    // Remove in v3?\n    this.selectedCell = slide.cells[0];\n    this.selectedElement = this.selectedElements[0];\n  };\n\n  proto.unselectSelectedSlide = function () {\n    if (this.selectedSlide) {\n      this.selectedSlide.unselect();\n    }\n  };\n\n  /**\n   * select slide from number or cell element\n   * @param {Element or Number} elem\n   */\n  proto.selectCell = function (value, isWrap, isInstant) {\n    // get cell\n    var cell = this.queryCell(value);\n    if (!cell) {\n      return;\n    }\n\n    var index = this.getCellSlideIndex(cell);\n    this.select(index, isWrap, isInstant);\n  };\n\n  proto.getCellSlideIndex = function (cell) {\n    // get index of slides that has cell\n    for (var i = 0; i < this.slides.length; i++) {\n      var slide = this.slides[i];\n      var index = slide.cells.indexOf(cell);\n      if (index != -1) {\n        return i;\n      }\n    }\n  };\n\n  // -------------------------- get cells -------------------------- //\n\n  /**\n   * get Flickity.Cell, given an Element\n   * @param {Element} elem\n   * @returns {Flickity.Cell} item\n   */\n  proto.getCell = function (elem) {\n    // loop through cells to get the one that matches\n    for (var i = 0; i < this.cells.length; i++) {\n      var cell = this.cells[i];\n      if (cell.element == elem) {\n        return cell;\n      }\n    }\n  };\n\n  /**\n   * get collection of Flickity.Cells, given Elements\n   * @param {Element, Array, NodeList} elems\n   * @returns {Array} cells - Flickity.Cells\n   */\n  proto.getCells = function (elems) {\n    elems = utils.makeArray(elems);\n    var cells = [];\n    elems.forEach(function (elem) {\n      var cell = this.getCell(elem);\n      if (cell) {\n        cells.push(cell);\n      }\n    }, this);\n    return cells;\n  };\n\n  /**\n   * get cell elements\n   * @returns {Array} cellElems\n   */\n  proto.getCellElements = function () {\n    return this.cells.map(function (cell) {\n      return cell.element;\n    });\n  };\n\n  /**\n   * get parent cell from an element\n   * @param {Element} elem\n   * @returns {Flickit.Cell} cell\n   */\n  proto.getParentCell = function (elem) {\n    // first check if elem is cell\n    var cell = this.getCell(elem);\n    if (cell) {\n      return cell;\n    }\n    // try to get parent cell elem\n    elem = utils.getParent(elem, '.flickity-slider > *');\n    return this.getCell(elem);\n  };\n\n  /**\n   * get cells adjacent to a slide\n   * @param {Integer} adjCount - number of adjacent slides\n   * @param {Integer} index - index of slide to start\n   * @returns {Array} cells - array of Flickity.Cells\n   */\n  proto.getAdjacentCellElements = function (adjCount, index) {\n    if (!adjCount) {\n      return this.selectedSlide.getCellElements();\n    }\n    index = index === undefined ? this.selectedIndex : index;\n\n    var len = this.slides.length;\n    if (1 + adjCount * 2 >= len) {\n      return this.getCellElements();\n    }\n\n    var cellElems = [];\n    for (var i = index - adjCount; i <= index + adjCount; i++) {\n      var slideIndex = this.options.wrapAround ? utils.modulo(i, len) : i;\n      var slide = this.slides[slideIndex];\n      if (slide) {\n        cellElems = cellElems.concat(slide.getCellElements());\n      }\n    }\n    return cellElems;\n  };\n\n  /**\n   * select slide from number or cell element\n   * @param {Element, Selector String, or Number} selector\n   */\n  proto.queryCell = function (selector) {\n    if (typeof selector == 'number') {\n      // use number as index\n      return this.cells[selector];\n    }\n    if (typeof selector == 'string') {\n      // use string as selector, get element\n      selector = this.element.querySelector(selector);\n    }\n    // get cell from element\n    return this.getCell(selector);\n  };\n\n  // -------------------------- events -------------------------- //\n\n  proto.uiChange = function () {\n    this.emitEvent('uiChange');\n  };\n\n  proto.childUIPointerDown = function (event) {\n    this.emitEvent('childUIPointerDown', [event]);\n  };\n\n  // ----- resize ----- //\n\n  proto.onresize = function () {\n    this.watchCSS();\n    this.resize();\n  };\n\n  utils.debounceMethod(Flickity, 'onresize', 150);\n\n  proto.resize = function () {\n    if (!this.isActive) {\n      return;\n    }\n    this.getSize();\n    // wrap values\n    if (this.options.wrapAround) {\n      this.x = utils.modulo(this.x, this.slideableWidth);\n    }\n    this.positionCells();\n    this._getWrapShiftCells();\n    this.setGallerySize();\n    this.emitEvent('resize');\n    // update selected index for group slides, instant\n    // TODO: position can be lost between groups of various numbers\n    var selectedElement = this.selectedElements && this.selectedElements[0];\n    this.selectCell(selectedElement, false, true);\n  };\n\n  // watches the :after property, activates/deactivates\n  proto.watchCSS = function () {\n    var watchOption = this.options.watchCSS;\n    if (!watchOption) {\n      return;\n    }\n\n    var afterContent = getComputedStyle(this.element, ':after').content;\n    // activate if :after { content: 'flickity' }\n    if (afterContent.indexOf('flickity') != -1) {\n      this.activate();\n    } else {\n      this.deactivate();\n    }\n  };\n\n  // ----- keydown ----- //\n\n  // go previous/next if left/right keys pressed\n  proto.onkeydown = function (event) {\n    // only work if element is in focus\n    var isNotFocused = document.activeElement && document.activeElement != this.element;\n    if (!this.options.accessibility || isNotFocused) {\n      return;\n    }\n\n    var handler = Flickity.keyboardHandlers[event.keyCode];\n    if (handler) {\n      handler.call(this);\n    }\n  };\n\n  Flickity.keyboardHandlers = {\n    // left arrow\n    37: function _() {\n      var leftMethod = this.options.rightToLeft ? 'next' : 'previous';\n      this.uiChange();\n      this[leftMethod]();\n    },\n    // right arrow\n    39: function _() {\n      var rightMethod = this.options.rightToLeft ? 'previous' : 'next';\n      this.uiChange();\n      this[rightMethod]();\n    }\n  };\n\n  // ----- focus ----- //\n\n  proto.focus = function () {\n    var prevScrollY = window.pageYOffset;\n    this.element.focus();\n    // hack to fix scroll jump after focus, #76\n    if (window.pageYOffset != prevScrollY) {\n      window.scrollTo(window.pageXOffset, prevScrollY);\n    }\n  };\n\n  // -------------------------- destroy -------------------------- //\n\n  // deactivate all Flickity functionality, but keep stuff available\n  proto.deactivate = function () {\n    if (!this.isActive) {\n      return;\n    }\n    this.element.classList.remove('flickity-enabled');\n    this.element.classList.remove('flickity-rtl');\n    this.unselectSelectedSlide();\n    // destroy cells\n    this.cells.forEach(function (cell) {\n      cell.destroy();\n    });\n    this.element.removeChild(this.viewport);\n    // move child elements back into element\n    moveElements(this.slider.children, this.element);\n    if (this.options.accessibility) {\n      this.element.removeAttribute('tabIndex');\n      this.element.removeEventListener('keydown', this);\n    }\n    // set flags\n    this.isActive = false;\n    this.emitEvent('deactivate');\n  };\n\n  proto.destroy = function () {\n    this.deactivate();\n    window.removeEventListener('resize', this);\n    this.emitEvent('destroy');\n    if (jQuery && this.$element) {\n      jQuery.removeData(this.element, 'flickity');\n    }\n    delete this.element.flickityGUID;\n    delete instances[this.guid];\n  };\n\n  // -------------------------- prototype -------------------------- //\n\n  utils.extend(proto, animatePrototype);\n\n  // -------------------------- extras -------------------------- //\n\n  /**\n   * get Flickity instance from element\n   * @param {Element} elem\n   * @returns {Flickity}\n   */\n  Flickity.data = function (elem) {\n    elem = utils.getQueryElement(elem);\n    var id = elem && elem.flickityGUID;\n    return id && instances[id];\n  };\n\n  utils.htmlInit(Flickity, 'flickity');\n\n  if (jQuery && jQuery.bridget) {\n    jQuery.bridget('flickity', Flickity);\n  }\n\n  // set internal jQuery, for Webpack + jQuery v3, #478\n  Flickity.setJQuery = function (jq) {\n    jQuery = jq;\n  };\n\n  Flickity.Cell = Cell;\n\n  return Flickity;\n});\n\n/*!\n * Unipointer v2.3.0\n * base class for doing one thing with pointer event\n * MIT license\n */\n\n/*jshint browser: true, undef: true, unused: true, strict: true */\n\n(function (window, factory) {\n  // universal module definition\n  /* jshint strict: false */ /*global define, module, require */\n  if (typeof define == 'function' && define.amd) {\n    // AMD\n    define('unipointer/unipointer', ['ev-emitter/ev-emitter'], function (EvEmitter) {\n      return factory(window, EvEmitter);\n    });\n  } else if ((typeof module === 'undefined' ? 'undefined' : _typeof(module)) == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory(window, require('ev-emitter'));\n  } else {\n    // browser global\n    window.Unipointer = factory(window, window.EvEmitter);\n  }\n})(window, function factory(window, EvEmitter) {\n\n  function noop() {}\n\n  function Unipointer() {}\n\n  // inherit EvEmitter\n  var proto = Unipointer.prototype = Object.create(EvEmitter.prototype);\n\n  proto.bindStartEvent = function (elem) {\n    this._bindStartEvent(elem, true);\n  };\n\n  proto.unbindStartEvent = function (elem) {\n    this._bindStartEvent(elem, false);\n  };\n\n  /**\n   * Add or remove start event\n   * @param {Boolean} isAdd - remove if falsey\n   */\n  proto._bindStartEvent = function (elem, isAdd) {\n    // munge isAdd, default to true\n    isAdd = isAdd === undefined ? true : isAdd;\n    var bindMethod = isAdd ? 'addEventListener' : 'removeEventListener';\n\n    // default to mouse events\n    var startEvent = 'mousedown';\n    if (window.PointerEvent) {\n      // Pointer Events\n      startEvent = 'pointerdown';\n    } else if ('ontouchstart' in window) {\n      // Touch Events. iOS Safari\n      startEvent = 'touchstart';\n    }\n    elem[bindMethod](startEvent, this);\n  };\n\n  // trigger handler methods for events\n  proto.handleEvent = function (event) {\n    var method = 'on' + event.type;\n    if (this[method]) {\n      this[method](event);\n    }\n  };\n\n  // returns the touch that we're keeping track of\n  proto.getTouch = function (touches) {\n    for (var i = 0; i < touches.length; i++) {\n      var touch = touches[i];\n      if (touch.identifier == this.pointerIdentifier) {\n        return touch;\n      }\n    }\n  };\n\n  // ----- start event ----- //\n\n  proto.onmousedown = function (event) {\n    // dismiss clicks from right or middle buttons\n    var button = event.button;\n    if (button && button !== 0 && button !== 1) {\n      return;\n    }\n    this._pointerDown(event, event);\n  };\n\n  proto.ontouchstart = function (event) {\n    this._pointerDown(event, event.changedTouches[0]);\n  };\n\n  proto.onpointerdown = function (event) {\n    this._pointerDown(event, event);\n  };\n\n  /**\n   * pointer start\n   * @param {Event} event\n   * @param {Event or Touch} pointer\n   */\n  proto._pointerDown = function (event, pointer) {\n    // dismiss right click and other pointers\n    // button = 0 is okay, 1-4 not\n    if (event.button || this.isPointerDown) {\n      return;\n    }\n\n    this.isPointerDown = true;\n    // save pointer identifier to match up touch events\n    this.pointerIdentifier = pointer.pointerId !== undefined ?\n    // pointerId for pointer events, touch.indentifier for touch events\n    pointer.pointerId : pointer.identifier;\n\n    this.pointerDown(event, pointer);\n  };\n\n  proto.pointerDown = function (event, pointer) {\n    this._bindPostStartEvents(event);\n    this.emitEvent('pointerDown', [event, pointer]);\n  };\n\n  // hash of events to be bound after start event\n  var postStartEvents = {\n    mousedown: ['mousemove', 'mouseup'],\n    touchstart: ['touchmove', 'touchend', 'touchcancel'],\n    pointerdown: ['pointermove', 'pointerup', 'pointercancel']\n  };\n\n  proto._bindPostStartEvents = function (event) {\n    if (!event) {\n      return;\n    }\n    // get proper events to match start event\n    var events = postStartEvents[event.type];\n    // bind events to node\n    events.forEach(function (eventName) {\n      window.addEventListener(eventName, this);\n    }, this);\n    // save these arguments\n    this._boundPointerEvents = events;\n  };\n\n  proto._unbindPostStartEvents = function () {\n    // check for _boundEvents, in case dragEnd triggered twice (old IE8 bug)\n    if (!this._boundPointerEvents) {\n      return;\n    }\n    this._boundPointerEvents.forEach(function (eventName) {\n      window.removeEventListener(eventName, this);\n    }, this);\n\n    delete this._boundPointerEvents;\n  };\n\n  // ----- move event ----- //\n\n  proto.onmousemove = function (event) {\n    this._pointerMove(event, event);\n  };\n\n  proto.onpointermove = function (event) {\n    if (event.pointerId == this.pointerIdentifier) {\n      this._pointerMove(event, event);\n    }\n  };\n\n  proto.ontouchmove = function (event) {\n    var touch = this.getTouch(event.changedTouches);\n    if (touch) {\n      this._pointerMove(event, touch);\n    }\n  };\n\n  /**\n   * pointer move\n   * @param {Event} event\n   * @param {Event or Touch} pointer\n   * @private\n   */\n  proto._pointerMove = function (event, pointer) {\n    this.pointerMove(event, pointer);\n  };\n\n  // public\n  proto.pointerMove = function (event, pointer) {\n    this.emitEvent('pointerMove', [event, pointer]);\n  };\n\n  // ----- end event ----- //\n\n\n  proto.onmouseup = function (event) {\n    this._pointerUp(event, event);\n  };\n\n  proto.onpointerup = function (event) {\n    if (event.pointerId == this.pointerIdentifier) {\n      this._pointerUp(event, event);\n    }\n  };\n\n  proto.ontouchend = function (event) {\n    var touch = this.getTouch(event.changedTouches);\n    if (touch) {\n      this._pointerUp(event, touch);\n    }\n  };\n\n  /**\n   * pointer up\n   * @param {Event} event\n   * @param {Event or Touch} pointer\n   * @private\n   */\n  proto._pointerUp = function (event, pointer) {\n    this._pointerDone();\n    this.pointerUp(event, pointer);\n  };\n\n  // public\n  proto.pointerUp = function (event, pointer) {\n    this.emitEvent('pointerUp', [event, pointer]);\n  };\n\n  // ----- pointer done ----- //\n\n  // triggered on pointer up & pointer cancel\n  proto._pointerDone = function () {\n    this._pointerReset();\n    this._unbindPostStartEvents();\n    this.pointerDone();\n  };\n\n  proto._pointerReset = function () {\n    // reset properties\n    this.isPointerDown = false;\n    delete this.pointerIdentifier;\n  };\n\n  proto.pointerDone = noop;\n\n  // ----- pointer cancel ----- //\n\n  proto.onpointercancel = function (event) {\n    if (event.pointerId == this.pointerIdentifier) {\n      this._pointerCancel(event, event);\n    }\n  };\n\n  proto.ontouchcancel = function (event) {\n    var touch = this.getTouch(event.changedTouches);\n    if (touch) {\n      this._pointerCancel(event, touch);\n    }\n  };\n\n  /**\n   * pointer cancel\n   * @param {Event} event\n   * @param {Event or Touch} pointer\n   * @private\n   */\n  proto._pointerCancel = function (event, pointer) {\n    this._pointerDone();\n    this.pointerCancel(event, pointer);\n  };\n\n  // public\n  proto.pointerCancel = function (event, pointer) {\n    this.emitEvent('pointerCancel', [event, pointer]);\n  };\n\n  // -----  ----- //\n\n  // utility function for getting x/y coords from event\n  Unipointer.getPointerPoint = function (pointer) {\n    return {\n      x: pointer.pageX,\n      y: pointer.pageY\n    };\n  };\n\n  // -----  ----- //\n\n  return Unipointer;\n});\n\n/*!\n * Unidragger v2.3.0\n * Draggable base class\n * MIT license\n */\n\n/*jshint browser: true, unused: true, undef: true, strict: true */\n\n(function (window, factory) {\n  // universal module definition\n  /*jshint strict: false */ /*globals define, module, require */\n\n  if (typeof define == 'function' && define.amd) {\n    // AMD\n    define('unidragger/unidragger', ['unipointer/unipointer'], function (Unipointer) {\n      return factory(window, Unipointer);\n    });\n  } else if ((typeof module === 'undefined' ? 'undefined' : _typeof(module)) == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory(window, require('unipointer'));\n  } else {\n    // browser global\n    window.Unidragger = factory(window, window.Unipointer);\n  }\n})(window, function factory(window, Unipointer) {\n\n  // -------------------------- Unidragger -------------------------- //\n\n  function Unidragger() {}\n\n  // inherit Unipointer & EvEmitter\n  var proto = Unidragger.prototype = Object.create(Unipointer.prototype);\n\n  // ----- bind start ----- //\n\n  proto.bindHandles = function () {\n    this._bindHandles(true);\n  };\n\n  proto.unbindHandles = function () {\n    this._bindHandles(false);\n  };\n\n  /**\n   * Add or remove start event\n   * @param {Boolean} isAdd\n   */\n  proto._bindHandles = function (isAdd) {\n    // munge isAdd, default to true\n    isAdd = isAdd === undefined ? true : isAdd;\n    // bind each handle\n    var bindMethod = isAdd ? 'addEventListener' : 'removeEventListener';\n    var touchAction = isAdd ? this._touchActionValue : '';\n    for (var i = 0; i < this.handles.length; i++) {\n      var handle = this.handles[i];\n      this._bindStartEvent(handle, isAdd);\n      handle[bindMethod]('click', this);\n      // touch-action: none to override browser touch gestures. metafizzy/flickity#540\n      if (window.PointerEvent) {\n        handle.style.touchAction = touchAction;\n      }\n    }\n  };\n\n  // prototype so it can be overwriteable by Flickity\n  proto._touchActionValue = 'none';\n\n  // ----- start event ----- //\n\n  /**\n   * pointer start\n   * @param {Event} event\n   * @param {Event or Touch} pointer\n   */\n  proto.pointerDown = function (event, pointer) {\n    var isOkay = this.okayPointerDown(event);\n    if (!isOkay) {\n      return;\n    }\n    // track start event position\n    this.pointerDownPointer = pointer;\n\n    event.preventDefault();\n    this.pointerDownBlur();\n    // bind move and end events\n    this._bindPostStartEvents(event);\n    this.emitEvent('pointerDown', [event, pointer]);\n  };\n\n  // nodes that have text fields\n  var cursorNodes = {\n    TEXTAREA: true,\n    INPUT: true,\n    SELECT: true,\n    OPTION: true\n  };\n\n  // input types that do not have text fields\n  var clickTypes = {\n    radio: true,\n    checkbox: true,\n    button: true,\n    submit: true,\n    image: true,\n    file: true\n  };\n\n  // dismiss inputs with text fields. flickity#403, flickity#404\n  proto.okayPointerDown = function (event) {\n    var isCursorNode = cursorNodes[event.target.nodeName];\n    var isClickType = clickTypes[event.target.type];\n    var isOkay = !isCursorNode || isClickType;\n    if (!isOkay) {\n      this._pointerReset();\n    }\n    return isOkay;\n  };\n\n  // kludge to blur previously focused input\n  proto.pointerDownBlur = function () {\n    var focused = document.activeElement;\n    // do not blur body for IE10, metafizzy/flickity#117\n    var canBlur = focused && focused.blur && focused != document.body;\n    if (canBlur) {\n      focused.blur();\n    }\n  };\n\n  // ----- move event ----- //\n\n  /**\n   * drag move\n   * @param {Event} event\n   * @param {Event or Touch} pointer\n   */\n  proto.pointerMove = function (event, pointer) {\n    var moveVector = this._dragPointerMove(event, pointer);\n    this.emitEvent('pointerMove', [event, pointer, moveVector]);\n    this._dragMove(event, pointer, moveVector);\n  };\n\n  // base pointer move logic\n  proto._dragPointerMove = function (event, pointer) {\n    var moveVector = {\n      x: pointer.pageX - this.pointerDownPointer.pageX,\n      y: pointer.pageY - this.pointerDownPointer.pageY\n    };\n    // start drag if pointer has moved far enough to start drag\n    if (!this.isDragging && this.hasDragStarted(moveVector)) {\n      this._dragStart(event, pointer);\n    }\n    return moveVector;\n  };\n\n  // condition if pointer has moved far enough to start drag\n  proto.hasDragStarted = function (moveVector) {\n    return Math.abs(moveVector.x) > 3 || Math.abs(moveVector.y) > 3;\n  };\n\n  // ----- end event ----- //\n\n  /**\n   * pointer up\n   * @param {Event} event\n   * @param {Event or Touch} pointer\n   */\n  proto.pointerUp = function (event, pointer) {\n    this.emitEvent('pointerUp', [event, pointer]);\n    this._dragPointerUp(event, pointer);\n  };\n\n  proto._dragPointerUp = function (event, pointer) {\n    if (this.isDragging) {\n      this._dragEnd(event, pointer);\n    } else {\n      // pointer didn't move enough for drag to start\n      this._staticClick(event, pointer);\n    }\n  };\n\n  // -------------------------- drag -------------------------- //\n\n  // dragStart\n  proto._dragStart = function (event, pointer) {\n    this.isDragging = true;\n    // prevent clicks\n    this.isPreventingClicks = true;\n    this.dragStart(event, pointer);\n  };\n\n  proto.dragStart = function (event, pointer) {\n    this.emitEvent('dragStart', [event, pointer]);\n  };\n\n  // dragMove\n  proto._dragMove = function (event, pointer, moveVector) {\n    // do not drag if not dragging yet\n    if (!this.isDragging) {\n      return;\n    }\n\n    this.dragMove(event, pointer, moveVector);\n  };\n\n  proto.dragMove = function (event, pointer, moveVector) {\n    event.preventDefault();\n    this.emitEvent('dragMove', [event, pointer, moveVector]);\n  };\n\n  // dragEnd\n  proto._dragEnd = function (event, pointer) {\n    // set flags\n    this.isDragging = false;\n    // re-enable clicking async\n    setTimeout(function () {\n      delete this.isPreventingClicks;\n    }.bind(this));\n\n    this.dragEnd(event, pointer);\n  };\n\n  proto.dragEnd = function (event, pointer) {\n    this.emitEvent('dragEnd', [event, pointer]);\n  };\n\n  // ----- onclick ----- //\n\n  // handle all clicks and prevent clicks when dragging\n  proto.onclick = function (event) {\n    if (this.isPreventingClicks) {\n      event.preventDefault();\n    }\n  };\n\n  // ----- staticClick ----- //\n\n  // triggered after pointer down & up with no/tiny movement\n  proto._staticClick = function (event, pointer) {\n    // ignore emulated mouse up clicks\n    if (this.isIgnoringMouseUp && event.type == 'mouseup') {\n      return;\n    }\n\n    this.staticClick(event, pointer);\n\n    // set flag for emulated clicks 300ms after touchend\n    if (event.type != 'mouseup') {\n      this.isIgnoringMouseUp = true;\n      // reset flag after 300ms\n      setTimeout(function () {\n        delete this.isIgnoringMouseUp;\n      }.bind(this), 400);\n    }\n  };\n\n  proto.staticClick = function (event, pointer) {\n    this.emitEvent('staticClick', [event, pointer]);\n  };\n\n  // ----- utils ----- //\n\n  Unidragger.getPointerPoint = Unipointer.getPointerPoint;\n\n  // -----  ----- //\n\n  return Unidragger;\n});\n\n// drag\n(function (window, factory) {\n  // universal module definition\n  /* jshint strict: false */\n  if (typeof define == 'function' && define.amd) {\n    // AMD\n    define('flickity/js/drag', ['./flickity', 'unidragger/unidragger', 'fizzy-ui-utils/utils'], function (Flickity, Unidragger, utils) {\n      return factory(window, Flickity, Unidragger, utils);\n    });\n  } else if ((typeof module === 'undefined' ? 'undefined' : _typeof(module)) == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory(window, require('./flickity'), require('unidragger'), require('fizzy-ui-utils'));\n  } else {\n    // browser global\n    window.Flickity = factory(window, window.Flickity, window.Unidragger, window.fizzyUIUtils);\n  }\n})(window, function factory(window, Flickity, Unidragger, utils) {\n\n  // ----- defaults ----- //\n\n  utils.extend(Flickity.defaults, {\n    draggable: '>1',\n    dragThreshold: 3\n  });\n\n  // ----- create ----- //\n\n  Flickity.createMethods.push('_createDrag');\n\n  // -------------------------- drag prototype -------------------------- //\n\n  var proto = Flickity.prototype;\n  utils.extend(proto, Unidragger.prototype);\n  proto._touchActionValue = 'pan-y';\n\n  // --------------------------  -------------------------- //\n\n  var isTouch = 'createTouch' in document;\n  var isTouchmoveScrollCanceled = false;\n\n  proto._createDrag = function () {\n    this.on('activate', this.onActivateDrag);\n    this.on('uiChange', this._uiChangeDrag);\n    this.on('childUIPointerDown', this._childUIPointerDownDrag);\n    this.on('deactivate', this.unbindDrag);\n    this.on('cellChange', this.updateDraggable);\n    // TODO updateDraggable on resize? if groupCells & slides change\n    // HACK - add seemingly innocuous handler to fix iOS 10 scroll behavior\n    // #457, RubaXa/Sortable#973\n    if (isTouch && !isTouchmoveScrollCanceled) {\n      window.addEventListener('touchmove', function () {});\n      isTouchmoveScrollCanceled = true;\n    }\n  };\n\n  proto.onActivateDrag = function () {\n    this.handles = [this.viewport];\n    this.bindHandles();\n    this.updateDraggable();\n  };\n\n  proto.onDeactivateDrag = function () {\n    this.unbindHandles();\n    this.element.classList.remove('is-draggable');\n  };\n\n  proto.updateDraggable = function () {\n    // disable dragging if less than 2 slides. #278\n    if (this.options.draggable == '>1') {\n      this.isDraggable = this.slides.length > 1;\n    } else {\n      this.isDraggable = this.options.draggable;\n    }\n    if (this.isDraggable) {\n      this.element.classList.add('is-draggable');\n    } else {\n      this.element.classList.remove('is-draggable');\n    }\n  };\n\n  // backwards compatibility\n  proto.bindDrag = function () {\n    this.options.draggable = true;\n    this.updateDraggable();\n  };\n\n  proto.unbindDrag = function () {\n    this.options.draggable = false;\n    this.updateDraggable();\n  };\n\n  proto._uiChangeDrag = function () {\n    delete this.isFreeScrolling;\n  };\n\n  proto._childUIPointerDownDrag = function (event) {\n    // allow focus & preventDefault even when not draggable\n    // so child UI elements keep focus on carousel. #721\n    event.preventDefault();\n    this.pointerDownFocus(event);\n  };\n\n  // -------------------------- pointer events -------------------------- //\n\n  proto.pointerDown = function (event, pointer) {\n    if (!this.isDraggable) {\n      this._pointerDownDefault(event, pointer);\n      return;\n    }\n    var isOkay = this.okayPointerDown(event);\n    if (!isOkay) {\n      return;\n    }\n\n    this._pointerDownPreventDefault(event);\n    this.pointerDownFocus(event);\n    // blur\n    if (document.activeElement != this.element) {\n      // do not blur if already focused\n      this.pointerDownBlur();\n    }\n\n    // stop if it was moving\n    this.dragX = this.x;\n    this.viewport.classList.add('is-pointer-down');\n    // track scrolling\n    this.pointerDownScroll = getScrollPosition();\n    window.addEventListener('scroll', this);\n\n    this._pointerDownDefault(event, pointer);\n  };\n\n  // default pointerDown logic, used for staticClick\n  proto._pointerDownDefault = function (event, pointer) {\n    // track start event position\n    this.pointerDownPointer = pointer;\n    // bind move and end events\n    this._bindPostStartEvents(event);\n    this.dispatchEvent('pointerDown', event, [pointer]);\n  };\n\n  var focusNodes = {\n    INPUT: true,\n    TEXTAREA: true,\n    SELECT: true\n  };\n\n  proto.pointerDownFocus = function (event) {\n    var isFocusNode = focusNodes[event.target.nodeName];\n    if (!isFocusNode) {\n      this.focus();\n    }\n  };\n\n  proto._pointerDownPreventDefault = function (event) {\n    var isTouchStart = event.type == 'touchstart';\n    var isTouchPointer = event.pointerType == 'touch';\n    var isFocusNode = focusNodes[event.target.nodeName];\n    if (!isTouchStart && !isTouchPointer && !isFocusNode) {\n      event.preventDefault();\n    }\n  };\n\n  // ----- move ----- //\n\n  proto.hasDragStarted = function (moveVector) {\n    return Math.abs(moveVector.x) > this.options.dragThreshold;\n  };\n\n  // ----- up ----- //\n\n  proto.pointerUp = function (event, pointer) {\n    delete this.isTouchScrolling;\n    this.viewport.classList.remove('is-pointer-down');\n    this.dispatchEvent('pointerUp', event, [pointer]);\n    this._dragPointerUp(event, pointer);\n  };\n\n  proto.pointerDone = function () {\n    window.removeEventListener('scroll', this);\n    delete this.pointerDownScroll;\n  };\n\n  // -------------------------- dragging -------------------------- //\n\n  proto.dragStart = function (event, pointer) {\n    if (!this.isDraggable) {\n      return;\n    }\n    this.dragStartPosition = this.x;\n    this.startAnimation();\n    window.removeEventListener('scroll', this);\n    this.dispatchEvent('dragStart', event, [pointer]);\n  };\n\n  proto.pointerMove = function (event, pointer) {\n    var moveVector = this._dragPointerMove(event, pointer);\n    this.dispatchEvent('pointerMove', event, [pointer, moveVector]);\n    this._dragMove(event, pointer, moveVector);\n  };\n\n  proto.dragMove = function (event, pointer, moveVector) {\n    if (!this.isDraggable) {\n      return;\n    }\n    event.preventDefault();\n\n    this.previousDragX = this.dragX;\n    // reverse if right-to-left\n    var direction = this.options.rightToLeft ? -1 : 1;\n    if (this.options.wrapAround) {\n      // wrap around move. #589\n      moveVector.x = moveVector.x % this.slideableWidth;\n    }\n    var dragX = this.dragStartPosition + moveVector.x * direction;\n\n    if (!this.options.wrapAround && this.slides.length) {\n      // slow drag\n      var originBound = Math.max(-this.slides[0].target, this.dragStartPosition);\n      dragX = dragX > originBound ? (dragX + originBound) * 0.5 : dragX;\n      var endBound = Math.min(-this.getLastSlide().target, this.dragStartPosition);\n      dragX = dragX < endBound ? (dragX + endBound) * 0.5 : dragX;\n    }\n\n    this.dragX = dragX;\n\n    this.dragMoveTime = new Date();\n    this.dispatchEvent('dragMove', event, [pointer, moveVector]);\n  };\n\n  proto.dragEnd = function (event, pointer) {\n    if (!this.isDraggable) {\n      return;\n    }\n    if (this.options.freeScroll) {\n      this.isFreeScrolling = true;\n    }\n    // set selectedIndex based on where flick will end up\n    var index = this.dragEndRestingSelect();\n\n    if (this.options.freeScroll && !this.options.wrapAround) {\n      // if free-scroll & not wrap around\n      // do not free-scroll if going outside of bounding slides\n      // so bounding slides can attract slider, and keep it in bounds\n      var restingX = this.getRestingPosition();\n      this.isFreeScrolling = -restingX > this.slides[0].target && -restingX < this.getLastSlide().target;\n    } else if (!this.options.freeScroll && index == this.selectedIndex) {\n      // boost selection if selected index has not changed\n      index += this.dragEndBoostSelect();\n    }\n    delete this.previousDragX;\n    // apply selection\n    // TODO refactor this, selecting here feels weird\n    // HACK, set flag so dragging stays in correct direction\n    this.isDragSelect = this.options.wrapAround;\n    this.select(index);\n    delete this.isDragSelect;\n    this.dispatchEvent('dragEnd', event, [pointer]);\n  };\n\n  proto.dragEndRestingSelect = function () {\n    var restingX = this.getRestingPosition();\n    // how far away from selected slide\n    var distance = Math.abs(this.getSlideDistance(-restingX, this.selectedIndex));\n    // get closet resting going up and going down\n    var positiveResting = this._getClosestResting(restingX, distance, 1);\n    var negativeResting = this._getClosestResting(restingX, distance, -1);\n    // use closer resting for wrap-around\n    var index = positiveResting.distance < negativeResting.distance ? positiveResting.index : negativeResting.index;\n    return index;\n  };\n\n  /**\n   * given resting X and distance to selected cell\n   * get the distance and index of the closest cell\n   * @param {Number} restingX - estimated post-flick resting position\n   * @param {Number} distance - distance to selected cell\n   * @param {Integer} increment - +1 or -1, going up or down\n   * @returns {Object} - { distance: {Number}, index: {Integer} }\n   */\n  proto._getClosestResting = function (restingX, distance, increment) {\n    var index = this.selectedIndex;\n    var minDistance = Infinity;\n    var condition = this.options.contain && !this.options.wrapAround ?\n    // if contain, keep going if distance is equal to minDistance\n    function (d, md) {\n      return d <= md;\n    } : function (d, md) {\n      return d < md;\n    };\n    while (condition(distance, minDistance)) {\n      // measure distance to next cell\n      index += increment;\n      minDistance = distance;\n      distance = this.getSlideDistance(-restingX, index);\n      if (distance === null) {\n        break;\n      }\n      distance = Math.abs(distance);\n    }\n    return {\n      distance: minDistance,\n      // selected was previous index\n      index: index - increment\n    };\n  };\n\n  /**\n   * measure distance between x and a slide target\n   * @param {Number} x\n   * @param {Integer} index - slide index\n   */\n  proto.getSlideDistance = function (x, index) {\n    var len = this.slides.length;\n    // wrap around if at least 2 slides\n    var isWrapAround = this.options.wrapAround && len > 1;\n    var slideIndex = isWrapAround ? utils.modulo(index, len) : index;\n    var slide = this.slides[slideIndex];\n    if (!slide) {\n      return null;\n    }\n    // add distance for wrap-around slides\n    var wrap = isWrapAround ? this.slideableWidth * Math.floor(index / len) : 0;\n    return x - (slide.target + wrap);\n  };\n\n  proto.dragEndBoostSelect = function () {\n    // do not boost if no previousDragX or dragMoveTime\n    if (this.previousDragX === undefined || !this.dragMoveTime ||\n    // or if drag was held for 100 ms\n    new Date() - this.dragMoveTime > 100) {\n      return 0;\n    }\n\n    var distance = this.getSlideDistance(-this.dragX, this.selectedIndex);\n    var delta = this.previousDragX - this.dragX;\n    if (distance > 0 && delta > 0) {\n      // boost to next if moving towards the right, and positive velocity\n      return 1;\n    } else if (distance < 0 && delta < 0) {\n      // boost to previous if moving towards the left, and negative velocity\n      return -1;\n    }\n    return 0;\n  };\n\n  // ----- staticClick ----- //\n\n  proto.staticClick = function (event, pointer) {\n    // get clickedCell, if cell was clicked\n    var clickedCell = this.getParentCell(event.target);\n    var cellElem = clickedCell && clickedCell.element;\n    var cellIndex = clickedCell && this.cells.indexOf(clickedCell);\n    this.dispatchEvent('staticClick', event, [pointer, cellElem, cellIndex]);\n  };\n\n  // ----- scroll ----- //\n\n  proto.onscroll = function () {\n    var scroll = getScrollPosition();\n    var scrollMoveX = this.pointerDownScroll.x - scroll.x;\n    var scrollMoveY = this.pointerDownScroll.y - scroll.y;\n    // cancel click/tap if scroll is too much\n    if (Math.abs(scrollMoveX) > 3 || Math.abs(scrollMoveY) > 3) {\n      this._pointerDone();\n    }\n  };\n\n  // ----- utils ----- //\n\n  function getScrollPosition() {\n    return {\n      x: window.pageXOffset,\n      y: window.pageYOffset\n    };\n  }\n\n  // -----  ----- //\n\n  return Flickity;\n});\n\n/*!\n * Tap listener v2.0.0\n * listens to taps\n * MIT license\n */\n\n/*jshint browser: true, unused: true, undef: true, strict: true */\n\n(function (window, factory) {\n  // universal module definition\n  /*jshint strict: false*/ /*globals define, module, require */\n\n  if (typeof define == 'function' && define.amd) {\n    // AMD\n    define('tap-listener/tap-listener', ['unipointer/unipointer'], function (Unipointer) {\n      return factory(window, Unipointer);\n    });\n  } else if ((typeof module === 'undefined' ? 'undefined' : _typeof(module)) == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory(window, require('unipointer'));\n  } else {\n    // browser global\n    window.TapListener = factory(window, window.Unipointer);\n  }\n})(window, function factory(window, Unipointer) {\n\n  // --------------------------  TapListener -------------------------- //\n\n  function TapListener(elem) {\n    this.bindTap(elem);\n  }\n\n  // inherit Unipointer & EventEmitter\n  var proto = TapListener.prototype = Object.create(Unipointer.prototype);\n\n  /**\n   * bind tap event to element\n   * @param {Element} elem\n   */\n  proto.bindTap = function (elem) {\n    if (!elem) {\n      return;\n    }\n    this.unbindTap();\n    this.tapElement = elem;\n    this._bindStartEvent(elem, true);\n  };\n\n  proto.unbindTap = function () {\n    if (!this.tapElement) {\n      return;\n    }\n    this._bindStartEvent(this.tapElement, true);\n    delete this.tapElement;\n  };\n\n  /**\n   * pointer up\n   * @param {Event} event\n   * @param {Event or Touch} pointer\n   */\n  proto.pointerUp = function (event, pointer) {\n    // ignore emulated mouse up clicks\n    if (this.isIgnoringMouseUp && event.type == 'mouseup') {\n      return;\n    }\n\n    var pointerPoint = Unipointer.getPointerPoint(pointer);\n    var boundingRect = this.tapElement.getBoundingClientRect();\n    var scrollX = window.pageXOffset;\n    var scrollY = window.pageYOffset;\n    // calculate if pointer is inside tapElement\n    var isInside = pointerPoint.x >= boundingRect.left + scrollX && pointerPoint.x <= boundingRect.right + scrollX && pointerPoint.y >= boundingRect.top + scrollY && pointerPoint.y <= boundingRect.bottom + scrollY;\n    // trigger callback if pointer is inside element\n    if (isInside) {\n      this.emitEvent('tap', [event, pointer]);\n    }\n\n    // set flag for emulated clicks 300ms after touchend\n    if (event.type != 'mouseup') {\n      this.isIgnoringMouseUp = true;\n      // reset flag after 300ms\n      var _this = this;\n      setTimeout(function () {\n        delete _this.isIgnoringMouseUp;\n      }, 400);\n    }\n  };\n\n  proto.destroy = function () {\n    this.pointerDone();\n    this.unbindTap();\n  };\n\n  // -----  ----- //\n\n  return TapListener;\n});\n\n// prev/next buttons\n(function (window, factory) {\n  // universal module definition\n  /* jshint strict: false */\n  if (typeof define == 'function' && define.amd) {\n    // AMD\n    define('flickity/js/prev-next-button', ['./flickity', 'tap-listener/tap-listener', 'fizzy-ui-utils/utils'], function (Flickity, TapListener, utils) {\n      return factory(window, Flickity, TapListener, utils);\n    });\n  } else if ((typeof module === 'undefined' ? 'undefined' : _typeof(module)) == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory(window, require('./flickity'), require('tap-listener'), require('fizzy-ui-utils'));\n  } else {\n    // browser global\n    factory(window, window.Flickity, window.TapListener, window.fizzyUIUtils);\n  }\n})(window, function factory(window, Flickity, TapListener, utils) {\n  'use strict';\n\n  var svgURI = 'http://www.w3.org/2000/svg';\n\n  // -------------------------- PrevNextButton -------------------------- //\n\n  function PrevNextButton(direction, parent) {\n    this.direction = direction;\n    this.parent = parent;\n    this._create();\n  }\n\n  PrevNextButton.prototype = Object.create(TapListener.prototype);\n\n  PrevNextButton.prototype._create = function () {\n    // properties\n    this.isEnabled = true;\n    this.isPrevious = this.direction == -1;\n    var leftDirection = this.parent.options.rightToLeft ? 1 : -1;\n    this.isLeft = this.direction == leftDirection;\n\n    var element = this.element = document.createElement('button');\n    element.className = 'flickity-button flickity-prev-next-button';\n    element.className += this.isPrevious ? ' previous' : ' next';\n    // prevent button from submitting form http://stackoverflow.com/a/10836076/182183\n    element.setAttribute('type', 'button');\n    // init as disabled\n    this.disable();\n\n    element.setAttribute('aria-label', this.isPrevious ? 'Previous' : 'Next');\n\n    // create arrow\n    var svg = this.createSVG();\n    element.appendChild(svg);\n    // events\n    this.on('tap', this.onTap);\n    this.parent.on('select', this.update.bind(this));\n    this.on('pointerDown', this.parent.childUIPointerDown.bind(this.parent));\n  };\n\n  PrevNextButton.prototype.activate = function () {\n    this.bindTap(this.element);\n    // click events from keyboard\n    this.element.addEventListener('click', this);\n    // add to DOM\n    this.parent.element.appendChild(this.element);\n  };\n\n  PrevNextButton.prototype.deactivate = function () {\n    // remove from DOM\n    this.parent.element.removeChild(this.element);\n    // do regular TapListener destroy\n    TapListener.prototype.destroy.call(this);\n    // click events from keyboard\n    this.element.removeEventListener('click', this);\n  };\n\n  PrevNextButton.prototype.createSVG = function () {\n    var svg = document.createElementNS(svgURI, 'svg');\n    svg.setAttribute('class', 'flickity-button-icon');\n    svg.setAttribute('viewBox', '0 0 100 100');\n    var path = document.createElementNS(svgURI, 'path');\n    var pathMovements = getArrowMovements(this.parent.options.arrowShape);\n    path.setAttribute('d', pathMovements);\n    path.setAttribute('class', 'arrow');\n    // rotate arrow\n    if (!this.isLeft) {\n      path.setAttribute('transform', 'translate(100, 100) rotate(180) ');\n    }\n    svg.appendChild(path);\n    return svg;\n  };\n\n  // get SVG path movmement\n  function getArrowMovements(shape) {\n    // use shape as movement if string\n    if (typeof shape == 'string') {\n      return shape;\n    }\n    // create movement string\n    return 'M ' + shape.x0 + ',50' + ' L ' + shape.x1 + ',' + (shape.y1 + 50) + ' L ' + shape.x2 + ',' + (shape.y2 + 50) + ' L ' + shape.x3 + ',50 ' + ' L ' + shape.x2 + ',' + (50 - shape.y2) + ' L ' + shape.x1 + ',' + (50 - shape.y1) + ' Z';\n  }\n\n  PrevNextButton.prototype.onTap = function () {\n    if (!this.isEnabled) {\n      return;\n    }\n    this.parent.uiChange();\n    var method = this.isPrevious ? 'previous' : 'next';\n    this.parent[method]();\n  };\n\n  PrevNextButton.prototype.handleEvent = utils.handleEvent;\n\n  PrevNextButton.prototype.onclick = function (event) {\n    // only allow clicks from keyboard\n    var focused = document.activeElement;\n    if (focused && focused == this.element) {\n      this.onTap(event, event);\n    }\n  };\n\n  // -----  ----- //\n\n  PrevNextButton.prototype.enable = function () {\n    if (this.isEnabled) {\n      return;\n    }\n    this.element.disabled = false;\n    this.isEnabled = true;\n  };\n\n  PrevNextButton.prototype.disable = function () {\n    if (!this.isEnabled) {\n      return;\n    }\n    this.element.disabled = true;\n    this.isEnabled = false;\n  };\n\n  PrevNextButton.prototype.update = function () {\n    // index of first or last slide, if previous or next\n    var slides = this.parent.slides;\n    // enable is wrapAround and at least 2 slides\n    if (this.parent.options.wrapAround && slides.length > 1) {\n      this.enable();\n      return;\n    }\n    var lastIndex = slides.length ? slides.length - 1 : 0;\n    var boundIndex = this.isPrevious ? 0 : lastIndex;\n    var method = this.parent.selectedIndex == boundIndex ? 'disable' : 'enable';\n    this[method]();\n  };\n\n  PrevNextButton.prototype.destroy = function () {\n    this.deactivate();\n  };\n\n  // -------------------------- Flickity prototype -------------------------- //\n\n  utils.extend(Flickity.defaults, {\n    prevNextButtons: true,\n    arrowShape: {\n      x0: 10,\n      x1: 60, y1: 50,\n      x2: 70, y2: 40,\n      x3: 30\n    }\n  });\n\n  Flickity.createMethods.push('_createPrevNextButtons');\n  var proto = Flickity.prototype;\n\n  proto._createPrevNextButtons = function () {\n    if (!this.options.prevNextButtons) {\n      return;\n    }\n\n    this.prevButton = new PrevNextButton(-1, this);\n    this.nextButton = new PrevNextButton(1, this);\n\n    this.on('activate', this.activatePrevNextButtons);\n  };\n\n  proto.activatePrevNextButtons = function () {\n    this.prevButton.activate();\n    this.nextButton.activate();\n    this.on('deactivate', this.deactivatePrevNextButtons);\n  };\n\n  proto.deactivatePrevNextButtons = function () {\n    this.prevButton.deactivate();\n    this.nextButton.deactivate();\n    this.off('deactivate', this.deactivatePrevNextButtons);\n  };\n\n  // --------------------------  -------------------------- //\n\n  Flickity.PrevNextButton = PrevNextButton;\n\n  return Flickity;\n});\n\n// page dots\n(function (window, factory) {\n  // universal module definition\n  /* jshint strict: false */\n  if (typeof define == 'function' && define.amd) {\n    // AMD\n    define('flickity/js/page-dots', ['./flickity', 'tap-listener/tap-listener', 'fizzy-ui-utils/utils'], function (Flickity, TapListener, utils) {\n      return factory(window, Flickity, TapListener, utils);\n    });\n  } else if ((typeof module === 'undefined' ? 'undefined' : _typeof(module)) == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory(window, require('./flickity'), require('tap-listener'), require('fizzy-ui-utils'));\n  } else {\n    // browser global\n    factory(window, window.Flickity, window.TapListener, window.fizzyUIUtils);\n  }\n})(window, function factory(window, Flickity, TapListener, utils) {\n\n  // -------------------------- PageDots -------------------------- //\n\n\n  function PageDots(parent) {\n    this.parent = parent;\n    this._create();\n  }\n\n  PageDots.prototype = new TapListener();\n\n  PageDots.prototype._create = function () {\n    // create holder element\n    this.holder = document.createElement('ol');\n    this.holder.className = 'flickity-page-dots';\n    // create dots, array of elements\n    this.dots = [];\n    // events\n    this.on('tap', this.onTap);\n    this.on('pointerDown', this.parent.childUIPointerDown.bind(this.parent));\n  };\n\n  PageDots.prototype.activate = function () {\n    this.setDots();\n    this.bindTap(this.holder);\n    // add to DOM\n    this.parent.element.appendChild(this.holder);\n  };\n\n  PageDots.prototype.deactivate = function () {\n    // remove from DOM\n    this.parent.element.removeChild(this.holder);\n    TapListener.prototype.destroy.call(this);\n  };\n\n  PageDots.prototype.setDots = function () {\n    // get difference between number of slides and number of dots\n    var delta = this.parent.slides.length - this.dots.length;\n    if (delta > 0) {\n      this.addDots(delta);\n    } else if (delta < 0) {\n      this.removeDots(-delta);\n    }\n  };\n\n  PageDots.prototype.addDots = function (count) {\n    var fragment = document.createDocumentFragment();\n    var newDots = [];\n    var length = this.dots.length;\n    var max = length + count;\n\n    for (var i = length; i < max; i++) {\n      var dot = document.createElement('li');\n      dot.className = 'dot';\n      dot.setAttribute('aria-label', 'Page dot ' + (i + 1));\n      fragment.appendChild(dot);\n      newDots.push(dot);\n    }\n\n    this.holder.appendChild(fragment);\n    this.dots = this.dots.concat(newDots);\n  };\n\n  PageDots.prototype.removeDots = function (count) {\n    // remove from this.dots collection\n    var removeDots = this.dots.splice(this.dots.length - count, count);\n    // remove from DOM\n    removeDots.forEach(function (dot) {\n      this.holder.removeChild(dot);\n    }, this);\n  };\n\n  PageDots.prototype.updateSelected = function () {\n    // remove selected class on previous\n    if (this.selectedDot) {\n      this.selectedDot.className = 'dot';\n      this.selectedDot.removeAttribute('aria-current');\n    }\n    // don't proceed if no dots\n    if (!this.dots.length) {\n      return;\n    }\n    this.selectedDot = this.dots[this.parent.selectedIndex];\n    this.selectedDot.className = 'dot is-selected';\n    this.selectedDot.setAttribute('aria-current', 'step');\n  };\n\n  PageDots.prototype.onTap = function (event) {\n    var target = event.target;\n    // only care about dot clicks\n    if (target.nodeName != 'LI') {\n      return;\n    }\n\n    this.parent.uiChange();\n    var index = this.dots.indexOf(target);\n    this.parent.select(index);\n  };\n\n  PageDots.prototype.destroy = function () {\n    this.deactivate();\n  };\n\n  Flickity.PageDots = PageDots;\n\n  // -------------------------- Flickity -------------------------- //\n\n  utils.extend(Flickity.defaults, {\n    pageDots: true\n  });\n\n  Flickity.createMethods.push('_createPageDots');\n\n  var proto = Flickity.prototype;\n\n  proto._createPageDots = function () {\n    if (!this.options.pageDots) {\n      return;\n    }\n    this.pageDots = new PageDots(this);\n    // events\n    this.on('activate', this.activatePageDots);\n    this.on('select', this.updateSelectedPageDots);\n    this.on('cellChange', this.updatePageDots);\n    this.on('resize', this.updatePageDots);\n    this.on('deactivate', this.deactivatePageDots);\n  };\n\n  proto.activatePageDots = function () {\n    this.pageDots.activate();\n  };\n\n  proto.updateSelectedPageDots = function () {\n    this.pageDots.updateSelected();\n  };\n\n  proto.updatePageDots = function () {\n    this.pageDots.setDots();\n  };\n\n  proto.deactivatePageDots = function () {\n    this.pageDots.deactivate();\n  };\n\n  // -----  ----- //\n\n  Flickity.PageDots = PageDots;\n\n  return Flickity;\n});\n\n// player & autoPlay\n(function (window, factory) {\n  // universal module definition\n  /* jshint strict: false */\n  if (typeof define == 'function' && define.amd) {\n    // AMD\n    define('flickity/js/player', ['ev-emitter/ev-emitter', 'fizzy-ui-utils/utils', './flickity'], function (EvEmitter, utils, Flickity) {\n      return factory(EvEmitter, utils, Flickity);\n    });\n  } else if ((typeof module === 'undefined' ? 'undefined' : _typeof(module)) == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory(require('ev-emitter'), require('fizzy-ui-utils'), require('./flickity'));\n  } else {\n    // browser global\n    factory(window.EvEmitter, window.fizzyUIUtils, window.Flickity);\n  }\n})(window, function factory(EvEmitter, utils, Flickity) {\n\n  // -------------------------- Player -------------------------- //\n\n  function Player(parent) {\n    this.parent = parent;\n    this.state = 'stopped';\n    // visibility change event handler\n    this.onVisibilityChange = this.visibilityChange.bind(this);\n    this.onVisibilityPlay = this.visibilityPlay.bind(this);\n  }\n\n  Player.prototype = Object.create(EvEmitter.prototype);\n\n  // start play\n  Player.prototype.play = function () {\n    if (this.state == 'playing') {\n      return;\n    }\n    // do not play if page is hidden, start playing when page is visible\n    var isPageHidden = document.hidden;\n    if (isPageHidden) {\n      document.addEventListener('visibilitychange', this.onVisibilityPlay);\n      return;\n    }\n\n    this.state = 'playing';\n    // listen to visibility change\n    document.addEventListener('visibilitychange', this.onVisibilityChange);\n    // start ticking\n    this.tick();\n  };\n\n  Player.prototype.tick = function () {\n    // do not tick if not playing\n    if (this.state != 'playing') {\n      return;\n    }\n\n    var time = this.parent.options.autoPlay;\n    // default to 3 seconds\n    time = typeof time == 'number' ? time : 3000;\n    var _this = this;\n    // HACK: reset ticks if stopped and started within interval\n    this.clear();\n    this.timeout = setTimeout(function () {\n      _this.parent.next(true);\n      _this.tick();\n    }, time);\n  };\n\n  Player.prototype.stop = function () {\n    this.state = 'stopped';\n    this.clear();\n    // remove visibility change event\n    document.removeEventListener('visibilitychange', this.onVisibilityChange);\n  };\n\n  Player.prototype.clear = function () {\n    clearTimeout(this.timeout);\n  };\n\n  Player.prototype.pause = function () {\n    if (this.state == 'playing') {\n      this.state = 'paused';\n      this.clear();\n    }\n  };\n\n  Player.prototype.unpause = function () {\n    // re-start play if paused\n    if (this.state == 'paused') {\n      this.play();\n    }\n  };\n\n  // pause if page visibility is hidden, unpause if visible\n  Player.prototype.visibilityChange = function () {\n    var isPageHidden = document.hidden;\n    this[isPageHidden ? 'pause' : 'unpause']();\n  };\n\n  Player.prototype.visibilityPlay = function () {\n    this.play();\n    document.removeEventListener('visibilitychange', this.onVisibilityPlay);\n  };\n\n  // -------------------------- Flickity -------------------------- //\n\n  utils.extend(Flickity.defaults, {\n    pauseAutoPlayOnHover: true\n  });\n\n  Flickity.createMethods.push('_createPlayer');\n  var proto = Flickity.prototype;\n\n  proto._createPlayer = function () {\n    this.player = new Player(this);\n\n    this.on('activate', this.activatePlayer);\n    this.on('uiChange', this.stopPlayer);\n    this.on('pointerDown', this.stopPlayer);\n    this.on('deactivate', this.deactivatePlayer);\n  };\n\n  proto.activatePlayer = function () {\n    if (!this.options.autoPlay) {\n      return;\n    }\n    this.player.play();\n    this.element.addEventListener('mouseenter', this);\n  };\n\n  // Player API, don't hate the ... thanks I know where the door is\n\n  proto.playPlayer = function () {\n    this.player.play();\n  };\n\n  proto.stopPlayer = function () {\n    this.player.stop();\n  };\n\n  proto.pausePlayer = function () {\n    this.player.pause();\n  };\n\n  proto.unpausePlayer = function () {\n    this.player.unpause();\n  };\n\n  proto.deactivatePlayer = function () {\n    this.player.stop();\n    this.element.removeEventListener('mouseenter', this);\n  };\n\n  // ----- mouseenter/leave ----- //\n\n  // pause auto-play on hover\n  proto.onmouseenter = function () {\n    if (!this.options.pauseAutoPlayOnHover) {\n      return;\n    }\n    this.player.pause();\n    this.element.addEventListener('mouseleave', this);\n  };\n\n  // resume auto-play on hover off\n  proto.onmouseleave = function () {\n    this.player.unpause();\n    this.element.removeEventListener('mouseleave', this);\n  };\n\n  // -----  ----- //\n\n  Flickity.Player = Player;\n\n  return Flickity;\n});\n\n// add, remove cell\n(function (window, factory) {\n  // universal module definition\n  /* jshint strict: false */\n  if (typeof define == 'function' && define.amd) {\n    // AMD\n    define('flickity/js/add-remove-cell', ['./flickity', 'fizzy-ui-utils/utils'], function (Flickity, utils) {\n      return factory(window, Flickity, utils);\n    });\n  } else if ((typeof module === 'undefined' ? 'undefined' : _typeof(module)) == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory(window, require('./flickity'), require('fizzy-ui-utils'));\n  } else {\n    // browser global\n    factory(window, window.Flickity, window.fizzyUIUtils);\n  }\n})(window, function factory(window, Flickity, utils) {\n\n  // append cells to a document fragment\n  function getCellsFragment(cells) {\n    var fragment = document.createDocumentFragment();\n    cells.forEach(function (cell) {\n      fragment.appendChild(cell.element);\n    });\n    return fragment;\n  }\n\n  // -------------------------- add/remove cell prototype -------------------------- //\n\n  var proto = Flickity.prototype;\n\n  /**\n   * Insert, prepend, or append cells\n   * @param {Element, Array, NodeList} elems\n   * @param {Integer} index\n   */\n  proto.insert = function (elems, index) {\n    var cells = this._makeCells(elems);\n    if (!cells || !cells.length) {\n      return;\n    }\n    var len = this.cells.length;\n    // default to append\n    index = index === undefined ? len : index;\n    // add cells with document fragment\n    var fragment = getCellsFragment(cells);\n    // append to slider\n    var isAppend = index == len;\n    if (isAppend) {\n      this.slider.appendChild(fragment);\n    } else {\n      var insertCellElement = this.cells[index].element;\n      this.slider.insertBefore(fragment, insertCellElement);\n    }\n    // add to this.cells\n    if (index === 0) {\n      // prepend, add to start\n      this.cells = cells.concat(this.cells);\n    } else if (isAppend) {\n      // append, add to end\n      this.cells = this.cells.concat(cells);\n    } else {\n      // insert in this.cells\n      var endCells = this.cells.splice(index, len - index);\n      this.cells = this.cells.concat(cells).concat(endCells);\n    }\n\n    this._sizeCells(cells);\n    this.cellChange(index, true);\n  };\n\n  proto.append = function (elems) {\n    this.insert(elems, this.cells.length);\n  };\n\n  proto.prepend = function (elems) {\n    this.insert(elems, 0);\n  };\n\n  /**\n   * Remove cells\n   * @param {Element, Array, NodeList} elems\n   */\n  proto.remove = function (elems) {\n    var cells = this.getCells(elems);\n    if (!cells || !cells.length) {\n      return;\n    }\n\n    var minCellIndex = this.cells.length - 1;\n    // remove cells from collection & DOM\n    cells.forEach(function (cell) {\n      cell.remove();\n      var index = this.cells.indexOf(cell);\n      minCellIndex = Math.min(index, minCellIndex);\n      utils.removeFrom(this.cells, cell);\n    }, this);\n\n    this.cellChange(minCellIndex, true);\n  };\n\n  /**\n   * logic to be run after a cell's size changes\n   * @param {Element} elem - cell's element\n   */\n  proto.cellSizeChange = function (elem) {\n    var cell = this.getCell(elem);\n    if (!cell) {\n      return;\n    }\n    cell.getSize();\n\n    var index = this.cells.indexOf(cell);\n    this.cellChange(index);\n  };\n\n  /**\n   * logic any time a cell is changed: added, removed, or size changed\n   * @param {Integer} changedCellIndex - index of the changed cell, optional\n   */\n  proto.cellChange = function (changedCellIndex, isPositioningSlider) {\n    var prevSelectedElem = this.selectedElement;\n    this._positionCells(changedCellIndex);\n    this._getWrapShiftCells();\n    this.setGallerySize();\n    // update selectedIndex\n    // try to maintain position & select previous selected element\n    var cell = this.getCell(prevSelectedElem);\n    if (cell) {\n      this.selectedIndex = this.getCellSlideIndex(cell);\n    }\n    this.selectedIndex = Math.min(this.slides.length - 1, this.selectedIndex);\n\n    this.emitEvent('cellChange', [changedCellIndex]);\n    // position slider\n    this.select(this.selectedIndex);\n    // do not position slider after lazy load\n    if (isPositioningSlider) {\n      this.positionSliderAtSelected();\n    }\n  };\n\n  // -----  ----- //\n\n  return Flickity;\n});\n\n// lazyload\n(function (window, factory) {\n  // universal module definition\n  /* jshint strict: false */\n  if (typeof define == 'function' && define.amd) {\n    // AMD\n    define('flickity/js/lazyload', ['./flickity', 'fizzy-ui-utils/utils'], function (Flickity, utils) {\n      return factory(window, Flickity, utils);\n    });\n  } else if ((typeof module === 'undefined' ? 'undefined' : _typeof(module)) == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory(window, require('./flickity'), require('fizzy-ui-utils'));\n  } else {\n    // browser global\n    factory(window, window.Flickity, window.fizzyUIUtils);\n  }\n})(window, function factory(window, Flickity, utils) {\n  'use strict';\n\n  Flickity.createMethods.push('_createLazyload');\n  var proto = Flickity.prototype;\n\n  proto._createLazyload = function () {\n    this.on('select', this.lazyLoad);\n  };\n\n  proto.lazyLoad = function () {\n    var lazyLoad = this.options.lazyLoad;\n    if (!lazyLoad) {\n      return;\n    }\n    // get adjacent cells, use lazyLoad option for adjacent count\n    var adjCount = typeof lazyLoad == 'number' ? lazyLoad : 0;\n    var cellElems = this.getAdjacentCellElements(adjCount);\n    // get lazy images in those cells\n    var lazyImages = [];\n    cellElems.forEach(function (cellElem) {\n      var lazyCellImages = getCellLazyImages(cellElem);\n      lazyImages = lazyImages.concat(lazyCellImages);\n    });\n    // load lazy images\n    lazyImages.forEach(function (img) {\n      new LazyLoader(img, this);\n    }, this);\n  };\n\n  function getCellLazyImages(cellElem) {\n    // check if cell element is lazy image\n    if (cellElem.nodeName == 'IMG') {\n      var lazyloadAttr = cellElem.getAttribute('data-flickity-lazyload');\n      var srcAttr = cellElem.getAttribute('data-flickity-lazyload-src');\n      var srcsetAttr = cellElem.getAttribute('data-flickity-lazyload-srcset');\n      if (lazyloadAttr || srcAttr || srcsetAttr) {\n        return [cellElem];\n      }\n    }\n    // select lazy images in cell\n    var lazySelector = 'img[data-flickity-lazyload], ' + 'img[data-flickity-lazyload-src], img[data-flickity-lazyload-srcset]';\n    var imgs = cellElem.querySelectorAll(lazySelector);\n    return utils.makeArray(imgs);\n  }\n\n  // -------------------------- LazyLoader -------------------------- //\n\n  /**\n   * class to handle loading images\n   */\n  function LazyLoader(img, flickity) {\n    this.img = img;\n    this.flickity = flickity;\n    this.load();\n  }\n\n  LazyLoader.prototype.handleEvent = utils.handleEvent;\n\n  LazyLoader.prototype.load = function () {\n    this.img.addEventListener('load', this);\n    this.img.addEventListener('error', this);\n    // get src & srcset\n    var src = this.img.getAttribute('data-flickity-lazyload') || this.img.getAttribute('data-flickity-lazyload-src');\n    var srcset = this.img.getAttribute('data-flickity-lazyload-srcset');\n    // set src & serset\n    this.img.src = src;\n    if (srcset) {\n      this.img.setAttribute('srcset', srcset);\n    }\n    // remove attr\n    this.img.removeAttribute('data-flickity-lazyload');\n    this.img.removeAttribute('data-flickity-lazyload-src');\n    this.img.removeAttribute('data-flickity-lazyload-srcset');\n  };\n\n  LazyLoader.prototype.onload = function (event) {\n    this.complete(event, 'flickity-lazyloaded');\n  };\n\n  LazyLoader.prototype.onerror = function (event) {\n    this.complete(event, 'flickity-lazyerror');\n  };\n\n  LazyLoader.prototype.complete = function (event, className) {\n    // unbind events\n    this.img.removeEventListener('load', this);\n    this.img.removeEventListener('error', this);\n\n    var cell = this.flickity.getParentCell(this.img);\n    var cellElem = cell && cell.element;\n    this.flickity.cellSizeChange(cellElem);\n\n    this.img.classList.add(className);\n    this.flickity.dispatchEvent('lazyLoad', event, cellElem);\n  };\n\n  // -----  ----- //\n\n  Flickity.LazyLoader = LazyLoader;\n\n  return Flickity;\n});\n\n/*!\n * Flickity v2.1.1\n * Touch, responsive, flickable carousels\n *\n * Licensed GPLv3 for open source use\n * or Flickity Commercial License for commercial use\n *\n * https://flickity.metafizzy.co\n * Copyright 2015-2018 Metafizzy\n */\n\n(function (window, factory) {\n  // universal module definition\n  /* jshint strict: false */\n  if (typeof define == 'function' && define.amd) {\n    // AMD\n    define('flickity/js/index', ['./flickity', './drag', './prev-next-button', './page-dots', './player', './add-remove-cell', './lazyload'], factory);\n  } else if ((typeof module === 'undefined' ? 'undefined' : _typeof(module)) == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory(require('./flickity'), require('./drag'), require('./prev-next-button'), require('./page-dots'), require('./player'), require('./add-remove-cell'), require('./lazyload'));\n  }\n})(window, function factory(Flickity) {\n  /*jshint strict: false*/\n  return Flickity;\n});\n\n/*!\n * Flickity asNavFor v2.0.1\n * enable asNavFor for Flickity\n */\n\n/*jshint browser: true, undef: true, unused: true, strict: true*/\n\n(function (window, factory) {\n  // universal module definition\n  /*jshint strict: false */ /*globals define, module, require */\n  if (typeof define == 'function' && define.amd) {\n    // AMD\n    define('flickity-as-nav-for/as-nav-for', ['flickity/js/index', 'fizzy-ui-utils/utils'], factory);\n  } else if ((typeof module === 'undefined' ? 'undefined' : _typeof(module)) == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory(require('flickity'), require('fizzy-ui-utils'));\n  } else {\n    // browser global\n    window.Flickity = factory(window.Flickity, window.fizzyUIUtils);\n  }\n})(window, function factory(Flickity, utils) {\n\n  // -------------------------- asNavFor prototype -------------------------- //\n\n  // Flickity.defaults.asNavFor = null;\n\n  Flickity.createMethods.push('_createAsNavFor');\n\n  var proto = Flickity.prototype;\n\n  proto._createAsNavFor = function () {\n    this.on('activate', this.activateAsNavFor);\n    this.on('deactivate', this.deactivateAsNavFor);\n    this.on('destroy', this.destroyAsNavFor);\n\n    var asNavForOption = this.options.asNavFor;\n    if (!asNavForOption) {\n      return;\n    }\n    // HACK do async, give time for other flickity to be initalized\n    var _this = this;\n    setTimeout(function initNavCompanion() {\n      _this.setNavCompanion(asNavForOption);\n    });\n  };\n\n  proto.setNavCompanion = function (elem) {\n    elem = utils.getQueryElement(elem);\n    var companion = Flickity.data(elem);\n    // stop if no companion or companion is self\n    if (!companion || companion == this) {\n      return;\n    }\n\n    this.navCompanion = companion;\n    // companion select\n    var _this = this;\n    this.onNavCompanionSelect = function () {\n      _this.navCompanionSelect();\n    };\n    companion.on('select', this.onNavCompanionSelect);\n    // click\n    this.on('staticClick', this.onNavStaticClick);\n\n    this.navCompanionSelect(true);\n  };\n\n  proto.navCompanionSelect = function (isInstant) {\n    if (!this.navCompanion) {\n      return;\n    }\n    // select slide that matches first cell of slide\n    var selectedCell = this.navCompanion.selectedCells[0];\n    var firstIndex = this.navCompanion.cells.indexOf(selectedCell);\n    var lastIndex = firstIndex + this.navCompanion.selectedCells.length - 1;\n    var selectIndex = Math.floor(lerp(firstIndex, lastIndex, this.navCompanion.cellAlign));\n    this.selectCell(selectIndex, false, isInstant);\n    // set nav selected class\n    this.removeNavSelectedElements();\n    // stop if companion has more cells than this one\n    if (selectIndex >= this.cells.length) {\n      return;\n    }\n\n    var selectedCells = this.cells.slice(firstIndex, lastIndex + 1);\n    this.navSelectedElements = selectedCells.map(function (cell) {\n      return cell.element;\n    });\n    this.changeNavSelectedClass('add');\n  };\n\n  function lerp(a, b, t) {\n    return (b - a) * t + a;\n  }\n\n  proto.changeNavSelectedClass = function (method) {\n    this.navSelectedElements.forEach(function (navElem) {\n      navElem.classList[method]('is-nav-selected');\n    });\n  };\n\n  proto.activateAsNavFor = function () {\n    this.navCompanionSelect(true);\n  };\n\n  proto.removeNavSelectedElements = function () {\n    if (!this.navSelectedElements) {\n      return;\n    }\n    this.changeNavSelectedClass('remove');\n    delete this.navSelectedElements;\n  };\n\n  proto.onNavStaticClick = function (event, pointer, cellElement, cellIndex) {\n    if (typeof cellIndex == 'number') {\n      this.navCompanion.selectCell(cellIndex);\n    }\n  };\n\n  proto.deactivateAsNavFor = function () {\n    this.removeNavSelectedElements();\n  };\n\n  proto.destroyAsNavFor = function () {\n    if (!this.navCompanion) {\n      return;\n    }\n    this.navCompanion.off('select', this.onNavCompanionSelect);\n    this.off('staticClick', this.onNavStaticClick);\n    delete this.navCompanion;\n  };\n\n  // -----  ----- //\n\n  return Flickity;\n});\n\n/*!\n * imagesLoaded v4.1.4\n * JavaScript is all like \"You images are done yet or what?\"\n * MIT License\n */\n\n(function (window, factory) {\n  'use strict';\n  // universal module definition\n\n  /*global define: false, module: false, require: false */\n\n  if (typeof define == 'function' && define.amd) {\n    // AMD\n    define('imagesloaded/imagesloaded', ['ev-emitter/ev-emitter'], function (EvEmitter) {\n      return factory(window, EvEmitter);\n    });\n  } else if ((typeof module === 'undefined' ? 'undefined' : _typeof(module)) == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory(window, require('ev-emitter'));\n  } else {\n    // browser global\n    window.imagesLoaded = factory(window, window.EvEmitter);\n  }\n})(typeof window !== 'undefined' ? window : undefined,\n\n// --------------------------  factory -------------------------- //\n\nfunction factory(window, EvEmitter) {\n\n  var $ = window.jQuery;\n  var console = window.console;\n\n  // -------------------------- helpers -------------------------- //\n\n  // extend objects\n  function extend(a, b) {\n    for (var prop in b) {\n      a[prop] = b[prop];\n    }\n    return a;\n  }\n\n  var arraySlice = Array.prototype.slice;\n\n  // turn element or nodeList into an array\n  function makeArray(obj) {\n    if (Array.isArray(obj)) {\n      // use object if already an array\n      return obj;\n    }\n\n    var isArrayLike = (typeof obj === 'undefined' ? 'undefined' : _typeof(obj)) == 'object' && typeof obj.length == 'number';\n    if (isArrayLike) {\n      // convert nodeList to array\n      return arraySlice.call(obj);\n    }\n\n    // array of single index\n    return [obj];\n  }\n\n  // -------------------------- imagesLoaded -------------------------- //\n\n  /**\n   * @param {Array, Element, NodeList, String} elem\n   * @param {Object or Function} options - if function, use as callback\n   * @param {Function} onAlways - callback function\n   */\n  function ImagesLoaded(elem, options, onAlways) {\n    // coerce ImagesLoaded() without new, to be new ImagesLoaded()\n    if (!(this instanceof ImagesLoaded)) {\n      return new ImagesLoaded(elem, options, onAlways);\n    }\n    // use elem as selector string\n    var queryElem = elem;\n    if (typeof elem == 'string') {\n      queryElem = document.querySelectorAll(elem);\n    }\n    // bail if bad element\n    if (!queryElem) {\n      console.error('Bad element for imagesLoaded ' + (queryElem || elem));\n      return;\n    }\n\n    this.elements = makeArray(queryElem);\n    this.options = extend({}, this.options);\n    // shift arguments if no options set\n    if (typeof options == 'function') {\n      onAlways = options;\n    } else {\n      extend(this.options, options);\n    }\n\n    if (onAlways) {\n      this.on('always', onAlways);\n    }\n\n    this.getImages();\n\n    if ($) {\n      // add jQuery Deferred object\n      this.jqDeferred = new $.Deferred();\n    }\n\n    // HACK check async to allow time to bind listeners\n    setTimeout(this.check.bind(this));\n  }\n\n  ImagesLoaded.prototype = Object.create(EvEmitter.prototype);\n\n  ImagesLoaded.prototype.options = {};\n\n  ImagesLoaded.prototype.getImages = function () {\n    this.images = [];\n\n    // filter & find items if we have an item selector\n    this.elements.forEach(this.addElementImages, this);\n  };\n\n  /**\n   * @param {Node} element\n   */\n  ImagesLoaded.prototype.addElementImages = function (elem) {\n    // filter siblings\n    if (elem.nodeName == 'IMG') {\n      this.addImage(elem);\n    }\n    // get background image on element\n    if (this.options.background === true) {\n      this.addElementBackgroundImages(elem);\n    }\n\n    // find children\n    // no non-element nodes, #143\n    var nodeType = elem.nodeType;\n    if (!nodeType || !elementNodeTypes[nodeType]) {\n      return;\n    }\n    var childImgs = elem.querySelectorAll('img');\n    // concat childElems to filterFound array\n    for (var i = 0; i < childImgs.length; i++) {\n      var img = childImgs[i];\n      this.addImage(img);\n    }\n\n    // get child background images\n    if (typeof this.options.background == 'string') {\n      var children = elem.querySelectorAll(this.options.background);\n      for (i = 0; i < children.length; i++) {\n        var child = children[i];\n        this.addElementBackgroundImages(child);\n      }\n    }\n  };\n\n  var elementNodeTypes = {\n    1: true,\n    9: true,\n    11: true\n  };\n\n  ImagesLoaded.prototype.addElementBackgroundImages = function (elem) {\n    var style = getComputedStyle(elem);\n    if (!style) {\n      // Firefox returns null if in a hidden iframe https://bugzil.la/548397\n      return;\n    }\n    // get url inside url(\"...\")\n    var reURL = /url\\((['\"])?(.*?)\\1\\)/gi;\n    var matches = reURL.exec(style.backgroundImage);\n    while (matches !== null) {\n      var url = matches && matches[2];\n      if (url) {\n        this.addBackground(url, elem);\n      }\n      matches = reURL.exec(style.backgroundImage);\n    }\n  };\n\n  /**\n   * @param {Image} img\n   */\n  ImagesLoaded.prototype.addImage = function (img) {\n    var loadingImage = new LoadingImage(img);\n    this.images.push(loadingImage);\n  };\n\n  ImagesLoaded.prototype.addBackground = function (url, elem) {\n    var background = new Background(url, elem);\n    this.images.push(background);\n  };\n\n  ImagesLoaded.prototype.check = function () {\n    var _this = this;\n    this.progressedCount = 0;\n    this.hasAnyBroken = false;\n    // complete if no images\n    if (!this.images.length) {\n      this.complete();\n      return;\n    }\n\n    function onProgress(image, elem, message) {\n      // HACK - Chrome triggers event before object properties have changed. #83\n      setTimeout(function () {\n        _this.progress(image, elem, message);\n      });\n    }\n\n    this.images.forEach(function (loadingImage) {\n      loadingImage.once('progress', onProgress);\n      loadingImage.check();\n    });\n  };\n\n  ImagesLoaded.prototype.progress = function (image, elem, message) {\n    this.progressedCount++;\n    this.hasAnyBroken = this.hasAnyBroken || !image.isLoaded;\n    // progress event\n    this.emitEvent('progress', [this, image, elem]);\n    if (this.jqDeferred && this.jqDeferred.notify) {\n      this.jqDeferred.notify(this, image);\n    }\n    // check if completed\n    if (this.progressedCount == this.images.length) {\n      this.complete();\n    }\n\n    if (this.options.debug && console) {\n      console.log('progress: ' + message, image, elem);\n    }\n  };\n\n  ImagesLoaded.prototype.complete = function () {\n    var eventName = this.hasAnyBroken ? 'fail' : 'done';\n    this.isComplete = true;\n    this.emitEvent(eventName, [this]);\n    this.emitEvent('always', [this]);\n    if (this.jqDeferred) {\n      var jqMethod = this.hasAnyBroken ? 'reject' : 'resolve';\n      this.jqDeferred[jqMethod](this);\n    }\n  };\n\n  // --------------------------  -------------------------- //\n\n  function LoadingImage(img) {\n    this.img = img;\n  }\n\n  LoadingImage.prototype = Object.create(EvEmitter.prototype);\n\n  LoadingImage.prototype.check = function () {\n    // If complete is true and browser supports natural sizes,\n    // try to check for image status manually.\n    var isComplete = this.getIsImageComplete();\n    if (isComplete) {\n      // report based on naturalWidth\n      this.confirm(this.img.naturalWidth !== 0, 'naturalWidth');\n      return;\n    }\n\n    // If none of the checks above matched, simulate loading on detached element.\n    this.proxyImage = new Image();\n    this.proxyImage.addEventListener('load', this);\n    this.proxyImage.addEventListener('error', this);\n    // bind to image as well for Firefox. #191\n    this.img.addEventListener('load', this);\n    this.img.addEventListener('error', this);\n    this.proxyImage.src = this.img.src;\n  };\n\n  LoadingImage.prototype.getIsImageComplete = function () {\n    // check for non-zero, non-undefined naturalWidth\n    // fixes Safari+InfiniteScroll+Masonry bug infinite-scroll#671\n    return this.img.complete && this.img.naturalWidth;\n  };\n\n  LoadingImage.prototype.confirm = function (isLoaded, message) {\n    this.isLoaded = isLoaded;\n    this.emitEvent('progress', [this, this.img, message]);\n  };\n\n  // ----- events ----- //\n\n  // trigger specified handler for event type\n  LoadingImage.prototype.handleEvent = function (event) {\n    var method = 'on' + event.type;\n    if (this[method]) {\n      this[method](event);\n    }\n  };\n\n  LoadingImage.prototype.onload = function () {\n    this.confirm(true, 'onload');\n    this.unbindEvents();\n  };\n\n  LoadingImage.prototype.onerror = function () {\n    this.confirm(false, 'onerror');\n    this.unbindEvents();\n  };\n\n  LoadingImage.prototype.unbindEvents = function () {\n    this.proxyImage.removeEventListener('load', this);\n    this.proxyImage.removeEventListener('error', this);\n    this.img.removeEventListener('load', this);\n    this.img.removeEventListener('error', this);\n  };\n\n  // -------------------------- Background -------------------------- //\n\n  function Background(url, element) {\n    this.url = url;\n    this.element = element;\n    this.img = new Image();\n  }\n\n  // inherit LoadingImage prototype\n  Background.prototype = Object.create(LoadingImage.prototype);\n\n  Background.prototype.check = function () {\n    this.img.addEventListener('load', this);\n    this.img.addEventListener('error', this);\n    this.img.src = this.url;\n    // check if image is already complete\n    var isComplete = this.getIsImageComplete();\n    if (isComplete) {\n      this.confirm(this.img.naturalWidth !== 0, 'naturalWidth');\n      this.unbindEvents();\n    }\n  };\n\n  Background.prototype.unbindEvents = function () {\n    this.img.removeEventListener('load', this);\n    this.img.removeEventListener('error', this);\n  };\n\n  Background.prototype.confirm = function (isLoaded, message) {\n    this.isLoaded = isLoaded;\n    this.emitEvent('progress', [this, this.element, message]);\n  };\n\n  // -------------------------- jQuery -------------------------- //\n\n  ImagesLoaded.makeJQueryPlugin = function (jQuery) {\n    jQuery = jQuery || window.jQuery;\n    if (!jQuery) {\n      return;\n    }\n    // set local variable\n    $ = jQuery;\n    // $().imagesLoaded()\n    $.fn.imagesLoaded = function (options, callback) {\n      var instance = new ImagesLoaded(this, options, callback);\n      return instance.jqDeferred.promise($(this));\n    };\n  };\n  // try making plugin\n  ImagesLoaded.makeJQueryPlugin();\n\n  // --------------------------  -------------------------- //\n\n  return ImagesLoaded;\n});\n\n/*!\n * Flickity imagesLoaded v2.0.0\n * enables imagesLoaded option for Flickity\n */\n\n/*jshint browser: true, strict: true, undef: true, unused: true */\n\n(function (window, factory) {\n  // universal module definition\n  /*jshint strict: false */ /*globals define, module, require */\n  if (typeof define == 'function' && define.amd) {\n    // AMD\n    define(['flickity/js/index', 'imagesloaded/imagesloaded'], function (Flickity, imagesLoaded) {\n      return factory(window, Flickity, imagesLoaded);\n    });\n  } else if ((typeof module === 'undefined' ? 'undefined' : _typeof(module)) == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory(window, require('flickity'), require('imagesloaded'));\n  } else {\n    // browser global\n    window.Flickity = factory(window, window.Flickity, window.imagesLoaded);\n  }\n})(window, function factory(window, Flickity, imagesLoaded) {\n  'use strict';\n\n  Flickity.createMethods.push('_createImagesLoaded');\n\n  var proto = Flickity.prototype;\n\n  proto._createImagesLoaded = function () {\n    this.on('activate', this.imagesLoaded);\n  };\n\n  proto.imagesLoaded = function () {\n    if (!this.options.imagesLoaded) {\n      return;\n    }\n    var _this = this;\n    function onImagesLoadedProgress(instance, image) {\n      var cell = _this.getParentCell(image.img);\n      _this.cellSizeChange(cell && cell.element);\n      if (!_this.options.freeScroll) {\n        _this.positionSliderAtSelected();\n      }\n    }\n    imagesLoaded(this.slider).on('progress', onImagesLoadedProgress);\n  };\n\n  return Flickity;\n});\n/**\n * Flickity background lazyload v1.0.0\n * lazyload background cell images\n */\n\n/*jshint browser: true, unused: true, undef: true */\n\n( function( window, factory ) {\n  // universal module definition\n  /*globals define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      'flickity/js/index',\n      'fizzy-ui-utils/utils'\n    ], factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      require('flickity'),\n      require('fizzy-ui-utils')\n    );\n  } else {\n    // browser global\n    factory(\n      window.Flickity,\n      window.fizzyUIUtils\n    );\n  }\n\n}( window, function factory( Flickity, utils ) {\n/*jshint strict: true */\n'use strict';\n\nFlickity.createMethods.push('_createBgLazyLoad');\n\nvar proto = Flickity.prototype;\n\nproto._createBgLazyLoad = function() {\n  this.on( 'select', this.bgLazyLoad );\n};\n\nproto.bgLazyLoad = function() {\n  var lazyLoad = this.options.bgLazyLoad;\n  if ( !lazyLoad ) {\n    return;\n  }\n\n  // get adjacent cells, use lazyLoad option for adjacent count\n  var adjCount = typeof lazyLoad == 'number' ? lazyLoad : 0;\n  var cellElems = this.getAdjacentCellElements( adjCount );\n\n  for ( var i=0; i < cellElems.length; i++ ) {\n    var cellElem = cellElems[i];\n    this.bgLazyLoadElem( cellElem );\n    // select lazy elems in cell\n    var children = cellElem.querySelectorAll('[data-flickity-bg-lazyload]');\n    for ( var j=0; j < children.length; j++ ) {\n      this.bgLazyLoadElem( children[j] );\n    }\n  }\n};\n\nproto.bgLazyLoadElem = function( elem ) {\n  var attr = elem.getAttribute('data-flickity-bg-lazyload');\n  if ( attr ) {\n    new BgLazyLoader( elem, attr, this );\n  }\n};\n\n// -------------------------- LazyBGLoader -------------------------- //\n\n/**\n * class to handle loading images\n */\nfunction BgLazyLoader( elem, url, flickity ) {\n  this.element = elem;\n  this.url = url;\n  this.img = new Image();\n  this.flickity = flickity;\n  this.load();\n}\n\nBgLazyLoader.prototype.handleEvent = utils.handleEvent;\n\nBgLazyLoader.prototype.load = function() {\n  this.img.addEventListener( 'load', this );\n  this.img.addEventListener( 'error', this );\n  // load image\n  this.img.src = this.url;\n  // remove attr\n  this.element.removeAttribute('data-flickity-bg-lazyload');\n};\n\nBgLazyLoader.prototype.onload = function( event ) {\n  this.element.style.backgroundImage = 'url(' + this.url + ')';\n  this.complete( event, 'flickity-bg-lazyloaded' );\n};\n\nBgLazyLoader.prototype.onerror = function( event ) {\n  this.complete( event, 'flickity-bg-lazyerror' );\n};\n\nBgLazyLoader.prototype.complete = function( event, className ) {\n  // unbind events\n  this.img.removeEventListener( 'load', this );\n  this.img.removeEventListener( 'error', this );\n\n  this.element.classList.add( className );\n  this.flickity.dispatchEvent( 'bgLazyLoad', event, this.element );\n};\n\n// -----  ----- //\n\nFlickity.BgLazyLoader = BgLazyLoader;\n\nreturn Flickity;\n\n}));\n\n'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n/**\n*  Ajax Autocomplete for jQuery, version 1.2.27\n*  (c) 2015 Tomas Kirda\n*\n*  Ajax Autocomplete for jQuery is freely distributable under the terms of an MIT-style license.\n*  For details, see the web site: https://github.com/devbridge/jQuery-Autocomplete\n*/\n\n/*jslint  browser: true, white: true, single: true, this: true, multivar: true */\n/*global define, window, document, jQuery, exports, require */\n\n// Expose plugin as an AMD module if AMD loader is present:\n(function (factory) {\n    \"use strict\";\n\n    if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define(['jquery'], factory);\n    } else if ((typeof exports === 'undefined' ? 'undefined' : _typeof(exports)) === 'object' && typeof require === 'function') {\n        // Browserify\n        factory(require('jquery'));\n    } else {\n        // Browser globals\n        factory(jQuery);\n    }\n})(function ($) {\n    'use strict';\n\n    var utils = function () {\n        return {\n            escapeRegExChars: function escapeRegExChars(value) {\n                return value.replace(/[|\\\\{}()[\\]^$+*?.]/g, \"\\\\$&\");\n            },\n            createNode: function createNode(containerClass) {\n                var div = document.createElement('div');\n                div.className = containerClass;\n                div.style.position = 'absolute';\n                div.style.display = 'none';\n                return div;\n            }\n        };\n    }(),\n        keys = {\n        ESC: 27,\n        TAB: 9,\n        RETURN: 13,\n        LEFT: 37,\n        UP: 38,\n        RIGHT: 39,\n        DOWN: 40\n    };\n\n    function Autocomplete(el, options) {\n        var noop = $.noop,\n            that = this,\n            defaults = {\n            ajaxSettings: {},\n            autoSelectFirst: false,\n            appendTo: document.body,\n            serviceUrl: null,\n            lookup: null,\n            onSelect: null,\n            width: 'auto',\n            minChars: 1,\n            maxHeight: 300,\n            deferRequestBy: 0,\n            params: {},\n            formatResult: Autocomplete.formatResult,\n            delimiter: null,\n            zIndex: 9999,\n            type: 'GET',\n            noCache: false,\n            onSearchStart: noop,\n            onSearchComplete: noop,\n            onSearchError: noop,\n            preserveInput: false,\n            containerClass: 'autocomplete-suggestions',\n            tabDisabled: false,\n            dataType: 'text',\n            currentRequest: null,\n            triggerSelectOnValidInput: true,\n            preventBadQueries: true,\n            lookupFilter: function lookupFilter(suggestion, originalQuery, queryLowerCase) {\n                return suggestion.value.toLowerCase().indexOf(queryLowerCase) !== -1;\n            },\n            paramName: 'query',\n            transformResult: function transformResult(response) {\n                return typeof response === 'string' ? $.parseJSON(response) : response;\n            },\n            showNoSuggestionNotice: false,\n            noSuggestionNotice: 'No results',\n            orientation: 'bottom',\n            forceFixPosition: false\n        };\n\n        // Shared variables:\n        that.element = el;\n        that.el = $(el);\n        that.suggestions = [];\n        that.badQueries = [];\n        that.selectedIndex = -1;\n        that.currentValue = that.element.value;\n        that.intervalId = 0;\n        that.cachedResponse = {};\n        that.onChangeInterval = null;\n        that.onChange = null;\n        that.isLocal = false;\n        that.suggestionsContainer = null;\n        that.noSuggestionsContainer = null;\n        that.options = $.extend({}, defaults, options);\n        that.classes = {\n            selected: 'autocomplete-selected',\n            suggestion: 'autocomplete-suggestion'\n        };\n        that.hint = null;\n        that.hintValue = '';\n        that.selection = null;\n\n        // Initialize and set options:\n        that.initialize();\n        that.setOptions(options);\n    }\n\n    Autocomplete.utils = utils;\n\n    $.Autocomplete = Autocomplete;\n\n    Autocomplete.formatResult = function (suggestion, currentValue) {\n        // Do not replace anything if there current value is empty\n        if (!currentValue) {\n            return suggestion.value;\n        }\n\n        var pattern = '(' + utils.escapeRegExChars(currentValue) + ')';\n\n        return suggestion.value.replace(new RegExp(pattern, 'gi'), '<strong>$1<\\/strong>').replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\"/g, '&quot;').replace(/&lt;(\\/?strong)&gt;/g, '<$1>');\n    };\n\n    Autocomplete.prototype = {\n\n        killerFn: null,\n\n        initialize: function initialize() {\n            var that = this,\n                suggestionSelector = '.' + that.classes.suggestion,\n                selected = that.classes.selected,\n                options = that.options,\n                container;\n\n            // Remove autocomplete attribute to prevent native suggestions:\n            that.element.setAttribute('autocomplete', 'off');\n\n            that.killerFn = function (e) {\n                if (!$(e.target).closest('.' + that.options.containerClass).length) {\n                    that.killSuggestions();\n                    that.disableKillerFn();\n                }\n            };\n\n            // html() deals with many types: htmlString or Element or Array or jQuery\n            that.noSuggestionsContainer = $('<div class=\"autocomplete-no-suggestion\"></div>').html(this.options.noSuggestionNotice).get(0);\n\n            that.suggestionsContainer = Autocomplete.utils.createNode(options.containerClass);\n\n            container = $(that.suggestionsContainer);\n\n            container.appendTo(options.appendTo);\n\n            // Only set width if it was provided:\n            if (options.width !== 'auto') {\n                container.css('width', options.width);\n            }\n\n            // Listen for mouse over event on suggestions list:\n            container.on('mouseover.autocomplete', suggestionSelector, function () {\n                that.activate($(this).data('index'));\n            });\n\n            // Deselect active element when mouse leaves suggestions container:\n            container.on('mouseout.autocomplete', function () {\n                that.selectedIndex = -1;\n                container.children('.' + selected).removeClass(selected);\n            });\n\n            // Listen for click event on suggestions list:\n            container.on('click.autocomplete', suggestionSelector, function () {\n                that.select($(this).data('index'));\n                return false;\n            });\n\n            that.fixPositionCapture = function () {\n                if (that.visible) {\n                    that.fixPosition();\n                }\n            };\n\n            $(window).on('resize.autocomplete', that.fixPositionCapture);\n\n            that.el.on('keydown.autocomplete', function (e) {\n                that.onKeyPress(e);\n            });\n            that.el.on('keyup.autocomplete', function (e) {\n                that.onKeyUp(e);\n            });\n            that.el.on('blur.autocomplete', function () {\n                that.onBlur();\n            });\n            that.el.on('focus.autocomplete', function () {\n                that.onFocus();\n            });\n            that.el.on('change.autocomplete', function (e) {\n                that.onKeyUp(e);\n            });\n            that.el.on('input.autocomplete', function (e) {\n                that.onKeyUp(e);\n            });\n        },\n\n        onFocus: function onFocus() {\n            var that = this;\n\n            that.fixPosition();\n\n            if (that.el.val().length >= that.options.minChars) {\n                that.onValueChange();\n            }\n        },\n\n        onBlur: function onBlur() {\n            this.enableKillerFn();\n        },\n\n        abortAjax: function abortAjax() {\n            var that = this;\n            if (that.currentRequest) {\n                that.currentRequest.abort();\n                that.currentRequest = null;\n            }\n        },\n\n        setOptions: function setOptions(suppliedOptions) {\n            var that = this,\n                options = that.options;\n\n            $.extend(options, suppliedOptions);\n\n            that.isLocal = $.isArray(options.lookup);\n\n            if (that.isLocal) {\n                options.lookup = that.verifySuggestionsFormat(options.lookup);\n            }\n\n            options.orientation = that.validateOrientation(options.orientation, 'bottom');\n\n            // Adjust height, width and z-index:\n            $(that.suggestionsContainer).css({\n                'max-height': options.maxHeight + 'px',\n                'width': options.width + 'px',\n                'z-index': options.zIndex\n            });\n        },\n\n        clearCache: function clearCache() {\n            this.cachedResponse = {};\n            this.badQueries = [];\n        },\n\n        clear: function clear() {\n            this.clearCache();\n            this.currentValue = '';\n            this.suggestions = [];\n        },\n\n        disable: function disable() {\n            var that = this;\n            that.disabled = true;\n            clearInterval(that.onChangeInterval);\n            that.abortAjax();\n        },\n\n        enable: function enable() {\n            this.disabled = false;\n        },\n\n        fixPosition: function fixPosition() {\n            // Use only when container has already its content\n\n            var that = this,\n                $container = $(that.suggestionsContainer),\n                containerParent = $container.parent().get(0);\n            // Fix position automatically when appended to body.\n            // In other cases force parameter must be given.\n            if (containerParent !== document.body && !that.options.forceFixPosition) {\n                return;\n            }\n            var siteSearchDiv = $('.site-search');\n            // Choose orientation\n            var orientation = that.options.orientation,\n                containerHeight = $container.outerHeight(),\n                height = siteSearchDiv.outerHeight(),\n                offset = siteSearchDiv.offset(),\n                styles = { 'top': offset.top, 'left': offset.left };\n\n            if (orientation === 'auto') {\n                var viewPortHeight = $(window).height(),\n                    scrollTop = $(window).scrollTop(),\n                    topOverflow = -scrollTop + offset.top - containerHeight,\n                    bottomOverflow = scrollTop + viewPortHeight - (offset.top + height + containerHeight);\n\n                orientation = Math.max(topOverflow, bottomOverflow) === topOverflow ? 'top' : 'bottom';\n            }\n\n            if (orientation === 'top') {\n                styles.top += -containerHeight;\n            } else {\n                styles.top += height;\n            }\n\n            // If container is not positioned to body,\n            // correct its position using offset parent offset\n            if (containerParent !== document.body) {\n                var opacity = $container.css('opacity'),\n                    parentOffsetDiff;\n\n                if (!that.visible) {\n                    $container.css('opacity', 0).show();\n                }\n\n                parentOffsetDiff = $container.offsetParent().offset();\n                styles.top -= parentOffsetDiff.top;\n                styles.left -= parentOffsetDiff.left;\n\n                if (!that.visible) {\n                    $container.css('opacity', opacity).hide();\n                }\n            }\n\n            if (that.options.width === 'auto') {\n                styles.width = siteSearchDiv.outerWidth() + 'px';\n            }\n\n            $container.css(styles);\n        },\n\n        enableKillerFn: function enableKillerFn() {\n            var that = this;\n            $(document).on('click.autocomplete', that.killerFn);\n        },\n\n        disableKillerFn: function disableKillerFn() {\n            var that = this;\n            $(document).off('click.autocomplete', that.killerFn);\n        },\n\n        killSuggestions: function killSuggestions() {\n            var that = this;\n            that.stopKillSuggestions();\n            that.intervalId = window.setInterval(function () {\n                if (that.visible) {\n                    // No need to restore value when \n                    // preserveInput === true, \n                    // because we did not change it\n                    if (!that.options.preserveInput) {\n                        that.el.val(that.currentValue);\n                    }\n\n                    that.hide();\n                }\n\n                that.stopKillSuggestions();\n            }, 50);\n        },\n\n        stopKillSuggestions: function stopKillSuggestions() {\n            window.clearInterval(this.intervalId);\n        },\n\n        isCursorAtEnd: function isCursorAtEnd() {\n            var that = this,\n                valLength = that.el.val().length,\n                selectionStart = that.element.selectionStart,\n                range;\n\n            if (typeof selectionStart === 'number') {\n                return selectionStart === valLength;\n            }\n            if (document.selection) {\n                range = document.selection.createRange();\n                range.moveStart('character', -valLength);\n                return valLength === range.text.length;\n            }\n            return true;\n        },\n\n        onKeyPress: function onKeyPress(e) {\n            var that = this;\n\n            // If suggestions are hidden and user presses arrow down, display suggestions:\n            if (!that.disabled && !that.visible && e.which === keys.DOWN && that.currentValue) {\n                that.suggest();\n                return;\n            }\n\n            if (that.disabled || !that.visible) {\n                return;\n            }\n\n            switch (e.which) {\n                case keys.ESC:\n                    that.el.val(that.currentValue);\n                    that.hide();\n                    break;\n                case keys.RIGHT:\n                    if (that.hint && that.options.onHint && that.isCursorAtEnd()) {\n                        that.selectHint();\n                        break;\n                    }\n                    return;\n                case keys.TAB:\n                    if (that.hint && that.options.onHint) {\n                        that.selectHint();\n                        return;\n                    }\n                    if (that.selectedIndex === -1) {\n                        that.hide();\n                        return;\n                    }\n                    that.select(that.selectedIndex);\n                    if (that.options.tabDisabled === false) {\n                        return;\n                    }\n                    break;\n                case keys.RETURN:\n                    if (that.selectedIndex === -1) {\n                        that.hide();\n                        return;\n                    }\n                    that.select(that.selectedIndex);\n                    break;\n                case keys.UP:\n                    that.moveUp();\n                    break;\n                case keys.DOWN:\n                    that.moveDown();\n                    break;\n                default:\n                    return;\n            }\n\n            // Cancel event if function did not return:\n            e.stopImmediatePropagation();\n            e.preventDefault();\n        },\n\n        onKeyUp: function onKeyUp(e) {\n            var that = this;\n\n            if (that.disabled) {\n                return;\n            }\n\n            switch (e.which) {\n                case keys.UP:\n                case keys.DOWN:\n                    return;\n            }\n\n            clearInterval(that.onChangeInterval);\n\n            if (that.currentValue !== that.el.val()) {\n                that.findBestHint();\n                if (that.options.deferRequestBy > 0) {\n                    // Defer lookup in case when value changes very quickly:\n                    that.onChangeInterval = setInterval(function () {\n                        that.onValueChange();\n                    }, that.options.deferRequestBy);\n                } else {\n                    that.onValueChange();\n                }\n            }\n        },\n\n        onValueChange: function onValueChange() {\n            var that = this,\n                options = that.options,\n                value = that.el.val(),\n                query = that.getQuery(value);\n\n            if (that.selection && that.currentValue !== query) {\n                that.selection = null;\n                (options.onInvalidateSelection || $.noop).call(that.element);\n            }\n\n            clearInterval(that.onChangeInterval);\n            that.currentValue = value;\n            that.selectedIndex = -1;\n\n            // Check existing suggestion for the match before proceeding:\n            if (options.triggerSelectOnValidInput && that.isExactMatch(query)) {\n                that.select(0);\n                return;\n            }\n\n            if (query.length < options.minChars) {\n                that.hide();\n            } else {\n                that.getSuggestions(query);\n            }\n        },\n\n        isExactMatch: function isExactMatch(query) {\n            var suggestions = this.suggestions;\n\n            return suggestions.length === 1 && suggestions[0].value.toLowerCase() === query.toLowerCase();\n        },\n\n        getQuery: function getQuery(value) {\n            var delimiter = this.options.delimiter,\n                parts;\n\n            if (!delimiter) {\n                return value;\n            }\n            parts = value.split(delimiter);\n            return $.trim(parts[parts.length - 1]);\n        },\n\n        getSuggestionsLocal: function getSuggestionsLocal(query) {\n            var that = this,\n                options = that.options,\n                queryLowerCase = query.toLowerCase(),\n                filter = options.lookupFilter,\n                limit = parseInt(options.lookupLimit, 10),\n                data;\n\n            data = {\n                suggestions: $.grep(options.lookup, function (suggestion) {\n                    return filter(suggestion, query, queryLowerCase);\n                })\n            };\n\n            if (limit && data.suggestions.length > limit) {\n                data.suggestions = data.suggestions.slice(0, limit);\n            }\n\n            return data;\n        },\n\n        getSuggestions: function getSuggestions(q) {\n            var response,\n                that = this,\n                options = that.options,\n                serviceUrl = options.serviceUrl,\n                params,\n                cacheKey,\n                ajaxSettings;\n\n            options.params[options.paramName] = q;\n            params = options.ignoreParams ? null : options.params;\n\n            if (options.onSearchStart.call(that.element, options.params) === false) {\n                return;\n            }\n\n            if ($.isFunction(options.lookup)) {\n                options.lookup(q, function (data) {\n                    that.suggestions = data.suggestions;\n                    that.suggest();\n                    options.onSearchComplete.call(that.element, q, data.suggestions);\n                });\n                return;\n            }\n\n            if (that.isLocal) {\n                response = that.getSuggestionsLocal(q);\n            } else {\n                if ($.isFunction(serviceUrl)) {\n                    serviceUrl = serviceUrl.call(that.element, q);\n                }\n                cacheKey = serviceUrl + '?' + $.param(params || {});\n                response = that.cachedResponse[cacheKey];\n            }\n\n            if (response && $.isArray(response.suggestions)) {\n                that.suggestions = response.suggestions;\n                that.suggest();\n                options.onSearchComplete.call(that.element, q, response.suggestions);\n            } else if (!that.isBadQuery(q)) {\n                that.abortAjax();\n\n                ajaxSettings = {\n                    url: serviceUrl,\n                    data: params,\n                    type: options.type,\n                    dataType: options.dataType\n                };\n\n                $.extend(ajaxSettings, options.ajaxSettings);\n\n                that.currentRequest = $.ajax(ajaxSettings).done(function (data) {\n                    var result;\n                    that.currentRequest = null;\n                    result = options.transformResult(data, q);\n                    that.processResponse(result, q, cacheKey);\n                    options.onSearchComplete.call(that.element, q, result.suggestions);\n                }).fail(function (jqXHR, textStatus, errorThrown) {\n                    options.onSearchError.call(that.element, q, jqXHR, textStatus, errorThrown);\n                });\n            } else {\n                options.onSearchComplete.call(that.element, q, []);\n            }\n        },\n\n        isBadQuery: function isBadQuery(q) {\n            if (!this.options.preventBadQueries) {\n                return false;\n            }\n\n            var badQueries = this.badQueries,\n                i = badQueries.length;\n\n            while (i--) {\n                if (q.indexOf(badQueries[i]) === 0) {\n                    return true;\n                }\n            }\n\n            return false;\n        },\n\n        hide: function hide() {\n            var that = this,\n                container = $(that.suggestionsContainer);\n\n            if ($.isFunction(that.options.onHide) && that.visible) {\n                that.options.onHide.call(that.element, container);\n            }\n\n            that.visible = false;\n            that.selectedIndex = -1;\n            clearInterval(that.onChangeInterval);\n            $(that.suggestionsContainer).hide();\n            that.signalHint(null);\n        },\n\n        suggest: function suggest() {\n            if (!this.suggestions.length) {\n                if (this.options.showNoSuggestionNotice) {\n                    this.noSuggestions();\n                } else {\n                    this.hide();\n                }\n                return;\n            }\n\n            var that = this,\n                options = that.options,\n                groupBy = options.groupBy,\n                formatResult = options.formatResult,\n                value = that.getQuery(that.currentValue),\n                className = that.classes.suggestion,\n                classSelected = that.classes.selected,\n                container = $(that.suggestionsContainer),\n                noSuggestionsContainer = $(that.noSuggestionsContainer),\n                beforeRender = options.beforeRender,\n                html = '',\n                category,\n                formatGroup = function formatGroup(suggestion, index) {\n                var currentCategory = suggestion.data[groupBy];\n\n                if (category === currentCategory) {\n                    return '';\n                }\n\n                category = currentCategory;\n\n                return '<div class=\"autocomplete-group\"><strong>' + category + '</strong></div>';\n            };\n\n            if (options.triggerSelectOnValidInput && that.isExactMatch(value)) {\n                that.select(0);\n                return;\n            }\n\n            // Build suggestions inner HTML:\n            $.each(that.suggestions, function (i, suggestion) {\n                if (groupBy) {\n                    html += formatGroup(suggestion, value, i);\n                }\n\n                html += '<div class=\"' + className + '\" data-index=\"' + i + '\">' + formatResult(suggestion, value, i) + '</div>';\n            });\n\n            this.adjustContainerWidth();\n\n            noSuggestionsContainer.detach();\n            container.html(html);\n\n            if ($.isFunction(beforeRender)) {\n                beforeRender.call(that.element, container, that.suggestions);\n            }\n\n            that.fixPosition();\n            container.show();\n\n            // Select first value by default:\n            if (options.autoSelectFirst) {\n                that.selectedIndex = 0;\n                container.scrollTop(0);\n                container.children('.' + className).first().addClass(classSelected);\n            }\n\n            that.visible = true;\n            that.findBestHint();\n        },\n\n        noSuggestions: function noSuggestions() {\n            var that = this,\n                container = $(that.suggestionsContainer),\n                noSuggestionsContainer = $(that.noSuggestionsContainer);\n\n            this.adjustContainerWidth();\n\n            // Some explicit steps. Be careful here as it easy to get\n            // noSuggestionsContainer removed from DOM if not detached properly.\n            noSuggestionsContainer.detach();\n            container.empty(); // clean suggestions if any\n            container.append(noSuggestionsContainer);\n\n            that.fixPosition();\n\n            container.show();\n            that.visible = true;\n        },\n\n        adjustContainerWidth: function adjustContainerWidth() {\n            var that = this,\n                options = that.options,\n                width,\n                container = $(that.suggestionsContainer);\n\n            // If width is auto, adjust width before displaying suggestions,\n            // because if instance was created before input had width, it will be zero.\n            // Also it adjusts if input width has changed.\n            if (options.width === 'auto') {\n                width = that.el.outerWidth();\n                container.css('width', width > 0 ? width : 300);\n            }\n        },\n\n        findBestHint: function findBestHint() {\n            var that = this,\n                value = that.el.val().toLowerCase(),\n                bestMatch = null;\n\n            if (!value) {\n                return;\n            }\n\n            $.each(that.suggestions, function (i, suggestion) {\n                var foundMatch = suggestion.value.toLowerCase().indexOf(value) === 0;\n                if (foundMatch) {\n                    bestMatch = suggestion;\n                }\n                return !foundMatch;\n            });\n\n            that.signalHint(bestMatch);\n        },\n\n        signalHint: function signalHint(suggestion) {\n            var hintValue = '',\n                that = this;\n            if (suggestion) {\n                hintValue = that.currentValue + suggestion.value.substr(that.currentValue.length);\n            }\n            if (that.hintValue !== hintValue) {\n                that.hintValue = hintValue;\n                that.hint = suggestion;\n                (this.options.onHint || $.noop)(hintValue);\n            }\n        },\n\n        verifySuggestionsFormat: function verifySuggestionsFormat(suggestions) {\n            // If suggestions is string array, convert them to supported format:\n            if (suggestions.length && typeof suggestions[0] === 'string') {\n                return $.map(suggestions, function (value) {\n                    return { value: value, data: null };\n                });\n            }\n\n            return suggestions;\n        },\n\n        validateOrientation: function validateOrientation(orientation, fallback) {\n            orientation = $.trim(orientation || '').toLowerCase();\n\n            if ($.inArray(orientation, ['auto', 'bottom', 'top']) === -1) {\n                orientation = fallback;\n            }\n\n            return orientation;\n        },\n\n        processResponse: function processResponse(result, originalQuery, cacheKey) {\n            var that = this,\n                options = that.options;\n\n            result.suggestions = that.verifySuggestionsFormat(result.suggestions);\n\n            // Cache results if cache is not disabled:\n            if (!options.noCache) {\n                that.cachedResponse[cacheKey] = result;\n                if (options.preventBadQueries && !result.suggestions.length) {\n                    that.badQueries.push(originalQuery);\n                }\n            }\n\n            // Return if originalQuery is not matching current query:\n            if (originalQuery !== that.getQuery(that.currentValue)) {\n                return;\n            }\n\n            that.suggestions = result.suggestions;\n            that.suggest();\n        },\n\n        activate: function activate(index) {\n            var that = this,\n                activeItem,\n                selected = that.classes.selected,\n                container = $(that.suggestionsContainer),\n                children = container.find('.' + that.classes.suggestion);\n\n            container.find('.' + selected).removeClass(selected);\n\n            that.selectedIndex = index;\n\n            if (that.selectedIndex !== -1 && children.length > that.selectedIndex) {\n                activeItem = children.get(that.selectedIndex);\n                $(activeItem).addClass(selected);\n                return activeItem;\n            }\n\n            return null;\n        },\n\n        selectHint: function selectHint() {\n            var that = this,\n                i = $.inArray(that.hint, that.suggestions);\n\n            that.select(i);\n        },\n\n        select: function select(i) {\n            var that = this;\n            that.hide();\n            that.onSelect(i);\n            that.disableKillerFn();\n        },\n\n        moveUp: function moveUp() {\n            var that = this;\n\n            if (that.selectedIndex === -1) {\n                return;\n            }\n\n            if (that.selectedIndex === 0) {\n                $(that.suggestionsContainer).children().first().removeClass(that.classes.selected);\n                that.selectedIndex = -1;\n                that.el.val(that.currentValue);\n                that.findBestHint();\n                return;\n            }\n\n            that.adjustScroll(that.selectedIndex - 1);\n        },\n\n        moveDown: function moveDown() {\n            var that = this;\n\n            if (that.selectedIndex === that.suggestions.length - 1) {\n                return;\n            }\n\n            that.adjustScroll(that.selectedIndex + 1);\n        },\n\n        adjustScroll: function adjustScroll(index) {\n            var that = this,\n                activeItem = that.activate(index);\n\n            if (!activeItem) {\n                return;\n            }\n\n            var offsetTop,\n                upperBound,\n                lowerBound,\n                heightDelta = $(activeItem).outerHeight();\n\n            offsetTop = activeItem.offsetTop;\n            upperBound = $(that.suggestionsContainer).scrollTop();\n            lowerBound = upperBound + that.options.maxHeight - heightDelta;\n\n            if (offsetTop < upperBound) {\n                $(that.suggestionsContainer).scrollTop(offsetTop);\n            } else if (offsetTop > lowerBound) {\n                $(that.suggestionsContainer).scrollTop(offsetTop - that.options.maxHeight + heightDelta);\n            }\n\n            if (!that.options.preserveInput) {\n                that.el.val(that.getValue(that.suggestions[index].value));\n            }\n            that.signalHint(null);\n        },\n\n        onSelect: function onSelect(index) {\n            var that = this,\n                onSelectCallback = that.options.onSelect,\n                suggestion = that.suggestions[index];\n\n            that.currentValue = that.getValue(suggestion.value);\n\n            if (that.currentValue !== that.el.val() && !that.options.preserveInput) {\n                that.el.val(that.currentValue);\n            }\n\n            that.signalHint(null);\n            that.suggestions = [];\n            that.selection = suggestion;\n\n            if ($.isFunction(onSelectCallback)) {\n                onSelectCallback.call(that.element, suggestion);\n            }\n        },\n\n        getValue: function getValue(value) {\n            var that = this,\n                delimiter = that.options.delimiter,\n                currentValue,\n                parts;\n\n            if (!delimiter) {\n                return value;\n            }\n\n            currentValue = that.currentValue;\n            parts = currentValue.split(delimiter);\n\n            if (parts.length === 1) {\n                return value;\n            }\n\n            return currentValue.substr(0, currentValue.length - parts[parts.length - 1].length) + value;\n        },\n\n        dispose: function dispose() {\n            var that = this;\n            that.el.off('.autocomplete').removeData('autocomplete');\n            that.disableKillerFn();\n            $(window).off('resize.autocomplete', that.fixPositionCapture);\n            $(that.suggestionsContainer).remove();\n        }\n    };\n\n    // Create chainable jQuery plugin:\n    $.fn.autocomplete = $.fn.devbridgeAutocomplete = function (options, args) {\n        var dataKey = 'autocomplete';\n        // If function invoked without argument return\n        // instance of the first matched element:\n        if (!arguments.length) {\n            return this.first().data(dataKey);\n        }\n\n        return this.each(function () {\n            var inputElement = $(this),\n                instance = inputElement.data(dataKey);\n\n            if (typeof options === 'string') {\n                if (instance && typeof instance[options] === 'function') {\n                    instance[options](args);\n                }\n            } else {\n                // If instance already exists, destroy it:\n                if (instance && instance.dispose) {\n                    instance.dispose();\n                }\n                instance = new Autocomplete(this, options);\n                inputElement.data(dataKey, instance);\n            }\n        });\n    };\n});\n'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n/*! Magnific Popup - v1.1.0 - 2016-02-20\n* http://dimsemenov.com/plugins/magnific-popup/\n* Copyright (c) 2016 Dmitry Semenov; */\n;(function (factory) {\n\tif (typeof define === 'function' && define.amd) {\n\t\t// AMD. Register as an anonymous module. \n\t\tdefine(['jquery'], factory);\n\t} else if ((typeof exports === 'undefined' ? 'undefined' : _typeof(exports)) === 'object') {\n\t\t// Node/CommonJS \n\t\tfactory(require('jquery'));\n\t} else {\n\t\t// Browser globals \n\t\tfactory(window.jQuery || window.Zepto);\n\t}\n})(function ($) {\n\n\t/*>>core*/\n\t/**\n  * \n  * Magnific Popup Core JS file\n  * \n  */\n\n\t/**\n  * Private static constants\n  */\n\tvar CLOSE_EVENT = 'Close',\n\t    BEFORE_CLOSE_EVENT = 'BeforeClose',\n\t    AFTER_CLOSE_EVENT = 'AfterClose',\n\t    BEFORE_APPEND_EVENT = 'BeforeAppend',\n\t    MARKUP_PARSE_EVENT = 'MarkupParse',\n\t    OPEN_EVENT = 'Open',\n\t    CHANGE_EVENT = 'Change',\n\t    NS = 'mfp',\n\t    EVENT_NS = '.' + NS,\n\t    READY_CLASS = 'mfp-ready',\n\t    REMOVING_CLASS = 'mfp-removing',\n\t    PREVENT_CLOSE_CLASS = 'mfp-prevent-close';\n\n\t/**\n  * Private vars \n  */\n\t/*jshint -W079 */\n\tvar mfp,\n\t    // As we have only one instance of MagnificPopup object, we define it locally to not to use 'this'\n\tMagnificPopup = function MagnificPopup() {},\n\t    _isJQ = !!window.jQuery,\n\t    _prevStatus,\n\t    _window = $(window),\n\t    _document,\n\t    _prevContentType,\n\t    _wrapClasses,\n\t    _currPopupType;\n\n\t/**\n  * Private functions\n  */\n\tvar _mfpOn = function _mfpOn(name, f) {\n\t\tmfp.ev.on(NS + name + EVENT_NS, f);\n\t},\n\t    _getEl = function _getEl(className, appendTo, html, raw) {\n\t\tvar el = document.createElement('div');\n\t\tel.className = 'mfp-' + className;\n\t\tif (html) {\n\t\t\tel.innerHTML = html;\n\t\t}\n\t\tif (!raw) {\n\t\t\tel = $(el);\n\t\t\tif (appendTo) {\n\t\t\t\tel.appendTo(appendTo);\n\t\t\t}\n\t\t} else if (appendTo) {\n\t\t\tappendTo.appendChild(el);\n\t\t}\n\t\treturn el;\n\t},\n\t    _mfpTrigger = function _mfpTrigger(e, data) {\n\t\tmfp.ev.triggerHandler(NS + e, data);\n\n\t\tif (mfp.st.callbacks) {\n\t\t\t// converts \"mfpEventName\" to \"eventName\" callback and triggers it if it's present\n\t\t\te = e.charAt(0).toLowerCase() + e.slice(1);\n\t\t\tif (mfp.st.callbacks[e]) {\n\t\t\t\tmfp.st.callbacks[e].apply(mfp, $.isArray(data) ? data : [data]);\n\t\t\t}\n\t\t}\n\t},\n\t    _getCloseBtn = function _getCloseBtn(type) {\n\t\tif (type !== _currPopupType || !mfp.currTemplate.closeBtn) {\n\t\t\tmfp.currTemplate.closeBtn = $(mfp.st.closeMarkup.replace('%title%', mfp.st.tClose));\n\t\t\t_currPopupType = type;\n\t\t}\n\t\treturn mfp.currTemplate.closeBtn;\n\t},\n\n\t// Initialize Magnific Popup only when called at least once\n\t_checkInstance = function _checkInstance() {\n\t\tif (!$.magnificPopup.instance) {\n\t\t\t/*jshint -W020 */\n\t\t\tmfp = new MagnificPopup();\n\t\t\tmfp.init();\n\t\t\t$.magnificPopup.instance = mfp;\n\t\t}\n\t},\n\n\t// CSS transition detection, http://stackoverflow.com/questions/7264899/detect-css-transitions-using-javascript-and-without-modernizr\n\tsupportsTransitions = function supportsTransitions() {\n\t\tvar s = document.createElement('p').style,\n\t\t    // 's' for style. better to create an element if body yet to exist\n\t\tv = ['ms', 'O', 'Moz', 'Webkit']; // 'v' for vendor\n\n\t\tif (s['transition'] !== undefined) {\n\t\t\treturn true;\n\t\t}\n\n\t\twhile (v.length) {\n\t\t\tif (v.pop() + 'Transition' in s) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t};\n\n\t/**\n  * Public functions\n  */\n\tMagnificPopup.prototype = {\n\n\t\tconstructor: MagnificPopup,\n\n\t\t/**\n   * Initializes Magnific Popup plugin. \n   * This function is triggered only once when $.fn.magnificPopup or $.magnificPopup is executed\n   */\n\t\tinit: function init() {\n\t\t\tvar appVersion = navigator.appVersion;\n\t\t\tmfp.isLowIE = mfp.isIE8 = document.all && !document.addEventListener;\n\t\t\tmfp.isAndroid = /android/gi.test(appVersion);\n\t\t\tmfp.isIOS = /iphone|ipad|ipod/gi.test(appVersion);\n\t\t\tmfp.supportsTransition = supportsTransitions();\n\n\t\t\t// We disable fixed positioned lightbox on devices that don't handle it nicely.\n\t\t\t// If you know a better way of detecting this - let me know.\n\t\t\tmfp.probablyMobile = mfp.isAndroid || mfp.isIOS || /(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent);\n\t\t\t_document = $(document);\n\n\t\t\tmfp.popupsCache = {};\n\t\t},\n\n\t\t/**\n   * Opens popup\n   * @param  data [description]\n   */\n\t\topen: function open(data) {\n\n\t\t\tvar i;\n\n\t\t\tif (data.isObj === false) {\n\t\t\t\t// convert jQuery collection to array to avoid conflicts later\n\t\t\t\tmfp.items = data.items.toArray();\n\n\t\t\t\tmfp.index = 0;\n\t\t\t\tvar items = data.items,\n\t\t\t\t    item;\n\t\t\t\tfor (i = 0; i < items.length; i++) {\n\t\t\t\t\titem = items[i];\n\t\t\t\t\tif (item.parsed) {\n\t\t\t\t\t\titem = item.el[0];\n\t\t\t\t\t}\n\t\t\t\t\tif (item === data.el[0]) {\n\t\t\t\t\t\tmfp.index = i;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tmfp.items = $.isArray(data.items) ? data.items : [data.items];\n\t\t\t\tmfp.index = data.index || 0;\n\t\t\t}\n\n\t\t\t// if popup is already opened - we just update the content\n\t\t\tif (mfp.isOpen) {\n\t\t\t\tmfp.updateItemHTML();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tmfp.types = [];\n\t\t\t_wrapClasses = '';\n\t\t\tif (data.mainEl && data.mainEl.length) {\n\t\t\t\tmfp.ev = data.mainEl.eq(0);\n\t\t\t} else {\n\t\t\t\tmfp.ev = _document;\n\t\t\t}\n\n\t\t\tif (data.key) {\n\t\t\t\tif (!mfp.popupsCache[data.key]) {\n\t\t\t\t\tmfp.popupsCache[data.key] = {};\n\t\t\t\t}\n\t\t\t\tmfp.currTemplate = mfp.popupsCache[data.key];\n\t\t\t} else {\n\t\t\t\tmfp.currTemplate = {};\n\t\t\t}\n\n\t\t\tmfp.st = $.extend(true, {}, $.magnificPopup.defaults, data);\n\t\t\tmfp.fixedContentPos = mfp.st.fixedContentPos === 'auto' ? !mfp.probablyMobile : mfp.st.fixedContentPos;\n\n\t\t\tif (mfp.st.modal) {\n\t\t\t\tmfp.st.closeOnContentClick = false;\n\t\t\t\tmfp.st.closeOnBgClick = false;\n\t\t\t\tmfp.st.showCloseBtn = false;\n\t\t\t\tmfp.st.enableEscapeKey = false;\n\t\t\t}\n\n\t\t\t// Building markup\n\t\t\t// main containers are created only once\n\t\t\tif (!mfp.bgOverlay) {\n\n\t\t\t\t// Dark overlay\n\t\t\t\tmfp.bgOverlay = _getEl('bg').on('click' + EVENT_NS, function () {\n\t\t\t\t\tmfp.close();\n\t\t\t\t});\n\n\t\t\t\tmfp.wrap = _getEl('wrap').attr('tabindex', -1).on('click' + EVENT_NS, function (e) {\n\t\t\t\t\tif (mfp._checkIfClose(e.target)) {\n\t\t\t\t\t\tmfp.close();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tmfp.container = _getEl('container', mfp.wrap);\n\t\t\t}\n\n\t\t\tmfp.contentContainer = _getEl('content');\n\t\t\tif (mfp.st.preloader) {\n\t\t\t\tmfp.preloader = _getEl('preloader', mfp.container, mfp.st.tLoading);\n\t\t\t}\n\n\t\t\t// Initializing modules\n\t\t\tvar modules = $.magnificPopup.modules;\n\t\t\tfor (i = 0; i < modules.length; i++) {\n\t\t\t\tvar n = modules[i];\n\t\t\t\tn = n.charAt(0).toUpperCase() + n.slice(1);\n\t\t\t\tmfp['init' + n].call(mfp);\n\t\t\t}\n\t\t\t_mfpTrigger('BeforeOpen');\n\n\t\t\tif (mfp.st.showCloseBtn) {\n\t\t\t\t// Close button\n\t\t\t\tif (!mfp.st.closeBtnInside) {\n\t\t\t\t\tmfp.wrap.append(_getCloseBtn());\n\t\t\t\t} else {\n\t\t\t\t\t_mfpOn(MARKUP_PARSE_EVENT, function (e, template, values, item) {\n\t\t\t\t\t\tvalues.close_replaceWith = _getCloseBtn(item.type);\n\t\t\t\t\t});\n\t\t\t\t\t_wrapClasses += ' mfp-close-btn-in';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (mfp.st.alignTop) {\n\t\t\t\t_wrapClasses += ' mfp-align-top';\n\t\t\t}\n\n\t\t\tif (mfp.fixedContentPos) {\n\t\t\t\tmfp.wrap.css({\n\t\t\t\t\toverflow: mfp.st.overflowY,\n\t\t\t\t\toverflowX: 'hidden',\n\t\t\t\t\toverflowY: mfp.st.overflowY\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tmfp.wrap.css({\n\t\t\t\t\ttop: _window.scrollTop(),\n\t\t\t\t\tposition: 'absolute'\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (mfp.st.fixedBgPos === false || mfp.st.fixedBgPos === 'auto' && !mfp.fixedContentPos) {\n\t\t\t\tmfp.bgOverlay.css({\n\t\t\t\t\theight: _document.height(),\n\t\t\t\t\tposition: 'absolute'\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (mfp.st.enableEscapeKey) {\n\t\t\t\t// Close on ESC key\n\t\t\t\t_document.on('keyup' + EVENT_NS, function (e) {\n\t\t\t\t\tif (e.keyCode === 27) {\n\t\t\t\t\t\tmfp.close();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t_window.on('resize' + EVENT_NS, function () {\n\t\t\t\tmfp.updateSize();\n\t\t\t});\n\n\t\t\tif (!mfp.st.closeOnContentClick) {\n\t\t\t\t_wrapClasses += ' mfp-auto-cursor';\n\t\t\t}\n\n\t\t\tif (_wrapClasses) mfp.wrap.addClass(_wrapClasses);\n\n\t\t\t// this triggers recalculation of layout, so we get it once to not to trigger twice\n\t\t\tvar windowHeight = mfp.wH = _window.height();\n\n\t\t\tvar windowStyles = {};\n\n\t\t\tif (mfp.fixedContentPos) {\n\t\t\t\tif (mfp._hasScrollBar(windowHeight)) {\n\t\t\t\t\tvar s = mfp._getScrollbarSize();\n\t\t\t\t\tif (s) {\n\t\t\t\t\t\twindowStyles.marginRight = s;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (mfp.fixedContentPos) {\n\t\t\t\tif (!mfp.isIE7) {\n\t\t\t\t\twindowStyles.overflow = 'hidden';\n\t\t\t\t} else {\n\t\t\t\t\t// ie7 double-scroll bug\n\t\t\t\t\t$('body, html').css('overflow', 'hidden');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar classesToadd = mfp.st.mainClass;\n\t\t\tif (mfp.isIE7) {\n\t\t\t\tclassesToadd += ' mfp-ie7';\n\t\t\t}\n\t\t\tif (classesToadd) {\n\t\t\t\tmfp._addClassToMFP(classesToadd);\n\t\t\t}\n\n\t\t\t// add content\n\t\t\tmfp.updateItemHTML();\n\n\t\t\t_mfpTrigger('BuildControls');\n\n\t\t\t// remove scrollbar, add margin e.t.c\n\t\t\t$('html').css(windowStyles);\n\n\t\t\t// add everything to DOM\n\t\t\tmfp.bgOverlay.add(mfp.wrap).prependTo(mfp.st.prependTo || $(document.body));\n\n\t\t\t// Save last focused element\n\t\t\tmfp._lastFocusedEl = document.activeElement;\n\n\t\t\t// Wait for next cycle to allow CSS transition\n\t\t\tsetTimeout(function () {\n\n\t\t\t\tif (mfp.content) {\n\t\t\t\t\tmfp._addClassToMFP(READY_CLASS);\n\t\t\t\t\tmfp._setFocus();\n\t\t\t\t} else {\n\t\t\t\t\t// if content is not defined (not loaded e.t.c) we add class only for BG\n\t\t\t\t\tmfp.bgOverlay.addClass(READY_CLASS);\n\t\t\t\t}\n\n\t\t\t\t// Trap the focus in popup\n\t\t\t\t_document.on('focusin' + EVENT_NS, mfp._onFocusIn);\n\t\t\t}, 16);\n\n\t\t\tmfp.isOpen = true;\n\t\t\tmfp.updateSize(windowHeight);\n\t\t\t_mfpTrigger(OPEN_EVENT);\n\n\t\t\treturn data;\n\t\t},\n\n\t\t/**\n   * Closes the popup\n   */\n\t\tclose: function close() {\n\t\t\tif (!mfp.isOpen) return;\n\t\t\t_mfpTrigger(BEFORE_CLOSE_EVENT);\n\n\t\t\tmfp.isOpen = false;\n\t\t\t// for CSS3 animation\n\t\t\tif (mfp.st.removalDelay && !mfp.isLowIE && mfp.supportsTransition) {\n\t\t\t\tmfp._addClassToMFP(REMOVING_CLASS);\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\tmfp._close();\n\t\t\t\t}, mfp.st.removalDelay);\n\t\t\t} else {\n\t\t\t\tmfp._close();\n\t\t\t}\n\t\t},\n\n\t\t/**\n   * Helper for close() function\n   */\n\t\t_close: function _close() {\n\t\t\t_mfpTrigger(CLOSE_EVENT);\n\n\t\t\tvar classesToRemove = REMOVING_CLASS + ' ' + READY_CLASS + ' ';\n\n\t\t\tmfp.bgOverlay.detach();\n\t\t\tmfp.wrap.detach();\n\t\t\tmfp.container.empty();\n\n\t\t\tif (mfp.st.mainClass) {\n\t\t\t\tclassesToRemove += mfp.st.mainClass + ' ';\n\t\t\t}\n\n\t\t\tmfp._removeClassFromMFP(classesToRemove);\n\n\t\t\tif (mfp.fixedContentPos) {\n\t\t\t\tvar windowStyles = { marginRight: '' };\n\t\t\t\tif (mfp.isIE7) {\n\t\t\t\t\t$('body, html').css('overflow', '');\n\t\t\t\t} else {\n\t\t\t\t\twindowStyles.overflow = '';\n\t\t\t\t}\n\t\t\t\t$('html').css(windowStyles);\n\t\t\t}\n\n\t\t\t_document.off('keyup' + EVENT_NS + ' focusin' + EVENT_NS);\n\t\t\tmfp.ev.off(EVENT_NS);\n\n\t\t\t// clean up DOM elements that aren't removed\n\t\t\tmfp.wrap.attr('class', 'mfp-wrap').removeAttr('style');\n\t\t\tmfp.bgOverlay.attr('class', 'mfp-bg');\n\t\t\tmfp.container.attr('class', 'mfp-container');\n\n\t\t\t// remove close button from target element\n\t\t\tif (mfp.st.showCloseBtn && (!mfp.st.closeBtnInside || mfp.currTemplate[mfp.currItem.type] === true)) {\n\t\t\t\tif (mfp.currTemplate.closeBtn) mfp.currTemplate.closeBtn.detach();\n\t\t\t}\n\n\t\t\tif (mfp.st.autoFocusLast && mfp._lastFocusedEl) {\n\t\t\t\t$(mfp._lastFocusedEl).focus(); // put tab focus back\n\t\t\t}\n\t\t\tmfp.currItem = null;\n\t\t\tmfp.content = null;\n\t\t\tmfp.currTemplate = null;\n\t\t\tmfp.prevHeight = 0;\n\n\t\t\t_mfpTrigger(AFTER_CLOSE_EVENT);\n\t\t},\n\n\t\tupdateSize: function updateSize(winHeight) {\n\n\t\t\tif (mfp.isIOS) {\n\t\t\t\t// fixes iOS nav bars https://github.com/dimsemenov/Magnific-Popup/issues/2\n\t\t\t\tvar zoomLevel = document.documentElement.clientWidth / window.innerWidth;\n\t\t\t\tvar height = window.innerHeight * zoomLevel;\n\t\t\t\tmfp.wrap.css('height', height);\n\t\t\t\tmfp.wH = height;\n\t\t\t} else {\n\t\t\t\tmfp.wH = winHeight || _window.height();\n\t\t\t}\n\t\t\t// Fixes #84: popup incorrectly positioned with position:relative on body\n\t\t\tif (!mfp.fixedContentPos) {\n\t\t\t\tmfp.wrap.css('height', mfp.wH);\n\t\t\t}\n\n\t\t\t_mfpTrigger('Resize');\n\t\t},\n\n\t\t/**\n   * Set content of popup based on current index\n   */\n\t\tupdateItemHTML: function updateItemHTML() {\n\t\t\tvar item = mfp.items[mfp.index];\n\n\t\t\t// Detach and perform modifications\n\t\t\tmfp.contentContainer.detach();\n\n\t\t\tif (mfp.content) mfp.content.detach();\n\n\t\t\tif (!item.parsed) {\n\t\t\t\titem = mfp.parseEl(mfp.index);\n\t\t\t}\n\n\t\t\tvar type = item.type;\n\n\t\t\t_mfpTrigger('BeforeChange', [mfp.currItem ? mfp.currItem.type : '', type]);\n\t\t\t// BeforeChange event works like so:\n\t\t\t// _mfpOn('BeforeChange', function(e, prevType, newType) { });\n\n\t\t\tmfp.currItem = item;\n\n\t\t\tif (!mfp.currTemplate[type]) {\n\t\t\t\tvar markup = mfp.st[type] ? mfp.st[type].markup : false;\n\n\t\t\t\t// allows to modify markup\n\t\t\t\t_mfpTrigger('FirstMarkupParse', markup);\n\n\t\t\t\tif (markup) {\n\t\t\t\t\tmfp.currTemplate[type] = $(markup);\n\t\t\t\t} else {\n\t\t\t\t\t// if there is no markup found we just define that template is parsed\n\t\t\t\t\tmfp.currTemplate[type] = true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (_prevContentType && _prevContentType !== item.type) {\n\t\t\t\tmfp.container.removeClass('mfp-' + _prevContentType + '-holder');\n\t\t\t}\n\n\t\t\tvar newContent = mfp['get' + type.charAt(0).toUpperCase() + type.slice(1)](item, mfp.currTemplate[type]);\n\t\t\tmfp.appendContent(newContent, type);\n\n\t\t\titem.preloaded = true;\n\n\t\t\t_mfpTrigger(CHANGE_EVENT, item);\n\t\t\t_prevContentType = item.type;\n\n\t\t\t// Append container back after its content changed\n\t\t\tmfp.container.prepend(mfp.contentContainer);\n\n\t\t\t_mfpTrigger('AfterChange');\n\t\t},\n\n\t\t/**\n   * Set HTML content of popup\n   */\n\t\tappendContent: function appendContent(newContent, type) {\n\t\t\tmfp.content = newContent;\n\n\t\t\tif (newContent) {\n\t\t\t\tif (mfp.st.showCloseBtn && mfp.st.closeBtnInside && mfp.currTemplate[type] === true) {\n\t\t\t\t\t// if there is no markup, we just append close button element inside\n\t\t\t\t\tif (!mfp.content.find('.mfp-close').length) {\n\t\t\t\t\t\tmfp.content.append(_getCloseBtn());\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tmfp.content = newContent;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tmfp.content = '';\n\t\t\t}\n\n\t\t\t_mfpTrigger(BEFORE_APPEND_EVENT);\n\t\t\tmfp.container.addClass('mfp-' + type + '-holder');\n\n\t\t\tmfp.contentContainer.append(mfp.content);\n\t\t},\n\n\t\t/**\n   * Creates Magnific Popup data object based on given data\n   * @param  {int} index Index of item to parse\n   */\n\t\tparseEl: function parseEl(index) {\n\t\t\tvar item = mfp.items[index],\n\t\t\t    type;\n\n\t\t\tif (item.tagName) {\n\t\t\t\titem = { el: $(item) };\n\t\t\t} else {\n\t\t\t\ttype = item.type;\n\t\t\t\titem = { data: item, src: item.src };\n\t\t\t}\n\n\t\t\tif (item.el) {\n\t\t\t\tvar types = mfp.types;\n\n\t\t\t\t// check for 'mfp-TYPE' class\n\t\t\t\tfor (var i = 0; i < types.length; i++) {\n\t\t\t\t\tif (item.el.hasClass('mfp-' + types[i])) {\n\t\t\t\t\t\ttype = types[i];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\titem.src = item.el.attr('data-mfp-src');\n\t\t\t\tif (!item.src) {\n\t\t\t\t\titem.src = item.el.attr('href');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\titem.type = type || mfp.st.type || 'inline';\n\t\t\titem.index = index;\n\t\t\titem.parsed = true;\n\t\t\tmfp.items[index] = item;\n\t\t\t_mfpTrigger('ElementParse', item);\n\n\t\t\treturn mfp.items[index];\n\t\t},\n\n\t\t/**\n   * Initializes single popup or a group of popups\n   */\n\t\taddGroup: function addGroup(el, options) {\n\t\t\tvar eHandler = function eHandler(e) {\n\t\t\t\te.mfpEl = this;\n\t\t\t\tmfp._openClick(e, el, options);\n\t\t\t};\n\n\t\t\tif (!options) {\n\t\t\t\toptions = {};\n\t\t\t}\n\n\t\t\tvar eName = 'click.magnificPopup';\n\t\t\toptions.mainEl = el;\n\n\t\t\tif (options.items) {\n\t\t\t\toptions.isObj = true;\n\t\t\t\tel.off(eName).on(eName, eHandler);\n\t\t\t} else {\n\t\t\t\toptions.isObj = false;\n\t\t\t\tif (options.delegate) {\n\t\t\t\t\tel.off(eName).on(eName, options.delegate, eHandler);\n\t\t\t\t} else {\n\t\t\t\t\toptions.items = el;\n\t\t\t\t\tel.off(eName).on(eName, eHandler);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t_openClick: function _openClick(e, el, options) {\n\t\t\tvar midClick = options.midClick !== undefined ? options.midClick : $.magnificPopup.defaults.midClick;\n\n\t\t\tif (!midClick && (e.which === 2 || e.ctrlKey || e.metaKey || e.altKey || e.shiftKey)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar disableOn = options.disableOn !== undefined ? options.disableOn : $.magnificPopup.defaults.disableOn;\n\n\t\t\tif (disableOn) {\n\t\t\t\tif ($.isFunction(disableOn)) {\n\t\t\t\t\tif (!disableOn.call(mfp)) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// else it's number\n\t\t\t\t\tif (_window.width() < disableOn) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (e.type) {\n\t\t\t\te.preventDefault();\n\n\t\t\t\t// This will prevent popup from closing if element is inside and popup is already opened\n\t\t\t\tif (mfp.isOpen) {\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\toptions.el = $(e.mfpEl);\n\t\t\tif (options.delegate) {\n\t\t\t\toptions.items = el.find(options.delegate);\n\t\t\t}\n\t\t\tmfp.open(options);\n\t\t},\n\n\t\t/**\n   * Updates text on preloader\n   */\n\t\tupdateStatus: function updateStatus(status, text) {\n\n\t\t\tif (mfp.preloader) {\n\t\t\t\tif (_prevStatus !== status) {\n\t\t\t\t\tmfp.container.removeClass('mfp-s-' + _prevStatus);\n\t\t\t\t}\n\n\t\t\t\tif (!text && status === 'loading') {\n\t\t\t\t\ttext = mfp.st.tLoading;\n\t\t\t\t}\n\n\t\t\t\tvar data = {\n\t\t\t\t\tstatus: status,\n\t\t\t\t\ttext: text\n\t\t\t\t};\n\t\t\t\t// allows to modify status\n\t\t\t\t_mfpTrigger('UpdateStatus', data);\n\n\t\t\t\tstatus = data.status;\n\t\t\t\ttext = data.text;\n\n\t\t\t\tmfp.preloader.html(text);\n\n\t\t\t\tmfp.preloader.find('a').on('click', function (e) {\n\t\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t});\n\n\t\t\t\tmfp.container.addClass('mfp-s-' + status);\n\t\t\t\t_prevStatus = status;\n\t\t\t}\n\t\t},\n\n\t\t/*\n  \t\"Private\" helpers that aren't private at all\n   */\n\t\t// Check to close popup or not\n\t\t// \"target\" is an element that was clicked\n\t\t_checkIfClose: function _checkIfClose(target) {\n\n\t\t\tif ($(target).hasClass(PREVENT_CLOSE_CLASS)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar closeOnContent = mfp.st.closeOnContentClick;\n\t\t\tvar closeOnBg = mfp.st.closeOnBgClick;\n\n\t\t\tif (closeOnContent && closeOnBg) {\n\t\t\t\treturn true;\n\t\t\t} else {\n\n\t\t\t\t// We close the popup if click is on close button or on preloader. Or if there is no content.\n\t\t\t\tif (!mfp.content || $(target).hasClass('mfp-close') || mfp.preloader && target === mfp.preloader[0]) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\t// if click is outside the content\n\t\t\t\tif (target !== mfp.content[0] && !$.contains(mfp.content[0], target)) {\n\t\t\t\t\tif (closeOnBg) {\n\t\t\t\t\t\t// last check, if the clicked element is in DOM, (in case it's removed onclick)\n\t\t\t\t\t\tif ($.contains(document, target)) {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else if (closeOnContent) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\t_addClassToMFP: function _addClassToMFP(cName) {\n\t\t\tmfp.bgOverlay.addClass(cName);\n\t\t\tmfp.wrap.addClass(cName);\n\t\t},\n\t\t_removeClassFromMFP: function _removeClassFromMFP(cName) {\n\t\t\tthis.bgOverlay.removeClass(cName);\n\t\t\tmfp.wrap.removeClass(cName);\n\t\t},\n\t\t_hasScrollBar: function _hasScrollBar(winHeight) {\n\t\t\treturn (mfp.isIE7 ? _document.height() : document.body.scrollHeight) > (winHeight || _window.height());\n\t\t},\n\t\t_setFocus: function _setFocus() {\n\t\t\t(mfp.st.focus ? mfp.content.find(mfp.st.focus).eq(0) : mfp.wrap).focus();\n\t\t},\n\t\t_onFocusIn: function _onFocusIn(e) {\n\t\t\tif (e.target !== mfp.wrap[0] && !$.contains(mfp.wrap[0], e.target)) {\n\t\t\t\tmfp._setFocus();\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t\t_parseMarkup: function _parseMarkup(template, values, item) {\n\t\t\tvar arr;\n\t\t\tif (item.data) {\n\t\t\t\tvalues = $.extend(item.data, values);\n\t\t\t}\n\t\t\t_mfpTrigger(MARKUP_PARSE_EVENT, [template, values, item]);\n\n\t\t\t$.each(values, function (key, value) {\n\t\t\t\tif (value === undefined || value === false) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tarr = key.split('_');\n\t\t\t\tif (arr.length > 1) {\n\t\t\t\t\tvar el = template.find(EVENT_NS + '-' + arr[0]);\n\n\t\t\t\t\tif (el.length > 0) {\n\t\t\t\t\t\tvar attr = arr[1];\n\t\t\t\t\t\tif (attr === 'replaceWith') {\n\t\t\t\t\t\t\tif (el[0] !== value[0]) {\n\t\t\t\t\t\t\t\tel.replaceWith(value);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (attr === 'img') {\n\t\t\t\t\t\t\tif (el.is('img')) {\n\t\t\t\t\t\t\t\tel.attr('src', value);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tel.replaceWith($('<img>').attr('src', value).attr('class', el.attr('class')));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tel.attr(arr[1], value);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\ttemplate.find(EVENT_NS + '-' + key).html(value);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t_getScrollbarSize: function _getScrollbarSize() {\n\t\t\t// thx David\n\t\t\tif (mfp.scrollbarSize === undefined) {\n\t\t\t\tvar scrollDiv = document.createElement(\"div\");\n\t\t\t\tscrollDiv.style.cssText = 'width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;';\n\t\t\t\tdocument.body.appendChild(scrollDiv);\n\t\t\t\tmfp.scrollbarSize = scrollDiv.offsetWidth - scrollDiv.clientWidth;\n\t\t\t\tdocument.body.removeChild(scrollDiv);\n\t\t\t}\n\t\t\treturn mfp.scrollbarSize;\n\t\t}\n\n\t}; /* MagnificPopup core prototype end */\n\n\t/**\n  * Public static functions\n  */\n\t$.magnificPopup = {\n\t\tinstance: null,\n\t\tproto: MagnificPopup.prototype,\n\t\tmodules: [],\n\n\t\topen: function open(options, index) {\n\t\t\t_checkInstance();\n\n\t\t\tif (!options) {\n\t\t\t\toptions = {};\n\t\t\t} else {\n\t\t\t\toptions = $.extend(true, {}, options);\n\t\t\t}\n\n\t\t\toptions.isObj = true;\n\t\t\toptions.index = index || 0;\n\t\t\treturn this.instance.open(options);\n\t\t},\n\n\t\tclose: function close() {\n\t\t\treturn $.magnificPopup.instance && $.magnificPopup.instance.close();\n\t\t},\n\n\t\tregisterModule: function registerModule(name, module) {\n\t\t\tif (module.options) {\n\t\t\t\t$.magnificPopup.defaults[name] = module.options;\n\t\t\t}\n\t\t\t$.extend(this.proto, module.proto);\n\t\t\tthis.modules.push(name);\n\t\t},\n\n\t\tdefaults: {\n\n\t\t\t// Info about options is in docs:\n\t\t\t// http://dimsemenov.com/plugins/magnific-popup/documentation.html#options\n\n\t\t\tdisableOn: 0,\n\n\t\t\tkey: null,\n\n\t\t\tmidClick: false,\n\n\t\t\tmainClass: '',\n\n\t\t\tpreloader: true,\n\n\t\t\tfocus: '', // CSS selector of input to focus after popup is opened\n\n\t\t\tcloseOnContentClick: false,\n\n\t\t\tcloseOnBgClick: true,\n\n\t\t\tcloseBtnInside: true,\n\n\t\t\tshowCloseBtn: true,\n\n\t\t\tenableEscapeKey: true,\n\n\t\t\tmodal: false,\n\n\t\t\talignTop: false,\n\n\t\t\tremovalDelay: 0,\n\n\t\t\tprependTo: null,\n\n\t\t\tfixedContentPos: 'auto',\n\n\t\t\tfixedBgPos: 'auto',\n\n\t\t\toverflowY: 'auto',\n\n\t\t\tcloseMarkup: '<button title=\"%title%\" type=\"button\" class=\"mfp-close\">&#215;</button>',\n\n\t\t\ttClose: 'Close (Esc)',\n\n\t\t\ttLoading: 'Loading...',\n\n\t\t\tautoFocusLast: true\n\n\t\t}\n\t};\n\n\t$.fn.magnificPopup = function (options) {\n\t\t_checkInstance();\n\n\t\tvar jqEl = $(this);\n\n\t\t// We call some API method of first param is a string\n\t\tif (typeof options === \"string\") {\n\n\t\t\tif (options === 'open') {\n\t\t\t\tvar items,\n\t\t\t\t    itemOpts = _isJQ ? jqEl.data('magnificPopup') : jqEl[0].magnificPopup,\n\t\t\t\t    index = parseInt(arguments[1], 10) || 0;\n\n\t\t\t\tif (itemOpts.items) {\n\t\t\t\t\titems = itemOpts.items[index];\n\t\t\t\t} else {\n\t\t\t\t\titems = jqEl;\n\t\t\t\t\tif (itemOpts.delegate) {\n\t\t\t\t\t\titems = items.find(itemOpts.delegate);\n\t\t\t\t\t}\n\t\t\t\t\titems = items.eq(index);\n\t\t\t\t}\n\t\t\t\tmfp._openClick({ mfpEl: items }, jqEl, itemOpts);\n\t\t\t} else {\n\t\t\t\tif (mfp.isOpen) mfp[options].apply(mfp, Array.prototype.slice.call(arguments, 1));\n\t\t\t}\n\t\t} else {\n\t\t\t// clone options obj\n\t\t\toptions = $.extend(true, {}, options);\n\n\t\t\t/*\n    * As Zepto doesn't support .data() method for objects\n    * and it works only in normal browsers\n    * we assign \"options\" object directly to the DOM element. FTW!\n    */\n\t\t\tif (_isJQ) {\n\t\t\t\tjqEl.data('magnificPopup', options);\n\t\t\t} else {\n\t\t\t\tjqEl[0].magnificPopup = options;\n\t\t\t}\n\n\t\t\tmfp.addGroup(jqEl, options);\n\t\t}\n\t\treturn jqEl;\n\t};\n\n\t/*>>core*/\n\n\t/*>>inline*/\n\n\tvar INLINE_NS = 'inline',\n\t    _hiddenClass,\n\t    _inlinePlaceholder,\n\t    _lastInlineElement,\n\t    _putInlineElementsBack = function _putInlineElementsBack() {\n\t\tif (_lastInlineElement) {\n\t\t\t_inlinePlaceholder.after(_lastInlineElement.addClass(_hiddenClass)).detach();\n\t\t\t_lastInlineElement = null;\n\t\t}\n\t};\n\n\t$.magnificPopup.registerModule(INLINE_NS, {\n\t\toptions: {\n\t\t\thiddenClass: 'hide', // will be appended with `mfp-` prefix\n\t\t\tmarkup: '',\n\t\t\ttNotFound: 'Content not found'\n\t\t},\n\t\tproto: {\n\n\t\t\tinitInline: function initInline() {\n\t\t\t\tmfp.types.push(INLINE_NS);\n\n\t\t\t\t_mfpOn(CLOSE_EVENT + '.' + INLINE_NS, function () {\n\t\t\t\t\t_putInlineElementsBack();\n\t\t\t\t});\n\t\t\t},\n\n\t\t\tgetInline: function getInline(item, template) {\n\n\t\t\t\t_putInlineElementsBack();\n\n\t\t\t\tif (item.src) {\n\t\t\t\t\tvar inlineSt = mfp.st.inline,\n\t\t\t\t\t    el = $(item.src);\n\n\t\t\t\t\tif (el.length) {\n\n\t\t\t\t\t\t// If target element has parent - we replace it with placeholder and put it back after popup is closed\n\t\t\t\t\t\tvar parent = el[0].parentNode;\n\t\t\t\t\t\tif (parent && parent.tagName) {\n\t\t\t\t\t\t\tif (!_inlinePlaceholder) {\n\t\t\t\t\t\t\t\t_hiddenClass = inlineSt.hiddenClass;\n\t\t\t\t\t\t\t\t_inlinePlaceholder = _getEl(_hiddenClass);\n\t\t\t\t\t\t\t\t_hiddenClass = 'mfp-' + _hiddenClass;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// replace target inline element with placeholder\n\t\t\t\t\t\t\t_lastInlineElement = el.after(_inlinePlaceholder).detach().removeClass(_hiddenClass);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tmfp.updateStatus('ready');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tmfp.updateStatus('error', inlineSt.tNotFound);\n\t\t\t\t\t\tel = $('<div>');\n\t\t\t\t\t}\n\n\t\t\t\t\titem.inlineElement = el;\n\t\t\t\t\treturn el;\n\t\t\t\t}\n\n\t\t\t\tmfp.updateStatus('ready');\n\t\t\t\tmfp._parseMarkup(template, {}, item);\n\t\t\t\treturn template;\n\t\t\t}\n\t\t}\n\t});\n\n\t/*>>inline*/\n\n\t/*>>ajax*/\n\tvar AJAX_NS = 'ajax',\n\t    _ajaxCur,\n\t    _removeAjaxCursor = function _removeAjaxCursor() {\n\t\tif (_ajaxCur) {\n\t\t\t$(document.body).removeClass(_ajaxCur);\n\t\t}\n\t},\n\t    _destroyAjaxRequest = function _destroyAjaxRequest() {\n\t\t_removeAjaxCursor();\n\t\tif (mfp.req) {\n\t\t\tmfp.req.abort();\n\t\t}\n\t};\n\n\t$.magnificPopup.registerModule(AJAX_NS, {\n\n\t\toptions: {\n\t\t\tsettings: null,\n\t\t\tcursor: 'mfp-ajax-cur',\n\t\t\ttError: '<a href=\"%url%\">The content</a> could not be loaded.'\n\t\t},\n\n\t\tproto: {\n\t\t\tinitAjax: function initAjax() {\n\t\t\t\tmfp.types.push(AJAX_NS);\n\t\t\t\t_ajaxCur = mfp.st.ajax.cursor;\n\n\t\t\t\t_mfpOn(CLOSE_EVENT + '.' + AJAX_NS, _destroyAjaxRequest);\n\t\t\t\t_mfpOn('BeforeChange.' + AJAX_NS, _destroyAjaxRequest);\n\t\t\t},\n\t\t\tgetAjax: function getAjax(item) {\n\n\t\t\t\tif (_ajaxCur) {\n\t\t\t\t\t$(document.body).addClass(_ajaxCur);\n\t\t\t\t}\n\n\t\t\t\tmfp.updateStatus('loading');\n\n\t\t\t\tvar opts = $.extend({\n\t\t\t\t\turl: item.src,\n\t\t\t\t\tsuccess: function success(data, textStatus, jqXHR) {\n\t\t\t\t\t\tvar temp = {\n\t\t\t\t\t\t\tdata: data,\n\t\t\t\t\t\t\txhr: jqXHR\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\t_mfpTrigger('ParseAjax', temp);\n\n\t\t\t\t\t\tmfp.appendContent($(temp.data), AJAX_NS);\n\n\t\t\t\t\t\titem.finished = true;\n\n\t\t\t\t\t\t_removeAjaxCursor();\n\n\t\t\t\t\t\tmfp._setFocus();\n\n\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\tmfp.wrap.addClass(READY_CLASS);\n\t\t\t\t\t\t}, 16);\n\n\t\t\t\t\t\tmfp.updateStatus('ready');\n\n\t\t\t\t\t\t_mfpTrigger('AjaxContentAdded');\n\t\t\t\t\t},\n\t\t\t\t\terror: function error() {\n\t\t\t\t\t\t_removeAjaxCursor();\n\t\t\t\t\t\titem.finished = item.loadError = true;\n\t\t\t\t\t\tmfp.updateStatus('error', mfp.st.ajax.tError.replace('%url%', item.src));\n\t\t\t\t\t}\n\t\t\t\t}, mfp.st.ajax.settings);\n\n\t\t\t\tmfp.req = $.ajax(opts);\n\n\t\t\t\treturn '';\n\t\t\t}\n\t\t}\n\t});\n\n\t/*>>ajax*/\n\n\t/*>>image*/\n\tvar _imgInterval,\n\t    _getTitle = function _getTitle(item) {\n\t\tif (item.data && item.data.title !== undefined) return item.data.title;\n\n\t\tvar src = mfp.st.image.titleSrc;\n\n\t\tif (src) {\n\t\t\tif ($.isFunction(src)) {\n\t\t\t\treturn src.call(mfp, item);\n\t\t\t} else if (item.el) {\n\t\t\t\treturn item.el.attr(src) || '';\n\t\t\t}\n\t\t}\n\t\treturn '';\n\t};\n\n\t$.magnificPopup.registerModule('image', {\n\n\t\toptions: {\n\t\t\tmarkup: '<div class=\"mfp-figure\">' + '<div class=\"mfp-close\"></div>' + '<figure>' + '<div class=\"mfp-img\"></div>' + '<figcaption>' + '<div class=\"mfp-bottom-bar\">' + '<div class=\"mfp-title\"></div>' + '<div class=\"mfp-counter\"></div>' + '</div>' + '</figcaption>' + '</figure>' + '</div>',\n\t\t\tcursor: 'mfp-zoom-out-cur',\n\t\t\ttitleSrc: 'title',\n\t\t\tverticalFit: true,\n\t\t\ttError: '<a href=\"%url%\">The image</a> could not be loaded.'\n\t\t},\n\n\t\tproto: {\n\t\t\tinitImage: function initImage() {\n\t\t\t\tvar imgSt = mfp.st.image,\n\t\t\t\t    ns = '.image';\n\n\t\t\t\tmfp.types.push('image');\n\n\t\t\t\t_mfpOn(OPEN_EVENT + ns, function () {\n\t\t\t\t\tif (mfp.currItem.type === 'image' && imgSt.cursor) {\n\t\t\t\t\t\t$(document.body).addClass(imgSt.cursor);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t_mfpOn(CLOSE_EVENT + ns, function () {\n\t\t\t\t\tif (imgSt.cursor) {\n\t\t\t\t\t\t$(document.body).removeClass(imgSt.cursor);\n\t\t\t\t\t}\n\t\t\t\t\t_window.off('resize' + EVENT_NS);\n\t\t\t\t});\n\n\t\t\t\t_mfpOn('Resize' + ns, mfp.resizeImage);\n\t\t\t\tif (mfp.isLowIE) {\n\t\t\t\t\t_mfpOn('AfterChange', mfp.resizeImage);\n\t\t\t\t}\n\t\t\t},\n\t\t\tresizeImage: function resizeImage() {\n\t\t\t\tvar item = mfp.currItem;\n\t\t\t\tif (!item || !item.img) return;\n\n\t\t\t\tif (mfp.st.image.verticalFit) {\n\t\t\t\t\tvar decr = 0;\n\t\t\t\t\t// fix box-sizing in ie7/8\n\t\t\t\t\tif (mfp.isLowIE) {\n\t\t\t\t\t\tdecr = parseInt(item.img.css('padding-top'), 10) + parseInt(item.img.css('padding-bottom'), 10);\n\t\t\t\t\t}\n\t\t\t\t\titem.img.css('max-height', mfp.wH - decr);\n\t\t\t\t}\n\t\t\t},\n\t\t\t_onImageHasSize: function _onImageHasSize(item) {\n\t\t\t\tif (item.img) {\n\n\t\t\t\t\titem.hasSize = true;\n\n\t\t\t\t\tif (_imgInterval) {\n\t\t\t\t\t\tclearInterval(_imgInterval);\n\t\t\t\t\t}\n\n\t\t\t\t\titem.isCheckingImgSize = false;\n\n\t\t\t\t\t_mfpTrigger('ImageHasSize', item);\n\n\t\t\t\t\tif (item.imgHidden) {\n\t\t\t\t\t\tif (mfp.content) mfp.content.removeClass('mfp-loading');\n\n\t\t\t\t\t\titem.imgHidden = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n    * Function that loops until the image has size to display elements that rely on it asap\n    */\n\t\t\tfindImageSize: function findImageSize(item) {\n\n\t\t\t\tvar counter = 0,\n\t\t\t\t    img = item.img[0],\n\t\t\t\t    mfpSetInterval = function mfpSetInterval(delay) {\n\n\t\t\t\t\tif (_imgInterval) {\n\t\t\t\t\t\tclearInterval(_imgInterval);\n\t\t\t\t\t}\n\t\t\t\t\t// decelerating interval that checks for size of an image\n\t\t\t\t\t_imgInterval = setInterval(function () {\n\t\t\t\t\t\tif (img.naturalWidth > 0) {\n\t\t\t\t\t\t\tmfp._onImageHasSize(item);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (counter > 200) {\n\t\t\t\t\t\t\tclearInterval(_imgInterval);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tcounter++;\n\t\t\t\t\t\tif (counter === 3) {\n\t\t\t\t\t\t\tmfpSetInterval(10);\n\t\t\t\t\t\t} else if (counter === 40) {\n\t\t\t\t\t\t\tmfpSetInterval(50);\n\t\t\t\t\t\t} else if (counter === 100) {\n\t\t\t\t\t\t\tmfpSetInterval(500);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, delay);\n\t\t\t\t};\n\n\t\t\t\tmfpSetInterval(1);\n\t\t\t},\n\n\t\t\tgetImage: function getImage(item, template) {\n\n\t\t\t\tvar guard = 0,\n\n\n\t\t\t\t// image load complete handler\n\t\t\t\tonLoadComplete = function onLoadComplete() {\n\t\t\t\t\tif (item) {\n\t\t\t\t\t\tif (item.img[0].complete) {\n\t\t\t\t\t\t\titem.img.off('.mfploader');\n\n\t\t\t\t\t\t\tif (item === mfp.currItem) {\n\t\t\t\t\t\t\t\tmfp._onImageHasSize(item);\n\n\t\t\t\t\t\t\t\tmfp.updateStatus('ready');\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\titem.hasSize = true;\n\t\t\t\t\t\t\titem.loaded = true;\n\n\t\t\t\t\t\t\t_mfpTrigger('ImageLoadComplete');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// if image complete check fails 200 times (20 sec), we assume that there was an error.\n\t\t\t\t\t\t\tguard++;\n\t\t\t\t\t\t\tif (guard < 200) {\n\t\t\t\t\t\t\t\tsetTimeout(onLoadComplete, 100);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tonLoadError();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\n\n\t\t\t\t// image error handler\n\t\t\t\tonLoadError = function onLoadError() {\n\t\t\t\t\tif (item) {\n\t\t\t\t\t\titem.img.off('.mfploader');\n\t\t\t\t\t\tif (item === mfp.currItem) {\n\t\t\t\t\t\t\tmfp._onImageHasSize(item);\n\t\t\t\t\t\t\tmfp.updateStatus('error', imgSt.tError.replace('%url%', item.src));\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\titem.hasSize = true;\n\t\t\t\t\t\titem.loaded = true;\n\t\t\t\t\t\titem.loadError = true;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t    imgSt = mfp.st.image;\n\n\t\t\t\tvar el = template.find('.mfp-img');\n\t\t\t\tif (el.length) {\n\t\t\t\t\tvar img = document.createElement('img');\n\t\t\t\t\timg.className = 'mfp-img';\n\t\t\t\t\tif (item.el && item.el.find('img').length) {\n\t\t\t\t\t\timg.alt = item.el.find('img').attr('alt');\n\t\t\t\t\t}\n\t\t\t\t\titem.img = $(img).on('load.mfploader', onLoadComplete).on('error.mfploader', onLoadError);\n\t\t\t\t\timg.src = item.src;\n\n\t\t\t\t\t// without clone() \"error\" event is not firing when IMG is replaced by new IMG\n\t\t\t\t\t// TODO: find a way to avoid such cloning\n\t\t\t\t\tif (el.is('img')) {\n\t\t\t\t\t\titem.img = item.img.clone();\n\t\t\t\t\t}\n\n\t\t\t\t\timg = item.img[0];\n\t\t\t\t\tif (img.naturalWidth > 0) {\n\t\t\t\t\t\titem.hasSize = true;\n\t\t\t\t\t} else if (!img.width) {\n\t\t\t\t\t\titem.hasSize = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tmfp._parseMarkup(template, {\n\t\t\t\t\ttitle: _getTitle(item),\n\t\t\t\t\timg_replaceWith: item.img\n\t\t\t\t}, item);\n\n\t\t\t\tmfp.resizeImage();\n\n\t\t\t\tif (item.hasSize) {\n\t\t\t\t\tif (_imgInterval) clearInterval(_imgInterval);\n\n\t\t\t\t\tif (item.loadError) {\n\t\t\t\t\t\ttemplate.addClass('mfp-loading');\n\t\t\t\t\t\tmfp.updateStatus('error', imgSt.tError.replace('%url%', item.src));\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttemplate.removeClass('mfp-loading');\n\t\t\t\t\t\tmfp.updateStatus('ready');\n\t\t\t\t\t}\n\t\t\t\t\treturn template;\n\t\t\t\t}\n\n\t\t\t\tmfp.updateStatus('loading');\n\t\t\t\titem.loading = true;\n\n\t\t\t\tif (!item.hasSize) {\n\t\t\t\t\titem.imgHidden = true;\n\t\t\t\t\ttemplate.addClass('mfp-loading');\n\t\t\t\t\tmfp.findImageSize(item);\n\t\t\t\t}\n\n\t\t\t\treturn template;\n\t\t\t}\n\t\t}\n\t});\n\n\t/*>>image*/\n\n\t/*>>zoom*/\n\tvar hasMozTransform,\n\t    getHasMozTransform = function getHasMozTransform() {\n\t\tif (hasMozTransform === undefined) {\n\t\t\thasMozTransform = document.createElement('p').style.MozTransform !== undefined;\n\t\t}\n\t\treturn hasMozTransform;\n\t};\n\n\t$.magnificPopup.registerModule('zoom', {\n\n\t\toptions: {\n\t\t\tenabled: false,\n\t\t\teasing: 'ease-in-out',\n\t\t\tduration: 300,\n\t\t\topener: function opener(element) {\n\t\t\t\treturn element.is('img') ? element : element.find('img');\n\t\t\t}\n\t\t},\n\n\t\tproto: {\n\n\t\t\tinitZoom: function initZoom() {\n\t\t\t\tvar zoomSt = mfp.st.zoom,\n\t\t\t\t    ns = '.zoom',\n\t\t\t\t    image;\n\n\t\t\t\tif (!zoomSt.enabled || !mfp.supportsTransition) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar duration = zoomSt.duration,\n\t\t\t\t    getElToAnimate = function getElToAnimate(image) {\n\t\t\t\t\tvar newImg = image.clone().removeAttr('style').removeAttr('class').addClass('mfp-animated-image'),\n\t\t\t\t\t    transition = 'all ' + zoomSt.duration / 1000 + 's ' + zoomSt.easing,\n\t\t\t\t\t    cssObj = {\n\t\t\t\t\t\tposition: 'fixed',\n\t\t\t\t\t\tzIndex: 9999,\n\t\t\t\t\t\tleft: 0,\n\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\t'-webkit-backface-visibility': 'hidden'\n\t\t\t\t\t},\n\t\t\t\t\t    t = 'transition';\n\n\t\t\t\t\tcssObj['-webkit-' + t] = cssObj['-moz-' + t] = cssObj['-o-' + t] = cssObj[t] = transition;\n\n\t\t\t\t\tnewImg.css(cssObj);\n\t\t\t\t\treturn newImg;\n\t\t\t\t},\n\t\t\t\t    showMainContent = function showMainContent() {\n\t\t\t\t\tmfp.content.css('visibility', 'visible');\n\t\t\t\t},\n\t\t\t\t    openTimeout,\n\t\t\t\t    animatedImg;\n\n\t\t\t\t_mfpOn('BuildControls' + ns, function () {\n\t\t\t\t\tif (mfp._allowZoom()) {\n\n\t\t\t\t\t\tclearTimeout(openTimeout);\n\t\t\t\t\t\tmfp.content.css('visibility', 'hidden');\n\n\t\t\t\t\t\t// Basically, all code below does is clones existing image, puts in on top of the current one and animated it\n\n\t\t\t\t\t\timage = mfp._getItemToZoom();\n\n\t\t\t\t\t\tif (!image) {\n\t\t\t\t\t\t\tshowMainContent();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tanimatedImg = getElToAnimate(image);\n\n\t\t\t\t\t\tanimatedImg.css(mfp._getOffset());\n\n\t\t\t\t\t\tmfp.wrap.append(animatedImg);\n\n\t\t\t\t\t\topenTimeout = setTimeout(function () {\n\t\t\t\t\t\t\tanimatedImg.css(mfp._getOffset(true));\n\t\t\t\t\t\t\topenTimeout = setTimeout(function () {\n\n\t\t\t\t\t\t\t\tshowMainContent();\n\n\t\t\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\t\t\tanimatedImg.remove();\n\t\t\t\t\t\t\t\t\timage = animatedImg = null;\n\t\t\t\t\t\t\t\t\t_mfpTrigger('ZoomAnimationEnded');\n\t\t\t\t\t\t\t\t}, 16); // avoid blink when switching images\n\t\t\t\t\t\t\t}, duration); // this timeout equals animation duration\n\t\t\t\t\t\t}, 16); // by adding this timeout we avoid short glitch at the beginning of animation\n\n\n\t\t\t\t\t\t// Lots of timeouts...\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t_mfpOn(BEFORE_CLOSE_EVENT + ns, function () {\n\t\t\t\t\tif (mfp._allowZoom()) {\n\n\t\t\t\t\t\tclearTimeout(openTimeout);\n\n\t\t\t\t\t\tmfp.st.removalDelay = duration;\n\n\t\t\t\t\t\tif (!image) {\n\t\t\t\t\t\t\timage = mfp._getItemToZoom();\n\t\t\t\t\t\t\tif (!image) {\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tanimatedImg = getElToAnimate(image);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tanimatedImg.css(mfp._getOffset(true));\n\t\t\t\t\t\tmfp.wrap.append(animatedImg);\n\t\t\t\t\t\tmfp.content.css('visibility', 'hidden');\n\n\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\tanimatedImg.css(mfp._getOffset());\n\t\t\t\t\t\t}, 16);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t_mfpOn(CLOSE_EVENT + ns, function () {\n\t\t\t\t\tif (mfp._allowZoom()) {\n\t\t\t\t\t\tshowMainContent();\n\t\t\t\t\t\tif (animatedImg) {\n\t\t\t\t\t\t\tanimatedImg.remove();\n\t\t\t\t\t\t}\n\t\t\t\t\t\timage = null;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\n\t\t\t_allowZoom: function _allowZoom() {\n\t\t\t\treturn mfp.currItem.type === 'image';\n\t\t\t},\n\n\t\t\t_getItemToZoom: function _getItemToZoom() {\n\t\t\t\tif (mfp.currItem.hasSize) {\n\t\t\t\t\treturn mfp.currItem.img;\n\t\t\t\t} else {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// Get element postion relative to viewport\n\t\t\t_getOffset: function _getOffset(isLarge) {\n\t\t\t\tvar el;\n\t\t\t\tif (isLarge) {\n\t\t\t\t\tel = mfp.currItem.img;\n\t\t\t\t} else {\n\t\t\t\t\tel = mfp.st.zoom.opener(mfp.currItem.el || mfp.currItem);\n\t\t\t\t}\n\n\t\t\t\tvar offset = el.offset();\n\t\t\t\tvar paddingTop = parseInt(el.css('padding-top'), 10);\n\t\t\t\tvar paddingBottom = parseInt(el.css('padding-bottom'), 10);\n\t\t\t\toffset.top -= $(window).scrollTop() - paddingTop;\n\n\t\t\t\t/*\n    \tAnimating left + top + width/height looks glitchy in Firefox, but perfect in Chrome. And vice-versa.\n    \t */\n\t\t\t\tvar obj = {\n\t\t\t\t\twidth: el.width(),\n\t\t\t\t\t// fix Zepto height+padding issue\n\t\t\t\t\theight: (_isJQ ? el.innerHeight() : el[0].offsetHeight) - paddingBottom - paddingTop\n\t\t\t\t};\n\n\t\t\t\t// I hate to do this, but there is no another option\n\t\t\t\tif (getHasMozTransform()) {\n\t\t\t\t\tobj['-moz-transform'] = obj['transform'] = 'translate(' + offset.left + 'px,' + offset.top + 'px)';\n\t\t\t\t} else {\n\t\t\t\t\tobj.left = offset.left;\n\t\t\t\t\tobj.top = offset.top;\n\t\t\t\t}\n\t\t\t\treturn obj;\n\t\t\t}\n\n\t\t}\n\t});\n\n\t/*>>zoom*/\n\n\t/*>>iframe*/\n\n\tvar IFRAME_NS = 'iframe',\n\t    _emptyPage = '//about:blank',\n\t    _fixIframeBugs = function _fixIframeBugs(isShowing) {\n\t\tif (mfp.currTemplate[IFRAME_NS]) {\n\t\t\tvar el = mfp.currTemplate[IFRAME_NS].find('iframe');\n\t\t\tif (el.length) {\n\t\t\t\t// reset src after the popup is closed to avoid \"video keeps playing after popup is closed\" bug\n\t\t\t\tif (!isShowing) {\n\t\t\t\t\tel[0].src = _emptyPage;\n\t\t\t\t}\n\n\t\t\t\t// IE8 black screen bug fix\n\t\t\t\tif (mfp.isIE8) {\n\t\t\t\t\tel.css('display', isShowing ? 'block' : 'none');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\t$.magnificPopup.registerModule(IFRAME_NS, {\n\n\t\toptions: {\n\t\t\tmarkup: '<div class=\"mfp-iframe-scaler\">' + '<div class=\"mfp-close\"></div>' + '<iframe class=\"mfp-iframe\" src=\"//about:blank\" frameborder=\"0\" allowfullscreen></iframe>' + '</div>',\n\n\t\t\tsrcAction: 'iframe_src',\n\n\t\t\t// we don't care and support only one default type of URL by default\n\t\t\tpatterns: {\n\t\t\t\tyoutube: {\n\t\t\t\t\tindex: 'youtube.com',\n\t\t\t\t\tid: 'v=',\n\t\t\t\t\tsrc: '//www.youtube.com/embed/%id%?autoplay=1'\n\t\t\t\t},\n\t\t\t\tvimeo: {\n\t\t\t\t\tindex: 'vimeo.com/',\n\t\t\t\t\tid: '/',\n\t\t\t\t\tsrc: '//player.vimeo.com/video/%id%?autoplay=1'\n\t\t\t\t},\n\t\t\t\tgmaps: {\n\t\t\t\t\tindex: '//maps.google.',\n\t\t\t\t\tsrc: '%id%&output=embed'\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tproto: {\n\t\t\tinitIframe: function initIframe() {\n\t\t\t\tmfp.types.push(IFRAME_NS);\n\n\t\t\t\t_mfpOn('BeforeChange', function (e, prevType, newType) {\n\t\t\t\t\tif (prevType !== newType) {\n\t\t\t\t\t\tif (prevType === IFRAME_NS) {\n\t\t\t\t\t\t\t_fixIframeBugs(); // iframe if removed\n\t\t\t\t\t\t} else if (newType === IFRAME_NS) {\n\t\t\t\t\t\t\t_fixIframeBugs(true); // iframe is showing\n\t\t\t\t\t\t}\n\t\t\t\t\t} // else {\n\t\t\t\t\t// iframe source is switched, don't do anything\n\t\t\t\t\t//}\n\t\t\t\t});\n\n\t\t\t\t_mfpOn(CLOSE_EVENT + '.' + IFRAME_NS, function () {\n\t\t\t\t\t_fixIframeBugs();\n\t\t\t\t});\n\t\t\t},\n\n\t\t\tgetIframe: function getIframe(item, template) {\n\t\t\t\tvar embedSrc = item.src;\n\t\t\t\tvar iframeSt = mfp.st.iframe;\n\n\t\t\t\t$.each(iframeSt.patterns, function () {\n\t\t\t\t\tif (embedSrc.indexOf(this.index) > -1) {\n\t\t\t\t\t\tif (this.id) {\n\t\t\t\t\t\t\tif (typeof this.id === 'string') {\n\t\t\t\t\t\t\t\tembedSrc = embedSrc.substr(embedSrc.lastIndexOf(this.id) + this.id.length, embedSrc.length);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tembedSrc = this.id.call(this, embedSrc);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tembedSrc = this.src.replace('%id%', embedSrc);\n\t\t\t\t\t\treturn false; // break;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tvar dataObj = {};\n\t\t\t\tif (iframeSt.srcAction) {\n\t\t\t\t\tdataObj[iframeSt.srcAction] = embedSrc;\n\t\t\t\t}\n\t\t\t\tmfp._parseMarkup(template, dataObj, item);\n\n\t\t\t\tmfp.updateStatus('ready');\n\n\t\t\t\treturn template;\n\t\t\t}\n\t\t}\n\t});\n\n\t/*>>iframe*/\n\n\t/*>>gallery*/\n\t/**\n  * Get looped index depending on number of slides\n  */\n\tvar _getLoopedId = function _getLoopedId(index) {\n\t\tvar numSlides = mfp.items.length;\n\t\tif (index > numSlides - 1) {\n\t\t\treturn index - numSlides;\n\t\t} else if (index < 0) {\n\t\t\treturn numSlides + index;\n\t\t}\n\t\treturn index;\n\t},\n\t    _replaceCurrTotal = function _replaceCurrTotal(text, curr, total) {\n\t\treturn text.replace(/%curr%/gi, curr + 1).replace(/%total%/gi, total);\n\t};\n\n\t$.magnificPopup.registerModule('gallery', {\n\n\t\toptions: {\n\t\t\tenabled: false,\n\t\t\tarrowMarkup: '<button title=\"%title%\" type=\"button\" class=\"mfp-arrow mfp-arrow-%dir%\"></button>',\n\t\t\tpreload: [0, 2],\n\t\t\tnavigateByImgClick: true,\n\t\t\tarrows: true,\n\n\t\t\ttPrev: 'Previous (Left arrow key)',\n\t\t\ttNext: 'Next (Right arrow key)',\n\t\t\ttCounter: '%curr% of %total%'\n\t\t},\n\n\t\tproto: {\n\t\t\tinitGallery: function initGallery() {\n\n\t\t\t\tvar gSt = mfp.st.gallery,\n\t\t\t\t    ns = '.mfp-gallery';\n\n\t\t\t\tmfp.direction = true; // true - next, false - prev\n\n\t\t\t\tif (!gSt || !gSt.enabled) return false;\n\n\t\t\t\t_wrapClasses += ' mfp-gallery';\n\n\t\t\t\t_mfpOn(OPEN_EVENT + ns, function () {\n\n\t\t\t\t\tif (gSt.navigateByImgClick) {\n\t\t\t\t\t\tmfp.wrap.on('click' + ns, '.mfp-img', function () {\n\t\t\t\t\t\t\tif (mfp.items.length > 1) {\n\t\t\t\t\t\t\t\tmfp.next();\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\t_document.on('keydown' + ns, function (e) {\n\t\t\t\t\t\tif (e.keyCode === 37) {\n\t\t\t\t\t\t\tmfp.prev();\n\t\t\t\t\t\t} else if (e.keyCode === 39) {\n\t\t\t\t\t\t\tmfp.next();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\t_mfpOn('UpdateStatus' + ns, function (e, data) {\n\t\t\t\t\tif (data.text) {\n\t\t\t\t\t\tdata.text = _replaceCurrTotal(data.text, mfp.currItem.index, mfp.items.length);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t_mfpOn(MARKUP_PARSE_EVENT + ns, function (e, element, values, item) {\n\t\t\t\t\tvar l = mfp.items.length;\n\t\t\t\t\tvalues.counter = l > 1 ? _replaceCurrTotal(gSt.tCounter, item.index, l) : '';\n\t\t\t\t});\n\n\t\t\t\t_mfpOn('BuildControls' + ns, function () {\n\t\t\t\t\tif (mfp.items.length > 1 && gSt.arrows && !mfp.arrowLeft) {\n\t\t\t\t\t\tvar markup = gSt.arrowMarkup,\n\t\t\t\t\t\t    arrowLeft = mfp.arrowLeft = $(markup.replace(/%title%/gi, gSt.tPrev).replace(/%dir%/gi, 'left')).addClass(PREVENT_CLOSE_CLASS),\n\t\t\t\t\t\t    arrowRight = mfp.arrowRight = $(markup.replace(/%title%/gi, gSt.tNext).replace(/%dir%/gi, 'right')).addClass(PREVENT_CLOSE_CLASS);\n\n\t\t\t\t\t\tarrowLeft.click(function () {\n\t\t\t\t\t\t\tmfp.prev();\n\t\t\t\t\t\t});\n\t\t\t\t\t\tarrowRight.click(function () {\n\t\t\t\t\t\t\tmfp.next();\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tmfp.container.append(arrowLeft.add(arrowRight));\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t_mfpOn(CHANGE_EVENT + ns, function () {\n\t\t\t\t\tif (mfp._preloadTimeout) clearTimeout(mfp._preloadTimeout);\n\n\t\t\t\t\tmfp._preloadTimeout = setTimeout(function () {\n\t\t\t\t\t\tmfp.preloadNearbyImages();\n\t\t\t\t\t\tmfp._preloadTimeout = null;\n\t\t\t\t\t}, 16);\n\t\t\t\t});\n\n\t\t\t\t_mfpOn(CLOSE_EVENT + ns, function () {\n\t\t\t\t\t_document.off(ns);\n\t\t\t\t\tmfp.wrap.off('click' + ns);\n\t\t\t\t\tmfp.arrowRight = mfp.arrowLeft = null;\n\t\t\t\t});\n\t\t\t},\n\t\t\tnext: function next() {\n\t\t\t\tmfp.direction = true;\n\t\t\t\tmfp.index = _getLoopedId(mfp.index + 1);\n\t\t\t\tmfp.updateItemHTML();\n\t\t\t},\n\t\t\tprev: function prev() {\n\t\t\t\tmfp.direction = false;\n\t\t\t\tmfp.index = _getLoopedId(mfp.index - 1);\n\t\t\t\tmfp.updateItemHTML();\n\t\t\t},\n\t\t\tgoTo: function goTo(newIndex) {\n\t\t\t\tmfp.direction = newIndex >= mfp.index;\n\t\t\t\tmfp.index = newIndex;\n\t\t\t\tmfp.updateItemHTML();\n\t\t\t},\n\t\t\tpreloadNearbyImages: function preloadNearbyImages() {\n\t\t\t\tvar p = mfp.st.gallery.preload,\n\t\t\t\t    preloadBefore = Math.min(p[0], mfp.items.length),\n\t\t\t\t    preloadAfter = Math.min(p[1], mfp.items.length),\n\t\t\t\t    i;\n\n\t\t\t\tfor (i = 1; i <= (mfp.direction ? preloadAfter : preloadBefore); i++) {\n\t\t\t\t\tmfp._preloadItem(mfp.index + i);\n\t\t\t\t}\n\t\t\t\tfor (i = 1; i <= (mfp.direction ? preloadBefore : preloadAfter); i++) {\n\t\t\t\t\tmfp._preloadItem(mfp.index - i);\n\t\t\t\t}\n\t\t\t},\n\t\t\t_preloadItem: function _preloadItem(index) {\n\t\t\t\tindex = _getLoopedId(index);\n\n\t\t\t\tif (mfp.items[index].preloaded) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar item = mfp.items[index];\n\t\t\t\tif (!item.parsed) {\n\t\t\t\t\titem = mfp.parseEl(index);\n\t\t\t\t}\n\n\t\t\t\t_mfpTrigger('LazyLoad', item);\n\n\t\t\t\tif (item.type === 'image') {\n\t\t\t\t\titem.img = $('<img class=\"mfp-img\" />').on('load.mfploader', function () {\n\t\t\t\t\t\titem.hasSize = true;\n\t\t\t\t\t}).on('error.mfploader', function () {\n\t\t\t\t\t\titem.hasSize = true;\n\t\t\t\t\t\titem.loadError = true;\n\t\t\t\t\t\t_mfpTrigger('LazyLoadError', item);\n\t\t\t\t\t}).attr('src', item.src);\n\t\t\t\t}\n\n\t\t\t\titem.preloaded = true;\n\t\t\t}\n\t\t}\n\t});\n\n\t/*>>gallery*/\n\n\t/*>>retina*/\n\n\tvar RETINA_NS = 'retina';\n\n\t$.magnificPopup.registerModule(RETINA_NS, {\n\t\toptions: {\n\t\t\treplaceSrc: function replaceSrc(item) {\n\t\t\t\treturn item.src.replace(/\\.\\w+$/, function (m) {\n\t\t\t\t\treturn '@2x' + m;\n\t\t\t\t});\n\t\t\t},\n\t\t\tratio: 1 // Function or number.  Set to 1 to disable.\n\t\t},\n\t\tproto: {\n\t\t\tinitRetina: function initRetina() {\n\t\t\t\tif (window.devicePixelRatio > 1) {\n\n\t\t\t\t\tvar st = mfp.st.retina,\n\t\t\t\t\t    ratio = st.ratio;\n\n\t\t\t\t\tratio = !isNaN(ratio) ? ratio : ratio();\n\n\t\t\t\t\tif (ratio > 1) {\n\t\t\t\t\t\t_mfpOn('ImageHasSize' + '.' + RETINA_NS, function (e, item) {\n\t\t\t\t\t\t\titem.img.css({\n\t\t\t\t\t\t\t\t'max-width': item.img[0].naturalWidth / ratio,\n\t\t\t\t\t\t\t\t'width': '100%'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t\t_mfpOn('ElementParse' + '.' + RETINA_NS, function (e, item) {\n\t\t\t\t\t\t\titem.src = st.replaceSrc(item, ratio);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\n\t/*>>retina*/\n\t_checkInstance();\n});\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n(function (global, factory) {\n    (typeof exports === 'undefined' ? 'undefined' : _typeof(exports)) === 'object' && typeof module !== 'undefined' ? module.exports = factory() : typeof define === 'function' && define.amd ? define(factory) : global.LazyLoad = factory();\n})(this, function () {\n    'use strict';\n\n    var defaultSettings = {\n        elements_selector: \"img\",\n        container: window,\n        threshold: 300,\n        throttle: 150,\n        data_src: \"original\",\n        data_srcset: \"original-set\",\n        class_loading: \"loading\",\n        class_loaded: \"loaded\",\n        class_error: \"error\",\n        class_initial: \"initial\",\n        skip_invisible: true,\n        callback_load: null,\n        callback_error: null,\n        callback_set: null,\n        callback_processed: null\n    };\n\n    var isBot = !(\"onscroll\" in window) || /glebot/.test(navigator.userAgent);\n\n    var callCallback = function callCallback(callback, argument) {\n        if (callback) {\n            callback(argument);\n        }\n    };\n\n    var getTopOffset = function getTopOffset(element) {\n        return element.getBoundingClientRect().top + window.pageYOffset - element.ownerDocument.documentElement.clientTop;\n    };\n\n    var isBelowViewport = function isBelowViewport(element, container, threshold) {\n        var fold = container === window ? window.innerHeight + window.pageYOffset : getTopOffset(container) + container.offsetHeight;\n        return fold <= getTopOffset(element) - threshold;\n    };\n\n    var getLeftOffset = function getLeftOffset(element) {\n        return element.getBoundingClientRect().left + window.pageXOffset - element.ownerDocument.documentElement.clientLeft;\n    };\n\n    var isAtRightOfViewport = function isAtRightOfViewport(element, container, threshold) {\n        var documentWidth = window.innerWidth;\n        var fold = container === window ? documentWidth + window.pageXOffset : getLeftOffset(container) + documentWidth;\n        return fold <= getLeftOffset(element) - threshold;\n    };\n\n    var isAboveViewport = function isAboveViewport(element, container, threshold) {\n        var fold = container === window ? window.pageYOffset : getTopOffset(container);\n        return fold >= getTopOffset(element) + threshold + element.offsetHeight;\n    };\n\n    var isAtLeftOfViewport = function isAtLeftOfViewport(element, container, threshold) {\n        var fold = container === window ? window.pageXOffset : getLeftOffset(container);\n        return fold >= getLeftOffset(element) + threshold + element.offsetWidth;\n    };\n\n    var isInsideViewport = function isInsideViewport(element, container, threshold) {\n        return !isBelowViewport(element, container, threshold) && !isAboveViewport(element, container, threshold) && !isAtRightOfViewport(element, container, threshold) && !isAtLeftOfViewport(element, container, threshold);\n    };\n\n    /* Creates instance and notifies it through the window element */\n    var createInstance = function createInstance(classObj, options) {\n        var instance = new classObj(options);\n        var event = new CustomEvent(\"LazyLoad::Initialized\", { detail: { instance: instance } });\n        window.dispatchEvent(event);\n    };\n\n    /* Auto initialization of one or more instances of lazyload, depending on the \n        options passed in (plain object or an array) */\n    var autoInitialize = function autoInitialize(classObj, options) {\n        var optsLength = options.length;\n        if (!optsLength) {\n            // Plain object\n            createInstance(classObj, options);\n        } else {\n            // Array of objects\n            for (var i = 0; i < optsLength; i++) {\n                createInstance(classObj, options[i]);\n            }\n        }\n    };\n\n    var dataPrefix = \"data-\";\n\n    var getData = function getData(element, attribute) {\n        return element.getAttribute(dataPrefix + attribute);\n    };\n\n    var setData = function setData(element, attribute, value) {\n        return element.setAttribute(dataPrefix + attribute, value);\n    };\n\n    var setSourcesForPicture = function setSourcesForPicture(element, srcsetDataAttribute) {\n        var parent = element.parentElement;\n        if (parent.tagName !== \"PICTURE\") {\n            return;\n        }\n        for (var i = 0; i < parent.children.length; i++) {\n            var pictureChild = parent.children[i];\n            if (pictureChild.tagName === \"SOURCE\") {\n                var sourceSrcset = getData(pictureChild, srcsetDataAttribute);\n                if (sourceSrcset) {\n                    pictureChild.setAttribute(\"srcset\", sourceSrcset);\n                }\n            }\n        }\n    };\n\n    var setSources = function setSources(element, srcsetDataAttribute, srcDataAttribute) {\n        var tagName = element.tagName;\n        var elementSrc = getData(element, srcDataAttribute);\n        if (tagName === \"IMG\") {\n            setSourcesForPicture(element, srcsetDataAttribute);\n            var imgSrcset = getData(element, srcsetDataAttribute);\n            if (imgSrcset) {\n                element.setAttribute(\"srcset\", imgSrcset);\n            }\n            if (elementSrc) {\n                element.setAttribute(\"src\", elementSrc);\n            }\n            return;\n        }\n        if (tagName === \"IFRAME\") {\n            if (elementSrc) {\n                element.setAttribute(\"src\", elementSrc);\n            }\n            return;\n        }\n        if (elementSrc) {\n            element.style.backgroundImage = 'url(\"' + elementSrc + '\")';\n        }\n    };\n\n    var supportsClassList = \"classList\" in document.createElement(\"p\");\n\n    var addClass = function addClass(element, className) {\n        if (supportsClassList) {\n            element.classList.add(className);\n            return;\n        }\n        element.className += (element.className ? \" \" : \"\") + className;\n    };\n\n    var removeClass = function removeClass(element, className) {\n        if (supportsClassList) {\n            element.classList.remove(className);\n            return;\n        }\n        element.className = element.className.replace(new RegExp(\"(^|\\\\s+)\" + className + \"(\\\\s+|$)\"), \" \").replace(/^\\s+/, \"\").replace(/\\s+$/, \"\");\n    };\n\n    /*\n     * Constructor\n     */\n\n    var LazyLoad = function LazyLoad(instanceSettings) {\n        this._settings = _extends({}, defaultSettings, instanceSettings);\n        this._queryOriginNode = this._settings.container === window ? document : this._settings.container;\n\n        this._previousLoopTime = 0;\n        this._loopTimeout = null;\n        this._boundHandleScroll = this.handleScroll.bind(this);\n\n        this._isFirstLoop = true;\n        window.addEventListener(\"resize\", this._boundHandleScroll);\n        this.update();\n    };\n\n    LazyLoad.prototype = {\n\n        /*\n         * Private methods\n         */\n\n        _reveal: function _reveal(element) {\n            var settings = this._settings;\n\n            var errorCallback = function errorCallback() {\n                /* As this method is asynchronous, it must be protected against external destroy() calls */\n                if (!settings) {\n                    return;\n                }\n                element.removeEventListener(\"load\", loadCallback);\n                element.removeEventListener(\"error\", errorCallback);\n                removeClass(element, settings.class_loading);\n                addClass(element, settings.class_error);\n                callCallback(settings.callback_error, element);\n            };\n\n            var loadCallback = function loadCallback() {\n                /* As this method is asynchronous, it must be protected against external destroy() calls */\n                if (!settings) {\n                    return;\n                }\n                removeClass(element, settings.class_loading);\n                addClass(element, settings.class_loaded);\n                element.removeEventListener(\"load\", loadCallback);\n                element.removeEventListener(\"error\", errorCallback);\n                /* Calling LOAD callback */\n                callCallback(settings.callback_load, element);\n            };\n\n            if (element.tagName === \"IMG\" || element.tagName === \"IFRAME\") {\n                element.addEventListener(\"load\", loadCallback);\n                element.addEventListener(\"error\", errorCallback);\n                addClass(element, settings.class_loading);\n            }\n\n            setSources(element, settings.data_srcset, settings.data_src);\n            /* Calling SET callback */\n            callCallback(settings.callback_set, element);\n        },\n\n        _loopThroughElements: function _loopThroughElements() {\n            var settings = this._settings,\n                elements = this._elements,\n                elementsLength = !elements ? 0 : elements.length;\n            var i = void 0,\n                processedIndexes = [],\n                firstLoop = this._isFirstLoop;\n\n            for (i = 0; i < elementsLength; i++) {\n                var element = elements[i];\n                /* If must skip_invisible and element is invisible, skip it */\n                if (settings.skip_invisible && element.offsetParent === null) {\n                    continue;\n                }\n\n                if (isBot || isInsideViewport(element, settings.container, settings.threshold)) {\n                    if (firstLoop) {\n                        addClass(element, settings.class_initial);\n                    }\n                    /* Start loading the image */\n                    this._reveal(element);\n                    /* Marking the element as processed. */\n                    processedIndexes.push(i);\n                    setData(element, \"was-processed\", true);\n                }\n            }\n            /* Removing processed elements from this._elements. */\n            while (processedIndexes.length) {\n                elements.splice(processedIndexes.pop(), 1);\n                /* Calling the end loop callback */\n                callCallback(settings.callback_processed, elements.length);\n            }\n            /* Stop listening to scroll event when 0 elements remains */\n            if (elementsLength === 0) {\n                this._stopScrollHandler();\n            }\n            /* Sets isFirstLoop to false */\n            if (firstLoop) {\n                this._isFirstLoop = false;\n            }\n        },\n\n        _purgeElements: function _purgeElements() {\n            var elements = this._elements,\n                elementsLength = elements.length;\n            var i = void 0,\n                elementsToPurge = [];\n\n            for (i = 0; i < elementsLength; i++) {\n                var element = elements[i];\n                /* If the element has already been processed, skip it */\n                if (getData(element, \"was-processed\")) {\n                    elementsToPurge.push(i);\n                }\n            }\n            /* Removing elements to purge from this._elements. */\n            while (elementsToPurge.length > 0) {\n                elements.splice(elementsToPurge.pop(), 1);\n            }\n        },\n\n        _startScrollHandler: function _startScrollHandler() {\n            if (!this._isHandlingScroll) {\n                this._isHandlingScroll = true;\n                this._settings.container.addEventListener(\"scroll\", this._boundHandleScroll);\n            }\n        },\n\n        _stopScrollHandler: function _stopScrollHandler() {\n            if (this._isHandlingScroll) {\n                this._isHandlingScroll = false;\n                this._settings.container.removeEventListener(\"scroll\", this._boundHandleScroll);\n            }\n        },\n\n        /* \n         * Public methods\n         */\n\n        handleScroll: function handleScroll() {\n            var throttle = this._settings.throttle;\n\n            if (throttle !== 0) {\n                var now = Date.now();\n                var remainingTime = throttle - (now - this._previousLoopTime);\n                if (remainingTime <= 0 || remainingTime > throttle) {\n                    if (this._loopTimeout) {\n                        clearTimeout(this._loopTimeout);\n                        this._loopTimeout = null;\n                    }\n                    this._previousLoopTime = now;\n                    this._loopThroughElements();\n                } else if (!this._loopTimeout) {\n                    this._loopTimeout = setTimeout(function () {\n                        this._previousLoopTime = Date.now();\n                        this._loopTimeout = null;\n                        this._loopThroughElements();\n                    }.bind(this), remainingTime);\n                }\n            } else {\n                this._loopThroughElements();\n            }\n        },\n\n        update: function update() {\n            // Converts to array the nodeset obtained querying the DOM from _queryOriginNode with elements_selector\n            this._elements = Array.prototype.slice.call(this._queryOriginNode.querySelectorAll(this._settings.elements_selector));\n            this._purgeElements();\n            this._loopThroughElements();\n            this._startScrollHandler();\n        },\n\n        destroy: function destroy() {\n            window.removeEventListener(\"resize\", this._boundHandleScroll);\n            if (this._loopTimeout) {\n                clearTimeout(this._loopTimeout);\n                this._loopTimeout = null;\n            }\n            this._stopScrollHandler();\n            this._elements = null;\n            this._queryOriginNode = null;\n            this._settings = null;\n        }\n    };\n\n    /* Automatic instances creation if required (useful for async script loading!) */\n    var autoInitOptions = window.lazyLoadOptions;\n    if (autoInitOptions) {\n        autoInitialize(LazyLoad, autoInitOptions);\n    }\n\n    return LazyLoad;\n});\n/**\n * what-input - A global utility for tracking the current input method (mouse, keyboard or touch).\n * @version v4.0.6\n * @link https://github.com/ten1seven/what-input\n * @license MIT\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n  if(typeof exports === 'object' && typeof module === 'object')\n    module.exports = factory();\n  else if(typeof define === 'function' && define.amd)\n    define(\"whatInput\", [], factory);\n  else if(typeof exports === 'object')\n    exports[\"whatInput\"] = factory();\n  else\n    root[\"whatInput\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/  // The module cache\n/******/  var installedModules = {};\n\n/******/  // The require function\n/******/  function __webpack_require__(moduleId) {\n\n/******/    // Check if module is in cache\n/******/    if(installedModules[moduleId])\n/******/      return installedModules[moduleId].exports;\n\n/******/    // Create a new module (and put it into the cache)\n/******/    var module = installedModules[moduleId] = {\n/******/      exports: {},\n/******/      id: moduleId,\n/******/      loaded: false\n/******/    };\n\n/******/    // Execute the module function\n/******/    modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n/******/    // Flag the module as loaded\n/******/    module.loaded = true;\n\n/******/    // Return the exports of the module\n/******/    return module.exports;\n/******/  }\n\n\n/******/  // expose the modules object (__webpack_modules__)\n/******/  __webpack_require__.m = modules;\n\n/******/  // expose the module cache\n/******/  __webpack_require__.c = installedModules;\n\n/******/  // __webpack_public_path__\n/******/  __webpack_require__.p = \"\";\n\n/******/  // Load entry module and return exports\n/******/  return __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports) {\n\n  module.exports = (function() {\n\n    /*\n      ---------------\n      Variables\n      ---------------\n    */\n\n    // cache document.documentElement\n    var docElem = document.documentElement;\n\n    // last used input type\n    var currentInput = 'initial';\n\n    // last used input intent\n    var currentIntent = null;\n\n    // form input types\n    var formInputs = [\n      'input',\n      'select',\n      'textarea'\n    ];\n\n    // list of modifier keys commonly used with the mouse and\n    // can be safely ignored to prevent false keyboard detection\n    var ignoreMap = [\n      16, // shift\n      17, // control\n      18, // alt\n      91, // Windows key / left Apple cmd\n      93  // Windows menu / right Apple cmd\n    ];\n\n    // mapping of events to input types\n    var inputMap = {\n      'keyup': 'keyboard',\n      'mousedown': 'mouse',\n      'mousemove': 'mouse',\n      'MSPointerDown': 'pointer',\n      'MSPointerMove': 'pointer',\n      'pointerdown': 'pointer',\n      'pointermove': 'pointer',\n      'touchstart': 'touch'\n    };\n\n    // array of all used input types\n    var inputTypes = [];\n\n    // boolean: true if touch buffer timer is running\n    var isBuffering = false;\n\n    // map of IE 10 pointer events\n    var pointerMap = {\n      2: 'touch',\n      3: 'touch', // treat pen like touch\n      4: 'mouse'\n    };\n\n    // touch buffer timer\n    var touchTimer = null;\n\n\n    /*\n      ---------------\n      Set up\n      ---------------\n    */\n\n    var setUp = function() {\n\n      // add correct mouse wheel event mapping to `inputMap`\n      inputMap[detectWheel()] = 'mouse';\n\n      addListeners();\n      setInput();\n    };\n\n\n    /*\n      ---------------\n      Events\n      ---------------\n    */\n\n    var addListeners = function() {\n\n      // `pointermove`, `MSPointerMove`, `mousemove` and mouse wheel event binding\n      // can only demonstrate potential, but not actual, interaction\n      // and are treated separately\n\n      // pointer events (mouse, pen, touch)\n      if (window.PointerEvent) {\n        docElem.addEventListener('pointerdown', updateInput);\n        docElem.addEventListener('pointermove', setIntent);\n      } else if (window.MSPointerEvent) {\n        docElem.addEventListener('MSPointerDown', updateInput);\n        docElem.addEventListener('MSPointerMove', setIntent);\n      } else {\n\n        // mouse events\n        docElem.addEventListener('mousedown', updateInput);\n        docElem.addEventListener('mousemove', setIntent);\n\n        // touch events\n        if ('ontouchstart' in window) {\n          docElem.addEventListener('touchstart', touchBuffer);\n        }\n      }\n\n      // mouse wheel\n      docElem.addEventListener(detectWheel(), setIntent);\n\n      // keyboard events\n      docElem.addEventListener('keydown', updateInput);\n      docElem.addEventListener('keyup', updateInput);\n    };\n\n    // checks conditions before updating new input\n    var updateInput = function(event) {\n\n      // only execute if the touch buffer timer isn't running\n      if (!isBuffering) {\n        var eventKey = event.which;\n        var value = inputMap[event.type];\n        if (value === 'pointer') value = pointerType(event);\n\n        if (\n          currentInput !== value ||\n          currentIntent !== value\n        ) {\n\n          var activeElem = document.activeElement;\n          var activeInput = (\n            activeElem &&\n            activeElem.nodeName &&\n            formInputs.indexOf(activeElem.nodeName.toLowerCase()) === -1\n          ) ? true : false;\n\n          if (\n            value === 'touch' ||\n\n            // ignore mouse modifier keys\n            (value === 'mouse' && ignoreMap.indexOf(eventKey) === -1) ||\n\n            // don't switch if the current element is a form input\n            (value === 'keyboard' && activeInput)\n          ) {\n\n            // set the current and catch-all variable\n            currentInput = currentIntent = value;\n\n            setInput();\n          }\n        }\n      }\n    };\n\n    // updates the doc and `inputTypes` array with new input\n    var setInput = function() {\n      docElem.setAttribute('data-whatinput', currentInput);\n      docElem.setAttribute('data-whatintent', currentInput);\n\n      if (inputTypes.indexOf(currentInput) === -1) {\n        inputTypes.push(currentInput);\n        docElem.className += ' whatinput-types-' + currentInput;\n      }\n    };\n\n    // updates input intent for `mousemove` and `pointermove`\n    var setIntent = function(event) {\n\n      // only execute if the touch buffer timer isn't running\n      if (!isBuffering) {\n        var value = inputMap[event.type];\n        if (value === 'pointer') value = pointerType(event);\n\n        if (currentIntent !== value) {\n          currentIntent = value;\n\n          docElem.setAttribute('data-whatintent', currentIntent);\n        }\n      }\n    };\n\n    // buffers touch events because they frequently also fire mouse events\n    var touchBuffer = function(event) {\n\n      // clear the timer if it happens to be running\n      window.clearTimeout(touchTimer);\n\n      // set the current input\n      updateInput(event);\n\n      // set the isBuffering to `true`\n      isBuffering = true;\n\n      // run the timer\n      touchTimer = window.setTimeout(function() {\n\n        // if the timer runs out, set isBuffering back to `false`\n        isBuffering = false;\n      }, 200);\n    };\n\n\n    /*\n      ---------------\n      Utilities\n      ---------------\n    */\n\n    var pointerType = function(event) {\n     if (typeof event.pointerType === 'number') {\n        return pointerMap[event.pointerType];\n     } else {\n        return (event.pointerType === 'pen') ? 'touch' : event.pointerType; // treat pen like touch\n     }\n    };\n\n    // detect version of mouse wheel event to use\n    // via https://developer.mozilla.org/en-US/docs/Web/Events/wheel\n    var detectWheel = function() {\n      return 'onwheel' in document.createElement('div') ?\n        'wheel' : // Modern browsers support \"wheel\"\n\n        document.onmousewheel !== undefined ?\n          'mousewheel' : // Webkit and IE support at least \"mousewheel\"\n          'DOMMouseScroll'; // let's assume that remaining browsers are older Firefox\n    };\n\n\n    /*\n      ---------------\n      Init\n\n      don't start script unless browser cuts the mustard\n      (also passes if polyfills are used)\n      ---------------\n    */\n\n    if (\n      'addEventListener' in window &&\n      Array.prototype.indexOf\n    ) {\n      setUp();\n    }\n\n\n    /*\n      ---------------\n      API\n      ---------------\n    */\n\n    return {\n\n      // returns string: the current input type\n      // opt: 'loose'|'strict'\n      // 'strict' (default): returns the same value as the `data-whatinput` attribute\n      // 'loose': includes `data-whatintent` value if it's more current than `data-whatinput`\n      ask: function(opt) { return (opt === 'loose') ? currentIntent : currentInput; },\n\n      // returns array: all the detected input types\n      types: function() { return inputTypes; }\n\n    };\n\n  }());\n\n\n/***/ }\n/******/ ])\n});\n;\n\"use strict\";\n\n$(function () {\n\t$('.main-nav').setup_navigation();\n});\n\nvar keyCodeMap = {\n\t48: \"0\", 49: \"1\", 50: \"2\", 51: \"3\", 52: \"4\", 53: \"5\", 54: \"6\", 55: \"7\", 56: \"8\", 57: \"9\", 59: \";\",\n\t65: \"a\", 66: \"b\", 67: \"c\", 68: \"d\", 69: \"e\", 70: \"f\", 71: \"g\", 72: \"h\", 73: \"i\", 74: \"j\", 75: \"k\", 76: \"l\",\n\t77: \"m\", 78: \"n\", 79: \"o\", 80: \"p\", 81: \"q\", 82: \"r\", 83: \"s\", 84: \"t\", 85: \"u\", 86: \"v\", 87: \"w\", 88: \"x\", 89: \"y\", 90: \"z\",\n\t96: \"0\", 97: \"1\", 98: \"2\", 99: \"3\", 100: \"4\", 101: \"5\", 102: \"6\", 103: \"7\", 104: \"8\", 105: \"9\"\n};\n\n$.fn.setup_navigation = function (settings) {\n\n\tsettings = jQuery.extend({\n\t\tmenuHoverClass: 'show-menu'\n\t}, settings);\n\n\t// Add ARIA role to menubar and menu items\n\t$(this).attr('role', 'menubar').find('li').attr('role', 'menuitem');\n\n\tvar top_level_links = $(this).find('> li > a');\n\n\t// Added by Terrill: (removed temporarily: doesn't fix the JAWS problem after all)\n\t// Add tabindex=\"0\" to all top-level links\n\t// Without at least one of these, JAWS doesn't read widget as a menu, despite all the other ARIA\n\t//$(top_level_links).attr('tabindex','0');\n\n\t// Set tabIndex to -1 so that top_level_links can't receive focus until menu is open\n\t$(top_level_links).next('ul').attr('data-test', 'true').attr({ 'aria-hidden': 'true', 'role': 'menu' }).find('a').attr('tabIndex', -1);\n\n\t// Adding aria-haspopup for appropriate items\n\t$(top_level_links).each(function () {\n\t\tif ($(this).next('ul').length > 0) $(this).parent('li').attr('aria-haspopup', 'true');\n\t});\n\n\t$(top_level_links).hover(function () {\n\t\t$(this).closest('ul').attr('aria-hidden', 'false').find('.' + settings.menuHoverClass).attr('aria-hidden', 'true').removeClass(settings.menuHoverClass).find('a').attr('tabIndex', -1);\n\t\t$(this).next('ul').attr('aria-hidden', 'false').find('a').attr('tabIndex', 0);\n\t});\n\n\t$(top_level_links).focus(function () {\n\t\t$(this).closest('ul')\n\t\t// Removed by Terrill\n\t\t// The following was adding aria-hidden=\"false\" to root ul since menu is never hidden\n\t\t// and seemed to be causing flakiness in JAWS (needs more testing)\n\t\t// .attr('aria-hidden', 'false')\n\t\t.find('.' + settings.menuHoverClass).attr('aria-hidden', 'true').removeClass(settings.menuHoverClass).find('a').attr('tabIndex', -1);\n\t\t$(this).next('ul').attr('aria-hidden', 'false').addClass(settings.menuHoverClass).find('a').attr('tabIndex', 0);\n\t});\n\n\t// Bind arrow keys for navigation\n\t$(top_level_links).keydown(function (e) {\n\t\tif (e.keyCode == 37) {\n\t\t\te.preventDefault();\n\t\t\t// This is the first item\n\t\t\tif ($(this).parent('li').prev('li').length == 0) {\n\t\t\t\t$(this).parents('ul').find('> li').last().find('a').first().focus();\n\t\t\t} else {\n\t\t\t\t$(this).parent('li').prev('li').find('a').first().focus();\n\t\t\t}\n\t\t} else if (e.keyCode == 38) {\n\t\t\te.preventDefault();\n\t\t\tif ($(this).parent('li').find('ul').length > 0) {\n\t\t\t\t$(this).parent('li').find('ul').attr('aria-hidden', 'false').addClass(settings.menuHoverClass).find('a').attr('tabIndex', 0).last().focus();\n\t\t\t}\n\t\t} else if (e.keyCode == 39) {\n\t\t\te.preventDefault();\n\t\t\t// This is the last item\n\t\t\tif ($(this).parent('li').next('li').length == 0) {\n\t\t\t\t$(this).parents('ul').find('> li').first().find('a').first().focus();\n\t\t\t} else {\n\t\t\t\t$(this).parent('li').next('li').find('a').first().focus();\n\t\t\t}\n\t\t} else if (e.keyCode == 40) {\n\t\t\te.preventDefault();\n\t\t\tif ($(this).parent('li').find('ul').length > 0) {\n\t\t\t\t$(this).parent('li').find('ul').attr('aria-hidden', 'false').addClass(settings.menuHoverClass).find('a').attr('tabIndex', 0).first().focus();\n\t\t\t}\n\t\t} else if (e.keyCode == 13 || e.keyCode == 32) {\n\t\t\t// If submenu is hidden, open it\n\t\t\te.preventDefault();\n\t\t\t$(this).parent('li').find('ul[aria-hidden=true]').attr('aria-hidden', 'false').addClass(settings.menuHoverClass).find('a').attr('tabIndex', 0).first().focus();\n\t\t} else if (e.keyCode == 27) {\n\t\t\te.preventDefault();\n\t\t\t$('.' + settings.menuHoverClass).attr('aria-hidden', 'true').removeClass(settings.menuHoverClass).find('a').attr('tabIndex', -1);\n\t\t} else {\n\t\t\t$(this).parent('li').find('ul[aria-hidden=false] a').each(function () {\n\t\t\t\tif ($(this).text().substring(0, 1).toLowerCase() == keyCodeMap[e.keyCode]) {\n\t\t\t\t\t$(this).focus();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n\n\tvar links = $(top_level_links).parent('li').find('ul').find('a');\n\t$(links).keydown(function (e) {\n\t\tif (e.keyCode == 38) {\n\t\t\te.preventDefault();\n\t\t\t// This is the first item\n\t\t\tif ($(this).parent('li').prev('li').length == 0) {\n\t\t\t\t$(this).parents('ul').parents('li').find('a').first().focus();\n\t\t\t} else {\n\t\t\t\t$(this).parent('li').prev('li').find('a').first().focus();\n\t\t\t}\n\t\t} else if (e.keyCode == 40) {\n\t\t\te.preventDefault();\n\t\t\tif ($(this).parent('li').next('li').length == 0) {\n\t\t\t\t$(this).parents('ul').parents('li').find('a').first().focus();\n\t\t\t} else {\n\t\t\t\t$(this).parent('li').next('li').find('a').first().focus();\n\t\t\t}\n\t\t} else if (e.keyCode == 27 || e.keyCode == 37) {\n\t\t\te.preventDefault();\n\t\t\t$(this).parents('ul').first().prev('a').focus().parents('ul').first().find('.' + settings.menuHoverClass).attr('aria-hidden', 'true').removeClass(settings.menuHoverClass).find('a').attr('tabIndex', -1);\n\t\t} else if (e.keyCode == 32) {\n\t\t\te.preventDefault();\n\t\t\twindow.location = $(this).attr('href');\n\t\t} else {\n\t\t\tvar found = false;\n\t\t\t$(this).parent('li').nextAll('li').find('a').each(function () {\n\t\t\t\tif ($(this).text().substring(0, 1).toLowerCase() == keyCodeMap[e.keyCode]) {\n\t\t\t\t\t$(this).focus();\n\t\t\t\t\tfound = true;\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (!found) {\n\t\t\t\t$(this).parent('li').prevAll('li').find('a').each(function () {\n\t\t\t\t\tif ($(this).text().substring(0, 1).toLowerCase() == keyCodeMap[e.keyCode]) {\n\t\t\t\t\t\t$(this).focus();\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t});\n\n\t// Hide menu if click or focus occurs outside of navigation\n\t$(this).find('a').last().keydown(function (e) {\n\t\tif (e.keyCode == 9) {\n\t\t\t// If the user tabs out of the navigation hide all menus\n\t\t\t$('.' + settings.menuHoverClass).attr('aria-hidden', 'true').removeClass(settings.menuHoverClass).find('a').attr('tabIndex', -1);\n\t\t}\n\t});\n\t$(document).click(function () {\n\t\t$('.' + settings.menuHoverClass).attr('aria-hidden', 'true').removeClass(settings.menuHoverClass).find('a').attr('tabIndex', -1);\n\t});\n\n\t$(this).click(function (e) {\n\t\te.stopPropagation();\n\t});\n};\n'use strict';\n\nvar _$$flickity;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n$(document).foundation();\n\nvar bases = document.getElementsByTagName('base');\nvar baseHref = null;\n\nif (bases.length > 0) {\n\tbaseHref = bases[0].href;\n}\n/*-------------------------------------------------*/\n/*-------------------------------------------------*/\n// Lazy Loading Images:\n/*-------------------------------------------------*/\n/*-------------------------------------------------*/\nvar myLazyLoad = new LazyLoad({\n\t// example of options object -> see options section\n\telements_selector: \".dp-lazy\"\n\t// throttle: 200,\n\t// data_src: \"src\",\n\t// data_srcset: \"srcset\",\n\t// callback_set: function() { /* ... */ }\n});\n\n/*-------------------------------------------------*/\n/*-------------------------------------------------*/\n// Big Carousel (Home Page):\n/*-------------------------------------------------*/\n/*-------------------------------------------------*/\n\nvar $carousel = $('.carousel').flickity((_$$flickity = {\n\timagesLoaded: true,\n\tpercentPosition: false,\n\tselectedAttraction: 0.015,\n\tfriction: 0.3,\n\tprevNextButtons: false,\n\tdraggable: true,\n\tautoPlay: true\n}, _defineProperty(_$$flickity, 'autoPlay', 8000), _defineProperty(_$$flickity, 'pauseAutoPlayOnHover', false), _defineProperty(_$$flickity, 'bgLazyLoad', true), _defineProperty(_$$flickity, 'pageDots', true), _$$flickity));\n\nvar $imgs = $carousel.find('.carousel-cell .cell-bg');\n// get transform property\nvar docStyle = document.documentElement.style;\nvar transformProp = typeof docStyle.transform == 'string' ? 'transform' : 'WebkitTransform';\n// get Flickity instance\nvar flkty = $carousel.data('flickity');\n\n$carousel.on('scroll.flickity', function () {\n\tflkty.slides.forEach(function (slide, i) {\n\t\tvar img = $imgs[i];\n\t\tvar x = (slide.target + flkty.x) * -1 / 3;\n\t\timg.style[transformProp] = 'translateX(' + x + 'px)';\n\t});\n});\n\n$('.carousel-nav-cell').click(function () {\n\tflkty.stopPlayer();\n});\n\nvar $gallery = $('.carousel').flickity();\n\nfunction onLoadeddata(event) {\n\tvar cell = $gallery.flickity('getParentCell', event.target);\n\t$gallery.flickity('cellSizeChange', cell && cell.element);\n}\n\n$gallery.find('video').each(function (i, video) {\n\tvideo.play();\n\t$(video).on('loadeddata', onLoadeddata);\n});\n/*-------------------------------------------------*/\n/*-------------------------------------------------*/\n// Slideshow block (in content):\n/*-------------------------------------------------*/\n/*-------------------------------------------------*/\nvar $slideshow = $('.slideshow').flickity({\n\t//adaptiveHeight: true,\n\timagesLoaded: true,\n\tlazyLoad: true,\n\tpageDots: false\n});\n\nvar slideshowflk = $slideshow.data('flickity');\n\n$slideshow.on('select.flickity', function () {\n\t//console.log( 'Flickity select ' + slideshowflk.selectedIndex );\n\t//slideshowflk.reloadCells();\n\n});\n$('.slideshow').each(function () {\n\t// the containers for all your galleries\n\t$(this).magnificPopup({\n\t\tdelegate: 'a', // the selector for gallery item\n\t\ttype: 'image',\n\t\tgallery: {\n\t\t\tenabled: true\n\t\t}\n\t});\n});\n\n/*-------------------------------------------------*/\n/*-------------------------------------------------*/\n//Wrap every iframe in a responsive embed class to prevent layout breakage\n/*-------------------------------------------------*/\n/*-------------------------------------------------*/\n$('iframe').each(function () {\n\tif (!$(this).parent().hasClass('responsive-embed') && !$(this).parent().hasClass('unresponsive-embed')) {\n\t\t$(this).wrap(\"<div class='responsive-embed widescreen'></div>\");\n\t}\n});\n\n/*-------------------------------------------------*/\n/*-------------------------------------------------*/\n//Distinguish dropdowns on mobile/desktop:\n/*-------------------------------------------------*/\n/*-------------------------------------------------*/\n\n$('.nav__item--parent').click(function (event) {\n\tif (whatInput.ask() === 'touch') {\n\t\t// do touch input things\n\t\tif (!$(this).hasClass('nav__item--is-hovered')) {\n\t\t\tevent.preventDefault();\n\t\t\t$('.nav__item--parent').removeClass('nav__item--is-hovered');\n\t\t\t$(this).toggleClass('nav__item--is-hovered');\n\t\t}\n\t} else if (whatInput.ask() === 'mouse') {\n\t\t// do mouse things\n\t}\n});\n\n//If anything in the main content container is clicked, remove faux hover class.\n$('#main-content__container').click(function () {\n\t$('.nav__item').removeClass('nav__item--is-hovered');\n});\n\n/*-------------------------------------------------*/\n/*-------------------------------------------------*/\n//Site Search:\n/*-------------------------------------------------*/\n/*-------------------------------------------------*/\n\nfunction toggleSearchClasses() {\n\t$(\"body\").toggleClass(\"body--search-active\");\n\t$('.nav-collapse').removeClass('open');\n\t$('.nav__menu-icon').removeClass('is-clicked');\n\t$(\"#nav__menu-icon\").removeClass(\"nav__menu-icon--menu-is-active\");\n\t$(\"#site-search__form\").toggleClass(\"site-search__form--is-inactive site-search__form--is-active\");\n\t$(\"#site-search\").toggleClass(\"site-search--is-inactive site-search--is-active\");\n\t$(\".header__screen\").toggleClass(\"header__screen--grayscale\");\n\t$(\".main-content__container\").toggleClass(\"main-content__container--grayscale\");\n\t$(\".nav__wrapper\").toggleClass(\"nav__wrapper--grayscale\");\n\t$(\".nav__link--search\").toggleClass(\"nav__link--search-is-active\");\n\n\t//HACK: wait for 5ms before changing focus. I don't think I need this anymore actually..\n\tsetTimeout(function () {\n\t\t$(\".nav__wrapper\").toggleClass(\"nav__wrapper--search-is-active\");\n\t}, 5);\n\n\t$(\".nav\").toggleClass(\"nav--search-is-active\");\n}\n\n$(\".nav__link--search\").click(function () {\n\ttoggleSearchClasses();\n\tif ($(\"#mobile-nav__wrapper\").hasClass(\"mobile-nav__wrapper--mobile-menu-is-active\")) {\n\t\ttoggleMobileMenuClasses();\n\t\t$(\"#site-search\").appendTo('#header').addClass('site-search--mobile');\n\t}\n\tdocument.getElementById(\"site-search__input\").focus();\n});\n\n$(\".nav__link--search-cancel\").click(function () {\n\ttoggleSearchClasses();\n\tdocument.getElementById(\"site-search__input\").blur();\n});\n\n//When search form is out of focus, deactivate it.\n$(\"#site-search__form\").focusout(function () {\n\tif ($(\"#site-search__form\").hasClass(\"site-search__form--is-active\")) {\n\t\t//Comment out the following line if you need to use WebKit/Blink inspector tool on the search (so it doesn't lose focus):\n\t\t//toggleSearchClasses();\n\t}\n});\n\n$('input#site-search__input').autocomplete({\n\tserviceUrl: baseHref + '/home/autoComplete',\n\tdeferRequestBy: 100,\n\ttriggerSelectOnValidInput: false,\n\tminChars: 2,\n\tautoSelectFirst: true,\n\ttype: 'post',\n\tonSelect: function onSelect(suggestion) {\n\t\t$('#site-search__form').submit();\n\t}\n});\n\n/*-------------------------------------------------*/\n/*-------------------------------------------------*/\n//Mobile Search:\n/*-------------------------------------------------*/\n/*-------------------------------------------------*/\n\nif (Foundation.MediaQuery.atLeast('medium')) {\n\t// True if medium or large\n\t// False if small\n\t$(\"#site-search\").addClass(\"site-search--desktop\");\n} else {\n\t$(\"#site-search\").addClass(\"site-search--mobile\");\n}\n\n$(\".nav__toggle--search\").click(function () {\n\ttoggleSearchClasses();\n\n\t//append our site search div to the header.\n\t$(\"#site-search\").appendTo('#header').addClass('site-search--mobile');\n\tdocument.getElementById(\"site-search__input\").focus();\n});\n\n//If we're resizing from mobile to anything else, toggle the mobile search if it's active.\n$(window).on('changed.zf.mediaquery', function (event, newSize, oldSize) {\n\n\tif (newSize == \"medium\") {\n\t\t//alert('hey');\n\t\t$(\"#site-search\").removeClass(\"site-search--mobile\");\n\t\t$(\"#site-search\").addClass(\"site-search--desktop\");\n\n\t\t$(\"#site-search\").appendTo(\"#nav\");\n\n\t\tif ($(\"#site-search\").hasClass(\"site-search--is-active\")) {\n\t\t\t// toggleSearchClasses();\n\t\t}\n\t} else if (newSize == \"mobile\") {\n\t\t$(\"#site-search\").appendTo('#header');\n\t\t$(\"#site-search\").removeClass(\"site-search--desktop\");\n\t\t$(\"#site-search\").addClass(\"site-search--mobile\");\n\t\tif ($(\"#site-search\").hasClass(\"site-search--is-active\")) {\n\t\t\t// toggleSearchClasses();\n\t\t}\n\t}\n});\n\n/*-------------------------------------------------*/\n/*-------------------------------------------------*/\n//Mobile Nav:\n/*-------------------------------------------------*/\n/*-------------------------------------------------*/\n\n/* new stuff added my Brandon */\n$('.nav__toggle--menu').on('click', function () {\n\t$('.nav__menu-icon').toggleClass('is-clicked');\n\t$(\"#nav__menu-icon\").toggleClass(\"nav__menu-icon--menu-is-active\");\n\t$('.nav-collapse').toggleClass('open');\n});\n\n$('.second-level--open').click(function () {\n\t// add opened class to li\n\t$(this).parent().toggleClass('nav__item--opened');\n\n\tif ($(this).attr('aria-expanded') == 'false') {\n\t\t$(this).attr('aria-expanded', 'true');\n\t\t$(this).prev().attr('aria-hidden', 'false');\n\t} else {\n\t\t$(this).attr('aria-expanded', 'false');\n\t\t$(this).prev().attr('aria-hidden', 'true');\n\t}\n});\n\n// $(\".nav-nav\").accessibleMegaMenu();\n\n\n/*-------------------------------------------------*/\n/*-------------------------------------------------*/\n// Smooth Scroll Anchors\n/*-------------------------------------------------*/\n/*-------------------------------------------------*/\n\n// Smooth scroll\n// https://css-tricks.com/snippets/jquery/smooth-scrolling/\n// Select all links with hashes\n$('a[href*=\"#\"]')\n// Remove links that don't actually link to anything\n.not('[href=\"#\"]').not('[href=\"#0\"]').click(function (event) {\n\t// On-page links\n\tif (location.pathname.replace(/^\\//, '') === this.pathname.replace(/^\\//, '') && location.hostname === this.hostname) {\n\t\t// Figure out element to scroll to\n\t\tvar target = $(this.hash);\n\t\ttarget = target.length ? target : $('[name=' + this.hash.slice(1) + ']');\n\n\t\t// Does a scroll target exist?\n\t\tif (target.length) {\n\t\t\t// Only prevent default if animation is actually gonna happen\n\t\t\tevent.preventDefault();\n\n\t\t\t$('html, body').animate({\n\t\t\t\tscrollTop: target.offset().top\n\t\t\t}, 1000, function () {\n\t\t\t\t// Callback after animation\n\t\t\t\t// Must change focus!\n\t\t\t\tvar $target = $(target);\n\n\t\t\t\t$target.focus();\n\t\t\t\tif ($target.is(\":focus\")) {\n\t\t\t\t\t// Checking if the target was focused\n\t\t\t\t\treturn false;\n\t\t\t\t} else {\n\t\t\t\t\t$target.attr('tabindex', '-1'); // Adding tabindex for elements not focusable\n\t\t\t\t\t$target.focus(); // Set focus again\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n});\n\n/*-------------------------------------------------*/\n/*-------------------------------------------------*/\n// Background Video\n/*-------------------------------------------------*/\n/*-------------------------------------------------*/\n$('.backgroundvideo__link').click(function (e) {\n\tvar that = $(this);\n\tvar video = that.data('video');\n\tvar width = $('img', that).width();\n\tvar height = $('img', that).height();\n\tthat.parent().addClass('on');\n\tthat.parent().prepend('<div class=\"flex-video widescreen\"><iframe src=\"https://www.youtube.com/embed/' + video + '?rel=0&autoplay=1\" width=\"' + width + '\" height=\"' + height + '\" frameborder=\"0\" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe></div>');\n\tthat.hide();\n\te.preventDefault();\n});\n\n/*-------------------------------------------------*/\n/*-------------------------------------------------*/\n// Topic Tabs\n/*-------------------------------------------------*/\n/*-------------------------------------------------*/\nif ($('#topic-tabs').length) {\n\t$('#topic-tabs').foundation('selectTab', $('.tabs-panel').first());\n}\n","/*!\n* MediaElement.js\n* HTML5 <video> and <audio> shim and player\n* http://mediaelementjs.com/\n*\n* Creates a JavaScript object that mimics HTML5 MediaElement API\n* for browsers that don't understand HTML5 or can't play the provided codec\n* Can play MP4 (H.264), Ogg, WebM, FLV, WMV, WMA, ACC, and MP3\n*\n* Copyright 2010-2014, John Dyer (http://j.hn)\n* License: MIT\n*\n*/var mejs=mejs||{};mejs.version=\"2.15.0\";mejs.meIndex=0;\nmejs.plugins={silverlight:[{version:[3,0],types:[\"video/mp4\",\"video/m4v\",\"video/mov\",\"video/wmv\",\"audio/wma\",\"audio/m4a\",\"audio/mp3\",\"audio/wav\",\"audio/mpeg\"]}],flash:[{version:[9,0,124],types:[\"video/mp4\",\"video/m4v\",\"video/mov\",\"video/flv\",\"video/rtmp\",\"video/x-flv\",\"audio/flv\",\"audio/x-flv\",\"audio/mp3\",\"audio/m4a\",\"audio/mpeg\",\"video/youtube\",\"video/x-youtube\",\"application/x-mpegURL\"]}],youtube:[{version:null,types:[\"video/youtube\",\"video/x-youtube\",\"audio/youtube\",\"audio/x-youtube\"]}],vimeo:[{version:null,\ntypes:[\"video/vimeo\",\"video/x-vimeo\"]}]};\nmejs.Utility={encodeUrl:function(a){return encodeURIComponent(a)},escapeHTML:function(a){return a.toString().split(\"&\").join(\"&amp;\").split(\"<\").join(\"&lt;\").split('\"').join(\"&quot;\")},absolutizeUrl:function(a){var b=document.createElement(\"div\");b.innerHTML='<a href=\"'+this.escapeHTML(a)+'\">x</a>';return b.firstChild.href},getScriptPath:function(a){for(var b=0,c,d=\"\",e=\"\",g,f,i=document.getElementsByTagName(\"script\"),k=i.length,h=a.length;b<k;b++){g=i[b].src;c=g.lastIndexOf(\"/\");if(c>-1){f=g.substring(c+\n1);g=g.substring(0,c+1)}else{f=g;g=\"\"}for(c=0;c<h;c++){e=a[c];e=f.indexOf(e);if(e>-1){d=g;break}}if(d!==\"\")break}return d},secondsToTimeCode:function(a,b,c,d){if(typeof c==\"undefined\")c=false;else if(typeof d==\"undefined\")d=25;var e=Math.floor(a/3600)%24,g=Math.floor(a/60)%60,f=Math.floor(a%60);a=Math.floor((a%1*d).toFixed(3));return(b||e>0?(e<10?\"0\"+e:e)+\":\":\"\")+(g<10?\"0\"+g:g)+\":\"+(f<10?\"0\"+f:f)+(c?\":\"+(a<10?\"0\"+a:a):\"\")},timeCodeToSeconds:function(a,b,c,d){if(typeof c==\"undefined\")c=false;else if(typeof d==\n\"undefined\")d=25;a=a.split(\":\");b=parseInt(a[0],10);var e=parseInt(a[1],10),g=parseInt(a[2],10),f=0,i=0;if(c)f=parseInt(a[3])/d;return i=b*3600+e*60+g+f},convertSMPTEtoSeconds:function(a){if(typeof a!=\"string\")return false;a=a.replace(\",\",\".\");var b=0,c=a.indexOf(\".\")!=-1?a.split(\".\")[1].length:0,d=1;a=a.split(\":\").reverse();for(var e=0;e<a.length;e++){d=1;if(e>0)d=Math.pow(60,e);b+=Number(a[e])*d}return Number(b.toFixed(c))},removeSwf:function(a){var b=document.getElementById(a);if(b&&/object|embed/i.test(b.nodeName))if(mejs.MediaFeatures.isIE){b.style.display=\n\"none\";(function(){b.readyState==4?mejs.Utility.removeObjectInIE(a):setTimeout(arguments.callee,10)})()}else b.parentNode.removeChild(b)},removeObjectInIE:function(a){if(a=document.getElementById(a)){for(var b in a)if(typeof a[b]==\"function\")a[b]=null;a.parentNode.removeChild(a)}}};\nmejs.PluginDetector={hasPluginVersion:function(a,b){var c=this.plugins[a];b[1]=b[1]||0;b[2]=b[2]||0;return c[0]>b[0]||c[0]==b[0]&&c[1]>b[1]||c[0]==b[0]&&c[1]==b[1]&&c[2]>=b[2]?true:false},nav:window.navigator,ua:window.navigator.userAgent.toLowerCase(),plugins:[],addPlugin:function(a,b,c,d,e){this.plugins[a]=this.detectPlugin(b,c,d,e)},detectPlugin:function(a,b,c,d){var e=[0,0,0],g;if(typeof this.nav.plugins!=\"undefined\"&&typeof this.nav.plugins[a]==\"object\"){if((c=this.nav.plugins[a].description)&&\n!(typeof this.nav.mimeTypes!=\"undefined\"&&this.nav.mimeTypes[b]&&!this.nav.mimeTypes[b].enabledPlugin)){e=c.replace(a,\"\").replace(/^\\s+/,\"\").replace(/\\sr/gi,\".\").split(\".\");for(a=0;a<e.length;a++)e[a]=parseInt(e[a].match(/\\d+/),10)}}else if(typeof window.ActiveXObject!=\"undefined\")try{if(g=new ActiveXObject(c))e=d(g)}catch(f){}return e}};\nmejs.PluginDetector.addPlugin(\"flash\",\"Shockwave Flash\",\"application/x-shockwave-flash\",\"ShockwaveFlash.ShockwaveFlash\",function(a){var b=[];if(a=a.GetVariable(\"$version\")){a=a.split(\" \")[1].split(\",\");b=[parseInt(a[0],10),parseInt(a[1],10),parseInt(a[2],10)]}return b});\nmejs.PluginDetector.addPlugin(\"silverlight\",\"Silverlight Plug-In\",\"application/x-silverlight-2\",\"AgControl.AgControl\",function(a){var b=[0,0,0,0],c=function(d,e,g,f){for(;d.isVersionSupported(e[0]+\".\"+e[1]+\".\"+e[2]+\".\"+e[3]);)e[g]+=f;e[g]-=f};c(a,b,0,1);c(a,b,1,1);c(a,b,2,1E4);c(a,b,2,1E3);c(a,b,2,100);c(a,b,2,10);c(a,b,2,1);c(a,b,3,1);return b});\nmejs.MediaFeatures={init:function(){var a=this,b=document,c=mejs.PluginDetector.nav,d=mejs.PluginDetector.ua.toLowerCase(),e,g=[\"source\",\"track\",\"audio\",\"video\"];a.isiPad=d.match(/ipad/i)!==null;a.isiPhone=d.match(/iphone/i)!==null;a.isiOS=a.isiPhone||a.isiPad;a.isAndroid=d.match(/android/i)!==null;a.isBustedAndroid=d.match(/android 2\\.[12]/)!==null;a.isBustedNativeHTTPS=location.protocol===\"https:\"&&(d.match(/android [12]\\./)!==null||d.match(/macintosh.* version.* safari/)!==null);a.isIE=c.appName.toLowerCase().indexOf(\"microsoft\")!=\n-1||c.appName.toLowerCase().match(/trident/gi)!==null;a.isChrome=d.match(/chrome/gi)!==null;a.isChromium=d.match(/chromium/gi)!==null;a.isFirefox=d.match(/firefox/gi)!==null;a.isWebkit=d.match(/webkit/gi)!==null;a.isGecko=d.match(/gecko/gi)!==null&&!a.isWebkit&&!a.isIE;a.isOpera=d.match(/opera/gi)!==null;a.hasTouch=\"ontouchstart\"in window;a.svg=!!document.createElementNS&&!!document.createElementNS(\"http://www.w3.org/2000/svg\",\"svg\").createSVGRect;for(c=0;c<g.length;c++)e=document.createElement(g[c]);\na.supportsMediaTag=typeof e.canPlayType!==\"undefined\"||a.isBustedAndroid;try{e.canPlayType(\"video/mp4\")}catch(f){a.supportsMediaTag=false}a.hasSemiNativeFullScreen=typeof e.webkitEnterFullscreen!==\"undefined\";a.hasNativeFullscreen=typeof e.requestFullscreen!==\"undefined\";a.hasWebkitNativeFullScreen=typeof e.webkitRequestFullScreen!==\"undefined\";a.hasMozNativeFullScreen=typeof e.mozRequestFullScreen!==\"undefined\";a.hasMsNativeFullScreen=typeof e.msRequestFullscreen!==\"undefined\";a.hasTrueNativeFullScreen=\na.hasWebkitNativeFullScreen||a.hasMozNativeFullScreen||a.hasMsNativeFullScreen;a.nativeFullScreenEnabled=a.hasTrueNativeFullScreen;if(a.hasMozNativeFullScreen)a.nativeFullScreenEnabled=document.mozFullScreenEnabled;else if(a.hasMsNativeFullScreen)a.nativeFullScreenEnabled=document.msFullscreenEnabled;if(a.isChrome)a.hasSemiNativeFullScreen=false;if(a.hasTrueNativeFullScreen){a.fullScreenEventName=\"\";if(a.hasWebkitNativeFullScreen)a.fullScreenEventName=\"webkitfullscreenchange\";else if(a.hasMozNativeFullScreen)a.fullScreenEventName=\n\"mozfullscreenchange\";else if(a.hasMsNativeFullScreen)a.fullScreenEventName=\"MSFullscreenChange\";a.isFullScreen=function(){if(a.hasMozNativeFullScreen)return b.mozFullScreen;else if(a.hasWebkitNativeFullScreen)return b.webkitIsFullScreen;else if(a.hasMsNativeFullScreen)return b.msFullscreenElement!==null};a.requestFullScreen=function(i){if(a.hasWebkitNativeFullScreen)i.webkitRequestFullScreen();else if(a.hasMozNativeFullScreen)i.mozRequestFullScreen();else a.hasMsNativeFullScreen&&i.msRequestFullscreen()};\na.cancelFullScreen=function(){if(a.hasWebkitNativeFullScreen)document.webkitCancelFullScreen();else if(a.hasMozNativeFullScreen)document.mozCancelFullScreen();else a.hasMsNativeFullScreen&&document.msExitFullscreen()}}if(a.hasSemiNativeFullScreen&&d.match(/mac os x 10_5/i)){a.hasNativeFullScreen=false;a.hasSemiNativeFullScreen=false}}};mejs.MediaFeatures.init();\nmejs.HtmlMediaElement={pluginType:\"native\",isFullScreen:false,setCurrentTime:function(a){this.currentTime=a},setMuted:function(a){this.muted=a},setVolume:function(a){this.volume=a},stop:function(){this.pause()},setSrc:function(a){for(var b=this.getElementsByTagName(\"source\");b.length>0;)this.removeChild(b[0]);if(typeof a==\"string\")this.src=a;else{var c;for(b=0;b<a.length;b++){c=a[b];if(this.canPlayType(c.type)){this.src=c.src;break}}}},setVideoSize:function(a,b){this.width=a;this.height=b}};\nmejs.PluginMediaElement=function(a,b,c){this.id=a;this.pluginType=b;this.src=c;this.events={};this.attributes={}};\nmejs.PluginMediaElement.prototype={pluginElement:null,pluginType:\"\",isFullScreen:false,playbackRate:-1,defaultPlaybackRate:-1,seekable:[],played:[],paused:true,ended:false,seeking:false,duration:0,error:null,tagName:\"\",muted:false,volume:1,currentTime:0,play:function(){if(this.pluginApi!=null){this.pluginType==\"youtube\"||this.pluginType==\"vimeo\"?this.pluginApi.playVideo():this.pluginApi.playMedia();this.paused=false}},load:function(){if(this.pluginApi!=null){this.pluginType==\"youtube\"||this.pluginType==\n\"vimeo\"||this.pluginApi.loadMedia();this.paused=false}},pause:function(){if(this.pluginApi!=null){this.pluginType==\"youtube\"||this.pluginType==\"vimeo\"?this.pluginApi.pauseVideo():this.pluginApi.pauseMedia();this.paused=true}},stop:function(){if(this.pluginApi!=null){this.pluginType==\"youtube\"||this.pluginType==\"vimeo\"?this.pluginApi.stopVideo():this.pluginApi.stopMedia();this.paused=true}},canPlayType:function(a){var b,c,d,e=mejs.plugins[this.pluginType];for(b=0;b<e.length;b++){d=e[b];if(mejs.PluginDetector.hasPluginVersion(this.pluginType,\nd.version))for(c=0;c<d.types.length;c++)if(a==d.types[c])return\"probably\"}return\"\"},positionFullscreenButton:function(a,b,c){this.pluginApi!=null&&this.pluginApi.positionFullscreenButton&&this.pluginApi.positionFullscreenButton(Math.floor(a),Math.floor(b),c)},hideFullscreenButton:function(){this.pluginApi!=null&&this.pluginApi.hideFullscreenButton&&this.pluginApi.hideFullscreenButton()},setSrc:function(a){if(typeof a==\"string\"){this.pluginApi.setSrc(mejs.Utility.absolutizeUrl(a));this.src=mejs.Utility.absolutizeUrl(a)}else{var b,\nc;for(b=0;b<a.length;b++){c=a[b];if(this.canPlayType(c.type)){this.pluginApi.setSrc(mejs.Utility.absolutizeUrl(c.src));this.src=mejs.Utility.absolutizeUrl(a);break}}}},setCurrentTime:function(a){if(this.pluginApi!=null){this.pluginType==\"youtube\"||this.pluginType==\"vimeo\"?this.pluginApi.seekTo(a):this.pluginApi.setCurrentTime(a);this.currentTime=a}},setVolume:function(a){if(this.pluginApi!=null){this.pluginType==\"youtube\"?this.pluginApi.setVolume(a*100):this.pluginApi.setVolume(a);this.volume=a}},\nsetMuted:function(a){if(this.pluginApi!=null){if(this.pluginType==\"youtube\"){a?this.pluginApi.mute():this.pluginApi.unMute();this.muted=a;this.dispatchEvent(\"volumechange\")}else this.pluginApi.setMuted(a);this.muted=a}},setVideoSize:function(a,b){if(this.pluginElement&&this.pluginElement.style){this.pluginElement.style.width=a+\"px\";this.pluginElement.style.height=b+\"px\"}this.pluginApi!=null&&this.pluginApi.setVideoSize&&this.pluginApi.setVideoSize(a,b)},setFullscreen:function(a){this.pluginApi!=null&&\nthis.pluginApi.setFullscreen&&this.pluginApi.setFullscreen(a)},enterFullScreen:function(){this.pluginApi!=null&&this.pluginApi.setFullscreen&&this.setFullscreen(true)},exitFullScreen:function(){this.pluginApi!=null&&this.pluginApi.setFullscreen&&this.setFullscreen(false)},addEventListener:function(a,b){this.events[a]=this.events[a]||[];this.events[a].push(b)},removeEventListener:function(a,b){if(!a){this.events={};return true}var c=this.events[a];if(!c)return true;if(!b){this.events[a]=[];return true}for(var d=\n0;d<c.length;d++)if(c[d]===b){this.events[a].splice(d,1);return true}return false},dispatchEvent:function(a){var b,c,d=this.events[a];if(d){c=Array.prototype.slice.call(arguments,1);for(b=0;b<d.length;b++)d[b].apply(null,c)}},hasAttribute:function(a){return a in this.attributes},removeAttribute:function(a){delete this.attributes[a]},getAttribute:function(a){if(this.hasAttribute(a))return this.attributes[a];return\"\"},setAttribute:function(a,b){this.attributes[a]=b},remove:function(){mejs.Utility.removeSwf(this.pluginElement.id);\nmejs.MediaPluginBridge.unregisterPluginElement(this.pluginElement.id)}};\nmejs.MediaPluginBridge={pluginMediaElements:{},htmlMediaElements:{},registerPluginElement:function(a,b,c){this.pluginMediaElements[a]=b;this.htmlMediaElements[a]=c},unregisterPluginElement:function(a){delete this.pluginMediaElements[a];delete this.htmlMediaElements[a]},initPlugin:function(a){var b=this.pluginMediaElements[a],c=this.htmlMediaElements[a];if(b){switch(b.pluginType){case \"flash\":b.pluginElement=b.pluginApi=document.getElementById(a);break;case \"silverlight\":b.pluginElement=document.getElementById(b.id);\nb.pluginApi=b.pluginElement.Content.MediaElementJS}b.pluginApi!=null&&b.success&&b.success(b,c)}},fireEvent:function(a,b,c){var d,e;if(a=this.pluginMediaElements[a]){b={type:b,target:a};for(d in c){a[d]=c[d];b[d]=c[d]}e=c.bufferedTime||0;b.target.buffered=b.buffered={start:function(){return 0},end:function(){return e},length:1};a.dispatchEvent(b.type,b)}}};\nmejs.MediaElementDefaults={mode:\"auto\",plugins:[\"flash\",\"silverlight\",\"youtube\",\"vimeo\"],enablePluginDebug:false,httpsBasicAuthSite:false,type:\"\",pluginPath:mejs.Utility.getScriptPath([\"mediaelement.js\",\"mediaelement.min.js\",\"mediaelement-and-player.js\",\"mediaelement-and-player.min.js\"]),flashName:\"flashmediaelement.swf\",flashStreamer:\"\",enablePluginSmoothing:false,enablePseudoStreaming:false,pseudoStreamingStartQueryParam:\"start\",silverlightName:\"silverlightmediaelement.xap\",defaultVideoWidth:480,\ndefaultVideoHeight:270,pluginWidth:-1,pluginHeight:-1,pluginVars:[],timerRate:250,startVolume:0.8,success:function(){},error:function(){}};mejs.MediaElement=function(a,b){return mejs.HtmlMediaElementShim.create(a,b)};\nmejs.HtmlMediaElementShim={create:function(a,b){var c=mejs.MediaElementDefaults,d=typeof a==\"string\"?document.getElementById(a):a,e=d.tagName.toLowerCase(),g=e===\"audio\"||e===\"video\",f=g?d.getAttribute(\"src\"):d.getAttribute(\"href\");e=d.getAttribute(\"poster\");var i=d.getAttribute(\"autoplay\"),k=d.getAttribute(\"preload\"),h=d.getAttribute(\"controls\"),j;for(j in b)c[j]=b[j];f=typeof f==\"undefined\"||f===null||f==\"\"?null:f;e=typeof e==\"undefined\"||e===null?\"\":e;k=typeof k==\"undefined\"||k===null||k===\"false\"?\n\"none\":k;i=!(typeof i==\"undefined\"||i===null||i===\"false\");h=!(typeof h==\"undefined\"||h===null||h===\"false\");j=this.determinePlayback(d,c,mejs.MediaFeatures.supportsMediaTag,g,f);j.url=j.url!==null?mejs.Utility.absolutizeUrl(j.url):\"\";if(j.method==\"native\"){if(mejs.MediaFeatures.isBustedAndroid){d.src=j.url;d.addEventListener(\"click\",function(){d.play()},false)}return this.updateNative(j,c,i,k)}else if(j.method!==\"\")return this.createPlugin(j,c,e,i,k,h);else{this.createErrorMessage(j,c,e);return this}},\ndeterminePlayback:function(a,b,c,d,e){var g=[],f,i,k,h={method:\"\",url:\"\",htmlMediaElement:a,isVideo:a.tagName.toLowerCase()!=\"audio\"},j;if(typeof b.type!=\"undefined\"&&b.type!==\"\")if(typeof b.type==\"string\")g.push({type:b.type,url:e});else for(f=0;f<b.type.length;f++)g.push({type:b.type[f],url:e});else if(e!==null){k=this.formatType(e,a.getAttribute(\"type\"));g.push({type:k,url:e})}else for(f=0;f<a.childNodes.length;f++){i=a.childNodes[f];if(i.nodeType==1&&i.tagName.toLowerCase()==\"source\"){e=i.getAttribute(\"src\");\nk=this.formatType(e,i.getAttribute(\"type\"));i=i.getAttribute(\"media\");if(!i||!window.matchMedia||window.matchMedia&&window.matchMedia(i).matches)g.push({type:k,url:e})}}if(!d&&g.length>0&&g[0].url!==null&&this.getTypeFromFile(g[0].url).indexOf(\"audio\")>-1)h.isVideo=false;if(mejs.MediaFeatures.isBustedAndroid)a.canPlayType=function(m){return m.match(/video\\/(mp4|m4v)/gi)!==null?\"maybe\":\"\"};if(mejs.MediaFeatures.isChromium)a.canPlayType=function(m){return m.match(/video\\/(webm|ogv|ogg)/gi)!==null?\"maybe\":\n\"\"};if(c&&(b.mode===\"auto\"||b.mode===\"auto_plugin\"||b.mode===\"native\")&&!(mejs.MediaFeatures.isBustedNativeHTTPS&&b.httpsBasicAuthSite===true)){if(!d){f=document.createElement(h.isVideo?\"video\":\"audio\");a.parentNode.insertBefore(f,a);a.style.display=\"none\";h.htmlMediaElement=a=f}for(f=0;f<g.length;f++)if(g[f].type==\"video/m3u8\"||a.canPlayType(g[f].type).replace(/no/,\"\")!==\"\"||a.canPlayType(g[f].type.replace(/mp3/,\"mpeg\")).replace(/no/,\"\")!==\"\"||a.canPlayType(g[f].type.replace(/m4a/,\"mp4\")).replace(/no/,\n\"\")!==\"\"){h.method=\"native\";h.url=g[f].url;break}if(h.method===\"native\"){if(h.url!==null)a.src=h.url;if(b.mode!==\"auto_plugin\")return h}}if(b.mode===\"auto\"||b.mode===\"auto_plugin\"||b.mode===\"shim\")for(f=0;f<g.length;f++){k=g[f].type;for(a=0;a<b.plugins.length;a++){e=b.plugins[a];i=mejs.plugins[e];for(c=0;c<i.length;c++){j=i[c];if(j.version==null||mejs.PluginDetector.hasPluginVersion(e,j.version))for(d=0;d<j.types.length;d++)if(k==j.types[d]){h.method=e;h.url=g[f].url;return h}}}}if(b.mode===\"auto_plugin\"&&\nh.method===\"native\")return h;if(h.method===\"\"&&g.length>0)h.url=g[0].url;return h},formatType:function(a,b){return a&&!b?this.getTypeFromFile(a):b&&~b.indexOf(\";\")?b.substr(0,b.indexOf(\";\")):b},getTypeFromFile:function(a){a=a.split(\"?\")[0];a=a.substring(a.lastIndexOf(\".\")+1).toLowerCase();return(/(mp4|m4v|ogg|ogv|m3u8|webm|webmv|flv|wmv|mpeg|mov)/gi.test(a)?\"video\":\"audio\")+\"/\"+this.getTypeFromExtension(a)},getTypeFromExtension:function(a){switch(a){case \"mp4\":case \"m4v\":case \"m4a\":return\"mp4\";case \"webm\":case \"webma\":case \"webmv\":return\"webm\";\ncase \"ogg\":case \"oga\":case \"ogv\":return\"ogg\";default:return a}},createErrorMessage:function(a,b,c){var d=a.htmlMediaElement,e=document.createElement(\"div\");e.className=\"me-cannotplay\";try{e.style.width=d.width+\"px\";e.style.height=d.height+\"px\"}catch(g){}e.innerHTML=b.customError?b.customError:c!==\"\"?'<a href=\"'+a.url+'\"><img src=\"'+c+'\" width=\"100%\" height=\"100%\" /></a>':'<a href=\"'+a.url+'\"><span>'+mejs.i18n.t(\"Download File\")+\"</span></a>\";d.parentNode.insertBefore(e,d);d.style.display=\"none\";b.error(d)},\ncreatePlugin:function(a,b,c,d,e,g){c=a.htmlMediaElement;var f=1,i=1,k=\"me_\"+a.method+\"_\"+mejs.meIndex++,h=new mejs.PluginMediaElement(k,a.method,a.url),j=document.createElement(\"div\"),m;h.tagName=c.tagName;for(m=0;m<c.attributes.length;m++){var q=c.attributes[m];q.specified==true&&h.setAttribute(q.name,q.value)}for(m=c.parentNode;m!==null&&m.tagName.toLowerCase()!==\"body\"&&m.parentNode!=null;){if(m.parentNode.tagName.toLowerCase()===\"p\"){m.parentNode.parentNode.insertBefore(m,m.parentNode);break}m=\nm.parentNode}if(a.isVideo){f=b.pluginWidth>0?b.pluginWidth:b.videoWidth>0?b.videoWidth:c.getAttribute(\"width\")!==null?c.getAttribute(\"width\"):b.defaultVideoWidth;i=b.pluginHeight>0?b.pluginHeight:b.videoHeight>0?b.videoHeight:c.getAttribute(\"height\")!==null?c.getAttribute(\"height\"):b.defaultVideoHeight;f=mejs.Utility.encodeUrl(f);i=mejs.Utility.encodeUrl(i)}else if(b.enablePluginDebug){f=320;i=240}h.success=b.success;mejs.MediaPluginBridge.registerPluginElement(k,h,c);j.className=\"me-plugin\";j.id=\nk+\"_container\";a.isVideo?c.parentNode.insertBefore(j,c):document.body.insertBefore(j,document.body.childNodes[0]);d=[\"id=\"+k,\"isvideo=\"+(a.isVideo?\"true\":\"false\"),\"autoplay=\"+(d?\"true\":\"false\"),\"preload=\"+e,\"width=\"+f,\"startvolume=\"+b.startVolume,\"timerrate=\"+b.timerRate,\"flashstreamer=\"+b.flashStreamer,\"height=\"+i,\"pseudostreamstart=\"+b.pseudoStreamingStartQueryParam];if(a.url!==null)a.method==\"flash\"?d.push(\"file=\"+mejs.Utility.encodeUrl(a.url)):d.push(\"file=\"+a.url);b.enablePluginDebug&&d.push(\"debug=true\");\nb.enablePluginSmoothing&&d.push(\"smoothing=true\");b.enablePseudoStreaming&&d.push(\"pseudostreaming=true\");g&&d.push(\"controls=true\");if(b.pluginVars)d=d.concat(b.pluginVars);switch(a.method){case \"silverlight\":j.innerHTML='<object data=\"data:application/x-silverlight-2,\" type=\"application/x-silverlight-2\" id=\"'+k+'\" name=\"'+k+'\" width=\"'+f+'\" height=\"'+i+'\" class=\"mejs-shim\"><param name=\"initParams\" value=\"'+d.join(\",\")+'\" /><param name=\"windowless\" value=\"true\" /><param name=\"background\" value=\"black\" /><param name=\"minRuntimeVersion\" value=\"3.0.0.0\" /><param name=\"autoUpgrade\" value=\"true\" /><param name=\"source\" value=\"'+\nb.pluginPath+b.silverlightName+'\" /></object>';break;case \"flash\":if(mejs.MediaFeatures.isIE){a=document.createElement(\"div\");j.appendChild(a);a.outerHTML='<object classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\" codebase=\"//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab\" id=\"'+k+'\" width=\"'+f+'\" height=\"'+i+'\" class=\"mejs-shim\"><param name=\"movie\" value=\"'+b.pluginPath+b.flashName+\"?x=\"+new Date+'\" /><param name=\"flashvars\" value=\"'+d.join(\"&amp;\")+'\" /><param name=\"quality\" value=\"high\" /><param name=\"bgcolor\" value=\"#000000\" /><param name=\"wmode\" value=\"transparent\" /><param name=\"allowScriptAccess\" value=\"always\" /><param name=\"allowFullScreen\" value=\"true\" /><param name=\"scale\" value=\"default\" /></object>'}else j.innerHTML=\n'<embed id=\"'+k+'\" name=\"'+k+'\" play=\"true\" loop=\"false\" quality=\"high\" bgcolor=\"#000000\" wmode=\"transparent\" allowScriptAccess=\"always\" allowFullScreen=\"true\" type=\"application/x-shockwave-flash\" pluginspage=\"//www.macromedia.com/go/getflashplayer\" src=\"'+b.pluginPath+b.flashName+'\" flashvars=\"'+d.join(\"&\")+'\" width=\"'+f+'\" height=\"'+i+'\" scale=\"default\"class=\"mejs-shim\"></embed>';break;case \"youtube\":if(a.url.lastIndexOf(\"youtu.be\")!=-1){a=a.url.substr(a.url.lastIndexOf(\"/\")+1);if(a.indexOf(\"?\")!=\n-1)a=a.substr(0,a.indexOf(\"?\"))}else a=a.url.substr(a.url.lastIndexOf(\"=\")+1);youtubeSettings={container:j,containerId:j.id,pluginMediaElement:h,pluginId:k,videoId:a,height:i,width:f};mejs.PluginDetector.hasPluginVersion(\"flash\",[10,0,0])?mejs.YouTubeApi.createFlash(youtubeSettings):mejs.YouTubeApi.enqueueIframe(youtubeSettings);break;case \"vimeo\":b=k+\"_player\";h.vimeoid=a.url.substr(a.url.lastIndexOf(\"/\")+1);j.innerHTML='<iframe src=\"//player.vimeo.com/video/'+h.vimeoid+\"?api=1&portrait=0&byline=0&title=0&player_id=\"+\nb+'\" width=\"'+f+'\" height=\"'+i+'\" frameborder=\"0\" class=\"mejs-shim\" id=\"'+b+'\"></iframe>';if(typeof $f==\"function\"){var l=$f(j.childNodes[0]);l.addEvent(\"ready\",function(){function o(n,p,r,s){n={type:r,target:p};if(r==\"timeupdate\"){p.currentTime=n.currentTime=s.seconds;p.duration=n.duration=s.duration}p.dispatchEvent(n.type,n)}$.extend(l,{playVideo:function(){l.api(\"play\")},stopVideo:function(){l.api(\"unload\")},pauseVideo:function(){l.api(\"pause\")},seekTo:function(n){l.api(\"seekTo\",n)},setVolume:function(n){l.api(\"setVolume\",\nn)},setMuted:function(n){if(n){l.lastVolume=l.api(\"getVolume\");l.api(\"setVolume\",0)}else{l.api(\"setVolume\",l.lastVolume);delete l.lastVolume}}});l.addEvent(\"play\",function(){o(l,h,\"play\");o(l,h,\"playing\")});l.addEvent(\"pause\",function(){o(l,h,\"pause\")});l.addEvent(\"finish\",function(){o(l,h,\"ended\")});l.addEvent(\"playProgress\",function(n){o(l,h,\"timeupdate\",n)});h.pluginElement=j;h.pluginApi=l;mejs.MediaPluginBridge.initPlugin(k)})}else console.warn(\"You need to include froogaloop for vimeo to work\")}c.style.display=\n\"none\";c.removeAttribute(\"autoplay\");return h},updateNative:function(a,b){var c=a.htmlMediaElement,d;for(d in mejs.HtmlMediaElement)c[d]=mejs.HtmlMediaElement[d];b.success(c,c);return c}};\nmejs.YouTubeApi={isIframeStarted:false,isIframeLoaded:false,loadIframeApi:function(){if(!this.isIframeStarted){var a=document.createElement(\"script\");a.src=\"//www.youtube.com/player_api\";var b=document.getElementsByTagName(\"script\")[0];b.parentNode.insertBefore(a,b);this.isIframeStarted=true}},iframeQueue:[],enqueueIframe:function(a){if(this.isLoaded)this.createIframe(a);else{this.loadIframeApi();this.iframeQueue.push(a)}},createIframe:function(a){var b=a.pluginMediaElement,c=new YT.Player(a.containerId,\n{height:a.height,width:a.width,videoId:a.videoId,playerVars:{controls:0},events:{onReady:function(){a.pluginMediaElement.pluginApi=c;mejs.MediaPluginBridge.initPlugin(a.pluginId);setInterval(function(){mejs.YouTubeApi.createEvent(c,b,\"timeupdate\")},250)},onStateChange:function(d){mejs.YouTubeApi.handleStateChange(d.data,c,b)}}})},createEvent:function(a,b,c){c={type:c,target:b};if(a&&a.getDuration){b.currentTime=c.currentTime=a.getCurrentTime();b.duration=c.duration=a.getDuration();c.paused=b.paused;\nc.ended=b.ended;c.muted=a.isMuted();c.volume=a.getVolume()/100;c.bytesTotal=a.getVideoBytesTotal();c.bufferedBytes=a.getVideoBytesLoaded();var d=c.bufferedBytes/c.bytesTotal*c.duration;c.target.buffered=c.buffered={start:function(){return 0},end:function(){return d},length:1}}b.dispatchEvent(c.type,c)},iFrameReady:function(){for(this.isIframeLoaded=this.isLoaded=true;this.iframeQueue.length>0;)this.createIframe(this.iframeQueue.pop())},flashPlayers:{},createFlash:function(a){this.flashPlayers[a.pluginId]=\na;var b,c=\"//www.youtube.com/apiplayer?enablejsapi=1&amp;playerapiid=\"+a.pluginId+\"&amp;version=3&amp;autoplay=0&amp;controls=0&amp;modestbranding=1&loop=0\";if(mejs.MediaFeatures.isIE){b=document.createElement(\"div\");a.container.appendChild(b);b.outerHTML='<object classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\" codebase=\"//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab\" id=\"'+a.pluginId+'\" width=\"'+a.width+'\" height=\"'+a.height+'\" class=\"mejs-shim\"><param name=\"movie\" value=\"'+\nc+'\" /><param name=\"wmode\" value=\"transparent\" /><param name=\"allowScriptAccess\" value=\"always\" /><param name=\"allowFullScreen\" value=\"true\" /></object>'}else a.container.innerHTML='<object type=\"application/x-shockwave-flash\" id=\"'+a.pluginId+'\" data=\"'+c+'\" width=\"'+a.width+'\" height=\"'+a.height+'\" style=\"visibility: visible; \" class=\"mejs-shim\"><param name=\"allowScriptAccess\" value=\"always\"><param name=\"wmode\" value=\"transparent\"></object>'},flashReady:function(a){var b=this.flashPlayers[a],c=\ndocument.getElementById(a),d=b.pluginMediaElement;d.pluginApi=d.pluginElement=c;mejs.MediaPluginBridge.initPlugin(a);c.cueVideoById(b.videoId);a=b.containerId+\"_callback\";window[a]=function(e){mejs.YouTubeApi.handleStateChange(e,c,d)};c.addEventListener(\"onStateChange\",a);setInterval(function(){mejs.YouTubeApi.createEvent(c,d,\"timeupdate\")},250);mejs.YouTubeApi.createEvent(c,d,\"canplay\")},handleStateChange:function(a,b,c){switch(a){case -1:c.paused=true;c.ended=true;mejs.YouTubeApi.createEvent(b,\nc,\"loadedmetadata\");break;case 0:c.paused=false;c.ended=true;mejs.YouTubeApi.createEvent(b,c,\"ended\");break;case 1:c.paused=false;c.ended=false;mejs.YouTubeApi.createEvent(b,c,\"play\");mejs.YouTubeApi.createEvent(b,c,\"playing\");break;case 2:c.paused=true;c.ended=false;mejs.YouTubeApi.createEvent(b,c,\"pause\");break;case 3:mejs.YouTubeApi.createEvent(b,c,\"progress\")}}};function onYouTubePlayerAPIReady(){mejs.YouTubeApi.iFrameReady()}function onYouTubePlayerReady(a){mejs.YouTubeApi.flashReady(a)}\nwindow.mejs=mejs;window.MediaElement=mejs.MediaElement;\n(function(a,b){var c={locale:{language:\"\",strings:{}},methods:{}};c.getLanguage=function(){return(c.locale.language||window.navigator.userLanguage||window.navigator.language).substr(0,2).toLowerCase()};if(typeof mejsL10n!=\"undefined\")c.locale.language=mejsL10n.language;c.methods.checkPlain=function(d){var e,g,f={\"&\":\"&amp;\",'\"':\"&quot;\",\"<\":\"&lt;\",\">\":\"&gt;\"};d=String(d);for(e in f)if(f.hasOwnProperty(e)){g=RegExp(e,\"g\");d=d.replace(g,f[e])}return d};c.methods.t=function(d,e){if(c.locale.strings&&\nc.locale.strings[e.context]&&c.locale.strings[e.context][d])d=c.locale.strings[e.context][d];return c.methods.checkPlain(d)};c.t=function(d,e){if(typeof d===\"string\"&&d.length>0){var g=c.getLanguage();e=e||{context:g};return c.methods.t(d,e)}else throw{name:\"InvalidArgumentException\",message:\"First argument is either not a string or empty.\"};};b.i18n=c})(document,mejs);(function(a){if(typeof mejsL10n!=\"undefined\")a[mejsL10n.language]=mejsL10n.strings})(mejs.i18n.locale.strings);\n(function(a){if(typeof a.de===\"undefined\")a.de={Fullscreen:\"Vollbild\",\"Go Fullscreen\":\"Vollbild an\",\"Turn off Fullscreen\":\"Vollbild aus\",Close:\"Schlie\\u00dfen\"}})(mejs.i18n.locale.strings);(function(a){if(typeof a.zh===\"undefined\")a.zh={Fullscreen:\"\\u5168\\u87a2\\u5e55\",\"Go Fullscreen\":\"\\u5168\\u5c4f\\u6a21\\u5f0f\",\"Turn off Fullscreen\":\"\\u9000\\u51fa\\u5168\\u5c4f\\u6a21\\u5f0f\",Close:\"\\u95dc\\u9589\"}})(mejs.i18n.locale.strings);\n","!function($) {\n\n\"use strict\";\n\nvar FOUNDATION_VERSION = '6.3.1';\n\n// Global Foundation object\n// This is attached to the window, or used as a module for AMD/Browserify\nvar Foundation = {\n  version: FOUNDATION_VERSION,\n\n  /**\n   * Stores initialized plugins.\n   */\n  _plugins: {},\n\n  /**\n   * Stores generated unique ids for plugin instances\n   */\n  _uuids: [],\n\n  /**\n   * Returns a boolean for RTL support\n   */\n  rtl: function(){\n    return $('html').attr('dir') === 'rtl';\n  },\n  /**\n   * Defines a Foundation plugin, adding it to the `Foundation` namespace and the list of plugins to initialize when reflowing.\n   * @param {Object} plugin - The constructor of the plugin.\n   */\n  plugin: function(plugin, name) {\n    // Object key to use when adding to global Foundation object\n    // Examples: Foundation.Reveal, Foundation.OffCanvas\n    var className = (name || functionName(plugin));\n    // Object key to use when storing the plugin, also used to create the identifying data attribute for the plugin\n    // Examples: data-reveal, data-off-canvas\n    var attrName  = hyphenate(className);\n\n    // Add to the Foundation object and the plugins list (for reflowing)\n    this._plugins[attrName] = this[className] = plugin;\n  },\n  /**\n   * @function\n   * Populates the _uuids array with pointers to each individual plugin instance.\n   * Adds the `zfPlugin` data-attribute to programmatically created plugins to allow use of $(selector).foundation(method) calls.\n   * Also fires the initialization event for each plugin, consolidating repetitive code.\n   * @param {Object} plugin - an instance of a plugin, usually `this` in context.\n   * @param {String} name - the name of the plugin, passed as a camelCased string.\n   * @fires Plugin#init\n   */\n  registerPlugin: function(plugin, name){\n    var pluginName = name ? hyphenate(name) : functionName(plugin.constructor).toLowerCase();\n    plugin.uuid = this.GetYoDigits(6, pluginName);\n\n    if(!plugin.$element.attr(`data-${pluginName}`)){ plugin.$element.attr(`data-${pluginName}`, plugin.uuid); }\n    if(!plugin.$element.data('zfPlugin')){ plugin.$element.data('zfPlugin', plugin); }\n          /**\n           * Fires when the plugin has initialized.\n           * @event Plugin#init\n           */\n    plugin.$element.trigger(`init.zf.${pluginName}`);\n\n    this._uuids.push(plugin.uuid);\n\n    return;\n  },\n  /**\n   * @function\n   * Removes the plugins uuid from the _uuids array.\n   * Removes the zfPlugin data attribute, as well as the data-plugin-name attribute.\n   * Also fires the destroyed event for the plugin, consolidating repetitive code.\n   * @param {Object} plugin - an instance of a plugin, usually `this` in context.\n   * @fires Plugin#destroyed\n   */\n  unregisterPlugin: function(plugin){\n    var pluginName = hyphenate(functionName(plugin.$element.data('zfPlugin').constructor));\n\n    this._uuids.splice(this._uuids.indexOf(plugin.uuid), 1);\n    plugin.$element.removeAttr(`data-${pluginName}`).removeData('zfPlugin')\n          /**\n           * Fires when the plugin has been destroyed.\n           * @event Plugin#destroyed\n           */\n          .trigger(`destroyed.zf.${pluginName}`);\n    for(var prop in plugin){\n      plugin[prop] = null;//clean up script to prep for garbage collection.\n    }\n    return;\n  },\n\n  /**\n   * @function\n   * Causes one or more active plugins to re-initialize, resetting event listeners, recalculating positions, etc.\n   * @param {String} plugins - optional string of an individual plugin key, attained by calling `$(element).data('pluginName')`, or string of a plugin class i.e. `'dropdown'`\n   * @default If no argument is passed, reflow all currently active plugins.\n   */\n   reInit: function(plugins){\n     var isJQ = plugins instanceof $;\n     try{\n       if(isJQ){\n         plugins.each(function(){\n           $(this).data('zfPlugin')._init();\n         });\n       }else{\n         var type = typeof plugins,\n         _this = this,\n         fns = {\n           'object': function(plgs){\n             plgs.forEach(function(p){\n               p = hyphenate(p);\n               $('[data-'+ p +']').foundation('_init');\n             });\n           },\n           'string': function(){\n             plugins = hyphenate(plugins);\n             $('[data-'+ plugins +']').foundation('_init');\n           },\n           'undefined': function(){\n             this['object'](Object.keys(_this._plugins));\n           }\n         };\n         fns[type](plugins);\n       }\n     }catch(err){\n       console.error(err);\n     }finally{\n       return plugins;\n     }\n   },\n\n  /**\n   * returns a random base-36 uid with namespacing\n   * @function\n   * @param {Number} length - number of random base-36 digits desired. Increase for more random strings.\n   * @param {String} namespace - name of plugin to be incorporated in uid, optional.\n   * @default {String} '' - if no plugin name is provided, nothing is appended to the uid.\n   * @returns {String} - unique id\n   */\n  GetYoDigits: function(length, namespace){\n    length = length || 6;\n    return Math.round((Math.pow(36, length + 1) - Math.random() * Math.pow(36, length))).toString(36).slice(1) + (namespace ? `-${namespace}` : '');\n  },\n  /**\n   * Initialize plugins on any elements within `elem` (and `elem` itself) that aren't already initialized.\n   * @param {Object} elem - jQuery object containing the element to check inside. Also checks the element itself, unless it's the `document` object.\n   * @param {String|Array} plugins - A list of plugins to initialize. Leave this out to initialize everything.\n   */\n  reflow: function(elem, plugins) {\n\n    // If plugins is undefined, just grab everything\n    if (typeof plugins === 'undefined') {\n      plugins = Object.keys(this._plugins);\n    }\n    // If plugins is a string, convert it to an array with one item\n    else if (typeof plugins === 'string') {\n      plugins = [plugins];\n    }\n\n    var _this = this;\n\n    // Iterate through each plugin\n    $.each(plugins, function(i, name) {\n      // Get the current plugin\n      var plugin = _this._plugins[name];\n\n      // Localize the search to all elements inside elem, as well as elem itself, unless elem === document\n      var $elem = $(elem).find('[data-'+name+']').addBack('[data-'+name+']');\n\n      // For each plugin found, initialize it\n      $elem.each(function() {\n        var $el = $(this),\n            opts = {};\n        // Don't double-dip on plugins\n        if ($el.data('zfPlugin')) {\n          console.warn(\"Tried to initialize \"+name+\" on an element that already has a Foundation plugin.\");\n          return;\n        }\n\n        if($el.attr('data-options')){\n          var thing = $el.attr('data-options').split(';').forEach(function(e, i){\n            var opt = e.split(':').map(function(el){ return el.trim(); });\n            if(opt[0]) opts[opt[0]] = parseValue(opt[1]);\n          });\n        }\n        try{\n          $el.data('zfPlugin', new plugin($(this), opts));\n        }catch(er){\n          console.error(er);\n        }finally{\n          return;\n        }\n      });\n    });\n  },\n  getFnName: functionName,\n  transitionend: function($elem){\n    var transitions = {\n      'transition': 'transitionend',\n      'WebkitTransition': 'webkitTransitionEnd',\n      'MozTransition': 'transitionend',\n      'OTransition': 'otransitionend'\n    };\n    var elem = document.createElement('div'),\n        end;\n\n    for (var t in transitions){\n      if (typeof elem.style[t] !== 'undefined'){\n        end = transitions[t];\n      }\n    }\n    if(end){\n      return end;\n    }else{\n      end = setTimeout(function(){\n        $elem.triggerHandler('transitionend', [$elem]);\n      }, 1);\n      return 'transitionend';\n    }\n  }\n};\n\nFoundation.util = {\n  /**\n   * Function for applying a debounce effect to a function call.\n   * @function\n   * @param {Function} func - Function to be called at end of timeout.\n   * @param {Number} delay - Time in ms to delay the call of `func`.\n   * @returns function\n   */\n  throttle: function (func, delay) {\n    var timer = null;\n\n    return function () {\n      var context = this, args = arguments;\n\n      if (timer === null) {\n        timer = setTimeout(function () {\n          func.apply(context, args);\n          timer = null;\n        }, delay);\n      }\n    };\n  }\n};\n\n// TODO: consider not making this a jQuery function\n// TODO: need way to reflow vs. re-initialize\n/**\n * The Foundation jQuery method.\n * @param {String|Array} method - An action to perform on the current jQuery object.\n */\nvar foundation = function(method) {\n  var type = typeof method,\n      $meta = $('meta.foundation-mq'),\n      $noJS = $('.no-js');\n\n  if(!$meta.length){\n    $('<meta class=\"foundation-mq\">').appendTo(document.head);\n  }\n  if($noJS.length){\n    $noJS.removeClass('no-js');\n  }\n\n  if(type === 'undefined'){//needs to initialize the Foundation object, or an individual plugin.\n    Foundation.MediaQuery._init();\n    Foundation.reflow(this);\n  }else if(type === 'string'){//an individual method to invoke on a plugin or group of plugins\n    var args = Array.prototype.slice.call(arguments, 1);//collect all the arguments, if necessary\n    var plugClass = this.data('zfPlugin');//determine the class of plugin\n\n    if(plugClass !== undefined && plugClass[method] !== undefined){//make sure both the class and method exist\n      if(this.length === 1){//if there's only one, call it directly.\n          plugClass[method].apply(plugClass, args);\n      }else{\n        this.each(function(i, el){//otherwise loop through the jQuery collection and invoke the method on each\n          plugClass[method].apply($(el).data('zfPlugin'), args);\n        });\n      }\n    }else{//error for no class or no method\n      throw new ReferenceError(\"We're sorry, '\" + method + \"' is not an available method for \" + (plugClass ? functionName(plugClass) : 'this element') + '.');\n    }\n  }else{//error for invalid argument type\n    throw new TypeError(`We're sorry, ${type} is not a valid parameter. You must use a string representing the method you wish to invoke.`);\n  }\n  return this;\n};\n\nwindow.Foundation = Foundation;\n$.fn.foundation = foundation;\n\n// Polyfill for requestAnimationFrame\n(function() {\n  if (!Date.now || !window.Date.now)\n    window.Date.now = Date.now = function() { return new Date().getTime(); };\n\n  var vendors = ['webkit', 'moz'];\n  for (var i = 0; i < vendors.length && !window.requestAnimationFrame; ++i) {\n      var vp = vendors[i];\n      window.requestAnimationFrame = window[vp+'RequestAnimationFrame'];\n      window.cancelAnimationFrame = (window[vp+'CancelAnimationFrame']\n                                 || window[vp+'CancelRequestAnimationFrame']);\n  }\n  if (/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent)\n    || !window.requestAnimationFrame || !window.cancelAnimationFrame) {\n    var lastTime = 0;\n    window.requestAnimationFrame = function(callback) {\n        var now = Date.now();\n        var nextTime = Math.max(lastTime + 16, now);\n        return setTimeout(function() { callback(lastTime = nextTime); },\n                          nextTime - now);\n    };\n    window.cancelAnimationFrame = clearTimeout;\n  }\n  /**\n   * Polyfill for performance.now, required by rAF\n   */\n  if(!window.performance || !window.performance.now){\n    window.performance = {\n      start: Date.now(),\n      now: function(){ return Date.now() - this.start; }\n    };\n  }\n})();\nif (!Function.prototype.bind) {\n  Function.prototype.bind = function(oThis) {\n    if (typeof this !== 'function') {\n      // closest thing possible to the ECMAScript 5\n      // internal IsCallable function\n      throw new TypeError('Function.prototype.bind - what is trying to be bound is not callable');\n    }\n\n    var aArgs   = Array.prototype.slice.call(arguments, 1),\n        fToBind = this,\n        fNOP    = function() {},\n        fBound  = function() {\n          return fToBind.apply(this instanceof fNOP\n                 ? this\n                 : oThis,\n                 aArgs.concat(Array.prototype.slice.call(arguments)));\n        };\n\n    if (this.prototype) {\n      // native functions don't have a prototype\n      fNOP.prototype = this.prototype;\n    }\n    fBound.prototype = new fNOP();\n\n    return fBound;\n  };\n}\n// Polyfill to get the name of a function in IE9\nfunction functionName(fn) {\n  if (Function.prototype.name === undefined) {\n    var funcNameRegex = /function\\s([^(]{1,})\\(/;\n    var results = (funcNameRegex).exec((fn).toString());\n    return (results && results.length > 1) ? results[1].trim() : \"\";\n  }\n  else if (fn.prototype === undefined) {\n    return fn.constructor.name;\n  }\n  else {\n    return fn.prototype.constructor.name;\n  }\n}\nfunction parseValue(str){\n  if ('true' === str) return true;\n  else if ('false' === str) return false;\n  else if (!isNaN(str * 1)) return parseFloat(str);\n  return str;\n}\n// Convert PascalCase to kebab-case\n// Thank you: http://stackoverflow.com/a/8955580\nfunction hyphenate(str) {\n  return str.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n}\n\n}(jQuery);\n","'use strict';\n\n!function($) {\n\nFoundation.Box = {\n  ImNotTouchingYou: ImNotTouchingYou,\n  GetDimensions: GetDimensions,\n  GetOffsets: GetOffsets\n}\n\n/**\n * Compares the dimensions of an element to a container and determines collision events with container.\n * @function\n * @param {jQuery} element - jQuery object to test for collisions.\n * @param {jQuery} parent - jQuery object to use as bounding container.\n * @param {Boolean} lrOnly - set to true to check left and right values only.\n * @param {Boolean} tbOnly - set to true to check top and bottom values only.\n * @default if no parent object passed, detects collisions with `window`.\n * @returns {Boolean} - true if collision free, false if a collision in any direction.\n */\nfunction ImNotTouchingYou(element, parent, lrOnly, tbOnly) {\n  var eleDims = GetDimensions(element),\n      top, bottom, left, right;\n\n  if (parent) {\n    var parDims = GetDimensions(parent);\n\n    bottom = (eleDims.offset.top + eleDims.height <= parDims.height + parDims.offset.top);\n    top    = (eleDims.offset.top >= parDims.offset.top);\n    left   = (eleDims.offset.left >= parDims.offset.left);\n    right  = (eleDims.offset.left + eleDims.width <= parDims.width + parDims.offset.left);\n  }\n  else {\n    bottom = (eleDims.offset.top + eleDims.height <= eleDims.windowDims.height + eleDims.windowDims.offset.top);\n    top    = (eleDims.offset.top >= eleDims.windowDims.offset.top);\n    left   = (eleDims.offset.left >= eleDims.windowDims.offset.left);\n    right  = (eleDims.offset.left + eleDims.width <= eleDims.windowDims.width);\n  }\n\n  var allDirs = [bottom, top, left, right];\n\n  if (lrOnly) {\n    return left === right === true;\n  }\n\n  if (tbOnly) {\n    return top === bottom === true;\n  }\n\n  return allDirs.indexOf(false) === -1;\n};\n\n/**\n * Uses native methods to return an object of dimension values.\n * @function\n * @param {jQuery || HTML} element - jQuery object or DOM element for which to get the dimensions. Can be any element other that document or window.\n * @returns {Object} - nested object of integer pixel values\n * TODO - if element is window, return only those values.\n */\nfunction GetDimensions(elem, test){\n  elem = elem.length ? elem[0] : elem;\n\n  if (elem === window || elem === document) {\n    throw new Error(\"I'm sorry, Dave. I'm afraid I can't do that.\");\n  }\n\n  var rect = elem.getBoundingClientRect(),\n      parRect = elem.parentNode.getBoundingClientRect(),\n      winRect = document.body.getBoundingClientRect(),\n      winY = window.pageYOffset,\n      winX = window.pageXOffset;\n\n  return {\n    width: rect.width,\n    height: rect.height,\n    offset: {\n      top: rect.top + winY,\n      left: rect.left + winX\n    },\n    parentDims: {\n      width: parRect.width,\n      height: parRect.height,\n      offset: {\n        top: parRect.top + winY,\n        left: parRect.left + winX\n      }\n    },\n    windowDims: {\n      width: winRect.width,\n      height: winRect.height,\n      offset: {\n        top: winY,\n        left: winX\n      }\n    }\n  }\n}\n\n/**\n * Returns an object of top and left integer pixel values for dynamically rendered elements,\n * such as: Tooltip, Reveal, and Dropdown\n * @function\n * @param {jQuery} element - jQuery object for the element being positioned.\n * @param {jQuery} anchor - jQuery object for the element's anchor point.\n * @param {String} position - a string relating to the desired position of the element, relative to it's anchor\n * @param {Number} vOffset - integer pixel value of desired vertical separation between anchor and element.\n * @param {Number} hOffset - integer pixel value of desired horizontal separation between anchor and element.\n * @param {Boolean} isOverflow - if a collision event is detected, sets to true to default the element to full width - any desired offset.\n * TODO alter/rewrite to work with `em` values as well/instead of pixels\n */\nfunction GetOffsets(element, anchor, position, vOffset, hOffset, isOverflow) {\n  var $eleDims = GetDimensions(element),\n      $anchorDims = anchor ? GetDimensions(anchor) : null;\n\n  switch (position) {\n    case 'top':\n      return {\n        left: (Foundation.rtl() ? $anchorDims.offset.left - $eleDims.width + $anchorDims.width : $anchorDims.offset.left),\n        top: $anchorDims.offset.top - ($eleDims.height + vOffset)\n      }\n      break;\n    case 'left':\n      return {\n        left: $anchorDims.offset.left - ($eleDims.width + hOffset),\n        top: $anchorDims.offset.top\n      }\n      break;\n    case 'right':\n      return {\n        left: $anchorDims.offset.left + $anchorDims.width + hOffset,\n        top: $anchorDims.offset.top\n      }\n      break;\n    case 'center top':\n      return {\n        left: ($anchorDims.offset.left + ($anchorDims.width / 2)) - ($eleDims.width / 2),\n        top: $anchorDims.offset.top - ($eleDims.height + vOffset)\n      }\n      break;\n    case 'center bottom':\n      return {\n        left: isOverflow ? hOffset : (($anchorDims.offset.left + ($anchorDims.width / 2)) - ($eleDims.width / 2)),\n        top: $anchorDims.offset.top + $anchorDims.height + vOffset\n      }\n      break;\n    case 'center left':\n      return {\n        left: $anchorDims.offset.left - ($eleDims.width + hOffset),\n        top: ($anchorDims.offset.top + ($anchorDims.height / 2)) - ($eleDims.height / 2)\n      }\n      break;\n    case 'center right':\n      return {\n        left: $anchorDims.offset.left + $anchorDims.width + hOffset + 1,\n        top: ($anchorDims.offset.top + ($anchorDims.height / 2)) - ($eleDims.height / 2)\n      }\n      break;\n    case 'center':\n      return {\n        left: ($eleDims.windowDims.offset.left + ($eleDims.windowDims.width / 2)) - ($eleDims.width / 2),\n        top: ($eleDims.windowDims.offset.top + ($eleDims.windowDims.height / 2)) - ($eleDims.height / 2)\n      }\n      break;\n    case 'reveal':\n      return {\n        left: ($eleDims.windowDims.width - $eleDims.width) / 2,\n        top: $eleDims.windowDims.offset.top + vOffset\n      }\n    case 'reveal full':\n      return {\n        left: $eleDims.windowDims.offset.left,\n        top: $eleDims.windowDims.offset.top\n      }\n      break;\n    case 'left bottom':\n      return {\n        left: $anchorDims.offset.left,\n        top: $anchorDims.offset.top + $anchorDims.height + vOffset\n      };\n      break;\n    case 'right bottom':\n      return {\n        left: $anchorDims.offset.left + $anchorDims.width + hOffset - $eleDims.width,\n        top: $anchorDims.offset.top + $anchorDims.height + vOffset\n      };\n      break;\n    default:\n      return {\n        left: (Foundation.rtl() ? $anchorDims.offset.left - $eleDims.width + $anchorDims.width : $anchorDims.offset.left + hOffset),\n        top: $anchorDims.offset.top + $anchorDims.height + vOffset\n      }\n  }\n}\n\n}(jQuery);\n","/*******************************************\n *                                         *\n * This util was created by Marius Olbertz *\n * Please thank Marius on GitHub /owlbertz *\n * or the web http://www.mariusolbertz.de/ *\n *                                         *\n ******************************************/\n\n'use strict';\n\n!function($) {\n\nconst keyCodes = {\n  9: 'TAB',\n  13: 'ENTER',\n  27: 'ESCAPE',\n  32: 'SPACE',\n  37: 'ARROW_LEFT',\n  38: 'ARROW_UP',\n  39: 'ARROW_RIGHT',\n  40: 'ARROW_DOWN'\n}\n\nvar commands = {}\n\nvar Keyboard = {\n  keys: getKeyCodes(keyCodes),\n\n  /**\n   * Parses the (keyboard) event and returns a String that represents its key\n   * Can be used like Foundation.parseKey(event) === Foundation.keys.SPACE\n   * @param {Event} event - the event generated by the event handler\n   * @return String key - String that represents the key pressed\n   */\n  parseKey(event) {\n    var key = keyCodes[event.which || event.keyCode] || String.fromCharCode(event.which).toUpperCase();\n\n    // Remove un-printable characters, e.g. for `fromCharCode` calls for CTRL only events\n    key = key.replace(/\\W+/, '');\n\n    if (event.shiftKey) key = `SHIFT_${key}`;\n    if (event.ctrlKey) key = `CTRL_${key}`;\n    if (event.altKey) key = `ALT_${key}`;\n\n    // Remove trailing underscore, in case only modifiers were used (e.g. only `CTRL_ALT`)\n    key = key.replace(/_$/, '');\n\n    return key;\n  },\n\n  /**\n   * Handles the given (keyboard) event\n   * @param {Event} event - the event generated by the event handler\n   * @param {String} component - Foundation component's name, e.g. Slider or Reveal\n   * @param {Objects} functions - collection of functions that are to be executed\n   */\n  handleKey(event, component, functions) {\n    var commandList = commands[component],\n      keyCode = this.parseKey(event),\n      cmds,\n      command,\n      fn;\n\n    if (!commandList) return console.warn('Component not defined!');\n\n    if (typeof commandList.ltr === 'undefined') { // this component does not differentiate between ltr and rtl\n        cmds = commandList; // use plain list\n    } else { // merge ltr and rtl: if document is rtl, rtl overwrites ltr and vice versa\n        if (Foundation.rtl()) cmds = $.extend({}, commandList.ltr, commandList.rtl);\n\n        else cmds = $.extend({}, commandList.rtl, commandList.ltr);\n    }\n    command = cmds[keyCode];\n\n    fn = functions[command];\n    if (fn && typeof fn === 'function') { // execute function  if exists\n      var returnValue = fn.apply();\n      if (functions.handled || typeof functions.handled === 'function') { // execute function when event was handled\n          functions.handled(returnValue);\n      }\n    } else {\n      if (functions.unhandled || typeof functions.unhandled === 'function') { // execute function when event was not handled\n          functions.unhandled();\n      }\n    }\n  },\n\n  /**\n   * Finds all focusable elements within the given `$element`\n   * @param {jQuery} $element - jQuery object to search within\n   * @return {jQuery} $focusable - all focusable elements within `$element`\n   */\n  findFocusable($element) {\n    if(!$element) {return false; }\n    return $element.find('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]').filter(function() {\n      if (!$(this).is(':visible') || $(this).attr('tabindex') < 0) { return false; } //only have visible elements and those that have a tabindex greater or equal 0\n      return true;\n    });\n  },\n\n  /**\n   * Returns the component name name\n   * @param {Object} component - Foundation component, e.g. Slider or Reveal\n   * @return String componentName\n   */\n\n  register(componentName, cmds) {\n    commands[componentName] = cmds;\n  },  \n\n  /**\n   * Traps the focus in the given element.\n   * @param  {jQuery} $element  jQuery object to trap the foucs into.\n   */\n  trapFocus($element) {\n    var $focusable = Foundation.Keyboard.findFocusable($element),\n        $firstFocusable = $focusable.eq(0),\n        $lastFocusable = $focusable.eq(-1);\n\n    $element.on('keydown.zf.trapfocus', function(event) {\n      if (event.target === $lastFocusable[0] && Foundation.Keyboard.parseKey(event) === 'TAB') {\n        event.preventDefault();\n        $firstFocusable.focus();\n      }\n      else if (event.target === $firstFocusable[0] && Foundation.Keyboard.parseKey(event) === 'SHIFT_TAB') {\n        event.preventDefault();\n        $lastFocusable.focus();\n      }\n    });\n  },\n  /**\n   * Releases the trapped focus from the given element.\n   * @param  {jQuery} $element  jQuery object to release the focus for.\n   */\n  releaseFocus($element) {\n    $element.off('keydown.zf.trapfocus');\n  }\n}\n\n/*\n * Constants for easier comparing.\n * Can be used like Foundation.parseKey(event) === Foundation.keys.SPACE\n */\nfunction getKeyCodes(kcs) {\n  var k = {};\n  for (var kc in kcs) k[kcs[kc]] = kcs[kc];\n  return k;\n}\n\nFoundation.Keyboard = Keyboard;\n\n}(jQuery);\n","'use strict';\n\n!function($) {\n\n// Default set of media queries\nconst defaultQueries = {\n  'default' : 'only screen',\n  landscape : 'only screen and (orientation: landscape)',\n  portrait : 'only screen and (orientation: portrait)',\n  retina : 'only screen and (-webkit-min-device-pixel-ratio: 2),' +\n    'only screen and (min--moz-device-pixel-ratio: 2),' +\n    'only screen and (-o-min-device-pixel-ratio: 2/1),' +\n    'only screen and (min-device-pixel-ratio: 2),' +\n    'only screen and (min-resolution: 192dpi),' +\n    'only screen and (min-resolution: 2dppx)'\n};\n\nvar MediaQuery = {\n  queries: [],\n\n  current: '',\n\n  /**\n   * Initializes the media query helper, by extracting the breakpoint list from the CSS and activating the breakpoint watcher.\n   * @function\n   * @private\n   */\n  _init() {\n    var self = this;\n    var extractedStyles = $('.foundation-mq').css('font-family');\n    var namedQueries;\n\n    namedQueries = parseStyleToObject(extractedStyles);\n\n    for (var key in namedQueries) {\n      if(namedQueries.hasOwnProperty(key)) {\n        self.queries.push({\n          name: key,\n          value: `only screen and (min-width: ${namedQueries[key]})`\n        });\n      }\n    }\n\n    this.current = this._getCurrentSize();\n\n    this._watcher();\n  },\n\n  /**\n   * Checks if the screen is at least as wide as a breakpoint.\n   * @function\n   * @param {String} size - Name of the breakpoint to check.\n   * @returns {Boolean} `true` if the breakpoint matches, `false` if it's smaller.\n   */\n  atLeast(size) {\n    var query = this.get(size);\n\n    if (query) {\n      return window.matchMedia(query).matches;\n    }\n\n    return false;\n  },\n\n  /**\n   * Checks if the screen matches to a breakpoint.\n   * @function\n   * @param {String} size - Name of the breakpoint to check, either 'small only' or 'small'. Omitting 'only' falls back to using atLeast() method.\n   * @returns {Boolean} `true` if the breakpoint matches, `false` if it does not.\n   */\n  is(size) {\n    size = size.trim().split(' ');\n    if(size.length > 1 && size[1] === 'only') {\n      if(size[0] === this._getCurrentSize()) return true;\n    } else {\n      return this.atLeast(size[0]);\n    }\n    return false;\n  },\n\n  /**\n   * Gets the media query of a breakpoint.\n   * @function\n   * @param {String} size - Name of the breakpoint to get.\n   * @returns {String|null} - The media query of the breakpoint, or `null` if the breakpoint doesn't exist.\n   */\n  get(size) {\n    for (var i in this.queries) {\n      if(this.queries.hasOwnProperty(i)) {\n        var query = this.queries[i];\n        if (size === query.name) return query.value;\n      }\n    }\n\n    return null;\n  },\n\n  /**\n   * Gets the current breakpoint name by testing every breakpoint and returning the last one to match (the biggest one).\n   * @function\n   * @private\n   * @returns {String} Name of the current breakpoint.\n   */\n  _getCurrentSize() {\n    var matched;\n\n    for (var i = 0; i < this.queries.length; i++) {\n      var query = this.queries[i];\n\n      if (window.matchMedia(query.value).matches) {\n        matched = query;\n      }\n    }\n\n    if (typeof matched === 'object') {\n      return matched.name;\n    } else {\n      return matched;\n    }\n  },\n\n  /**\n   * Activates the breakpoint watcher, which fires an event on the window whenever the breakpoint changes.\n   * @function\n   * @private\n   */\n  _watcher() {\n    $(window).on('resize.zf.mediaquery', () => {\n      var newSize = this._getCurrentSize(), currentSize = this.current;\n\n      if (newSize !== currentSize) {\n        // Change the current media query\n        this.current = newSize;\n\n        // Broadcast the media query change on the window\n        $(window).trigger('changed.zf.mediaquery', [newSize, currentSize]);\n      }\n    });\n  }\n};\n\nFoundation.MediaQuery = MediaQuery;\n\n// matchMedia() polyfill - Test a CSS media type/query in JS.\n// Authors & copyright (c) 2012: Scott Jehl, Paul Irish, Nicholas Zakas, David Knight. Dual MIT/BSD license\nwindow.matchMedia || (window.matchMedia = function() {\n  'use strict';\n\n  // For browsers that support matchMedium api such as IE 9 and webkit\n  var styleMedia = (window.styleMedia || window.media);\n\n  // For those that don't support matchMedium\n  if (!styleMedia) {\n    var style   = document.createElement('style'),\n    script      = document.getElementsByTagName('script')[0],\n    info        = null;\n\n    style.type  = 'text/css';\n    style.id    = 'matchmediajs-test';\n\n    script && script.parentNode && script.parentNode.insertBefore(style, script);\n\n    // 'style.currentStyle' is used by IE <= 8 and 'window.getComputedStyle' for all other browsers\n    info = ('getComputedStyle' in window) && window.getComputedStyle(style, null) || style.currentStyle;\n\n    styleMedia = {\n      matchMedium(media) {\n        var text = `@media ${media}{ #matchmediajs-test { width: 1px; } }`;\n\n        // 'style.styleSheet' is used by IE <= 8 and 'style.textContent' for all other browsers\n        if (style.styleSheet) {\n          style.styleSheet.cssText = text;\n        } else {\n          style.textContent = text;\n        }\n\n        // Test if media query is true or false\n        return info.width === '1px';\n      }\n    }\n  }\n\n  return function(media) {\n    return {\n      matches: styleMedia.matchMedium(media || 'all'),\n      media: media || 'all'\n    };\n  }\n}());\n\n// Thank you: https://github.com/sindresorhus/query-string\nfunction parseStyleToObject(str) {\n  var styleObject = {};\n\n  if (typeof str !== 'string') {\n    return styleObject;\n  }\n\n  str = str.trim().slice(1, -1); // browsers re-quote string style values\n\n  if (!str) {\n    return styleObject;\n  }\n\n  styleObject = str.split('&').reduce(function(ret, param) {\n    var parts = param.replace(/\\+/g, ' ').split('=');\n    var key = parts[0];\n    var val = parts[1];\n    key = decodeURIComponent(key);\n\n    // missing `=` should be `null`:\n    // http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n    val = val === undefined ? null : decodeURIComponent(val);\n\n    if (!ret.hasOwnProperty(key)) {\n      ret[key] = val;\n    } else if (Array.isArray(ret[key])) {\n      ret[key].push(val);\n    } else {\n      ret[key] = [ret[key], val];\n    }\n    return ret;\n  }, {});\n\n  return styleObject;\n}\n\nFoundation.MediaQuery = MediaQuery;\n\n}(jQuery);\n","'use strict';\n\n!function($) {\n\n/**\n * Motion module.\n * @module foundation.motion\n */\n\nconst initClasses   = ['mui-enter', 'mui-leave'];\nconst activeClasses = ['mui-enter-active', 'mui-leave-active'];\n\nconst Motion = {\n  animateIn: function(element, animation, cb) {\n    animate(true, element, animation, cb);\n  },\n\n  animateOut: function(element, animation, cb) {\n    animate(false, element, animation, cb);\n  }\n}\n\nfunction Move(duration, elem, fn){\n  var anim, prog, start = null;\n  // console.log('called');\n\n  if (duration === 0) {\n    fn.apply(elem);\n    elem.trigger('finished.zf.animate', [elem]).triggerHandler('finished.zf.animate', [elem]);\n    return;\n  }\n\n  function move(ts){\n    if(!start) start = ts;\n    // console.log(start, ts);\n    prog = ts - start;\n    fn.apply(elem);\n\n    if(prog < duration){ anim = window.requestAnimationFrame(move, elem); }\n    else{\n      window.cancelAnimationFrame(anim);\n      elem.trigger('finished.zf.animate', [elem]).triggerHandler('finished.zf.animate', [elem]);\n    }\n  }\n  anim = window.requestAnimationFrame(move);\n}\n\n/**\n * Animates an element in or out using a CSS transition class.\n * @function\n * @private\n * @param {Boolean} isIn - Defines if the animation is in or out.\n * @param {Object} element - jQuery or HTML object to animate.\n * @param {String} animation - CSS class to use.\n * @param {Function} cb - Callback to run when animation is finished.\n */\nfunction animate(isIn, element, animation, cb) {\n  element = $(element).eq(0);\n\n  if (!element.length) return;\n\n  var initClass = isIn ? initClasses[0] : initClasses[1];\n  var activeClass = isIn ? activeClasses[0] : activeClasses[1];\n\n  // Set up the animation\n  reset();\n\n  element\n    .addClass(animation)\n    .css('transition', 'none');\n\n  requestAnimationFrame(() => {\n    element.addClass(initClass);\n    if (isIn) element.show();\n  });\n\n  // Start the animation\n  requestAnimationFrame(() => {\n    element[0].offsetWidth;\n    element\n      .css('transition', '')\n      .addClass(activeClass);\n  });\n\n  // Clean up the animation when it finishes\n  element.one(Foundation.transitionend(element), finish);\n\n  // Hides the element (for out animations), resets the element, and runs a callback\n  function finish() {\n    if (!isIn) element.hide();\n    reset();\n    if (cb) cb.apply(element);\n  }\n\n  // Resets transitions and removes motion-specific classes\n  function reset() {\n    element[0].style.transitionDuration = 0;\n    element.removeClass(`${initClass} ${activeClass} ${animation}`);\n  }\n}\n\nFoundation.Move = Move;\nFoundation.Motion = Motion;\n\n}(jQuery);\n","'use strict';\n\n!function($) {\n\nconst Nest = {\n  Feather(menu, type = 'zf') {\n    menu.attr('role', 'menubar');\n\n    var items = menu.find('li').attr({'role': 'menuitem'}),\n        subMenuClass = `is-${type}-submenu`,\n        subItemClass = `${subMenuClass}-item`,\n        hasSubClass = `is-${type}-submenu-parent`;\n\n    items.each(function() {\n      var $item = $(this),\n          $sub = $item.children('ul');\n\n      if ($sub.length) {\n        $item\n          .addClass(hasSubClass)\n          .attr({\n            'aria-haspopup': true,\n            'aria-label': $item.children('a:first').text()\n          });\n          // Note:  Drilldowns behave differently in how they hide, and so need\n          // additional attributes.  We should look if this possibly over-generalized\n          // utility (Nest) is appropriate when we rework menus in 6.4\n          if(type === 'drilldown') {\n            $item.attr({'aria-expanded': false});\n          }\n\n        $sub\n          .addClass(`submenu ${subMenuClass}`)\n          .attr({\n            'data-submenu': '',\n            'role': 'menu'\n          });\n        if(type === 'drilldown') {\n          $sub.attr({'aria-hidden': true});\n        }\n      }\n\n      if ($item.parent('[data-submenu]').length) {\n        $item.addClass(`is-submenu-item ${subItemClass}`);\n      }\n    });\n\n    return;\n  },\n\n  Burn(menu, type) {\n    var //items = menu.find('li'),\n        subMenuClass = `is-${type}-submenu`,\n        subItemClass = `${subMenuClass}-item`,\n        hasSubClass = `is-${type}-submenu-parent`;\n\n    menu\n      .find('>li, .menu, .menu > li')\n      .removeClass(`${subMenuClass} ${subItemClass} ${hasSubClass} is-submenu-item submenu is-active`)\n      .removeAttr('data-submenu').css('display', '');\n\n    // console.log(      menu.find('.' + subMenuClass + ', .' + subItemClass + ', .has-submenu, .is-submenu-item, .submenu, [data-submenu]')\n    //           .removeClass(subMenuClass + ' ' + subItemClass + ' has-submenu is-submenu-item submenu')\n    //           .removeAttr('data-submenu'));\n    // items.each(function(){\n    //   var $item = $(this),\n    //       $sub = $item.children('ul');\n    //   if($item.parent('[data-submenu]').length){\n    //     $item.removeClass('is-submenu-item ' + subItemClass);\n    //   }\n    //   if($sub.length){\n    //     $item.removeClass('has-submenu');\n    //     $sub.removeClass('submenu ' + subMenuClass).removeAttr('data-submenu');\n    //   }\n    // });\n  }\n}\n\nFoundation.Nest = Nest;\n\n}(jQuery);\n","'use strict';\n\n!function($) {\n\nfunction Timer(elem, options, cb) {\n  var _this = this,\n      duration = options.duration,//options is an object for easily adding features later.\n      nameSpace = Object.keys(elem.data())[0] || 'timer',\n      remain = -1,\n      start,\n      timer;\n\n  this.isPaused = false;\n\n  this.restart = function() {\n    remain = -1;\n    clearTimeout(timer);\n    this.start();\n  }\n\n  this.start = function() {\n    this.isPaused = false;\n    // if(!elem.data('paused')){ return false; }//maybe implement this sanity check if used for other things.\n    clearTimeout(timer);\n    remain = remain <= 0 ? duration : remain;\n    elem.data('paused', false);\n    start = Date.now();\n    timer = setTimeout(function(){\n      if(options.infinite){\n        _this.restart();//rerun the timer.\n      }\n      if (cb && typeof cb === 'function') { cb(); }\n    }, remain);\n    elem.trigger(`timerstart.zf.${nameSpace}`);\n  }\n\n  this.pause = function() {\n    this.isPaused = true;\n    //if(elem.data('paused')){ return false; }//maybe implement this sanity check if used for other things.\n    clearTimeout(timer);\n    elem.data('paused', true);\n    var end = Date.now();\n    remain = remain - (end - start);\n    elem.trigger(`timerpaused.zf.${nameSpace}`);\n  }\n}\n\n/**\n * Runs a callback function when images are fully loaded.\n * @param {Object} images - Image(s) to check if loaded.\n * @param {Func} callback - Function to execute when image is fully loaded.\n */\nfunction onImagesLoaded(images, callback){\n  var self = this,\n      unloaded = images.length;\n\n  if (unloaded === 0) {\n    callback();\n  }\n\n  images.each(function() {\n    // Check if image is loaded\n    if (this.complete || (this.readyState === 4) || (this.readyState === 'complete')) {\n      singleImageLoaded();\n    }\n    // Force load the image\n    else {\n      // fix for IE. See https://css-tricks.com/snippets/jquery/fixing-load-in-ie-for-cached-images/\n      var src = $(this).attr('src');\n      $(this).attr('src', src + (src.indexOf('?') >= 0 ? '&' : '?') + (new Date().getTime()));\n      $(this).one('load', function() {\n        singleImageLoaded();\n      });\n    }\n  });\n\n  function singleImageLoaded() {\n    unloaded--;\n    if (unloaded === 0) {\n      callback();\n    }\n  }\n}\n\nFoundation.Timer = Timer;\nFoundation.onImagesLoaded = onImagesLoaded;\n\n}(jQuery);\n","//**************************************************\n//**Work inspired by multiple jquery swipe plugins**\n//**Done by Yohai Ararat ***************************\n//**************************************************\n(function($) {\n\n  $.spotSwipe = {\n    version: '1.0.0',\n    enabled: 'ontouchstart' in document.documentElement,\n    preventDefault: false,\n    moveThreshold: 75,\n    timeThreshold: 200\n  };\n\n  var   startPosX,\n        startPosY,\n        startTime,\n        elapsedTime,\n        isMoving = false;\n\n  function onTouchEnd() {\n    //  alert(this);\n    this.removeEventListener('touchmove', onTouchMove);\n    this.removeEventListener('touchend', onTouchEnd);\n    isMoving = false;\n  }\n\n  function onTouchMove(e) {\n    if ($.spotSwipe.preventDefault) { e.preventDefault(); }\n    if(isMoving) {\n      var x = e.touches[0].pageX;\n      var y = e.touches[0].pageY;\n      var dx = startPosX - x;\n      var dy = startPosY - y;\n      var dir;\n      elapsedTime = new Date().getTime() - startTime;\n      if(Math.abs(dx) >= $.spotSwipe.moveThreshold && elapsedTime <= $.spotSwipe.timeThreshold) {\n        dir = dx > 0 ? 'left' : 'right';\n      }\n      // else if(Math.abs(dy) >= $.spotSwipe.moveThreshold && elapsedTime <= $.spotSwipe.timeThreshold) {\n      //   dir = dy > 0 ? 'down' : 'up';\n      // }\n      if(dir) {\n        e.preventDefault();\n        onTouchEnd.call(this);\n        $(this).trigger('swipe', dir).trigger(`swipe${dir}`);\n      }\n    }\n  }\n\n  function onTouchStart(e) {\n    if (e.touches.length == 1) {\n      startPosX = e.touches[0].pageX;\n      startPosY = e.touches[0].pageY;\n      isMoving = true;\n      startTime = new Date().getTime();\n      this.addEventListener('touchmove', onTouchMove, false);\n      this.addEventListener('touchend', onTouchEnd, false);\n    }\n  }\n\n  function init() {\n    this.addEventListener && this.addEventListener('touchstart', onTouchStart, false);\n  }\n\n  function teardown() {\n    this.removeEventListener('touchstart', onTouchStart);\n  }\n\n  $.event.special.swipe = { setup: init };\n\n  $.each(['left', 'up', 'down', 'right'], function () {\n    $.event.special[`swipe${this}`] = { setup: function(){\n      $(this).on('swipe', $.noop);\n    } };\n  });\n})(jQuery);\n/****************************************************\n * Method for adding psuedo drag events to elements *\n ***************************************************/\n!function($){\n  $.fn.addTouch = function(){\n    this.each(function(i,el){\n      $(el).bind('touchstart touchmove touchend touchcancel',function(){\n        //we pass the original event object because the jQuery event\n        //object is normalized to w3c specs and does not provide the TouchList\n        handleTouch(event);\n      });\n    });\n\n    var handleTouch = function(event){\n      var touches = event.changedTouches,\n          first = touches[0],\n          eventTypes = {\n            touchstart: 'mousedown',\n            touchmove: 'mousemove',\n            touchend: 'mouseup'\n          },\n          type = eventTypes[event.type],\n          simulatedEvent\n        ;\n\n      if('MouseEvent' in window && typeof window.MouseEvent === 'function') {\n        simulatedEvent = new window.MouseEvent(type, {\n          'bubbles': true,\n          'cancelable': true,\n          'screenX': first.screenX,\n          'screenY': first.screenY,\n          'clientX': first.clientX,\n          'clientY': first.clientY\n        });\n      } else {\n        simulatedEvent = document.createEvent('MouseEvent');\n        simulatedEvent.initMouseEvent(type, true, true, window, 1, first.screenX, first.screenY, first.clientX, first.clientY, false, false, false, false, 0/*left*/, null);\n      }\n      first.target.dispatchEvent(simulatedEvent);\n    };\n  };\n}(jQuery);\n\n\n//**********************************\n//**From the jQuery Mobile Library**\n//**need to recreate functionality**\n//**and try to improve if possible**\n//**********************************\n\n/* Removing the jQuery function ****\n************************************\n\n(function( $, window, undefined ) {\n\n\tvar $document = $( document ),\n\t\t// supportTouch = $.mobile.support.touch,\n\t\ttouchStartEvent = 'touchstart'//supportTouch ? \"touchstart\" : \"mousedown\",\n\t\ttouchStopEvent = 'touchend'//supportTouch ? \"touchend\" : \"mouseup\",\n\t\ttouchMoveEvent = 'touchmove'//supportTouch ? \"touchmove\" : \"mousemove\";\n\n\t// setup new event shortcuts\n\t$.each( ( \"touchstart touchmove touchend \" +\n\t\t\"swipe swipeleft swiperight\" ).split( \" \" ), function( i, name ) {\n\n\t\t$.fn[ name ] = function( fn ) {\n\t\t\treturn fn ? this.bind( name, fn ) : this.trigger( name );\n\t\t};\n\n\t\t// jQuery < 1.8\n\t\tif ( $.attrFn ) {\n\t\t\t$.attrFn[ name ] = true;\n\t\t}\n\t});\n\n\tfunction triggerCustomEvent( obj, eventType, event, bubble ) {\n\t\tvar originalType = event.type;\n\t\tevent.type = eventType;\n\t\tif ( bubble ) {\n\t\t\t$.event.trigger( event, undefined, obj );\n\t\t} else {\n\t\t\t$.event.dispatch.call( obj, event );\n\t\t}\n\t\tevent.type = originalType;\n\t}\n\n\t// also handles taphold\n\n\t// Also handles swipeleft, swiperight\n\t$.event.special.swipe = {\n\n\t\t// More than this horizontal displacement, and we will suppress scrolling.\n\t\tscrollSupressionThreshold: 30,\n\n\t\t// More time than this, and it isn't a swipe.\n\t\tdurationThreshold: 1000,\n\n\t\t// Swipe horizontal displacement must be more than this.\n\t\thorizontalDistanceThreshold: window.devicePixelRatio >= 2 ? 15 : 30,\n\n\t\t// Swipe vertical displacement must be less than this.\n\t\tverticalDistanceThreshold: window.devicePixelRatio >= 2 ? 15 : 30,\n\n\t\tgetLocation: function ( event ) {\n\t\t\tvar winPageX = window.pageXOffset,\n\t\t\t\twinPageY = window.pageYOffset,\n\t\t\t\tx = event.clientX,\n\t\t\t\ty = event.clientY;\n\n\t\t\tif ( event.pageY === 0 && Math.floor( y ) > Math.floor( event.pageY ) ||\n\t\t\t\tevent.pageX === 0 && Math.floor( x ) > Math.floor( event.pageX ) ) {\n\n\t\t\t\t// iOS4 clientX/clientY have the value that should have been\n\t\t\t\t// in pageX/pageY. While pageX/page/ have the value 0\n\t\t\t\tx = x - winPageX;\n\t\t\t\ty = y - winPageY;\n\t\t\t} else if ( y < ( event.pageY - winPageY) || x < ( event.pageX - winPageX ) ) {\n\n\t\t\t\t// Some Android browsers have totally bogus values for clientX/Y\n\t\t\t\t// when scrolling/zooming a page. Detectable since clientX/clientY\n\t\t\t\t// should never be smaller than pageX/pageY minus page scroll\n\t\t\t\tx = event.pageX - winPageX;\n\t\t\t\ty = event.pageY - winPageY;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tx: x,\n\t\t\t\ty: y\n\t\t\t};\n\t\t},\n\n\t\tstart: function( event ) {\n\t\t\tvar data = event.originalEvent.touches ?\n\t\t\t\t\tevent.originalEvent.touches[ 0 ] : event,\n\t\t\t\tlocation = $.event.special.swipe.getLocation( data );\n\t\t\treturn {\n\t\t\t\t\t\ttime: ( new Date() ).getTime(),\n\t\t\t\t\t\tcoords: [ location.x, location.y ],\n\t\t\t\t\t\torigin: $( event.target )\n\t\t\t\t\t};\n\t\t},\n\n\t\tstop: function( event ) {\n\t\t\tvar data = event.originalEvent.touches ?\n\t\t\t\t\tevent.originalEvent.touches[ 0 ] : event,\n\t\t\t\tlocation = $.event.special.swipe.getLocation( data );\n\t\t\treturn {\n\t\t\t\t\t\ttime: ( new Date() ).getTime(),\n\t\t\t\t\t\tcoords: [ location.x, location.y ]\n\t\t\t\t\t};\n\t\t},\n\n\t\thandleSwipe: function( start, stop, thisObject, origTarget ) {\n\t\t\tif ( stop.time - start.time < $.event.special.swipe.durationThreshold &&\n\t\t\t\tMath.abs( start.coords[ 0 ] - stop.coords[ 0 ] ) > $.event.special.swipe.horizontalDistanceThreshold &&\n\t\t\t\tMath.abs( start.coords[ 1 ] - stop.coords[ 1 ] ) < $.event.special.swipe.verticalDistanceThreshold ) {\n\t\t\t\tvar direction = start.coords[0] > stop.coords[ 0 ] ? \"swipeleft\" : \"swiperight\";\n\n\t\t\t\ttriggerCustomEvent( thisObject, \"swipe\", $.Event( \"swipe\", { target: origTarget, swipestart: start, swipestop: stop }), true );\n\t\t\t\ttriggerCustomEvent( thisObject, direction,$.Event( direction, { target: origTarget, swipestart: start, swipestop: stop } ), true );\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\n\t\t},\n\n\t\t// This serves as a flag to ensure that at most one swipe event event is\n\t\t// in work at any given time\n\t\teventInProgress: false,\n\n\t\tsetup: function() {\n\t\t\tvar events,\n\t\t\t\tthisObject = this,\n\t\t\t\t$this = $( thisObject ),\n\t\t\t\tcontext = {};\n\n\t\t\t// Retrieve the events data for this element and add the swipe context\n\t\t\tevents = $.data( this, \"mobile-events\" );\n\t\t\tif ( !events ) {\n\t\t\t\tevents = { length: 0 };\n\t\t\t\t$.data( this, \"mobile-events\", events );\n\t\t\t}\n\t\t\tevents.length++;\n\t\t\tevents.swipe = context;\n\n\t\t\tcontext.start = function( event ) {\n\n\t\t\t\t// Bail if we're already working on a swipe event\n\t\t\t\tif ( $.event.special.swipe.eventInProgress ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t$.event.special.swipe.eventInProgress = true;\n\n\t\t\t\tvar stop,\n\t\t\t\t\tstart = $.event.special.swipe.start( event ),\n\t\t\t\t\torigTarget = event.target,\n\t\t\t\t\temitted = false;\n\n\t\t\t\tcontext.move = function( event ) {\n\t\t\t\t\tif ( !start || event.isDefaultPrevented() ) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tstop = $.event.special.swipe.stop( event );\n\t\t\t\t\tif ( !emitted ) {\n\t\t\t\t\t\temitted = $.event.special.swipe.handleSwipe( start, stop, thisObject, origTarget );\n\t\t\t\t\t\tif ( emitted ) {\n\n\t\t\t\t\t\t\t// Reset the context to make way for the next swipe event\n\t\t\t\t\t\t\t$.event.special.swipe.eventInProgress = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// prevent scrolling\n\t\t\t\t\tif ( Math.abs( start.coords[ 0 ] - stop.coords[ 0 ] ) > $.event.special.swipe.scrollSupressionThreshold ) {\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tcontext.stop = function() {\n\t\t\t\t\t\temitted = true;\n\n\t\t\t\t\t\t// Reset the context to make way for the next swipe event\n\t\t\t\t\t\t$.event.special.swipe.eventInProgress = false;\n\t\t\t\t\t\t$document.off( touchMoveEvent, context.move );\n\t\t\t\t\t\tcontext.move = null;\n\t\t\t\t};\n\n\t\t\t\t$document.on( touchMoveEvent, context.move )\n\t\t\t\t\t.one( touchStopEvent, context.stop );\n\t\t\t};\n\t\t\t$this.on( touchStartEvent, context.start );\n\t\t},\n\n\t\tteardown: function() {\n\t\t\tvar events, context;\n\n\t\t\tevents = $.data( this, \"mobile-events\" );\n\t\t\tif ( events ) {\n\t\t\t\tcontext = events.swipe;\n\t\t\t\tdelete events.swipe;\n\t\t\t\tevents.length--;\n\t\t\t\tif ( events.length === 0 ) {\n\t\t\t\t\t$.removeData( this, \"mobile-events\" );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( context ) {\n\t\t\t\tif ( context.start ) {\n\t\t\t\t\t$( this ).off( touchStartEvent, context.start );\n\t\t\t\t}\n\t\t\t\tif ( context.move ) {\n\t\t\t\t\t$document.off( touchMoveEvent, context.move );\n\t\t\t\t}\n\t\t\t\tif ( context.stop ) {\n\t\t\t\t\t$document.off( touchStopEvent, context.stop );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\t$.each({\n\t\tswipeleft: \"swipe.left\",\n\t\tswiperight: \"swipe.right\"\n\t}, function( event, sourceEvent ) {\n\n\t\t$.event.special[ event ] = {\n\t\t\tsetup: function() {\n\t\t\t\t$( this ).bind( sourceEvent, $.noop );\n\t\t\t},\n\t\t\tteardown: function() {\n\t\t\t\t$( this ).unbind( sourceEvent );\n\t\t\t}\n\t\t};\n\t});\n})( jQuery, this );\n*/\n","'use strict';\n\n!function($) {\n\nconst MutationObserver = (function () {\n  var prefixes = ['WebKit', 'Moz', 'O', 'Ms', ''];\n  for (var i=0; i < prefixes.length; i++) {\n    if (`${prefixes[i]}MutationObserver` in window) {\n      return window[`${prefixes[i]}MutationObserver`];\n    }\n  }\n  return false;\n}());\n\nconst triggers = (el, type) => {\n  el.data(type).split(' ').forEach(id => {\n    $(`#${id}`)[ type === 'close' ? 'trigger' : 'triggerHandler'](`${type}.zf.trigger`, [el]);\n  });\n};\n// Elements with [data-open] will reveal a plugin that supports it when clicked.\n$(document).on('click.zf.trigger', '[data-open]', function() {\n  triggers($(this), 'open');\n});\n\n// Elements with [data-close] will close a plugin that supports it when clicked.\n// If used without a value on [data-close], the event will bubble, allowing it to close a parent component.\n$(document).on('click.zf.trigger', '[data-close]', function() {\n  let id = $(this).data('close');\n  if (id) {\n    triggers($(this), 'close');\n  }\n  else {\n    $(this).trigger('close.zf.trigger');\n  }\n});\n\n// Elements with [data-toggle] will toggle a plugin that supports it when clicked.\n$(document).on('click.zf.trigger', '[data-toggle]', function() {\n  let id = $(this).data('toggle');\n  if (id) {\n    triggers($(this), 'toggle');\n  } else {\n    $(this).trigger('toggle.zf.trigger');\n  }\n});\n\n// Elements with [data-closable] will respond to close.zf.trigger events.\n$(document).on('close.zf.trigger', '[data-closable]', function(e){\n  e.stopPropagation();\n  let animation = $(this).data('closable');\n\n  if(animation !== ''){\n    Foundation.Motion.animateOut($(this), animation, function() {\n      $(this).trigger('closed.zf');\n    });\n  }else{\n    $(this).fadeOut().trigger('closed.zf');\n  }\n});\n\n$(document).on('focus.zf.trigger blur.zf.trigger', '[data-toggle-focus]', function() {\n  let id = $(this).data('toggle-focus');\n  $(`#${id}`).triggerHandler('toggle.zf.trigger', [$(this)]);\n});\n\n/**\n* Fires once after all other scripts have loaded\n* @function\n* @private\n*/\n$(window).on('load', () => {\n  checkListeners();\n});\n\nfunction checkListeners() {\n  eventsListener();\n  resizeListener();\n  scrollListener();\n  closemeListener();\n}\n\n//******** only fires this function once on load, if there's something to watch ********\nfunction closemeListener(pluginName) {\n  var yetiBoxes = $('[data-yeti-box]'),\n      plugNames = ['dropdown', 'tooltip', 'reveal'];\n\n  if(pluginName){\n    if(typeof pluginName === 'string'){\n      plugNames.push(pluginName);\n    }else if(typeof pluginName === 'object' && typeof pluginName[0] === 'string'){\n      plugNames.concat(pluginName);\n    }else{\n      console.error('Plugin names must be strings');\n    }\n  }\n  if(yetiBoxes.length){\n    let listeners = plugNames.map((name) => {\n      return `closeme.zf.${name}`;\n    }).join(' ');\n\n    $(window).off(listeners).on(listeners, function(e, pluginId){\n      let plugin = e.namespace.split('.')[0];\n      let plugins = $(`[data-${plugin}]`).not(`[data-yeti-box=\"${pluginId}\"]`);\n\n      plugins.each(function(){\n        let _this = $(this);\n\n        _this.triggerHandler('close.zf.trigger', [_this]);\n      });\n    });\n  }\n}\n\nfunction resizeListener(debounce){\n  let timer,\n      $nodes = $('[data-resize]');\n  if($nodes.length){\n    $(window).off('resize.zf.trigger')\n    .on('resize.zf.trigger', function(e) {\n      if (timer) { clearTimeout(timer); }\n\n      timer = setTimeout(function(){\n\n        if(!MutationObserver){//fallback for IE 9\n          $nodes.each(function(){\n            $(this).triggerHandler('resizeme.zf.trigger');\n          });\n        }\n        //trigger all listening elements and signal a resize event\n        $nodes.attr('data-events', \"resize\");\n      }, debounce || 10);//default time to emit resize event\n    });\n  }\n}\n\nfunction scrollListener(debounce){\n  let timer,\n      $nodes = $('[data-scroll]');\n  if($nodes.length){\n    $(window).off('scroll.zf.trigger')\n    .on('scroll.zf.trigger', function(e){\n      if(timer){ clearTimeout(timer); }\n\n      timer = setTimeout(function(){\n\n        if(!MutationObserver){//fallback for IE 9\n          $nodes.each(function(){\n            $(this).triggerHandler('scrollme.zf.trigger');\n          });\n        }\n        //trigger all listening elements and signal a scroll event\n        $nodes.attr('data-events', \"scroll\");\n      }, debounce || 10);//default time to emit scroll event\n    });\n  }\n}\n\nfunction eventsListener() {\n  if(!MutationObserver){ return false; }\n  let nodes = document.querySelectorAll('[data-resize], [data-scroll], [data-mutate]');\n\n  //element callback\n  var listeningElementsMutation = function (mutationRecordsList) {\n      var $target = $(mutationRecordsList[0].target);\n\n\t  //trigger the event handler for the element depending on type\n      switch (mutationRecordsList[0].type) {\n\n        case \"attributes\":\n          if ($target.attr(\"data-events\") === \"scroll\" && mutationRecordsList[0].attributeName === \"data-events\") {\n\t\t  \t$target.triggerHandler('scrollme.zf.trigger', [$target, window.pageYOffset]);\n\t\t  }\n\t\t  if ($target.attr(\"data-events\") === \"resize\" && mutationRecordsList[0].attributeName === \"data-events\") {\n\t\t  \t$target.triggerHandler('resizeme.zf.trigger', [$target]);\n\t\t   }\n\t\t  if (mutationRecordsList[0].attributeName === \"style\") {\n\t\t\t  $target.closest(\"[data-mutate]\").attr(\"data-events\",\"mutate\");\n\t\t\t  $target.closest(\"[data-mutate]\").triggerHandler('mutateme.zf.trigger', [$target.closest(\"[data-mutate]\")]);\n\t\t  }\n\t\t  break;\n\n        case \"childList\":\n\t\t  $target.closest(\"[data-mutate]\").attr(\"data-events\",\"mutate\");\n\t\t  $target.closest(\"[data-mutate]\").triggerHandler('mutateme.zf.trigger', [$target.closest(\"[data-mutate]\")]);\n          break;\n\n        default:\n          return false;\n        //nothing\n      }\n    };\n\n    if (nodes.length) {\n      //for each element that needs to listen for resizing, scrolling, or mutation add a single observer\n      for (var i = 0; i <= nodes.length - 1; i++) {\n        var elementObserver = new MutationObserver(listeningElementsMutation);\n        elementObserver.observe(nodes[i], { attributes: true, childList: true, characterData: false, subtree: true, attributeFilter: [\"data-events\", \"style\"] });\n      }\n    }\n  }\n\n// ------------------------------------\n\n// [PH]\n// Foundation.CheckWatchers = checkWatchers;\nFoundation.IHearYou = checkListeners;\n// Foundation.ISeeYou = scrollListener;\n// Foundation.IFeelYou = closemeListener;\n\n}(jQuery);\n","'use strict';\n\n!function($) {\n\n/**\n * Accordion module.\n * @module foundation.accordion\n * @requires foundation.util.keyboard\n * @requires foundation.util.motion\n */\n\nclass Accordion {\n  /**\n   * Creates a new instance of an accordion.\n   * @class\n   * @fires Accordion#init\n   * @param {jQuery} element - jQuery object to make into an accordion.\n   * @param {Object} options - a plain object with settings to override the default options.\n   */\n  constructor(element, options) {\n    this.$element = element;\n    this.options = $.extend({}, Accordion.defaults, this.$element.data(), options);\n\n    this._init();\n\n    Foundation.registerPlugin(this, 'Accordion');\n    Foundation.Keyboard.register('Accordion', {\n      'ENTER': 'toggle',\n      'SPACE': 'toggle',\n      'ARROW_DOWN': 'next',\n      'ARROW_UP': 'previous'\n    });\n  }\n\n  /**\n   * Initializes the accordion by animating the preset active pane(s).\n   * @private\n   */\n  _init() {\n    this.$element.attr('role', 'tablist');\n    this.$tabs = this.$element.children('[data-accordion-item]');\n\n    this.$tabs.each(function(idx, el) {\n      var $el = $(el),\n          $content = $el.children('[data-tab-content]'),\n          id = $content[0].id || Foundation.GetYoDigits(6, 'accordion'),\n          linkId = el.id || `${id}-label`;\n\n      $el.find('a:first').attr({\n        'aria-controls': id,\n        'role': 'tab',\n        'id': linkId,\n        'aria-expanded': false,\n        'aria-selected': false\n      });\n\n      $content.attr({'role': 'tabpanel', 'aria-labelledby': linkId, 'aria-hidden': true, 'id': id});\n    });\n    var $initActive = this.$element.find('.is-active').children('[data-tab-content]');\n    this.firstTimeInit = true;\n    if($initActive.length){\n      this.down($initActive, this.firstTimeInit);\n      this.firstTimeInit = false;\n    }\n\n    this._checkDeepLink = () => {\n      var anchor = window.location.hash;\n      //need a hash and a relevant anchor in this tabset\n      if(anchor.length) {\n        var $link = this.$element.find('[href$=\"'+anchor+'\"]'),\n        $anchor = $(anchor);\n\n        if ($link.length && $anchor) {\n          if (!$link.parent('[data-accordion-item]').hasClass('is-active')) {\n            this.down($anchor, this.firstTimeInit);\n            this.firstTimeInit = false;\n          };\n\n          //roll up a little to show the titles\n          if (this.options.deepLinkSmudge) {\n            var _this = this;\n            $(window).load(function() {\n              var offset = _this.$element.offset();\n              $('html, body').animate({ scrollTop: offset.top }, _this.options.deepLinkSmudgeDelay);\n            });\n          }\n\n          /**\n            * Fires when the zplugin has deeplinked at pageload\n            * @event Accordion#deeplink\n            */\n          this.$element.trigger('deeplink.zf.accordion', [$link, $anchor]);\n        }\n      }\n    }\n\n    //use browser to open a tab, if it exists in this tabset\n    if (this.options.deepLink) {\n      this._checkDeepLink();\n    }\n\n    this._events();\n  }\n\n  /**\n   * Adds event handlers for items within the accordion.\n   * @private\n   */\n  _events() {\n    var _this = this;\n\n    this.$tabs.each(function() {\n      var $elem = $(this);\n      var $tabContent = $elem.children('[data-tab-content]');\n      if ($tabContent.length) {\n        $elem.children('a').off('click.zf.accordion keydown.zf.accordion')\n               .on('click.zf.accordion', function(e) {\n          e.preventDefault();\n          _this.toggle($tabContent);\n        }).on('keydown.zf.accordion', function(e){\n          Foundation.Keyboard.handleKey(e, 'Accordion', {\n            toggle: function() {\n              _this.toggle($tabContent);\n            },\n            next: function() {\n              var $a = $elem.next().find('a').focus();\n              if (!_this.options.multiExpand) {\n                $a.trigger('click.zf.accordion')\n              }\n            },\n            previous: function() {\n              var $a = $elem.prev().find('a').focus();\n              if (!_this.options.multiExpand) {\n                $a.trigger('click.zf.accordion')\n              }\n            },\n            handled: function() {\n              e.preventDefault();\n              e.stopPropagation();\n            }\n          });\n        });\n      }\n    });\n    if(this.options.deepLink) {\n      $(window).on('popstate', this._checkDeepLink);\n    }\n  }\n\n  /**\n   * Toggles the selected content pane's open/close state.\n   * @param {jQuery} $target - jQuery object of the pane to toggle (`.accordion-content`).\n   * @function\n   */\n  toggle($target) {\n    if($target.parent().hasClass('is-active')) {\n      this.up($target);\n    } else {\n      this.down($target);\n    }\n    //either replace or update browser history\n    if (this.options.deepLink) {\n      var anchor = $target.prev('a').attr('href');\n\n      if (this.options.updateHistory) {\n        history.pushState({}, '', anchor);\n      } else {\n        history.replaceState({}, '', anchor);\n      }\n    }\n  }\n\n  /**\n   * Opens the accordion tab defined by `$target`.\n   * @param {jQuery} $target - Accordion pane to open (`.accordion-content`).\n   * @param {Boolean} firstTime - flag to determine if reflow should happen.\n   * @fires Accordion#down\n   * @function\n   */\n  down($target, firstTime) {\n    $target\n      .attr('aria-hidden', false)\n      .parent('[data-tab-content]')\n      .addBack()\n      .parent().addClass('is-active');\n\n    if (!this.options.multiExpand && !firstTime) {\n      var $currentActive = this.$element.children('.is-active').children('[data-tab-content]');\n      if ($currentActive.length) {\n        this.up($currentActive.not($target));\n      }\n    }\n\n    $target.slideDown(this.options.slideSpeed, () => {\n      /**\n       * Fires when the tab is done opening.\n       * @event Accordion#down\n       */\n      this.$element.trigger('down.zf.accordion', [$target]);\n    });\n\n    $(`#${$target.attr('aria-labelledby')}`).attr({\n      'aria-expanded': true,\n      'aria-selected': true\n    });\n  }\n\n  /**\n   * Closes the tab defined by `$target`.\n   * @param {jQuery} $target - Accordion tab to close (`.accordion-content`).\n   * @fires Accordion#up\n   * @function\n   */\n  up($target) {\n    var $aunts = $target.parent().siblings(),\n        _this = this;\n\n    if((!this.options.allowAllClosed && !$aunts.hasClass('is-active')) || !$target.parent().hasClass('is-active')) {\n      return;\n    }\n\n    // Foundation.Move(this.options.slideSpeed, $target, function(){\n      $target.slideUp(_this.options.slideSpeed, function () {\n        /**\n         * Fires when the tab is done collapsing up.\n         * @event Accordion#up\n         */\n        _this.$element.trigger('up.zf.accordion', [$target]);\n      });\n    // });\n\n    $target.attr('aria-hidden', true)\n           .parent().removeClass('is-active');\n\n    $(`#${$target.attr('aria-labelledby')}`).attr({\n     'aria-expanded': false,\n     'aria-selected': false\n   });\n  }\n\n  /**\n   * Destroys an instance of an accordion.\n   * @fires Accordion#destroyed\n   * @function\n   */\n  destroy() {\n    this.$element.find('[data-tab-content]').stop(true).slideUp(0).css('display', '');\n    this.$element.find('a').off('.zf.accordion');\n    if(this.options.deepLink) {\n      $(window).off('popstate', this._checkDeepLink);\n    }\n\n    Foundation.unregisterPlugin(this);\n  }\n}\n\nAccordion.defaults = {\n  /**\n   * Amount of time to animate the opening of an accordion pane.\n   * @option\n   * @type {number}\n   * @default 250\n   */\n  slideSpeed: 250,\n  /**\n   * Allow the accordion to have multiple open panes.\n   * @option\n   * @type {boolean}\n   * @default false\n   */\n  multiExpand: false,\n  /**\n   * Allow the accordion to close all panes.\n   * @option\n   * @type {boolean}\n   * @default false\n   */\n  allowAllClosed: false,\n  /**\n   * Allows the window to scroll to content of pane specified by hash anchor\n   * @option\n   * @type {boolean}\n   * @default false\n   */\n  deepLink: false,\n\n  /**\n   * Adjust the deep link scroll to make sure the top of the accordion panel is visible\n   * @option\n   * @type {boolean}\n   * @default false\n   */\n  deepLinkSmudge: false,\n\n  /**\n   * Animation time (ms) for the deep link adjustment\n   * @option\n   * @type {number}\n   * @default 300\n   */\n  deepLinkSmudgeDelay: 300,\n\n  /**\n   * Update the browser history with the open accordion\n   * @option\n   * @type {boolean}\n   * @default false\n   */\n  updateHistory: false\n};\n\n// Window exports\nFoundation.plugin(Accordion, 'Accordion');\n\n}(jQuery);\n","'use strict';\n\n!function($) {\n\n/**\n * Interchange module.\n * @module foundation.interchange\n * @requires foundation.util.mediaQuery\n * @requires foundation.util.timerAndImageLoader\n */\n\nclass Interchange {\n  /**\n   * Creates a new instance of Interchange.\n   * @class\n   * @fires Interchange#init\n   * @param {Object} element - jQuery object to add the trigger to.\n   * @param {Object} options - Overrides to the default plugin settings.\n   */\n  constructor(element, options) {\n    this.$element = element;\n    this.options = $.extend({}, Interchange.defaults, options);\n    this.rules = [];\n    this.currentPath = '';\n\n    this._init();\n    this._events();\n\n    Foundation.registerPlugin(this, 'Interchange');\n  }\n\n  /**\n   * Initializes the Interchange plugin and calls functions to get interchange functioning on load.\n   * @function\n   * @private\n   */\n  _init() {\n    this._addBreakpoints();\n    this._generateRules();\n    this._reflow();\n  }\n\n  /**\n   * Initializes events for Interchange.\n   * @function\n   * @private\n   */\n  _events() {\n    $(window).on('resize.zf.interchange', Foundation.util.throttle(() => {\n      this._reflow();\n    }, 50));\n  }\n\n  /**\n   * Calls necessary functions to update Interchange upon DOM change\n   * @function\n   * @private\n   */\n  _reflow() {\n    var match;\n\n    // Iterate through each rule, but only save the last match\n    for (var i in this.rules) {\n      if(this.rules.hasOwnProperty(i)) {\n        var rule = this.rules[i];\n        if (window.matchMedia(rule.query).matches) {\n          match = rule;\n        }\n      }\n    }\n\n    if (match) {\n      this.replace(match.path);\n    }\n  }\n\n  /**\n   * Gets the Foundation breakpoints and adds them to the Interchange.SPECIAL_QUERIES object.\n   * @function\n   * @private\n   */\n  _addBreakpoints() {\n    for (var i in Foundation.MediaQuery.queries) {\n      if (Foundation.MediaQuery.queries.hasOwnProperty(i)) {\n        var query = Foundation.MediaQuery.queries[i];\n        Interchange.SPECIAL_QUERIES[query.name] = query.value;\n      }\n    }\n  }\n\n  /**\n   * Checks the Interchange element for the provided media query + content pairings\n   * @function\n   * @private\n   * @param {Object} element - jQuery object that is an Interchange instance\n   * @returns {Array} scenarios - Array of objects that have 'mq' and 'path' keys with corresponding keys\n   */\n  _generateRules(element) {\n    var rulesList = [];\n    var rules;\n\n    if (this.options.rules) {\n      rules = this.options.rules;\n    }\n    else {\n      rules = this.$element.data('interchange');\n    }\n    \n    rules =  typeof rules === 'string' ? rules.match(/\\[.*?\\]/g) : rules;\n\n    for (var i in rules) {\n      if(rules.hasOwnProperty(i)) {\n        var rule = rules[i].slice(1, -1).split(', ');\n        var path = rule.slice(0, -1).join('');\n        var query = rule[rule.length - 1];\n\n        if (Interchange.SPECIAL_QUERIES[query]) {\n          query = Interchange.SPECIAL_QUERIES[query];\n        }\n\n        rulesList.push({\n          path: path,\n          query: query\n        });\n      }\n    }\n\n    this.rules = rulesList;\n  }\n\n  /**\n   * Update the `src` property of an image, or change the HTML of a container, to the specified path.\n   * @function\n   * @param {String} path - Path to the image or HTML partial.\n   * @fires Interchange#replaced\n   */\n  replace(path) {\n    if (this.currentPath === path) return;\n\n    var _this = this,\n        trigger = 'replaced.zf.interchange';\n\n    // Replacing images\n    if (this.$element[0].nodeName === 'IMG') {\n      this.$element.attr('src', path).on('load', function() {\n        _this.currentPath = path;\n      })\n      .trigger(trigger);\n    }\n    // Replacing background images\n    else if (path.match(/\\.(gif|jpg|jpeg|png|svg|tiff)([?#].*)?/i)) {\n      this.$element.css({ 'background-image': 'url('+path+')' })\n          .trigger(trigger);\n    }\n    // Replacing HTML\n    else {\n      $.get(path, function(response) {\n        _this.$element.html(response)\n             .trigger(trigger);\n        $(response).foundation();\n        _this.currentPath = path;\n      });\n    }\n\n    /**\n     * Fires when content in an Interchange element is done being loaded.\n     * @event Interchange#replaced\n     */\n    // this.$element.trigger('replaced.zf.interchange');\n  }\n\n  /**\n   * Destroys an instance of interchange.\n   * @function\n   */\n  destroy() {\n    //TODO this.\n  }\n}\n\n/**\n * Default settings for plugin\n */\nInterchange.defaults = {\n  /**\n   * Rules to be applied to Interchange elements. Set with the `data-interchange` array notation.\n   * @option\n   * @type {?array}\n   * @default null\n   */\n  rules: null\n};\n\nInterchange.SPECIAL_QUERIES = {\n  'landscape': 'screen and (orientation: landscape)',\n  'portrait': 'screen and (orientation: portrait)',\n  'retina': 'only screen and (-webkit-min-device-pixel-ratio: 2), only screen and (min--moz-device-pixel-ratio: 2), only screen and (-o-min-device-pixel-ratio: 2/1), only screen and (min-device-pixel-ratio: 2), only screen and (min-resolution: 192dpi), only screen and (min-resolution: 2dppx)'\n};\n\n// Window exports\nFoundation.plugin(Interchange, 'Interchange');\n\n}(jQuery);\n","'use strict';\n\n!function($) {\n\n/**\n * Tabs module.\n * @module foundation.tabs\n * @requires foundation.util.keyboard\n * @requires foundation.util.timerAndImageLoader if tabs contain images\n */\n\nclass Tabs {\n  /**\n   * Creates a new instance of tabs.\n   * @class\n   * @fires Tabs#init\n   * @param {jQuery} element - jQuery object to make into tabs.\n   * @param {Object} options - Overrides to the default plugin settings.\n   */\n  constructor(element, options) {\n    this.$element = element;\n    this.options = $.extend({}, Tabs.defaults, this.$element.data(), options);\n\n    this._init();\n    Foundation.registerPlugin(this, 'Tabs');\n    Foundation.Keyboard.register('Tabs', {\n      'ENTER': 'open',\n      'SPACE': 'open',\n      'ARROW_RIGHT': 'next',\n      'ARROW_UP': 'previous',\n      'ARROW_DOWN': 'next',\n      'ARROW_LEFT': 'previous'\n      // 'TAB': 'next',\n      // 'SHIFT_TAB': 'previous'\n    });\n  }\n\n  /**\n   * Initializes the tabs by showing and focusing (if autoFocus=true) the preset active tab.\n   * @private\n   */\n  _init() {\n    var _this = this;\n\n    this.$element.attr({'role': 'tablist'});\n    this.$tabTitles = this.$element.find(`.${this.options.linkClass}`);\n    this.$tabContent = $(`[data-tabs-content=\"${this.$element[0].id}\"]`);\n\n    this.$tabTitles.each(function(){\n      var $elem = $(this),\n          $link = $elem.find('a'),\n          isActive = $elem.hasClass(`${_this.options.linkActiveClass}`),\n          hash = $link[0].hash.slice(1),\n          linkId = $link[0].id ? $link[0].id : `${hash}-label`,\n          $tabContent = $(`#${hash}`);\n\n      $elem.attr({'role': 'presentation'});\n\n      $link.attr({\n        'role': 'tab',\n        'aria-controls': hash,\n        'aria-selected': isActive,\n        'id': linkId\n      });\n\n      $tabContent.attr({\n        'role': 'tabpanel',\n        'aria-hidden': !isActive,\n        'aria-labelledby': linkId\n      });\n\n      if(isActive && _this.options.autoFocus){\n        $(window).load(function() {\n          $('html, body').animate({ scrollTop: $elem.offset().top }, _this.options.deepLinkSmudgeDelay, () => {\n            $link.focus();\n          });\n        });\n      }\n    });\n    if(this.options.matchHeight) {\n      var $images = this.$tabContent.find('img');\n\n      if ($images.length) {\n        Foundation.onImagesLoaded($images, this._setHeight.bind(this));\n      } else {\n        this._setHeight();\n      }\n    }\n\n     //current context-bound function to open tabs on page load or history popstate\n    this._checkDeepLink = () => {\n      var anchor = window.location.hash;\n      //need a hash and a relevant anchor in this tabset\n      if(anchor.length) {\n        var $link = this.$element.find('[href$=\"'+anchor+'\"]');\n        if ($link.length) {\n          this.selectTab($(anchor), true);\n\n          //roll up a little to show the titles\n          if (this.options.deepLinkSmudge) {\n            var offset = this.$element.offset();\n            $('html, body').animate({ scrollTop: offset.top }, this.options.deepLinkSmudgeDelay);\n          }\n\n          /**\n            * Fires when the zplugin has deeplinked at pageload\n            * @event Tabs#deeplink\n            */\n           this.$element.trigger('deeplink.zf.tabs', [$link, $(anchor)]);\n         }\n       }\n     }\n\n    //use browser to open a tab, if it exists in this tabset\n    if (this.options.deepLink) {\n      this._checkDeepLink();\n    }\n\n    this._events();\n  }\n\n  /**\n   * Adds event handlers for items within the tabs.\n   * @private\n   */\n  _events() {\n    this._addKeyHandler();\n    this._addClickHandler();\n    this._setHeightMqHandler = null;\n\n    if (this.options.matchHeight) {\n      this._setHeightMqHandler = this._setHeight.bind(this);\n\n      $(window).on('changed.zf.mediaquery', this._setHeightMqHandler);\n    }\n\n    if(this.options.deepLink) {\n      $(window).on('popstate', this._checkDeepLink);\n    }\n  }\n\n  /**\n   * Adds click handlers for items within the tabs.\n   * @private\n   */\n  _addClickHandler() {\n    var _this = this;\n\n    this.$element\n      .off('click.zf.tabs')\n      .on('click.zf.tabs', `.${this.options.linkClass}`, function(e){\n        e.preventDefault();\n        e.stopPropagation();\n        _this._handleTabChange($(this));\n      });\n  }\n\n  /**\n   * Adds keyboard event handlers for items within the tabs.\n   * @private\n   */\n  _addKeyHandler() {\n    var _this = this;\n\n    this.$tabTitles.off('keydown.zf.tabs').on('keydown.zf.tabs', function(e){\n      if (e.which === 9) return;\n\n\n      var $element = $(this),\n        $elements = $element.parent('ul').children('li'),\n        $prevElement,\n        $nextElement;\n\n      $elements.each(function(i) {\n        if ($(this).is($element)) {\n          if (_this.options.wrapOnKeys) {\n            $prevElement = i === 0 ? $elements.last() : $elements.eq(i-1);\n            $nextElement = i === $elements.length -1 ? $elements.first() : $elements.eq(i+1);\n          } else {\n            $prevElement = $elements.eq(Math.max(0, i-1));\n            $nextElement = $elements.eq(Math.min(i+1, $elements.length-1));\n          }\n          return;\n        }\n      });\n\n      // handle keyboard event with keyboard util\n      Foundation.Keyboard.handleKey(e, 'Tabs', {\n        open: function() {\n          $element.find('[role=\"tab\"]').focus();\n          _this._handleTabChange($element);\n        },\n        previous: function() {\n          $prevElement.find('[role=\"tab\"]').focus();\n          _this._handleTabChange($prevElement);\n        },\n        next: function() {\n          $nextElement.find('[role=\"tab\"]').focus();\n          _this._handleTabChange($nextElement);\n        },\n        handled: function() {\n          e.stopPropagation();\n          e.preventDefault();\n        }\n      });\n    });\n  }\n\n  /**\n   * Opens the tab `$targetContent` defined by `$target`. Collapses active tab.\n   * @param {jQuery} $target - Tab to open.\n   * @param {boolean} historyHandled - browser has already handled a history update\n   * @fires Tabs#change\n   * @function\n   */\n  _handleTabChange($target, historyHandled) {\n\n    /**\n     * Check for active class on target. Collapse if exists.\n     */\n    if ($target.hasClass(`${this.options.linkActiveClass}`)) {\n        if(this.options.activeCollapse) {\n            this._collapseTab($target);\n\n           /**\n            * Fires when the zplugin has successfully collapsed tabs.\n            * @event Tabs#collapse\n            */\n            this.$element.trigger('collapse.zf.tabs', [$target]);\n        }\n        return;\n    }\n\n    var $oldTab = this.$element.\n          find(`.${this.options.linkClass}.${this.options.linkActiveClass}`),\n          $tabLink = $target.find('[role=\"tab\"]'),\n          hash = $tabLink[0].hash,\n          $targetContent = this.$tabContent.find(hash);\n\n    //close old tab\n    this._collapseTab($oldTab);\n\n    //open new tab\n    this._openTab($target);\n\n    //either replace or update browser history\n    if (this.options.deepLink && !historyHandled) {\n      var anchor = $target.find('a').attr('href');\n\n      if (this.options.updateHistory) {\n        history.pushState({}, '', anchor);\n      } else {\n        history.replaceState({}, '', anchor);\n      }\n    }\n\n    /**\n     * Fires when the plugin has successfully changed tabs.\n     * @event Tabs#change\n     */\n    this.$element.trigger('change.zf.tabs', [$target, $targetContent]);\n\n    //fire to children a mutation event\n    $targetContent.find(\"[data-mutate]\").trigger(\"mutateme.zf.trigger\");\n  }\n\n  /**\n   * Opens the tab `$targetContent` defined by `$target`.\n   * @param {jQuery} $target - Tab to Open.\n   * @function\n   */\n  _openTab($target) {\n      var $tabLink = $target.find('[role=\"tab\"]'),\n          hash = $tabLink[0].hash,\n          $targetContent = this.$tabContent.find(hash);\n\n      $target.addClass(`${this.options.linkActiveClass}`);\n\n      $tabLink.attr({'aria-selected': 'true'});\n\n      $targetContent\n        .addClass(`${this.options.panelActiveClass}`)\n        .attr({'aria-hidden': 'false'});\n  }\n\n  /**\n   * Collapses `$targetContent` defined by `$target`.\n   * @param {jQuery} $target - Tab to Open.\n   * @function\n   */\n  _collapseTab($target) {\n    var $target_anchor = $target\n      .removeClass(`${this.options.linkActiveClass}`)\n      .find('[role=\"tab\"]')\n      .attr({ 'aria-selected': 'false' });\n\n    $(`#${$target_anchor.attr('aria-controls')}`)\n      .removeClass(`${this.options.panelActiveClass}`)\n      .attr({ 'aria-hidden': 'true' });\n  }\n\n  /**\n   * Public method for selecting a content pane to display.\n   * @param {jQuery | String} elem - jQuery object or string of the id of the pane to display.\n   * @param {boolean} historyHandled - browser has already handled a history update\n   * @function\n   */\n  selectTab(elem, historyHandled) {\n    var idStr;\n\n    if (typeof elem === 'object') {\n      idStr = elem[0].id;\n    } else {\n      idStr = elem;\n    }\n\n    if (idStr.indexOf('#') < 0) {\n      idStr = `#${idStr}`;\n    }\n\n    var $target = this.$tabTitles.find(`[href$=\"${idStr}\"]`).parent(`.${this.options.linkClass}`);\n\n    this._handleTabChange($target, historyHandled);\n  };\n  /**\n   * Sets the height of each panel to the height of the tallest panel.\n   * If enabled in options, gets called on media query change.\n   * If loading content via external source, can be called directly or with _reflow.\n   * If enabled with `data-match-height=\"true\"`, tabs sets to equal height\n   * @function\n   * @private\n   */\n  _setHeight() {\n    var max = 0,\n        _this = this; // Lock down the `this` value for the root tabs object\n\n    this.$tabContent\n      .find(`.${this.options.panelClass}`)\n      .css('height', '')\n      .each(function() {\n\n        var panel = $(this),\n            isActive = panel.hasClass(`${_this.options.panelActiveClass}`); // get the options from the parent instead of trying to get them from the child\n\n        if (!isActive) {\n          panel.css({'visibility': 'hidden', 'display': 'block'});\n        }\n\n        var temp = this.getBoundingClientRect().height;\n\n        if (!isActive) {\n          panel.css({\n            'visibility': '',\n            'display': ''\n          });\n        }\n\n        max = temp > max ? temp : max;\n      })\n      .css('height', `${max}px`);\n  }\n\n  /**\n   * Destroys an instance of an tabs.\n   * @fires Tabs#destroyed\n   */\n  destroy() {\n    this.$element\n      .find(`.${this.options.linkClass}`)\n      .off('.zf.tabs').hide().end()\n      .find(`.${this.options.panelClass}`)\n      .hide();\n\n    if (this.options.matchHeight) {\n      if (this._setHeightMqHandler != null) {\n         $(window).off('changed.zf.mediaquery', this._setHeightMqHandler);\n      }\n    }\n\n    if (this.options.deepLink) {\n      $(window).off('popstate', this._checkDeepLink);\n    }\n\n    Foundation.unregisterPlugin(this);\n  }\n}\n\nTabs.defaults = {\n  /**\n   * Allows the window to scroll to content of pane specified by hash anchor\n   * @option\n   * @type {boolean}\n   * @default false\n   */\n  deepLink: false,\n\n  /**\n   * Adjust the deep link scroll to make sure the top of the tab panel is visible\n   * @option\n   * @type {boolean}\n   * @default false\n   */\n  deepLinkSmudge: false,\n\n  /**\n   * Animation time (ms) for the deep link adjustment\n   * @option\n   * @type {number}\n   * @default 300\n   */\n  deepLinkSmudgeDelay: 300,\n\n  /**\n   * Update the browser history with the open tab\n   * @option\n   * @type {boolean}\n   * @default false\n   */\n  updateHistory: false,\n\n  /**\n   * Allows the window to scroll to content of active pane on load if set to true.\n   * Not recommended if more than one tab panel per page.\n   * @option\n   * @type {boolean}\n   * @default false\n   */\n  autoFocus: false,\n\n  /**\n   * Allows keyboard input to 'wrap' around the tab links.\n   * @option\n   * @type {boolean}\n   * @default true\n   */\n  wrapOnKeys: true,\n\n  /**\n   * Allows the tab content panes to match heights if set to true.\n   * @option\n   * @type {boolean}\n   * @default false\n   */\n  matchHeight: false,\n\n  /**\n   * Allows active tabs to collapse when clicked.\n   * @option\n   * @type {boolean}\n   * @default false\n   */\n  activeCollapse: false,\n\n  /**\n   * Class applied to `li`'s in tab link list.\n   * @option\n   * @type {string}\n   * @default 'tabs-title'\n   */\n  linkClass: 'tabs-title',\n\n  /**\n   * Class applied to the active `li` in tab link list.\n   * @option\n   * @type {string}\n   * @default 'is-active'\n   */\n  linkActiveClass: 'is-active',\n\n  /**\n   * Class applied to the content containers.\n   * @option\n   * @type {string}\n   * @default 'tabs-panel'\n   */\n  panelClass: 'tabs-panel',\n\n  /**\n   * Class applied to the active content container.\n   * @option\n   * @type {string}\n   * @default 'is-active'\n   */\n  panelActiveClass: 'is-active'\n};\n\n// Window exports\nFoundation.plugin(Tabs, 'Tabs');\n\n}(jQuery);\n","/*!\n * Flickity PACKAGED v2.1.1\n * Touch, responsive, flickable carousels\n *\n * Licensed GPLv3 for open source use\n * or Flickity Commercial License for commercial use\n *\n * https://flickity.metafizzy.co\n * Copyright 2015-2018 Metafizzy\n */\n\n/**\n * Bridget makes jQuery widgets\n * v2.0.1\n * MIT license\n */\n\n/* jshint browser: true, strict: true, undef: true, unused: true */\n\n( function( window, factory ) {\n  // universal module definition\n  /*jshint strict: false */ /* globals define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'jquery-bridget/jquery-bridget',[ 'jquery' ], function( jQuery ) {\n      return factory( window, jQuery );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('jquery')\n    );\n  } else {\n    // browser global\n    window.jQueryBridget = factory(\n      window,\n      window.jQuery\n    );\n  }\n\n}( window, function factory( window, jQuery ) {\n'use strict';\n\n// ----- utils ----- //\n\nvar arraySlice = Array.prototype.slice;\n\n// helper function for logging errors\n// $.error breaks jQuery chaining\nvar console = window.console;\nvar logError = typeof console == 'undefined' ? function() {} :\n  function( message ) {\n    console.error( message );\n  };\n\n// ----- jQueryBridget ----- //\n\nfunction jQueryBridget( namespace, PluginClass, $ ) {\n  $ = $ || jQuery || window.jQuery;\n  if ( !$ ) {\n    return;\n  }\n\n  // add option method -> $().plugin('option', {...})\n  if ( !PluginClass.prototype.option ) {\n    // option setter\n    PluginClass.prototype.option = function( opts ) {\n      // bail out if not an object\n      if ( !$.isPlainObject( opts ) ){\n        return;\n      }\n      this.options = $.extend( true, this.options, opts );\n    };\n  }\n\n  // make jQuery plugin\n  $.fn[ namespace ] = function( arg0 /*, arg1 */ ) {\n    if ( typeof arg0 == 'string' ) {\n      // method call $().plugin( 'methodName', { options } )\n      // shift arguments by 1\n      var args = arraySlice.call( arguments, 1 );\n      return methodCall( this, arg0, args );\n    }\n    // just $().plugin({ options })\n    plainCall( this, arg0 );\n    return this;\n  };\n\n  // $().plugin('methodName')\n  function methodCall( $elems, methodName, args ) {\n    var returnValue;\n    var pluginMethodStr = '$().' + namespace + '(\"' + methodName + '\")';\n\n    $elems.each( function( i, elem ) {\n      // get instance\n      var instance = $.data( elem, namespace );\n      if ( !instance ) {\n        logError( namespace + ' not initialized. Cannot call methods, i.e. ' +\n          pluginMethodStr );\n        return;\n      }\n\n      var method = instance[ methodName ];\n      if ( !method || methodName.charAt(0) == '_' ) {\n        logError( pluginMethodStr + ' is not a valid method' );\n        return;\n      }\n\n      // apply method, get return value\n      var value = method.apply( instance, args );\n      // set return value if value is returned, use only first value\n      returnValue = returnValue === undefined ? value : returnValue;\n    });\n\n    return returnValue !== undefined ? returnValue : $elems;\n  }\n\n  function plainCall( $elems, options ) {\n    $elems.each( function( i, elem ) {\n      var instance = $.data( elem, namespace );\n      if ( instance ) {\n        // set options & init\n        instance.option( options );\n        instance._init();\n      } else {\n        // initialize new instance\n        instance = new PluginClass( elem, options );\n        $.data( elem, namespace, instance );\n      }\n    });\n  }\n\n  updateJQuery( $ );\n\n}\n\n// ----- updateJQuery ----- //\n\n// set $.bridget for v1 backwards compatibility\nfunction updateJQuery( $ ) {\n  if ( !$ || ( $ && $.bridget ) ) {\n    return;\n  }\n  $.bridget = jQueryBridget;\n}\n\nupdateJQuery( jQuery || window.jQuery );\n\n// -----  ----- //\n\nreturn jQueryBridget;\n\n}));\n\n/**\n * EvEmitter v1.1.0\n * Lil' event emitter\n * MIT License\n */\n\n/* jshint unused: true, undef: true, strict: true */\n\n( function( global, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /* globals define, module, window */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD - RequireJS\n    define( 'ev-emitter/ev-emitter',factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS - Browserify, Webpack\n    module.exports = factory();\n  } else {\n    // Browser globals\n    global.EvEmitter = factory();\n  }\n\n}( typeof window != 'undefined' ? window : this, function() {\n\n\n\nfunction EvEmitter() {}\n\nvar proto = EvEmitter.prototype;\n\nproto.on = function( eventName, listener ) {\n  if ( !eventName || !listener ) {\n    return;\n  }\n  // set events hash\n  var events = this._events = this._events || {};\n  // set listeners array\n  var listeners = events[ eventName ] = events[ eventName ] || [];\n  // only add once\n  if ( listeners.indexOf( listener ) == -1 ) {\n    listeners.push( listener );\n  }\n\n  return this;\n};\n\nproto.once = function( eventName, listener ) {\n  if ( !eventName || !listener ) {\n    return;\n  }\n  // add event\n  this.on( eventName, listener );\n  // set once flag\n  // set onceEvents hash\n  var onceEvents = this._onceEvents = this._onceEvents || {};\n  // set onceListeners object\n  var onceListeners = onceEvents[ eventName ] = onceEvents[ eventName ] || {};\n  // set flag\n  onceListeners[ listener ] = true;\n\n  return this;\n};\n\nproto.off = function( eventName, listener ) {\n  var listeners = this._events && this._events[ eventName ];\n  if ( !listeners || !listeners.length ) {\n    return;\n  }\n  var index = listeners.indexOf( listener );\n  if ( index != -1 ) {\n    listeners.splice( index, 1 );\n  }\n\n  return this;\n};\n\nproto.emitEvent = function( eventName, args ) {\n  var listeners = this._events && this._events[ eventName ];\n  if ( !listeners || !listeners.length ) {\n    return;\n  }\n  // copy over to avoid interference if .off() in listener\n  listeners = listeners.slice(0);\n  args = args || [];\n  // once stuff\n  var onceListeners = this._onceEvents && this._onceEvents[ eventName ];\n\n  for ( var i=0; i < listeners.length; i++ ) {\n    var listener = listeners[i]\n    var isOnce = onceListeners && onceListeners[ listener ];\n    if ( isOnce ) {\n      // remove listener\n      // remove before trigger to prevent recursion\n      this.off( eventName, listener );\n      // unset once flag\n      delete onceListeners[ listener ];\n    }\n    // trigger listener\n    listener.apply( this, args );\n  }\n\n  return this;\n};\n\nproto.allOff = function() {\n  delete this._events;\n  delete this._onceEvents;\n};\n\nreturn EvEmitter;\n\n}));\n\n/*!\n * getSize v2.0.2\n * measure size of elements\n * MIT license\n */\n\n/*jshint browser: true, strict: true, undef: true, unused: true */\n/*global define: false, module: false, console: false */\n\n( function( window, factory ) {\n  'use strict';\n\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'get-size/get-size',[],function() {\n      return factory();\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory();\n  } else {\n    // browser global\n    window.getSize = factory();\n  }\n\n})( window, function factory() {\n'use strict';\n\n// -------------------------- helpers -------------------------- //\n\n// get a number from a string, not a percentage\nfunction getStyleSize( value ) {\n  var num = parseFloat( value );\n  // not a percent like '100%', and a number\n  var isValid = value.indexOf('%') == -1 && !isNaN( num );\n  return isValid && num;\n}\n\nfunction noop() {}\n\nvar logError = typeof console == 'undefined' ? noop :\n  function( message ) {\n    console.error( message );\n  };\n\n// -------------------------- measurements -------------------------- //\n\nvar measurements = [\n  'paddingLeft',\n  'paddingRight',\n  'paddingTop',\n  'paddingBottom',\n  'marginLeft',\n  'marginRight',\n  'marginTop',\n  'marginBottom',\n  'borderLeftWidth',\n  'borderRightWidth',\n  'borderTopWidth',\n  'borderBottomWidth'\n];\n\nvar measurementsLength = measurements.length;\n\nfunction getZeroSize() {\n  var size = {\n    width: 0,\n    height: 0,\n    innerWidth: 0,\n    innerHeight: 0,\n    outerWidth: 0,\n    outerHeight: 0\n  };\n  for ( var i=0; i < measurementsLength; i++ ) {\n    var measurement = measurements[i];\n    size[ measurement ] = 0;\n  }\n  return size;\n}\n\n// -------------------------- getStyle -------------------------- //\n\n/**\n * getStyle, get style of element, check for Firefox bug\n * https://bugzilla.mozilla.org/show_bug.cgi?id=548397\n */\nfunction getStyle( elem ) {\n  var style = getComputedStyle( elem );\n  if ( !style ) {\n    logError( 'Style returned ' + style +\n      '. Are you running this code in a hidden iframe on Firefox? ' +\n      'See http://bit.ly/getsizebug1' );\n  }\n  return style;\n}\n\n// -------------------------- setup -------------------------- //\n\nvar isSetup = false;\n\nvar isBoxSizeOuter;\n\n/**\n * setup\n * check isBoxSizerOuter\n * do on first getSize() rather than on page load for Firefox bug\n */\nfunction setup() {\n  // setup once\n  if ( isSetup ) {\n    return;\n  }\n  isSetup = true;\n\n  // -------------------------- box sizing -------------------------- //\n\n  /**\n   * WebKit measures the outer-width on style.width on border-box elems\n   * IE & Firefox<29 measures the inner-width\n   */\n  var div = document.createElement('div');\n  div.style.width = '200px';\n  div.style.padding = '1px 2px 3px 4px';\n  div.style.borderStyle = 'solid';\n  div.style.borderWidth = '1px 2px 3px 4px';\n  div.style.boxSizing = 'border-box';\n\n  var body = document.body || document.documentElement;\n  body.appendChild( div );\n  var style = getStyle( div );\n\n  getSize.isBoxSizeOuter = isBoxSizeOuter = getStyleSize( style.width ) == 200;\n  body.removeChild( div );\n\n}\n\n// -------------------------- getSize -------------------------- //\n\nfunction getSize( elem ) {\n  setup();\n\n  // use querySeletor if elem is string\n  if ( typeof elem == 'string' ) {\n    elem = document.querySelector( elem );\n  }\n\n  // do not proceed on non-objects\n  if ( !elem || typeof elem != 'object' || !elem.nodeType ) {\n    return;\n  }\n\n  var style = getStyle( elem );\n\n  // if hidden, everything is 0\n  if ( style.display == 'none' ) {\n    return getZeroSize();\n  }\n\n  var size = {};\n  size.width = elem.offsetWidth;\n  size.height = elem.offsetHeight;\n\n  var isBorderBox = size.isBorderBox = style.boxSizing == 'border-box';\n\n  // get all measurements\n  for ( var i=0; i < measurementsLength; i++ ) {\n    var measurement = measurements[i];\n    var value = style[ measurement ];\n    var num = parseFloat( value );\n    // any 'auto', 'medium' value will be 0\n    size[ measurement ] = !isNaN( num ) ? num : 0;\n  }\n\n  var paddingWidth = size.paddingLeft + size.paddingRight;\n  var paddingHeight = size.paddingTop + size.paddingBottom;\n  var marginWidth = size.marginLeft + size.marginRight;\n  var marginHeight = size.marginTop + size.marginBottom;\n  var borderWidth = size.borderLeftWidth + size.borderRightWidth;\n  var borderHeight = size.borderTopWidth + size.borderBottomWidth;\n\n  var isBorderBoxSizeOuter = isBorderBox && isBoxSizeOuter;\n\n  // overwrite width and height if we can get it from style\n  var styleWidth = getStyleSize( style.width );\n  if ( styleWidth !== false ) {\n    size.width = styleWidth +\n      // add padding and border unless it's already including it\n      ( isBorderBoxSizeOuter ? 0 : paddingWidth + borderWidth );\n  }\n\n  var styleHeight = getStyleSize( style.height );\n  if ( styleHeight !== false ) {\n    size.height = styleHeight +\n      // add padding and border unless it's already including it\n      ( isBorderBoxSizeOuter ? 0 : paddingHeight + borderHeight );\n  }\n\n  size.innerWidth = size.width - ( paddingWidth + borderWidth );\n  size.innerHeight = size.height - ( paddingHeight + borderHeight );\n\n  size.outerWidth = size.width + marginWidth;\n  size.outerHeight = size.height + marginHeight;\n\n  return size;\n}\n\nreturn getSize;\n\n});\n\n/**\n * matchesSelector v2.0.2\n * matchesSelector( element, '.selector' )\n * MIT license\n */\n\n/*jshint browser: true, strict: true, undef: true, unused: true */\n\n( function( window, factory ) {\n  /*global define: false, module: false */\n  'use strict';\n  // universal module definition\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'desandro-matches-selector/matches-selector',factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory();\n  } else {\n    // browser global\n    window.matchesSelector = factory();\n  }\n\n}( window, function factory() {\n  'use strict';\n\n  var matchesMethod = ( function() {\n    var ElemProto = window.Element.prototype;\n    // check for the standard method name first\n    if ( ElemProto.matches ) {\n      return 'matches';\n    }\n    // check un-prefixed\n    if ( ElemProto.matchesSelector ) {\n      return 'matchesSelector';\n    }\n    // check vendor prefixes\n    var prefixes = [ 'webkit', 'moz', 'ms', 'o' ];\n\n    for ( var i=0; i < prefixes.length; i++ ) {\n      var prefix = prefixes[i];\n      var method = prefix + 'MatchesSelector';\n      if ( ElemProto[ method ] ) {\n        return method;\n      }\n    }\n  })();\n\n  return function matchesSelector( elem, selector ) {\n    return elem[ matchesMethod ]( selector );\n  };\n\n}));\n\n/**\n * Fizzy UI utils v2.0.7\n * MIT license\n */\n\n/*jshint browser: true, undef: true, unused: true, strict: true */\n\n( function( window, factory ) {\n  // universal module definition\n  /*jshint strict: false */ /*globals define, module, require */\n\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'fizzy-ui-utils/utils',[\n      'desandro-matches-selector/matches-selector'\n    ], function( matchesSelector ) {\n      return factory( window, matchesSelector );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('desandro-matches-selector')\n    );\n  } else {\n    // browser global\n    window.fizzyUIUtils = factory(\n      window,\n      window.matchesSelector\n    );\n  }\n\n}( window, function factory( window, matchesSelector ) {\n\n\n\nvar utils = {};\n\n// ----- extend ----- //\n\n// extends objects\nutils.extend = function( a, b ) {\n  for ( var prop in b ) {\n    a[ prop ] = b[ prop ];\n  }\n  return a;\n};\n\n// ----- modulo ----- //\n\nutils.modulo = function( num, div ) {\n  return ( ( num % div ) + div ) % div;\n};\n\n// ----- makeArray ----- //\n\nvar arraySlice = Array.prototype.slice;\n\n// turn element or nodeList into an array\nutils.makeArray = function( obj ) {\n  if ( Array.isArray( obj ) ) {\n    // use object if already an array\n    return obj;\n  }\n  // return empty array if undefined or null. #6\n  if ( obj === null || obj === undefined ) {\n    return [];\n  }\n\n  var isArrayLike = typeof obj == 'object' && typeof obj.length == 'number';\n  if ( isArrayLike ) {\n    // convert nodeList to array\n    return arraySlice.call( obj );\n  }\n\n  // array of single index\n  return [ obj ];\n};\n\n// ----- removeFrom ----- //\n\nutils.removeFrom = function( ary, obj ) {\n  var index = ary.indexOf( obj );\n  if ( index != -1 ) {\n    ary.splice( index, 1 );\n  }\n};\n\n// ----- getParent ----- //\n\nutils.getParent = function( elem, selector ) {\n  while ( elem.parentNode && elem != document.body ) {\n    elem = elem.parentNode;\n    if ( matchesSelector( elem, selector ) ) {\n      return elem;\n    }\n  }\n};\n\n// ----- getQueryElement ----- //\n\n// use element as selector string\nutils.getQueryElement = function( elem ) {\n  if ( typeof elem == 'string' ) {\n    return document.querySelector( elem );\n  }\n  return elem;\n};\n\n// ----- handleEvent ----- //\n\n// enable .ontype to trigger from .addEventListener( elem, 'type' )\nutils.handleEvent = function( event ) {\n  var method = 'on' + event.type;\n  if ( this[ method ] ) {\n    this[ method ]( event );\n  }\n};\n\n// ----- filterFindElements ----- //\n\nutils.filterFindElements = function( elems, selector ) {\n  // make array of elems\n  elems = utils.makeArray( elems );\n  var ffElems = [];\n\n  elems.forEach( function( elem ) {\n    // check that elem is an actual element\n    if ( !( elem instanceof HTMLElement ) ) {\n      return;\n    }\n    // add elem if no selector\n    if ( !selector ) {\n      ffElems.push( elem );\n      return;\n    }\n    // filter & find items if we have a selector\n    // filter\n    if ( matchesSelector( elem, selector ) ) {\n      ffElems.push( elem );\n    }\n    // find children\n    var childElems = elem.querySelectorAll( selector );\n    // concat childElems to filterFound array\n    for ( var i=0; i < childElems.length; i++ ) {\n      ffElems.push( childElems[i] );\n    }\n  });\n\n  return ffElems;\n};\n\n// ----- debounceMethod ----- //\n\nutils.debounceMethod = function( _class, methodName, threshold ) {\n  threshold = threshold || 100;\n  // original method\n  var method = _class.prototype[ methodName ];\n  var timeoutName = methodName + 'Timeout';\n\n  _class.prototype[ methodName ] = function() {\n    var timeout = this[ timeoutName ];\n    clearTimeout( timeout );\n\n    var args = arguments;\n    var _this = this;\n    this[ timeoutName ] = setTimeout( function() {\n      method.apply( _this, args );\n      delete _this[ timeoutName ];\n    }, threshold );\n  };\n};\n\n// ----- docReady ----- //\n\nutils.docReady = function( callback ) {\n  var readyState = document.readyState;\n  if ( readyState == 'complete' || readyState == 'interactive' ) {\n    // do async to allow for other scripts to run. metafizzy/flickity#441\n    setTimeout( callback );\n  } else {\n    document.addEventListener( 'DOMContentLoaded', callback );\n  }\n};\n\n// ----- htmlInit ----- //\n\n// http://jamesroberts.name/blog/2010/02/22/string-functions-for-javascript-trim-to-camel-case-to-dashed-and-to-underscore/\nutils.toDashed = function( str ) {\n  return str.replace( /(.)([A-Z])/g, function( match, $1, $2 ) {\n    return $1 + '-' + $2;\n  }).toLowerCase();\n};\n\nvar console = window.console;\n/**\n * allow user to initialize classes via [data-namespace] or .js-namespace class\n * htmlInit( Widget, 'widgetName' )\n * options are parsed from data-namespace-options\n */\nutils.htmlInit = function( WidgetClass, namespace ) {\n  utils.docReady( function() {\n    var dashedNamespace = utils.toDashed( namespace );\n    var dataAttr = 'data-' + dashedNamespace;\n    var dataAttrElems = document.querySelectorAll( '[' + dataAttr + ']' );\n    var jsDashElems = document.querySelectorAll( '.js-' + dashedNamespace );\n    var elems = utils.makeArray( dataAttrElems )\n      .concat( utils.makeArray( jsDashElems ) );\n    var dataOptionsAttr = dataAttr + '-options';\n    var jQuery = window.jQuery;\n\n    elems.forEach( function( elem ) {\n      var attr = elem.getAttribute( dataAttr ) ||\n        elem.getAttribute( dataOptionsAttr );\n      var options;\n      try {\n        options = attr && JSON.parse( attr );\n      } catch ( error ) {\n        // log error, do not initialize\n        if ( console ) {\n          console.error( 'Error parsing ' + dataAttr + ' on ' + elem.className +\n          ': ' + error );\n        }\n        return;\n      }\n      // initialize\n      var instance = new WidgetClass( elem, options );\n      // make available via $().data('namespace')\n      if ( jQuery ) {\n        jQuery.data( elem, namespace, instance );\n      }\n    });\n\n  });\n};\n\n// -----  ----- //\n\nreturn utils;\n\n}));\n\n// Flickity.Cell\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'flickity/js/cell',[\n      'get-size/get-size'\n    ], function( getSize ) {\n      return factory( window, getSize );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('get-size')\n    );\n  } else {\n    // browser global\n    window.Flickity = window.Flickity || {};\n    window.Flickity.Cell = factory(\n      window,\n      window.getSize\n    );\n  }\n\n}( window, function factory( window, getSize ) {\n\n\n\nfunction Cell( elem, parent ) {\n  this.element = elem;\n  this.parent = parent;\n\n  this.create();\n}\n\nvar proto = Cell.prototype;\n\nproto.create = function() {\n  this.element.style.position = 'absolute';\n  this.element.setAttribute( 'aria-selected', 'false' );\n  this.x = 0;\n  this.shift = 0;\n};\n\nproto.destroy = function() {\n  // reset style\n  this.element.style.position = '';\n  var side = this.parent.originSide;\n  this.element.removeAttribute('aria-selected');\n  this.element.style[ side ] = '';\n};\n\nproto.getSize = function() {\n  this.size = getSize( this.element );\n};\n\nproto.setPosition = function( x ) {\n  this.x = x;\n  this.updateTarget();\n  this.renderPosition( x );\n};\n\n// setDefaultTarget v1 method, backwards compatibility, remove in v3\nproto.updateTarget = proto.setDefaultTarget = function() {\n  var marginProperty = this.parent.originSide == 'left' ? 'marginLeft' : 'marginRight';\n  this.target = this.x + this.size[ marginProperty ] +\n    this.size.width * this.parent.cellAlign;\n};\n\nproto.renderPosition = function( x ) {\n  // render position of cell with in slider\n  var side = this.parent.originSide;\n  this.element.style[ side ] = this.parent.getPositionValue( x );\n};\n\n/**\n * @param {Integer} factor - 0, 1, or -1\n**/\nproto.wrapShift = function( shift ) {\n  this.shift = shift;\n  this.renderPosition( this.x + this.parent.slideableWidth * shift );\n};\n\nproto.remove = function() {\n  this.element.parentNode.removeChild( this.element );\n};\n\nreturn Cell;\n\n}));\n\n// slide\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'flickity/js/slide',factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory();\n  } else {\n    // browser global\n    window.Flickity = window.Flickity || {};\n    window.Flickity.Slide = factory();\n  }\n\n}( window, function factory() {\n'use strict';\n\nfunction Slide( parent ) {\n  this.parent = parent;\n  this.isOriginLeft = parent.originSide == 'left';\n  this.cells = [];\n  this.outerWidth = 0;\n  this.height = 0;\n}\n\nvar proto = Slide.prototype;\n\nproto.addCell = function( cell ) {\n  this.cells.push( cell );\n  this.outerWidth += cell.size.outerWidth;\n  this.height = Math.max( cell.size.outerHeight, this.height );\n  // first cell stuff\n  if ( this.cells.length == 1 ) {\n    this.x = cell.x; // x comes from first cell\n    var beginMargin = this.isOriginLeft ? 'marginLeft' : 'marginRight';\n    this.firstMargin = cell.size[ beginMargin ];\n  }\n};\n\nproto.updateTarget = function() {\n  var endMargin = this.isOriginLeft ? 'marginRight' : 'marginLeft';\n  var lastCell = this.getLastCell();\n  var lastMargin = lastCell ? lastCell.size[ endMargin ] : 0;\n  var slideWidth = this.outerWidth - ( this.firstMargin + lastMargin );\n  this.target = this.x + this.firstMargin + slideWidth * this.parent.cellAlign;\n};\n\nproto.getLastCell = function() {\n  return this.cells[ this.cells.length - 1 ];\n};\n\nproto.select = function() {\n  this.changeSelected( true );\n};\n\nproto.unselect = function() {\n  this.changeSelected( false );\n};\n\nproto.changeSelected = function( isSelected ) {\n  var classMethod = isSelected ? 'add' : 'remove';\n  this.cells.forEach( function( cell ) {\n    cell.element.classList[ classMethod ]('is-selected');\n    cell.element.setAttribute( 'aria-selected', isSelected.toString() );\n  });\n};\n\nproto.getCellElements = function() {\n  return this.cells.map( function( cell ) {\n    return cell.element;\n  });\n};\n\nreturn Slide;\n\n}));\n\n// animate\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'flickity/js/animate',[\n      'fizzy-ui-utils/utils'\n    ], function( utils ) {\n      return factory( window, utils );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('fizzy-ui-utils')\n    );\n  } else {\n    // browser global\n    window.Flickity = window.Flickity || {};\n    window.Flickity.animatePrototype = factory(\n      window,\n      window.fizzyUIUtils\n    );\n  }\n\n}( window, function factory( window, utils ) {\n\n\n\n// -------------------------- animate -------------------------- //\n\nvar proto = {};\n\nproto.startAnimation = function() {\n  if ( this.isAnimating ) {\n    return;\n  }\n\n  this.isAnimating = true;\n  this.restingFrames = 0;\n  this.animate();\n};\n\nproto.animate = function() {\n  this.applyDragForce();\n  this.applySelectedAttraction();\n\n  var previousX = this.x;\n\n  this.integratePhysics();\n  this.positionSlider();\n  this.settle( previousX );\n  // animate next frame\n  if ( this.isAnimating ) {\n    var _this = this;\n    requestAnimationFrame( function animateFrame() {\n      _this.animate();\n    });\n  }\n};\n\nproto.positionSlider = function() {\n  var x = this.x;\n  // wrap position around\n  if ( this.options.wrapAround && this.cells.length > 1 ) {\n    x = utils.modulo( x, this.slideableWidth );\n    x = x - this.slideableWidth;\n    this.shiftWrapCells( x );\n  }\n\n  x = x + this.cursorPosition;\n  // reverse if right-to-left and using transform\n  x = this.options.rightToLeft ? -x : x;\n  var value = this.getPositionValue( x );\n  // use 3D tranforms for hardware acceleration on iOS\n  // but use 2D when settled, for better font-rendering\n  this.slider.style.transform = this.isAnimating ?\n    'translate3d(' + value + ',0,0)' : 'translateX(' + value + ')';\n\n  // scroll event\n  var firstSlide = this.slides[0];\n  if ( firstSlide ) {\n    var positionX = -this.x - firstSlide.target;\n    var progress = positionX / this.slidesWidth;\n    this.dispatchEvent( 'scroll', null, [ progress, positionX ] );\n  }\n};\n\nproto.positionSliderAtSelected = function() {\n  if ( !this.cells.length ) {\n    return;\n  }\n  this.x = -this.selectedSlide.target;\n  this.velocity = 0; // stop wobble\n  this.positionSlider();\n};\n\nproto.getPositionValue = function( position ) {\n  if ( this.options.percentPosition ) {\n    // percent position, round to 2 digits, like 12.34%\n    return ( Math.round( ( position / this.size.innerWidth ) * 10000 ) * 0.01 )+ '%';\n  } else {\n    // pixel positioning\n    return Math.round( position ) + 'px';\n  }\n};\n\nproto.settle = function( previousX ) {\n  // keep track of frames where x hasn't moved\n  if ( !this.isPointerDown && Math.round( this.x * 100 ) == Math.round( previousX * 100 ) ) {\n    this.restingFrames++;\n  }\n  // stop animating if resting for 3 or more frames\n  if ( this.restingFrames > 2 ) {\n    this.isAnimating = false;\n    delete this.isFreeScrolling;\n    // render position with translateX when settled\n    this.positionSlider();\n    this.dispatchEvent( 'settle', null, [ this.selectedIndex ] );\n  }\n};\n\nproto.shiftWrapCells = function( x ) {\n  // shift before cells\n  var beforeGap = this.cursorPosition + x;\n  this._shiftCells( this.beforeShiftCells, beforeGap, -1 );\n  // shift after cells\n  var afterGap = this.size.innerWidth - ( x + this.slideableWidth + this.cursorPosition );\n  this._shiftCells( this.afterShiftCells, afterGap, 1 );\n};\n\nproto._shiftCells = function( cells, gap, shift ) {\n  for ( var i=0; i < cells.length; i++ ) {\n    var cell = cells[i];\n    var cellShift = gap > 0 ? shift : 0;\n    cell.wrapShift( cellShift );\n    gap -= cell.size.outerWidth;\n  }\n};\n\nproto._unshiftCells = function( cells ) {\n  if ( !cells || !cells.length ) {\n    return;\n  }\n  for ( var i=0; i < cells.length; i++ ) {\n    cells[i].wrapShift( 0 );\n  }\n};\n\n// -------------------------- physics -------------------------- //\n\nproto.integratePhysics = function() {\n  this.x += this.velocity;\n  this.velocity *= this.getFrictionFactor();\n};\n\nproto.applyForce = function( force ) {\n  this.velocity += force;\n};\n\nproto.getFrictionFactor = function() {\n  return 1 - this.options[ this.isFreeScrolling ? 'freeScrollFriction' : 'friction' ];\n};\n\nproto.getRestingPosition = function() {\n  // my thanks to Steven Wittens, who simplified this math greatly\n  return this.x + this.velocity / ( 1 - this.getFrictionFactor() );\n};\n\nproto.applyDragForce = function() {\n  if ( !this.isDraggable || !this.isPointerDown ) {\n    return;\n  }\n  // change the position to drag position by applying force\n  var dragVelocity = this.dragX - this.x;\n  var dragForce = dragVelocity - this.velocity;\n  this.applyForce( dragForce );\n};\n\nproto.applySelectedAttraction = function() {\n  // do not attract if pointer down or no slides\n  var dragDown = this.isDraggable && this.isPointerDown;\n  if ( dragDown || this.isFreeScrolling || !this.slides.length ) {\n    return;\n  }\n  var distance = this.selectedSlide.target * -1 - this.x;\n  var force = distance * this.options.selectedAttraction;\n  this.applyForce( force );\n};\n\nreturn proto;\n\n}));\n\n// Flickity main\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'flickity/js/flickity',[\n      'ev-emitter/ev-emitter',\n      'get-size/get-size',\n      'fizzy-ui-utils/utils',\n      './cell',\n      './slide',\n      './animate'\n    ], function( EvEmitter, getSize, utils, Cell, Slide, animatePrototype ) {\n      return factory( window, EvEmitter, getSize, utils, Cell, Slide, animatePrototype );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('ev-emitter'),\n      require('get-size'),\n      require('fizzy-ui-utils'),\n      require('./cell'),\n      require('./slide'),\n      require('./animate')\n    );\n  } else {\n    // browser global\n    var _Flickity = window.Flickity;\n\n    window.Flickity = factory(\n      window,\n      window.EvEmitter,\n      window.getSize,\n      window.fizzyUIUtils,\n      _Flickity.Cell,\n      _Flickity.Slide,\n      _Flickity.animatePrototype\n    );\n  }\n\n}( window, function factory( window, EvEmitter, getSize,\n  utils, Cell, Slide, animatePrototype ) {\n\n\n\n// vars\nvar jQuery = window.jQuery;\nvar getComputedStyle = window.getComputedStyle;\nvar console = window.console;\n\nfunction moveElements( elems, toElem ) {\n  elems = utils.makeArray( elems );\n  while ( elems.length ) {\n    toElem.appendChild( elems.shift() );\n  }\n}\n\n// -------------------------- Flickity -------------------------- //\n\n// globally unique identifiers\nvar GUID = 0;\n// internal store of all Flickity intances\nvar instances = {};\n\nfunction Flickity( element, options ) {\n  var queryElement = utils.getQueryElement( element );\n  if ( !queryElement ) {\n    if ( console ) {\n      console.error( 'Bad element for Flickity: ' + ( queryElement || element ) );\n    }\n    return;\n  }\n  this.element = queryElement;\n  // do not initialize twice on same element\n  if ( this.element.flickityGUID ) {\n    var instance = instances[ this.element.flickityGUID ];\n    instance.option( options );\n    return instance;\n  }\n\n  // add jQuery\n  if ( jQuery ) {\n    this.$element = jQuery( this.element );\n  }\n  // options\n  this.options = utils.extend( {}, this.constructor.defaults );\n  this.option( options );\n\n  // kick things off\n  this._create();\n}\n\nFlickity.defaults = {\n  accessibility: true,\n  // adaptiveHeight: false,\n  cellAlign: 'center',\n  // cellSelector: undefined,\n  // contain: false,\n  freeScrollFriction: 0.075, // friction when free-scrolling\n  friction: 0.28, // friction when selecting\n  namespaceJQueryEvents: true,\n  // initialIndex: 0,\n  percentPosition: true,\n  resize: true,\n  selectedAttraction: 0.025,\n  setGallerySize: true\n  // watchCSS: false,\n  // wrapAround: false\n};\n\n// hash of methods triggered on _create()\nFlickity.createMethods = [];\n\nvar proto = Flickity.prototype;\n// inherit EventEmitter\nutils.extend( proto, EvEmitter.prototype );\n\nproto._create = function() {\n  // add id for Flickity.data\n  var id = this.guid = ++GUID;\n  this.element.flickityGUID = id; // expando\n  instances[ id ] = this; // associate via id\n  // initial properties\n  this.selectedIndex = 0;\n  // how many frames slider has been in same position\n  this.restingFrames = 0;\n  // initial physics properties\n  this.x = 0;\n  this.velocity = 0;\n  this.originSide = this.options.rightToLeft ? 'right' : 'left';\n  // create viewport & slider\n  this.viewport = document.createElement('div');\n  this.viewport.className = 'flickity-viewport';\n  this._createSlider();\n\n  if ( this.options.resize || this.options.watchCSS ) {\n    window.addEventListener( 'resize', this );\n  }\n\n  // add listeners from on option\n  for ( var eventName in this.options.on ) {\n    var listener = this.options.on[ eventName ];\n    this.on( eventName, listener );\n  }\n\n  Flickity.createMethods.forEach( function( method ) {\n    this[ method ]();\n  }, this );\n\n  if ( this.options.watchCSS ) {\n    this.watchCSS();\n  } else {\n    this.activate();\n  }\n\n};\n\n/**\n * set options\n * @param {Object} opts\n */\nproto.option = function( opts ) {\n  utils.extend( this.options, opts );\n};\n\nproto.activate = function() {\n  if ( this.isActive ) {\n    return;\n  }\n  this.isActive = true;\n  this.element.classList.add('flickity-enabled');\n  if ( this.options.rightToLeft ) {\n    this.element.classList.add('flickity-rtl');\n  }\n\n  this.getSize();\n  // move initial cell elements so they can be loaded as cells\n  var cellElems = this._filterFindCellElements( this.element.children );\n  moveElements( cellElems, this.slider );\n  this.viewport.appendChild( this.slider );\n  this.element.appendChild( this.viewport );\n  // get cells from children\n  this.reloadCells();\n\n  if ( this.options.accessibility ) {\n    // allow element to focusable\n    this.element.tabIndex = 0;\n    // listen for key presses\n    this.element.addEventListener( 'keydown', this );\n  }\n\n  this.emitEvent('activate');\n\n  var index;\n  var initialIndex = this.options.initialIndex;\n  if ( this.isInitActivated ) {\n    index = this.selectedIndex;\n  } else if ( initialIndex !== undefined ) {\n    index = this.cells[ initialIndex ] ? initialIndex : 0;\n  } else {\n    index = 0;\n  }\n  // select instantly\n  this.select( index, false, true );\n  // flag for initial activation, for using initialIndex\n  this.isInitActivated = true;\n  // ready event. #493\n  this.dispatchEvent('ready');\n};\n\n// slider positions the cells\nproto._createSlider = function() {\n  // slider element does all the positioning\n  var slider = document.createElement('div');\n  slider.className = 'flickity-slider';\n  slider.style[ this.originSide ] = 0;\n  this.slider = slider;\n};\n\nproto._filterFindCellElements = function( elems ) {\n  return utils.filterFindElements( elems, this.options.cellSelector );\n};\n\n// goes through all children\nproto.reloadCells = function() {\n  // collection of item elements\n  this.cells = this._makeCells( this.slider.children );\n  this.positionCells();\n  this._getWrapShiftCells();\n  this.setGallerySize();\n};\n\n/**\n * turn elements into Flickity.Cells\n * @param {Array or NodeList or HTMLElement} elems\n * @returns {Array} items - collection of new Flickity Cells\n */\nproto._makeCells = function( elems ) {\n  var cellElems = this._filterFindCellElements( elems );\n\n  // create new Flickity for collection\n  var cells = cellElems.map( function( cellElem ) {\n    return new Cell( cellElem, this );\n  }, this );\n\n  return cells;\n};\n\nproto.getLastCell = function() {\n  return this.cells[ this.cells.length - 1 ];\n};\n\nproto.getLastSlide = function() {\n  return this.slides[ this.slides.length - 1 ];\n};\n\n// positions all cells\nproto.positionCells = function() {\n  // size all cells\n  this._sizeCells( this.cells );\n  // position all cells\n  this._positionCells( 0 );\n};\n\n/**\n * position certain cells\n * @param {Integer} index - which cell to start with\n */\nproto._positionCells = function( index ) {\n  index = index || 0;\n  // also measure maxCellHeight\n  // start 0 if positioning all cells\n  this.maxCellHeight = index ? this.maxCellHeight || 0 : 0;\n  var cellX = 0;\n  // get cellX\n  if ( index > 0 ) {\n    var startCell = this.cells[ index - 1 ];\n    cellX = startCell.x + startCell.size.outerWidth;\n  }\n  var len = this.cells.length;\n  for ( var i=index; i < len; i++ ) {\n    var cell = this.cells[i];\n    cell.setPosition( cellX );\n    cellX += cell.size.outerWidth;\n    this.maxCellHeight = Math.max( cell.size.outerHeight, this.maxCellHeight );\n  }\n  // keep track of cellX for wrap-around\n  this.slideableWidth = cellX;\n  // slides\n  this.updateSlides();\n  // contain slides target\n  this._containSlides();\n  // update slidesWidth\n  this.slidesWidth = len ? this.getLastSlide().target - this.slides[0].target : 0;\n};\n\n/**\n * cell.getSize() on multiple cells\n * @param {Array} cells\n */\nproto._sizeCells = function( cells ) {\n  cells.forEach( function( cell ) {\n    cell.getSize();\n  });\n};\n\n// --------------------------  -------------------------- //\n\nproto.updateSlides = function() {\n  this.slides = [];\n  if ( !this.cells.length ) {\n    return;\n  }\n\n  var slide = new Slide( this );\n  this.slides.push( slide );\n  var isOriginLeft = this.originSide == 'left';\n  var nextMargin = isOriginLeft ? 'marginRight' : 'marginLeft';\n\n  var canCellFit = this._getCanCellFit();\n\n  this.cells.forEach( function( cell, i ) {\n    // just add cell if first cell in slide\n    if ( !slide.cells.length ) {\n      slide.addCell( cell );\n      return;\n    }\n\n    var slideWidth = ( slide.outerWidth - slide.firstMargin ) +\n      ( cell.size.outerWidth - cell.size[ nextMargin ] );\n\n    if ( canCellFit.call( this, i, slideWidth ) ) {\n      slide.addCell( cell );\n    } else {\n      // doesn't fit, new slide\n      slide.updateTarget();\n\n      slide = new Slide( this );\n      this.slides.push( slide );\n      slide.addCell( cell );\n    }\n  }, this );\n  // last slide\n  slide.updateTarget();\n  // update .selectedSlide\n  this.updateSelectedSlide();\n};\n\nproto._getCanCellFit = function() {\n  var groupCells = this.options.groupCells;\n  if ( !groupCells ) {\n    return function() {\n      return false;\n    };\n  } else if ( typeof groupCells == 'number' ) {\n    // group by number. 3 -> [0,1,2], [3,4,5], ...\n    var number = parseInt( groupCells, 10 );\n    return function( i ) {\n      return ( i % number ) !== 0;\n    };\n  }\n  // default, group by width of slide\n  // parse '75%\n  var percentMatch = typeof groupCells == 'string' &&\n    groupCells.match(/^(\\d+)%$/);\n  var percent = percentMatch ? parseInt( percentMatch[1], 10 ) / 100 : 1;\n  return function( i, slideWidth ) {\n    return slideWidth <= ( this.size.innerWidth + 1 ) * percent;\n  };\n};\n\n// alias _init for jQuery plugin .flickity()\nproto._init =\nproto.reposition = function() {\n  this.positionCells();\n  this.positionSliderAtSelected();\n};\n\nproto.getSize = function() {\n  this.size = getSize( this.element );\n  this.setCellAlign();\n  this.cursorPosition = this.size.innerWidth * this.cellAlign;\n};\n\nvar cellAlignShorthands = {\n  // cell align, then based on origin side\n  center: {\n    left: 0.5,\n    right: 0.5\n  },\n  left: {\n    left: 0,\n    right: 1\n  },\n  right: {\n    right: 0,\n    left: 1\n  }\n};\n\nproto.setCellAlign = function() {\n  var shorthand = cellAlignShorthands[ this.options.cellAlign ];\n  this.cellAlign = shorthand ? shorthand[ this.originSide ] : this.options.cellAlign;\n};\n\nproto.setGallerySize = function() {\n  if ( this.options.setGallerySize ) {\n    var height = this.options.adaptiveHeight && this.selectedSlide ?\n      this.selectedSlide.height : this.maxCellHeight;\n    this.viewport.style.height = height + 'px';\n  }\n};\n\nproto._getWrapShiftCells = function() {\n  // only for wrap-around\n  if ( !this.options.wrapAround ) {\n    return;\n  }\n  // unshift previous cells\n  this._unshiftCells( this.beforeShiftCells );\n  this._unshiftCells( this.afterShiftCells );\n  // get before cells\n  // initial gap\n  var gapX = this.cursorPosition;\n  var cellIndex = this.cells.length - 1;\n  this.beforeShiftCells = this._getGapCells( gapX, cellIndex, -1 );\n  // get after cells\n  // ending gap between last cell and end of gallery viewport\n  gapX = this.size.innerWidth - this.cursorPosition;\n  // start cloning at first cell, working forwards\n  this.afterShiftCells = this._getGapCells( gapX, 0, 1 );\n};\n\nproto._getGapCells = function( gapX, cellIndex, increment ) {\n  // keep adding cells until the cover the initial gap\n  var cells = [];\n  while ( gapX > 0 ) {\n    var cell = this.cells[ cellIndex ];\n    if ( !cell ) {\n      break;\n    }\n    cells.push( cell );\n    cellIndex += increment;\n    gapX -= cell.size.outerWidth;\n  }\n  return cells;\n};\n\n// ----- contain ----- //\n\n// contain cell targets so no excess sliding\nproto._containSlides = function() {\n  if ( !this.options.contain || this.options.wrapAround || !this.cells.length ) {\n    return;\n  }\n  var isRightToLeft = this.options.rightToLeft;\n  var beginMargin = isRightToLeft ? 'marginRight' : 'marginLeft';\n  var endMargin = isRightToLeft ? 'marginLeft' : 'marginRight';\n  var contentWidth = this.slideableWidth - this.getLastCell().size[ endMargin ];\n  // content is less than gallery size\n  var isContentSmaller = contentWidth < this.size.innerWidth;\n  // bounds\n  var beginBound = this.cursorPosition + this.cells[0].size[ beginMargin ];\n  var endBound = contentWidth - this.size.innerWidth * ( 1 - this.cellAlign );\n  // contain each cell target\n  this.slides.forEach( function( slide ) {\n    if ( isContentSmaller ) {\n      // all cells fit inside gallery\n      slide.target = contentWidth * this.cellAlign;\n    } else {\n      // contain to bounds\n      slide.target = Math.max( slide.target, beginBound );\n      slide.target = Math.min( slide.target, endBound );\n    }\n  }, this );\n};\n\n// -----  ----- //\n\n/**\n * emits events via eventEmitter and jQuery events\n * @param {String} type - name of event\n * @param {Event} event - original event\n * @param {Array} args - extra arguments\n */\nproto.dispatchEvent = function( type, event, args ) {\n  var emitArgs = event ? [ event ].concat( args ) : args;\n  this.emitEvent( type, emitArgs );\n\n  if ( jQuery && this.$element ) {\n    // default trigger with type if no event\n    type += this.options.namespaceJQueryEvents ? '.flickity' : '';\n    var $event = type;\n    if ( event ) {\n      // create jQuery event\n      var jQEvent = jQuery.Event( event );\n      jQEvent.type = type;\n      $event = jQEvent;\n    }\n    this.$element.trigger( $event, args );\n  }\n};\n\n// -------------------------- select -------------------------- //\n\n/**\n * @param {Integer} index - index of the slide\n * @param {Boolean} isWrap - will wrap-around to last/first if at the end\n * @param {Boolean} isInstant - will immediately set position at selected cell\n */\nproto.select = function( index, isWrap, isInstant ) {\n  if ( !this.isActive ) {\n    return;\n  }\n  index = parseInt( index, 10 );\n  this._wrapSelect( index );\n\n  if ( this.options.wrapAround || isWrap ) {\n    index = utils.modulo( index, this.slides.length );\n  }\n  // bail if invalid index\n  if ( !this.slides[ index ] ) {\n    return;\n  }\n  var prevIndex = this.selectedIndex;\n  this.selectedIndex = index;\n  this.updateSelectedSlide();\n  if ( isInstant ) {\n    this.positionSliderAtSelected();\n  } else {\n    this.startAnimation();\n  }\n  if ( this.options.adaptiveHeight ) {\n    this.setGallerySize();\n  }\n  // events\n  this.dispatchEvent( 'select', null, [ index ] );\n  // change event if new index\n  if ( index != prevIndex ) {\n    this.dispatchEvent( 'change', null, [ index ] );\n  }\n  // old v1 event name, remove in v3\n  this.dispatchEvent('cellSelect');\n};\n\n// wraps position for wrapAround, to move to closest slide. #113\nproto._wrapSelect = function( index ) {\n  var len = this.slides.length;\n  var isWrapping = this.options.wrapAround && len > 1;\n  if ( !isWrapping ) {\n    return index;\n  }\n  var wrapIndex = utils.modulo( index, len );\n  // go to shortest\n  var delta = Math.abs( wrapIndex - this.selectedIndex );\n  var backWrapDelta = Math.abs( ( wrapIndex + len ) - this.selectedIndex );\n  var forewardWrapDelta = Math.abs( ( wrapIndex - len ) - this.selectedIndex );\n  if ( !this.isDragSelect && backWrapDelta < delta ) {\n    index += len;\n  } else if ( !this.isDragSelect && forewardWrapDelta < delta ) {\n    index -= len;\n  }\n  // wrap position so slider is within normal area\n  if ( index < 0 ) {\n    this.x -= this.slideableWidth;\n  } else if ( index >= len ) {\n    this.x += this.slideableWidth;\n  }\n};\n\nproto.previous = function( isWrap, isInstant ) {\n  this.select( this.selectedIndex - 1, isWrap, isInstant );\n};\n\nproto.next = function( isWrap, isInstant ) {\n  this.select( this.selectedIndex + 1, isWrap, isInstant );\n};\n\nproto.updateSelectedSlide = function() {\n  var slide = this.slides[ this.selectedIndex ];\n  // selectedIndex could be outside of slides, if triggered before resize()\n  if ( !slide ) {\n    return;\n  }\n  // unselect previous selected slide\n  this.unselectSelectedSlide();\n  // update new selected slide\n  this.selectedSlide = slide;\n  slide.select();\n  this.selectedCells = slide.cells;\n  this.selectedElements = slide.getCellElements();\n  // HACK: selectedCell & selectedElement is first cell in slide, backwards compatibility\n  // Remove in v3?\n  this.selectedCell = slide.cells[0];\n  this.selectedElement = this.selectedElements[0];\n};\n\nproto.unselectSelectedSlide = function() {\n  if ( this.selectedSlide ) {\n    this.selectedSlide.unselect();\n  }\n};\n\n/**\n * select slide from number or cell element\n * @param {Element or Number} elem\n */\nproto.selectCell = function( value, isWrap, isInstant ) {\n  // get cell\n  var cell = this.queryCell( value );\n  if ( !cell ) {\n    return;\n  }\n\n  var index = this.getCellSlideIndex( cell );\n  this.select( index, isWrap, isInstant );\n};\n\nproto.getCellSlideIndex = function( cell ) {\n  // get index of slides that has cell\n  for ( var i=0; i < this.slides.length; i++ ) {\n    var slide = this.slides[i];\n    var index = slide.cells.indexOf( cell );\n    if ( index != -1 ) {\n      return i;\n    }\n  }\n};\n\n// -------------------------- get cells -------------------------- //\n\n/**\n * get Flickity.Cell, given an Element\n * @param {Element} elem\n * @returns {Flickity.Cell} item\n */\nproto.getCell = function( elem ) {\n  // loop through cells to get the one that matches\n  for ( var i=0; i < this.cells.length; i++ ) {\n    var cell = this.cells[i];\n    if ( cell.element == elem ) {\n      return cell;\n    }\n  }\n};\n\n/**\n * get collection of Flickity.Cells, given Elements\n * @param {Element, Array, NodeList} elems\n * @returns {Array} cells - Flickity.Cells\n */\nproto.getCells = function( elems ) {\n  elems = utils.makeArray( elems );\n  var cells = [];\n  elems.forEach( function( elem ) {\n    var cell = this.getCell( elem );\n    if ( cell ) {\n      cells.push( cell );\n    }\n  }, this );\n  return cells;\n};\n\n/**\n * get cell elements\n * @returns {Array} cellElems\n */\nproto.getCellElements = function() {\n  return this.cells.map( function( cell ) {\n    return cell.element;\n  });\n};\n\n/**\n * get parent cell from an element\n * @param {Element} elem\n * @returns {Flickit.Cell} cell\n */\nproto.getParentCell = function( elem ) {\n  // first check if elem is cell\n  var cell = this.getCell( elem );\n  if ( cell ) {\n    return cell;\n  }\n  // try to get parent cell elem\n  elem = utils.getParent( elem, '.flickity-slider > *' );\n  return this.getCell( elem );\n};\n\n/**\n * get cells adjacent to a slide\n * @param {Integer} adjCount - number of adjacent slides\n * @param {Integer} index - index of slide to start\n * @returns {Array} cells - array of Flickity.Cells\n */\nproto.getAdjacentCellElements = function( adjCount, index ) {\n  if ( !adjCount ) {\n    return this.selectedSlide.getCellElements();\n  }\n  index = index === undefined ? this.selectedIndex : index;\n\n  var len = this.slides.length;\n  if ( 1 + ( adjCount * 2 ) >= len ) {\n    return this.getCellElements();\n  }\n\n  var cellElems = [];\n  for ( var i = index - adjCount; i <= index + adjCount ; i++ ) {\n    var slideIndex = this.options.wrapAround ? utils.modulo( i, len ) : i;\n    var slide = this.slides[ slideIndex ];\n    if ( slide ) {\n      cellElems = cellElems.concat( slide.getCellElements() );\n    }\n  }\n  return cellElems;\n};\n\n/**\n * select slide from number or cell element\n * @param {Element, Selector String, or Number} selector\n */\nproto.queryCell = function( selector ) {\n  if ( typeof selector == 'number' ) {\n    // use number as index\n    return this.cells[ selector ];\n  }\n  if ( typeof selector == 'string' ) {\n    // use string as selector, get element\n    selector = this.element.querySelector( selector );\n  }\n  // get cell from element\n  return this.getCell( selector );\n};\n\n// -------------------------- events -------------------------- //\n\nproto.uiChange = function() {\n  this.emitEvent('uiChange');\n};\n\nproto.childUIPointerDown = function( event ) {\n  this.emitEvent( 'childUIPointerDown', [ event ] );\n};\n\n// ----- resize ----- //\n\nproto.onresize = function() {\n  this.watchCSS();\n  this.resize();\n};\n\nutils.debounceMethod( Flickity, 'onresize', 150 );\n\nproto.resize = function() {\n  if ( !this.isActive ) {\n    return;\n  }\n  this.getSize();\n  // wrap values\n  if ( this.options.wrapAround ) {\n    this.x = utils.modulo( this.x, this.slideableWidth );\n  }\n  this.positionCells();\n  this._getWrapShiftCells();\n  this.setGallerySize();\n  this.emitEvent('resize');\n  // update selected index for group slides, instant\n  // TODO: position can be lost between groups of various numbers\n  var selectedElement = this.selectedElements && this.selectedElements[0];\n  this.selectCell( selectedElement, false, true );\n};\n\n// watches the :after property, activates/deactivates\nproto.watchCSS = function() {\n  var watchOption = this.options.watchCSS;\n  if ( !watchOption ) {\n    return;\n  }\n\n  var afterContent = getComputedStyle( this.element, ':after' ).content;\n  // activate if :after { content: 'flickity' }\n  if ( afterContent.indexOf('flickity') != -1 ) {\n    this.activate();\n  } else {\n    this.deactivate();\n  }\n};\n\n// ----- keydown ----- //\n\n// go previous/next if left/right keys pressed\nproto.onkeydown = function( event ) {\n  // only work if element is in focus\n  var isNotFocused = document.activeElement && document.activeElement != this.element;\n  if ( !this.options.accessibility ||isNotFocused ) {\n    return;\n  }\n\n  var handler = Flickity.keyboardHandlers[ event.keyCode ];\n  if ( handler ) {\n    handler.call( this );\n  }\n};\n\nFlickity.keyboardHandlers = {\n  // left arrow\n  37: function() {\n    var leftMethod = this.options.rightToLeft ? 'next' : 'previous';\n    this.uiChange();\n    this[ leftMethod ]();\n  },\n  // right arrow\n  39: function() {\n    var rightMethod = this.options.rightToLeft ? 'previous' : 'next';\n    this.uiChange();\n    this[ rightMethod ]();\n  },\n};\n\n// ----- focus ----- //\n\nproto.focus = function() {\n  var prevScrollY = window.pageYOffset;\n  this.element.focus();\n  // hack to fix scroll jump after focus, #76\n  if ( window.pageYOffset != prevScrollY ) {\n    window.scrollTo( window.pageXOffset, prevScrollY );\n  }\n};\n\n// -------------------------- destroy -------------------------- //\n\n// deactivate all Flickity functionality, but keep stuff available\nproto.deactivate = function() {\n  if ( !this.isActive ) {\n    return;\n  }\n  this.element.classList.remove('flickity-enabled');\n  this.element.classList.remove('flickity-rtl');\n  this.unselectSelectedSlide();\n  // destroy cells\n  this.cells.forEach( function( cell ) {\n    cell.destroy();\n  });\n  this.element.removeChild( this.viewport );\n  // move child elements back into element\n  moveElements( this.slider.children, this.element );\n  if ( this.options.accessibility ) {\n    this.element.removeAttribute('tabIndex');\n    this.element.removeEventListener( 'keydown', this );\n  }\n  // set flags\n  this.isActive = false;\n  this.emitEvent('deactivate');\n};\n\nproto.destroy = function() {\n  this.deactivate();\n  window.removeEventListener( 'resize', this );\n  this.emitEvent('destroy');\n  if ( jQuery && this.$element ) {\n    jQuery.removeData( this.element, 'flickity' );\n  }\n  delete this.element.flickityGUID;\n  delete instances[ this.guid ];\n};\n\n// -------------------------- prototype -------------------------- //\n\nutils.extend( proto, animatePrototype );\n\n// -------------------------- extras -------------------------- //\n\n/**\n * get Flickity instance from element\n * @param {Element} elem\n * @returns {Flickity}\n */\nFlickity.data = function( elem ) {\n  elem = utils.getQueryElement( elem );\n  var id = elem && elem.flickityGUID;\n  return id && instances[ id ];\n};\n\nutils.htmlInit( Flickity, 'flickity' );\n\nif ( jQuery && jQuery.bridget ) {\n  jQuery.bridget( 'flickity', Flickity );\n}\n\n// set internal jQuery, for Webpack + jQuery v3, #478\nFlickity.setJQuery = function( jq ) {\n  jQuery = jq;\n};\n\nFlickity.Cell = Cell;\n\nreturn Flickity;\n\n}));\n\n/*!\n * Unipointer v2.3.0\n * base class for doing one thing with pointer event\n * MIT license\n */\n\n/*jshint browser: true, undef: true, unused: true, strict: true */\n\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /*global define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'unipointer/unipointer',[\n      'ev-emitter/ev-emitter'\n    ], function( EvEmitter ) {\n      return factory( window, EvEmitter );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('ev-emitter')\n    );\n  } else {\n    // browser global\n    window.Unipointer = factory(\n      window,\n      window.EvEmitter\n    );\n  }\n\n}( window, function factory( window, EvEmitter ) {\n\n\n\nfunction noop() {}\n\nfunction Unipointer() {}\n\n// inherit EvEmitter\nvar proto = Unipointer.prototype = Object.create( EvEmitter.prototype );\n\nproto.bindStartEvent = function( elem ) {\n  this._bindStartEvent( elem, true );\n};\n\nproto.unbindStartEvent = function( elem ) {\n  this._bindStartEvent( elem, false );\n};\n\n/**\n * Add or remove start event\n * @param {Boolean} isAdd - remove if falsey\n */\nproto._bindStartEvent = function( elem, isAdd ) {\n  // munge isAdd, default to true\n  isAdd = isAdd === undefined ? true : isAdd;\n  var bindMethod = isAdd ? 'addEventListener' : 'removeEventListener';\n\n  // default to mouse events\n  var startEvent = 'mousedown';\n  if ( window.PointerEvent ) {\n    // Pointer Events\n    startEvent = 'pointerdown';\n  } else if ( 'ontouchstart' in window ) {\n    // Touch Events. iOS Safari\n    startEvent = 'touchstart';\n  }\n  elem[ bindMethod ]( startEvent, this );\n};\n\n// trigger handler methods for events\nproto.handleEvent = function( event ) {\n  var method = 'on' + event.type;\n  if ( this[ method ] ) {\n    this[ method ]( event );\n  }\n};\n\n// returns the touch that we're keeping track of\nproto.getTouch = function( touches ) {\n  for ( var i=0; i < touches.length; i++ ) {\n    var touch = touches[i];\n    if ( touch.identifier == this.pointerIdentifier ) {\n      return touch;\n    }\n  }\n};\n\n// ----- start event ----- //\n\nproto.onmousedown = function( event ) {\n  // dismiss clicks from right or middle buttons\n  var button = event.button;\n  if ( button && ( button !== 0 && button !== 1 ) ) {\n    return;\n  }\n  this._pointerDown( event, event );\n};\n\nproto.ontouchstart = function( event ) {\n  this._pointerDown( event, event.changedTouches[0] );\n};\n\nproto.onpointerdown = function( event ) {\n  this._pointerDown( event, event );\n};\n\n/**\n * pointer start\n * @param {Event} event\n * @param {Event or Touch} pointer\n */\nproto._pointerDown = function( event, pointer ) {\n  // dismiss right click and other pointers\n  // button = 0 is okay, 1-4 not\n  if ( event.button || this.isPointerDown ) {\n    return;\n  }\n\n  this.isPointerDown = true;\n  // save pointer identifier to match up touch events\n  this.pointerIdentifier = pointer.pointerId !== undefined ?\n    // pointerId for pointer events, touch.indentifier for touch events\n    pointer.pointerId : pointer.identifier;\n\n  this.pointerDown( event, pointer );\n};\n\nproto.pointerDown = function( event, pointer ) {\n  this._bindPostStartEvents( event );\n  this.emitEvent( 'pointerDown', [ event, pointer ] );\n};\n\n// hash of events to be bound after start event\nvar postStartEvents = {\n  mousedown: [ 'mousemove', 'mouseup' ],\n  touchstart: [ 'touchmove', 'touchend', 'touchcancel' ],\n  pointerdown: [ 'pointermove', 'pointerup', 'pointercancel' ],\n};\n\nproto._bindPostStartEvents = function( event ) {\n  if ( !event ) {\n    return;\n  }\n  // get proper events to match start event\n  var events = postStartEvents[ event.type ];\n  // bind events to node\n  events.forEach( function( eventName ) {\n    window.addEventListener( eventName, this );\n  }, this );\n  // save these arguments\n  this._boundPointerEvents = events;\n};\n\nproto._unbindPostStartEvents = function() {\n  // check for _boundEvents, in case dragEnd triggered twice (old IE8 bug)\n  if ( !this._boundPointerEvents ) {\n    return;\n  }\n  this._boundPointerEvents.forEach( function( eventName ) {\n    window.removeEventListener( eventName, this );\n  }, this );\n\n  delete this._boundPointerEvents;\n};\n\n// ----- move event ----- //\n\nproto.onmousemove = function( event ) {\n  this._pointerMove( event, event );\n};\n\nproto.onpointermove = function( event ) {\n  if ( event.pointerId == this.pointerIdentifier ) {\n    this._pointerMove( event, event );\n  }\n};\n\nproto.ontouchmove = function( event ) {\n  var touch = this.getTouch( event.changedTouches );\n  if ( touch ) {\n    this._pointerMove( event, touch );\n  }\n};\n\n/**\n * pointer move\n * @param {Event} event\n * @param {Event or Touch} pointer\n * @private\n */\nproto._pointerMove = function( event, pointer ) {\n  this.pointerMove( event, pointer );\n};\n\n// public\nproto.pointerMove = function( event, pointer ) {\n  this.emitEvent( 'pointerMove', [ event, pointer ] );\n};\n\n// ----- end event ----- //\n\n\nproto.onmouseup = function( event ) {\n  this._pointerUp( event, event );\n};\n\nproto.onpointerup = function( event ) {\n  if ( event.pointerId == this.pointerIdentifier ) {\n    this._pointerUp( event, event );\n  }\n};\n\nproto.ontouchend = function( event ) {\n  var touch = this.getTouch( event.changedTouches );\n  if ( touch ) {\n    this._pointerUp( event, touch );\n  }\n};\n\n/**\n * pointer up\n * @param {Event} event\n * @param {Event or Touch} pointer\n * @private\n */\nproto._pointerUp = function( event, pointer ) {\n  this._pointerDone();\n  this.pointerUp( event, pointer );\n};\n\n// public\nproto.pointerUp = function( event, pointer ) {\n  this.emitEvent( 'pointerUp', [ event, pointer ] );\n};\n\n// ----- pointer done ----- //\n\n// triggered on pointer up & pointer cancel\nproto._pointerDone = function() {\n  this._pointerReset();\n  this._unbindPostStartEvents();\n  this.pointerDone();\n};\n\nproto._pointerReset = function() {\n  // reset properties\n  this.isPointerDown = false;\n  delete this.pointerIdentifier;\n};\n\nproto.pointerDone = noop;\n\n// ----- pointer cancel ----- //\n\nproto.onpointercancel = function( event ) {\n  if ( event.pointerId == this.pointerIdentifier ) {\n    this._pointerCancel( event, event );\n  }\n};\n\nproto.ontouchcancel = function( event ) {\n  var touch = this.getTouch( event.changedTouches );\n  if ( touch ) {\n    this._pointerCancel( event, touch );\n  }\n};\n\n/**\n * pointer cancel\n * @param {Event} event\n * @param {Event or Touch} pointer\n * @private\n */\nproto._pointerCancel = function( event, pointer ) {\n  this._pointerDone();\n  this.pointerCancel( event, pointer );\n};\n\n// public\nproto.pointerCancel = function( event, pointer ) {\n  this.emitEvent( 'pointerCancel', [ event, pointer ] );\n};\n\n// -----  ----- //\n\n// utility function for getting x/y coords from event\nUnipointer.getPointerPoint = function( pointer ) {\n  return {\n    x: pointer.pageX,\n    y: pointer.pageY\n  };\n};\n\n// -----  ----- //\n\nreturn Unipointer;\n\n}));\n\n/*!\n * Unidragger v2.3.0\n * Draggable base class\n * MIT license\n */\n\n/*jshint browser: true, unused: true, undef: true, strict: true */\n\n( function( window, factory ) {\n  // universal module definition\n  /*jshint strict: false */ /*globals define, module, require */\n\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'unidragger/unidragger',[\n      'unipointer/unipointer'\n    ], function( Unipointer ) {\n      return factory( window, Unipointer );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('unipointer')\n    );\n  } else {\n    // browser global\n    window.Unidragger = factory(\n      window,\n      window.Unipointer\n    );\n  }\n\n}( window, function factory( window, Unipointer ) {\n\n\n\n// -------------------------- Unidragger -------------------------- //\n\nfunction Unidragger() {}\n\n// inherit Unipointer & EvEmitter\nvar proto = Unidragger.prototype = Object.create( Unipointer.prototype );\n\n// ----- bind start ----- //\n\nproto.bindHandles = function() {\n  this._bindHandles( true );\n};\n\nproto.unbindHandles = function() {\n  this._bindHandles( false );\n};\n\n/**\n * Add or remove start event\n * @param {Boolean} isAdd\n */\nproto._bindHandles = function( isAdd ) {\n  // munge isAdd, default to true\n  isAdd = isAdd === undefined ? true : isAdd;\n  // bind each handle\n  var bindMethod = isAdd ? 'addEventListener' : 'removeEventListener';\n  var touchAction = isAdd ? this._touchActionValue : '';\n  for ( var i=0; i < this.handles.length; i++ ) {\n    var handle = this.handles[i];\n    this._bindStartEvent( handle, isAdd );\n    handle[ bindMethod ]( 'click', this );\n    // touch-action: none to override browser touch gestures. metafizzy/flickity#540\n    if ( window.PointerEvent ) {\n      handle.style.touchAction = touchAction;\n    }\n  }\n};\n\n// prototype so it can be overwriteable by Flickity\nproto._touchActionValue = 'none';\n\n// ----- start event ----- //\n\n/**\n * pointer start\n * @param {Event} event\n * @param {Event or Touch} pointer\n */\nproto.pointerDown = function( event, pointer ) {\n  var isOkay = this.okayPointerDown( event );\n  if ( !isOkay ) {\n    return;\n  }\n  // track start event position\n  this.pointerDownPointer = pointer;\n\n  event.preventDefault();\n  this.pointerDownBlur();\n  // bind move and end events\n  this._bindPostStartEvents( event );\n  this.emitEvent( 'pointerDown', [ event, pointer ] );\n};\n\n// nodes that have text fields\nvar cursorNodes = {\n  TEXTAREA: true,\n  INPUT: true,\n  SELECT: true,\n  OPTION: true,\n};\n\n// input types that do not have text fields\nvar clickTypes = {\n  radio: true,\n  checkbox: true,\n  button: true,\n  submit: true,\n  image: true,\n  file: true,\n};\n\n// dismiss inputs with text fields. flickity#403, flickity#404\nproto.okayPointerDown = function( event ) {\n  var isCursorNode = cursorNodes[ event.target.nodeName ];\n  var isClickType = clickTypes[ event.target.type ];\n  var isOkay = !isCursorNode || isClickType;\n  if ( !isOkay ) {\n    this._pointerReset();\n  }\n  return isOkay;\n};\n\n// kludge to blur previously focused input\nproto.pointerDownBlur = function() {\n  var focused = document.activeElement;\n  // do not blur body for IE10, metafizzy/flickity#117\n  var canBlur = focused && focused.blur && focused != document.body;\n  if ( canBlur ) {\n    focused.blur();\n  }\n};\n\n// ----- move event ----- //\n\n/**\n * drag move\n * @param {Event} event\n * @param {Event or Touch} pointer\n */\nproto.pointerMove = function( event, pointer ) {\n  var moveVector = this._dragPointerMove( event, pointer );\n  this.emitEvent( 'pointerMove', [ event, pointer, moveVector ] );\n  this._dragMove( event, pointer, moveVector );\n};\n\n// base pointer move logic\nproto._dragPointerMove = function( event, pointer ) {\n  var moveVector = {\n    x: pointer.pageX - this.pointerDownPointer.pageX,\n    y: pointer.pageY - this.pointerDownPointer.pageY\n  };\n  // start drag if pointer has moved far enough to start drag\n  if ( !this.isDragging && this.hasDragStarted( moveVector ) ) {\n    this._dragStart( event, pointer );\n  }\n  return moveVector;\n};\n\n// condition if pointer has moved far enough to start drag\nproto.hasDragStarted = function( moveVector ) {\n  return Math.abs( moveVector.x ) > 3 || Math.abs( moveVector.y ) > 3;\n};\n\n// ----- end event ----- //\n\n/**\n * pointer up\n * @param {Event} event\n * @param {Event or Touch} pointer\n */\nproto.pointerUp = function( event, pointer ) {\n  this.emitEvent( 'pointerUp', [ event, pointer ] );\n  this._dragPointerUp( event, pointer );\n};\n\nproto._dragPointerUp = function( event, pointer ) {\n  if ( this.isDragging ) {\n    this._dragEnd( event, pointer );\n  } else {\n    // pointer didn't move enough for drag to start\n    this._staticClick( event, pointer );\n  }\n};\n\n// -------------------------- drag -------------------------- //\n\n// dragStart\nproto._dragStart = function( event, pointer ) {\n  this.isDragging = true;\n  // prevent clicks\n  this.isPreventingClicks = true;\n  this.dragStart( event, pointer );\n};\n\nproto.dragStart = function( event, pointer ) {\n  this.emitEvent( 'dragStart', [ event, pointer ] );\n};\n\n// dragMove\nproto._dragMove = function( event, pointer, moveVector ) {\n  // do not drag if not dragging yet\n  if ( !this.isDragging ) {\n    return;\n  }\n\n  this.dragMove( event, pointer, moveVector );\n};\n\nproto.dragMove = function( event, pointer, moveVector ) {\n  event.preventDefault();\n  this.emitEvent( 'dragMove', [ event, pointer, moveVector ] );\n};\n\n// dragEnd\nproto._dragEnd = function( event, pointer ) {\n  // set flags\n  this.isDragging = false;\n  // re-enable clicking async\n  setTimeout( function() {\n    delete this.isPreventingClicks;\n  }.bind( this ) );\n\n  this.dragEnd( event, pointer );\n};\n\nproto.dragEnd = function( event, pointer ) {\n  this.emitEvent( 'dragEnd', [ event, pointer ] );\n};\n\n// ----- onclick ----- //\n\n// handle all clicks and prevent clicks when dragging\nproto.onclick = function( event ) {\n  if ( this.isPreventingClicks ) {\n    event.preventDefault();\n  }\n};\n\n// ----- staticClick ----- //\n\n// triggered after pointer down & up with no/tiny movement\nproto._staticClick = function( event, pointer ) {\n  // ignore emulated mouse up clicks\n  if ( this.isIgnoringMouseUp && event.type == 'mouseup' ) {\n    return;\n  }\n\n  this.staticClick( event, pointer );\n\n  // set flag for emulated clicks 300ms after touchend\n  if ( event.type != 'mouseup' ) {\n    this.isIgnoringMouseUp = true;\n    // reset flag after 300ms\n    setTimeout( function() {\n      delete this.isIgnoringMouseUp;\n    }.bind( this ), 400 );\n  }\n};\n\nproto.staticClick = function( event, pointer ) {\n  this.emitEvent( 'staticClick', [ event, pointer ] );\n};\n\n// ----- utils ----- //\n\nUnidragger.getPointerPoint = Unipointer.getPointerPoint;\n\n// -----  ----- //\n\nreturn Unidragger;\n\n}));\n\n// drag\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'flickity/js/drag',[\n      './flickity',\n      'unidragger/unidragger',\n      'fizzy-ui-utils/utils'\n    ], function( Flickity, Unidragger, utils ) {\n      return factory( window, Flickity, Unidragger, utils );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('./flickity'),\n      require('unidragger'),\n      require('fizzy-ui-utils')\n    );\n  } else {\n    // browser global\n    window.Flickity = factory(\n      window,\n      window.Flickity,\n      window.Unidragger,\n      window.fizzyUIUtils\n    );\n  }\n\n}( window, function factory( window, Flickity, Unidragger, utils ) {\n\n\n\n// ----- defaults ----- //\n\nutils.extend( Flickity.defaults, {\n  draggable: '>1',\n  dragThreshold: 3,\n});\n\n// ----- create ----- //\n\nFlickity.createMethods.push('_createDrag');\n\n// -------------------------- drag prototype -------------------------- //\n\nvar proto = Flickity.prototype;\nutils.extend( proto, Unidragger.prototype );\nproto._touchActionValue = 'pan-y';\n\n// --------------------------  -------------------------- //\n\nvar isTouch = 'createTouch' in document;\nvar isTouchmoveScrollCanceled = false;\n\nproto._createDrag = function() {\n  this.on( 'activate', this.onActivateDrag );\n  this.on( 'uiChange', this._uiChangeDrag );\n  this.on( 'childUIPointerDown', this._childUIPointerDownDrag );\n  this.on( 'deactivate', this.unbindDrag );\n  this.on( 'cellChange', this.updateDraggable );\n  // TODO updateDraggable on resize? if groupCells & slides change\n  // HACK - add seemingly innocuous handler to fix iOS 10 scroll behavior\n  // #457, RubaXa/Sortable#973\n  if ( isTouch && !isTouchmoveScrollCanceled ) {\n    window.addEventListener( 'touchmove', function() {});\n    isTouchmoveScrollCanceled = true;\n  }\n};\n\nproto.onActivateDrag = function() {\n  this.handles = [ this.viewport ];\n  this.bindHandles();\n  this.updateDraggable();\n};\n\nproto.onDeactivateDrag = function() {\n  this.unbindHandles();\n  this.element.classList.remove('is-draggable');\n};\n\nproto.updateDraggable = function() {\n  // disable dragging if less than 2 slides. #278\n  if ( this.options.draggable == '>1' ) {\n    this.isDraggable = this.slides.length > 1;\n  } else {\n    this.isDraggable = this.options.draggable;\n  }\n  if ( this.isDraggable ) {\n    this.element.classList.add('is-draggable');\n  } else {\n    this.element.classList.remove('is-draggable');\n  }\n};\n\n// backwards compatibility\nproto.bindDrag = function() {\n  this.options.draggable = true;\n  this.updateDraggable();\n};\n\nproto.unbindDrag = function() {\n  this.options.draggable = false;\n  this.updateDraggable();\n};\n\nproto._uiChangeDrag = function() {\n  delete this.isFreeScrolling;\n};\n\nproto._childUIPointerDownDrag = function( event ) {\n  // allow focus & preventDefault even when not draggable\n  // so child UI elements keep focus on carousel. #721\n  event.preventDefault();\n  this.pointerDownFocus( event );\n};\n\n// -------------------------- pointer events -------------------------- //\n\nproto.pointerDown = function( event, pointer ) {\n  if ( !this.isDraggable ) {\n    this._pointerDownDefault( event, pointer );\n    return;\n  }\n  var isOkay = this.okayPointerDown( event );\n  if ( !isOkay ) {\n    return;\n  }\n\n  this._pointerDownPreventDefault( event );\n  this.pointerDownFocus( event );\n  // blur\n  if ( document.activeElement != this.element ) {\n    // do not blur if already focused\n    this.pointerDownBlur();\n  }\n\n  // stop if it was moving\n  this.dragX = this.x;\n  this.viewport.classList.add('is-pointer-down');\n  // track scrolling\n  this.pointerDownScroll = getScrollPosition();\n  window.addEventListener( 'scroll', this );\n\n  this._pointerDownDefault( event, pointer );\n};\n\n// default pointerDown logic, used for staticClick\nproto._pointerDownDefault = function( event, pointer ) {\n  // track start event position\n  this.pointerDownPointer = pointer;\n  // bind move and end events\n  this._bindPostStartEvents( event );\n  this.dispatchEvent( 'pointerDown', event, [ pointer ] );\n};\n\nvar focusNodes = {\n  INPUT: true,\n  TEXTAREA: true,\n  SELECT: true,\n};\n\nproto.pointerDownFocus = function( event ) {\n  var isFocusNode = focusNodes[ event.target.nodeName ];\n  if ( !isFocusNode ) {\n    this.focus();\n  }\n};\n\nproto._pointerDownPreventDefault = function( event ) {\n  var isTouchStart = event.type == 'touchstart';\n  var isTouchPointer = event.pointerType == 'touch';\n  var isFocusNode = focusNodes[ event.target.nodeName ];\n  if ( !isTouchStart && !isTouchPointer && !isFocusNode ) {\n    event.preventDefault();\n  }\n};\n\n// ----- move ----- //\n\nproto.hasDragStarted = function( moveVector ) {\n  return Math.abs( moveVector.x ) > this.options.dragThreshold;\n};\n\n// ----- up ----- //\n\nproto.pointerUp = function( event, pointer ) {\n  delete this.isTouchScrolling;\n  this.viewport.classList.remove('is-pointer-down');\n  this.dispatchEvent( 'pointerUp', event, [ pointer ] );\n  this._dragPointerUp( event, pointer );\n};\n\nproto.pointerDone = function() {\n  window.removeEventListener( 'scroll', this );\n  delete this.pointerDownScroll;\n};\n\n// -------------------------- dragging -------------------------- //\n\nproto.dragStart = function( event, pointer ) {\n  if ( !this.isDraggable ) {\n    return;\n  }\n  this.dragStartPosition = this.x;\n  this.startAnimation();\n  window.removeEventListener( 'scroll', this );\n  this.dispatchEvent( 'dragStart', event, [ pointer ] );\n};\n\nproto.pointerMove = function( event, pointer ) {\n  var moveVector = this._dragPointerMove( event, pointer );\n  this.dispatchEvent( 'pointerMove', event, [ pointer, moveVector ] );\n  this._dragMove( event, pointer, moveVector );\n};\n\nproto.dragMove = function( event, pointer, moveVector ) {\n  if ( !this.isDraggable ) {\n    return;\n  }\n  event.preventDefault();\n\n  this.previousDragX = this.dragX;\n  // reverse if right-to-left\n  var direction = this.options.rightToLeft ? -1 : 1;\n  if ( this.options.wrapAround ) {\n    // wrap around move. #589\n    moveVector.x = moveVector.x % this.slideableWidth;\n  }\n  var dragX = this.dragStartPosition + moveVector.x * direction;\n\n  if ( !this.options.wrapAround && this.slides.length ) {\n    // slow drag\n    var originBound = Math.max( -this.slides[0].target, this.dragStartPosition );\n    dragX = dragX > originBound ? ( dragX + originBound ) * 0.5 : dragX;\n    var endBound = Math.min( -this.getLastSlide().target, this.dragStartPosition );\n    dragX = dragX < endBound ? ( dragX + endBound ) * 0.5 : dragX;\n  }\n\n  this.dragX = dragX;\n\n  this.dragMoveTime = new Date();\n  this.dispatchEvent( 'dragMove', event, [ pointer, moveVector ] );\n};\n\nproto.dragEnd = function( event, pointer ) {\n  if ( !this.isDraggable ) {\n    return;\n  }\n  if ( this.options.freeScroll ) {\n    this.isFreeScrolling = true;\n  }\n  // set selectedIndex based on where flick will end up\n  var index = this.dragEndRestingSelect();\n\n  if ( this.options.freeScroll && !this.options.wrapAround ) {\n    // if free-scroll & not wrap around\n    // do not free-scroll if going outside of bounding slides\n    // so bounding slides can attract slider, and keep it in bounds\n    var restingX = this.getRestingPosition();\n    this.isFreeScrolling = -restingX > this.slides[0].target &&\n      -restingX < this.getLastSlide().target;\n  } else if ( !this.options.freeScroll && index == this.selectedIndex ) {\n    // boost selection if selected index has not changed\n    index += this.dragEndBoostSelect();\n  }\n  delete this.previousDragX;\n  // apply selection\n  // TODO refactor this, selecting here feels weird\n  // HACK, set flag so dragging stays in correct direction\n  this.isDragSelect = this.options.wrapAround;\n  this.select( index );\n  delete this.isDragSelect;\n  this.dispatchEvent( 'dragEnd', event, [ pointer ] );\n};\n\nproto.dragEndRestingSelect = function() {\n  var restingX = this.getRestingPosition();\n  // how far away from selected slide\n  var distance = Math.abs( this.getSlideDistance( -restingX, this.selectedIndex ) );\n  // get closet resting going up and going down\n  var positiveResting = this._getClosestResting( restingX, distance, 1 );\n  var negativeResting = this._getClosestResting( restingX, distance, -1 );\n  // use closer resting for wrap-around\n  var index = positiveResting.distance < negativeResting.distance ?\n    positiveResting.index : negativeResting.index;\n  return index;\n};\n\n/**\n * given resting X and distance to selected cell\n * get the distance and index of the closest cell\n * @param {Number} restingX - estimated post-flick resting position\n * @param {Number} distance - distance to selected cell\n * @param {Integer} increment - +1 or -1, going up or down\n * @returns {Object} - { distance: {Number}, index: {Integer} }\n */\nproto._getClosestResting = function( restingX, distance, increment ) {\n  var index = this.selectedIndex;\n  var minDistance = Infinity;\n  var condition = this.options.contain && !this.options.wrapAround ?\n    // if contain, keep going if distance is equal to minDistance\n    function( d, md ) { return d <= md; } : function( d, md ) { return d < md; };\n  while ( condition( distance, minDistance ) ) {\n    // measure distance to next cell\n    index += increment;\n    minDistance = distance;\n    distance = this.getSlideDistance( -restingX, index );\n    if ( distance === null ) {\n      break;\n    }\n    distance = Math.abs( distance );\n  }\n  return {\n    distance: minDistance,\n    // selected was previous index\n    index: index - increment\n  };\n};\n\n/**\n * measure distance between x and a slide target\n * @param {Number} x\n * @param {Integer} index - slide index\n */\nproto.getSlideDistance = function( x, index ) {\n  var len = this.slides.length;\n  // wrap around if at least 2 slides\n  var isWrapAround = this.options.wrapAround && len > 1;\n  var slideIndex = isWrapAround ? utils.modulo( index, len ) : index;\n  var slide = this.slides[ slideIndex ];\n  if ( !slide ) {\n    return null;\n  }\n  // add distance for wrap-around slides\n  var wrap = isWrapAround ? this.slideableWidth * Math.floor( index / len ) : 0;\n  return x - ( slide.target + wrap );\n};\n\nproto.dragEndBoostSelect = function() {\n  // do not boost if no previousDragX or dragMoveTime\n  if ( this.previousDragX === undefined || !this.dragMoveTime ||\n    // or if drag was held for 100 ms\n    new Date() - this.dragMoveTime > 100 ) {\n    return 0;\n  }\n\n  var distance = this.getSlideDistance( -this.dragX, this.selectedIndex );\n  var delta = this.previousDragX - this.dragX;\n  if ( distance > 0 && delta > 0 ) {\n    // boost to next if moving towards the right, and positive velocity\n    return 1;\n  } else if ( distance < 0 && delta < 0 ) {\n    // boost to previous if moving towards the left, and negative velocity\n    return -1;\n  }\n  return 0;\n};\n\n// ----- staticClick ----- //\n\nproto.staticClick = function( event, pointer ) {\n  // get clickedCell, if cell was clicked\n  var clickedCell = this.getParentCell( event.target );\n  var cellElem = clickedCell && clickedCell.element;\n  var cellIndex = clickedCell && this.cells.indexOf( clickedCell );\n  this.dispatchEvent( 'staticClick', event, [ pointer, cellElem, cellIndex ] );\n};\n\n// ----- scroll ----- //\n\nproto.onscroll = function() {\n  var scroll = getScrollPosition();\n  var scrollMoveX = this.pointerDownScroll.x - scroll.x;\n  var scrollMoveY = this.pointerDownScroll.y - scroll.y;\n  // cancel click/tap if scroll is too much\n  if ( Math.abs( scrollMoveX ) > 3 || Math.abs( scrollMoveY ) > 3 ) {\n    this._pointerDone();\n  }\n};\n\n// ----- utils ----- //\n\nfunction getScrollPosition() {\n  return {\n    x: window.pageXOffset,\n    y: window.pageYOffset\n  };\n}\n\n// -----  ----- //\n\nreturn Flickity;\n\n}));\n\n/*!\n * Tap listener v2.0.0\n * listens to taps\n * MIT license\n */\n\n/*jshint browser: true, unused: true, undef: true, strict: true */\n\n( function( window, factory ) {\n  // universal module definition\n  /*jshint strict: false*/ /*globals define, module, require */\n\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'tap-listener/tap-listener',[\n      'unipointer/unipointer'\n    ], function( Unipointer ) {\n      return factory( window, Unipointer );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('unipointer')\n    );\n  } else {\n    // browser global\n    window.TapListener = factory(\n      window,\n      window.Unipointer\n    );\n  }\n\n}( window, function factory( window, Unipointer ) {\n\n\n\n// --------------------------  TapListener -------------------------- //\n\nfunction TapListener( elem ) {\n  this.bindTap( elem );\n}\n\n// inherit Unipointer & EventEmitter\nvar proto = TapListener.prototype = Object.create( Unipointer.prototype );\n\n/**\n * bind tap event to element\n * @param {Element} elem\n */\nproto.bindTap = function( elem ) {\n  if ( !elem ) {\n    return;\n  }\n  this.unbindTap();\n  this.tapElement = elem;\n  this._bindStartEvent( elem, true );\n};\n\nproto.unbindTap = function() {\n  if ( !this.tapElement ) {\n    return;\n  }\n  this._bindStartEvent( this.tapElement, true );\n  delete this.tapElement;\n};\n\n/**\n * pointer up\n * @param {Event} event\n * @param {Event or Touch} pointer\n */\nproto.pointerUp = function( event, pointer ) {\n  // ignore emulated mouse up clicks\n  if ( this.isIgnoringMouseUp && event.type == 'mouseup' ) {\n    return;\n  }\n\n  var pointerPoint = Unipointer.getPointerPoint( pointer );\n  var boundingRect = this.tapElement.getBoundingClientRect();\n  var scrollX = window.pageXOffset;\n  var scrollY = window.pageYOffset;\n  // calculate if pointer is inside tapElement\n  var isInside = pointerPoint.x >= boundingRect.left + scrollX &&\n    pointerPoint.x <= boundingRect.right + scrollX &&\n    pointerPoint.y >= boundingRect.top + scrollY &&\n    pointerPoint.y <= boundingRect.bottom + scrollY;\n  // trigger callback if pointer is inside element\n  if ( isInside ) {\n    this.emitEvent( 'tap', [ event, pointer ] );\n  }\n\n  // set flag for emulated clicks 300ms after touchend\n  if ( event.type != 'mouseup' ) {\n    this.isIgnoringMouseUp = true;\n    // reset flag after 300ms\n    var _this = this;\n    setTimeout( function() {\n      delete _this.isIgnoringMouseUp;\n    }, 400 );\n  }\n};\n\nproto.destroy = function() {\n  this.pointerDone();\n  this.unbindTap();\n};\n\n// -----  ----- //\n\nreturn TapListener;\n\n}));\n\n// prev/next buttons\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'flickity/js/prev-next-button',[\n      './flickity',\n      'tap-listener/tap-listener',\n      'fizzy-ui-utils/utils'\n    ], function( Flickity, TapListener, utils ) {\n      return factory( window, Flickity, TapListener, utils );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('./flickity'),\n      require('tap-listener'),\n      require('fizzy-ui-utils')\n    );\n  } else {\n    // browser global\n    factory(\n      window,\n      window.Flickity,\n      window.TapListener,\n      window.fizzyUIUtils\n    );\n  }\n\n}( window, function factory( window, Flickity, TapListener, utils ) {\n'use strict';\n\nvar svgURI = 'http://www.w3.org/2000/svg';\n\n// -------------------------- PrevNextButton -------------------------- //\n\nfunction PrevNextButton( direction, parent ) {\n  this.direction = direction;\n  this.parent = parent;\n  this._create();\n}\n\nPrevNextButton.prototype = Object.create( TapListener.prototype );\n\nPrevNextButton.prototype._create = function() {\n  // properties\n  this.isEnabled = true;\n  this.isPrevious = this.direction == -1;\n  var leftDirection = this.parent.options.rightToLeft ? 1 : -1;\n  this.isLeft = this.direction == leftDirection;\n\n  var element = this.element = document.createElement('button');\n  element.className = 'flickity-button flickity-prev-next-button';\n  element.className += this.isPrevious ? ' previous' : ' next';\n  // prevent button from submitting form http://stackoverflow.com/a/10836076/182183\n  element.setAttribute( 'type', 'button' );\n  // init as disabled\n  this.disable();\n\n  element.setAttribute( 'aria-label', this.isPrevious ? 'Previous' : 'Next' );\n\n  // create arrow\n  var svg = this.createSVG();\n  element.appendChild( svg );\n  // events\n  this.on( 'tap', this.onTap );\n  this.parent.on( 'select', this.update.bind( this ) );\n  this.on( 'pointerDown', this.parent.childUIPointerDown.bind( this.parent ) );\n};\n\nPrevNextButton.prototype.activate = function() {\n  this.bindTap( this.element );\n  // click events from keyboard\n  this.element.addEventListener( 'click', this );\n  // add to DOM\n  this.parent.element.appendChild( this.element );\n};\n\nPrevNextButton.prototype.deactivate = function() {\n  // remove from DOM\n  this.parent.element.removeChild( this.element );\n  // do regular TapListener destroy\n  TapListener.prototype.destroy.call( this );\n  // click events from keyboard\n  this.element.removeEventListener( 'click', this );\n};\n\nPrevNextButton.prototype.createSVG = function() {\n  var svg = document.createElementNS( svgURI, 'svg');\n  svg.setAttribute( 'class', 'flickity-button-icon' );\n  svg.setAttribute( 'viewBox', '0 0 100 100' );\n  var path = document.createElementNS( svgURI, 'path');\n  var pathMovements = getArrowMovements( this.parent.options.arrowShape );\n  path.setAttribute( 'd', pathMovements );\n  path.setAttribute( 'class', 'arrow' );\n  // rotate arrow\n  if ( !this.isLeft ) {\n    path.setAttribute( 'transform', 'translate(100, 100) rotate(180) ' );\n  }\n  svg.appendChild( path );\n  return svg;\n};\n\n// get SVG path movmement\nfunction getArrowMovements( shape ) {\n  // use shape as movement if string\n  if ( typeof shape == 'string' ) {\n    return shape;\n  }\n  // create movement string\n  return 'M ' + shape.x0 + ',50' +\n    ' L ' + shape.x1 + ',' + ( shape.y1 + 50 ) +\n    ' L ' + shape.x2 + ',' + ( shape.y2 + 50 ) +\n    ' L ' + shape.x3 + ',50 ' +\n    ' L ' + shape.x2 + ',' + ( 50 - shape.y2 ) +\n    ' L ' + shape.x1 + ',' + ( 50 - shape.y1 ) +\n    ' Z';\n}\n\nPrevNextButton.prototype.onTap = function() {\n  if ( !this.isEnabled ) {\n    return;\n  }\n  this.parent.uiChange();\n  var method = this.isPrevious ? 'previous' : 'next';\n  this.parent[ method ]();\n};\n\nPrevNextButton.prototype.handleEvent = utils.handleEvent;\n\nPrevNextButton.prototype.onclick = function( event ) {\n  // only allow clicks from keyboard\n  var focused = document.activeElement;\n  if ( focused && focused == this.element ) {\n    this.onTap( event, event );\n  }\n};\n\n// -----  ----- //\n\nPrevNextButton.prototype.enable = function() {\n  if ( this.isEnabled ) {\n    return;\n  }\n  this.element.disabled = false;\n  this.isEnabled = true;\n};\n\nPrevNextButton.prototype.disable = function() {\n  if ( !this.isEnabled ) {\n    return;\n  }\n  this.element.disabled = true;\n  this.isEnabled = false;\n};\n\nPrevNextButton.prototype.update = function() {\n  // index of first or last slide, if previous or next\n  var slides = this.parent.slides;\n  // enable is wrapAround and at least 2 slides\n  if ( this.parent.options.wrapAround && slides.length > 1 ) {\n    this.enable();\n    return;\n  }\n  var lastIndex = slides.length ? slides.length - 1 : 0;\n  var boundIndex = this.isPrevious ? 0 : lastIndex;\n  var method = this.parent.selectedIndex == boundIndex ? 'disable' : 'enable';\n  this[ method ]();\n};\n\nPrevNextButton.prototype.destroy = function() {\n  this.deactivate();\n};\n\n// -------------------------- Flickity prototype -------------------------- //\n\nutils.extend( Flickity.defaults, {\n  prevNextButtons: true,\n  arrowShape: {\n    x0: 10,\n    x1: 60, y1: 50,\n    x2: 70, y2: 40,\n    x3: 30\n  }\n});\n\nFlickity.createMethods.push('_createPrevNextButtons');\nvar proto = Flickity.prototype;\n\nproto._createPrevNextButtons = function() {\n  if ( !this.options.prevNextButtons ) {\n    return;\n  }\n\n  this.prevButton = new PrevNextButton( -1, this );\n  this.nextButton = new PrevNextButton( 1, this );\n\n  this.on( 'activate', this.activatePrevNextButtons );\n};\n\nproto.activatePrevNextButtons = function() {\n  this.prevButton.activate();\n  this.nextButton.activate();\n  this.on( 'deactivate', this.deactivatePrevNextButtons );\n};\n\nproto.deactivatePrevNextButtons = function() {\n  this.prevButton.deactivate();\n  this.nextButton.deactivate();\n  this.off( 'deactivate', this.deactivatePrevNextButtons );\n};\n\n// --------------------------  -------------------------- //\n\nFlickity.PrevNextButton = PrevNextButton;\n\nreturn Flickity;\n\n}));\n\n// page dots\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'flickity/js/page-dots',[\n      './flickity',\n      'tap-listener/tap-listener',\n      'fizzy-ui-utils/utils'\n    ], function( Flickity, TapListener, utils ) {\n      return factory( window, Flickity, TapListener, utils );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('./flickity'),\n      require('tap-listener'),\n      require('fizzy-ui-utils')\n    );\n  } else {\n    // browser global\n    factory(\n      window,\n      window.Flickity,\n      window.TapListener,\n      window.fizzyUIUtils\n    );\n  }\n\n}( window, function factory( window, Flickity, TapListener, utils ) {\n\n// -------------------------- PageDots -------------------------- //\n\n\n\nfunction PageDots( parent ) {\n  this.parent = parent;\n  this._create();\n}\n\nPageDots.prototype = new TapListener();\n\nPageDots.prototype._create = function() {\n  // create holder element\n  this.holder = document.createElement('ol');\n  this.holder.className = 'flickity-page-dots';\n  // create dots, array of elements\n  this.dots = [];\n  // events\n  this.on( 'tap', this.onTap );\n  this.on( 'pointerDown', this.parent.childUIPointerDown.bind( this.parent ) );\n};\n\nPageDots.prototype.activate = function() {\n  this.setDots();\n  this.bindTap( this.holder );\n  // add to DOM\n  this.parent.element.appendChild( this.holder );\n};\n\nPageDots.prototype.deactivate = function() {\n  // remove from DOM\n  this.parent.element.removeChild( this.holder );\n  TapListener.prototype.destroy.call( this );\n};\n\nPageDots.prototype.setDots = function() {\n  // get difference between number of slides and number of dots\n  var delta = this.parent.slides.length - this.dots.length;\n  if ( delta > 0 ) {\n    this.addDots( delta );\n  } else if ( delta < 0 ) {\n    this.removeDots( -delta );\n  }\n};\n\nPageDots.prototype.addDots = function( count ) {\n  var fragment = document.createDocumentFragment();\n  var newDots = [];\n  var length = this.dots.length;\n  var max = length + count;\n\n  for ( var i = length; i < max; i++ ) {\n    var dot = document.createElement('li');\n    dot.className = 'dot';\n    dot.setAttribute( 'aria-label', 'Page dot ' + ( i + 1 ) );\n    fragment.appendChild( dot );\n    newDots.push( dot );\n  }\n\n  this.holder.appendChild( fragment );\n  this.dots = this.dots.concat( newDots );\n};\n\nPageDots.prototype.removeDots = function( count ) {\n  // remove from this.dots collection\n  var removeDots = this.dots.splice( this.dots.length - count, count );\n  // remove from DOM\n  removeDots.forEach( function( dot ) {\n    this.holder.removeChild( dot );\n  }, this );\n};\n\nPageDots.prototype.updateSelected = function() {\n  // remove selected class on previous\n  if ( this.selectedDot ) {\n    this.selectedDot.className = 'dot';\n    this.selectedDot.removeAttribute('aria-current');\n  }\n  // don't proceed if no dots\n  if ( !this.dots.length ) {\n    return;\n  }\n  this.selectedDot = this.dots[ this.parent.selectedIndex ];\n  this.selectedDot.className = 'dot is-selected';\n  this.selectedDot.setAttribute( 'aria-current', 'step' );\n};\n\nPageDots.prototype.onTap = function( event ) {\n  var target = event.target;\n  // only care about dot clicks\n  if ( target.nodeName != 'LI' ) {\n    return;\n  }\n\n  this.parent.uiChange();\n  var index = this.dots.indexOf( target );\n  this.parent.select( index );\n};\n\nPageDots.prototype.destroy = function() {\n  this.deactivate();\n};\n\nFlickity.PageDots = PageDots;\n\n// -------------------------- Flickity -------------------------- //\n\nutils.extend( Flickity.defaults, {\n  pageDots: true\n});\n\nFlickity.createMethods.push('_createPageDots');\n\nvar proto = Flickity.prototype;\n\nproto._createPageDots = function() {\n  if ( !this.options.pageDots ) {\n    return;\n  }\n  this.pageDots = new PageDots( this );\n  // events\n  this.on( 'activate', this.activatePageDots );\n  this.on( 'select', this.updateSelectedPageDots );\n  this.on( 'cellChange', this.updatePageDots );\n  this.on( 'resize', this.updatePageDots );\n  this.on( 'deactivate', this.deactivatePageDots );\n};\n\nproto.activatePageDots = function() {\n  this.pageDots.activate();\n};\n\nproto.updateSelectedPageDots = function() {\n  this.pageDots.updateSelected();\n};\n\nproto.updatePageDots = function() {\n  this.pageDots.setDots();\n};\n\nproto.deactivatePageDots = function() {\n  this.pageDots.deactivate();\n};\n\n// -----  ----- //\n\nFlickity.PageDots = PageDots;\n\nreturn Flickity;\n\n}));\n\n// player & autoPlay\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'flickity/js/player',[\n      'ev-emitter/ev-emitter',\n      'fizzy-ui-utils/utils',\n      './flickity'\n    ], function( EvEmitter, utils, Flickity ) {\n      return factory( EvEmitter, utils, Flickity );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      require('ev-emitter'),\n      require('fizzy-ui-utils'),\n      require('./flickity')\n    );\n  } else {\n    // browser global\n    factory(\n      window.EvEmitter,\n      window.fizzyUIUtils,\n      window.Flickity\n    );\n  }\n\n}( window, function factory( EvEmitter, utils, Flickity ) {\n\n\n\n// -------------------------- Player -------------------------- //\n\nfunction Player( parent ) {\n  this.parent = parent;\n  this.state = 'stopped';\n  // visibility change event handler\n  this.onVisibilityChange = this.visibilityChange.bind( this );\n  this.onVisibilityPlay = this.visibilityPlay.bind( this );\n}\n\nPlayer.prototype = Object.create( EvEmitter.prototype );\n\n// start play\nPlayer.prototype.play = function() {\n  if ( this.state == 'playing' ) {\n    return;\n  }\n  // do not play if page is hidden, start playing when page is visible\n  var isPageHidden = document.hidden;\n  if ( isPageHidden ) {\n    document.addEventListener( 'visibilitychange', this.onVisibilityPlay );\n    return;\n  }\n\n  this.state = 'playing';\n  // listen to visibility change\n  document.addEventListener( 'visibilitychange', this.onVisibilityChange );\n  // start ticking\n  this.tick();\n};\n\nPlayer.prototype.tick = function() {\n  // do not tick if not playing\n  if ( this.state != 'playing' ) {\n    return;\n  }\n\n  var time = this.parent.options.autoPlay;\n  // default to 3 seconds\n  time = typeof time == 'number' ? time : 3000;\n  var _this = this;\n  // HACK: reset ticks if stopped and started within interval\n  this.clear();\n  this.timeout = setTimeout( function() {\n    _this.parent.next( true );\n    _this.tick();\n  }, time );\n};\n\nPlayer.prototype.stop = function() {\n  this.state = 'stopped';\n  this.clear();\n  // remove visibility change event\n  document.removeEventListener( 'visibilitychange', this.onVisibilityChange );\n};\n\nPlayer.prototype.clear = function() {\n  clearTimeout( this.timeout );\n};\n\nPlayer.prototype.pause = function() {\n  if ( this.state == 'playing' ) {\n    this.state = 'paused';\n    this.clear();\n  }\n};\n\nPlayer.prototype.unpause = function() {\n  // re-start play if paused\n  if ( this.state == 'paused' ) {\n    this.play();\n  }\n};\n\n// pause if page visibility is hidden, unpause if visible\nPlayer.prototype.visibilityChange = function() {\n  var isPageHidden = document.hidden;\n  this[ isPageHidden ? 'pause' : 'unpause' ]();\n};\n\nPlayer.prototype.visibilityPlay = function() {\n  this.play();\n  document.removeEventListener( 'visibilitychange', this.onVisibilityPlay );\n};\n\n// -------------------------- Flickity -------------------------- //\n\nutils.extend( Flickity.defaults, {\n  pauseAutoPlayOnHover: true\n});\n\nFlickity.createMethods.push('_createPlayer');\nvar proto = Flickity.prototype;\n\nproto._createPlayer = function() {\n  this.player = new Player( this );\n\n  this.on( 'activate', this.activatePlayer );\n  this.on( 'uiChange', this.stopPlayer );\n  this.on( 'pointerDown', this.stopPlayer );\n  this.on( 'deactivate', this.deactivatePlayer );\n};\n\nproto.activatePlayer = function() {\n  if ( !this.options.autoPlay ) {\n    return;\n  }\n  this.player.play();\n  this.element.addEventListener( 'mouseenter', this );\n};\n\n// Player API, don't hate the ... thanks I know where the door is\n\nproto.playPlayer = function() {\n  this.player.play();\n};\n\nproto.stopPlayer = function() {\n  this.player.stop();\n};\n\nproto.pausePlayer = function() {\n  this.player.pause();\n};\n\nproto.unpausePlayer = function() {\n  this.player.unpause();\n};\n\nproto.deactivatePlayer = function() {\n  this.player.stop();\n  this.element.removeEventListener( 'mouseenter', this );\n};\n\n// ----- mouseenter/leave ----- //\n\n// pause auto-play on hover\nproto.onmouseenter = function() {\n  if ( !this.options.pauseAutoPlayOnHover ) {\n    return;\n  }\n  this.player.pause();\n  this.element.addEventListener( 'mouseleave', this );\n};\n\n// resume auto-play on hover off\nproto.onmouseleave = function() {\n  this.player.unpause();\n  this.element.removeEventListener( 'mouseleave', this );\n};\n\n// -----  ----- //\n\nFlickity.Player = Player;\n\nreturn Flickity;\n\n}));\n\n// add, remove cell\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'flickity/js/add-remove-cell',[\n      './flickity',\n      'fizzy-ui-utils/utils'\n    ], function( Flickity, utils ) {\n      return factory( window, Flickity, utils );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('./flickity'),\n      require('fizzy-ui-utils')\n    );\n  } else {\n    // browser global\n    factory(\n      window,\n      window.Flickity,\n      window.fizzyUIUtils\n    );\n  }\n\n}( window, function factory( window, Flickity, utils ) {\n\n\n\n// append cells to a document fragment\nfunction getCellsFragment( cells ) {\n  var fragment = document.createDocumentFragment();\n  cells.forEach( function( cell ) {\n    fragment.appendChild( cell.element );\n  });\n  return fragment;\n}\n\n// -------------------------- add/remove cell prototype -------------------------- //\n\nvar proto = Flickity.prototype;\n\n/**\n * Insert, prepend, or append cells\n * @param {Element, Array, NodeList} elems\n * @param {Integer} index\n */\nproto.insert = function( elems, index ) {\n  var cells = this._makeCells( elems );\n  if ( !cells || !cells.length ) {\n    return;\n  }\n  var len = this.cells.length;\n  // default to append\n  index = index === undefined ? len : index;\n  // add cells with document fragment\n  var fragment = getCellsFragment( cells );\n  // append to slider\n  var isAppend = index == len;\n  if ( isAppend ) {\n    this.slider.appendChild( fragment );\n  } else {\n    var insertCellElement = this.cells[ index ].element;\n    this.slider.insertBefore( fragment, insertCellElement );\n  }\n  // add to this.cells\n  if ( index === 0 ) {\n    // prepend, add to start\n    this.cells = cells.concat( this.cells );\n  } else if ( isAppend ) {\n    // append, add to end\n    this.cells = this.cells.concat( cells );\n  } else {\n    // insert in this.cells\n    var endCells = this.cells.splice( index, len - index );\n    this.cells = this.cells.concat( cells ).concat( endCells );\n  }\n\n  this._sizeCells( cells );\n  this.cellChange( index, true );\n};\n\nproto.append = function( elems ) {\n  this.insert( elems, this.cells.length );\n};\n\nproto.prepend = function( elems ) {\n  this.insert( elems, 0 );\n};\n\n/**\n * Remove cells\n * @param {Element, Array, NodeList} elems\n */\nproto.remove = function( elems ) {\n  var cells = this.getCells( elems );\n  if ( !cells || !cells.length ) {\n    return;\n  }\n\n  var minCellIndex = this.cells.length - 1;\n  // remove cells from collection & DOM\n  cells.forEach( function( cell ) {\n    cell.remove();\n    var index = this.cells.indexOf( cell );\n    minCellIndex = Math.min( index, minCellIndex );\n    utils.removeFrom( this.cells, cell );\n  }, this );\n\n  this.cellChange( minCellIndex, true );\n};\n\n/**\n * logic to be run after a cell's size changes\n * @param {Element} elem - cell's element\n */\nproto.cellSizeChange = function( elem ) {\n  var cell = this.getCell( elem );\n  if ( !cell ) {\n    return;\n  }\n  cell.getSize();\n\n  var index = this.cells.indexOf( cell );\n  this.cellChange( index );\n};\n\n/**\n * logic any time a cell is changed: added, removed, or size changed\n * @param {Integer} changedCellIndex - index of the changed cell, optional\n */\nproto.cellChange = function( changedCellIndex, isPositioningSlider ) {\n  var prevSelectedElem = this.selectedElement;\n  this._positionCells( changedCellIndex );\n  this._getWrapShiftCells();\n  this.setGallerySize();\n  // update selectedIndex\n  // try to maintain position & select previous selected element\n  var cell = this.getCell( prevSelectedElem );\n  if ( cell ) {\n    this.selectedIndex = this.getCellSlideIndex( cell );\n  }\n  this.selectedIndex = Math.min( this.slides.length - 1, this.selectedIndex );\n\n  this.emitEvent( 'cellChange', [ changedCellIndex ] );\n  // position slider\n  this.select( this.selectedIndex );\n  // do not position slider after lazy load\n  if ( isPositioningSlider ) {\n    this.positionSliderAtSelected();\n  }\n};\n\n// -----  ----- //\n\nreturn Flickity;\n\n}));\n\n// lazyload\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'flickity/js/lazyload',[\n      './flickity',\n      'fizzy-ui-utils/utils'\n    ], function( Flickity, utils ) {\n      return factory( window, Flickity, utils );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('./flickity'),\n      require('fizzy-ui-utils')\n    );\n  } else {\n    // browser global\n    factory(\n      window,\n      window.Flickity,\n      window.fizzyUIUtils\n    );\n  }\n\n}( window, function factory( window, Flickity, utils ) {\n'use strict';\n\nFlickity.createMethods.push('_createLazyload');\nvar proto = Flickity.prototype;\n\nproto._createLazyload = function() {\n  this.on( 'select', this.lazyLoad );\n};\n\nproto.lazyLoad = function() {\n  var lazyLoad = this.options.lazyLoad;\n  if ( !lazyLoad ) {\n    return;\n  }\n  // get adjacent cells, use lazyLoad option for adjacent count\n  var adjCount = typeof lazyLoad == 'number' ? lazyLoad : 0;\n  var cellElems = this.getAdjacentCellElements( adjCount );\n  // get lazy images in those cells\n  var lazyImages = [];\n  cellElems.forEach( function( cellElem ) {\n    var lazyCellImages = getCellLazyImages( cellElem );\n    lazyImages = lazyImages.concat( lazyCellImages );\n  });\n  // load lazy images\n  lazyImages.forEach( function( img ) {\n    new LazyLoader( img, this );\n  }, this );\n};\n\nfunction getCellLazyImages( cellElem ) {\n  // check if cell element is lazy image\n  if ( cellElem.nodeName == 'IMG' ) {\n    var lazyloadAttr = cellElem.getAttribute('data-flickity-lazyload');\n    var srcAttr = cellElem.getAttribute('data-flickity-lazyload-src');\n    var srcsetAttr = cellElem.getAttribute('data-flickity-lazyload-srcset');\n    if ( lazyloadAttr || srcAttr || srcsetAttr ) {\n      return [ cellElem ];\n    }\n  }\n  // select lazy images in cell\n  var lazySelector = 'img[data-flickity-lazyload], ' +\n    'img[data-flickity-lazyload-src], img[data-flickity-lazyload-srcset]';\n  var imgs = cellElem.querySelectorAll( lazySelector );\n  return utils.makeArray( imgs );\n}\n\n// -------------------------- LazyLoader -------------------------- //\n\n/**\n * class to handle loading images\n */\nfunction LazyLoader( img, flickity ) {\n  this.img = img;\n  this.flickity = flickity;\n  this.load();\n}\n\nLazyLoader.prototype.handleEvent = utils.handleEvent;\n\nLazyLoader.prototype.load = function() {\n  this.img.addEventListener( 'load', this );\n  this.img.addEventListener( 'error', this );\n  // get src & srcset\n  var src = this.img.getAttribute('data-flickity-lazyload') ||\n    this.img.getAttribute('data-flickity-lazyload-src');\n  var srcset = this.img.getAttribute('data-flickity-lazyload-srcset');\n  // set src & serset\n  this.img.src = src;\n  if ( srcset ) {\n    this.img.setAttribute( 'srcset', srcset );\n  }\n  // remove attr\n  this.img.removeAttribute('data-flickity-lazyload');\n  this.img.removeAttribute('data-flickity-lazyload-src');\n  this.img.removeAttribute('data-flickity-lazyload-srcset');\n};\n\nLazyLoader.prototype.onload = function( event ) {\n  this.complete( event, 'flickity-lazyloaded' );\n};\n\nLazyLoader.prototype.onerror = function( event ) {\n  this.complete( event, 'flickity-lazyerror' );\n};\n\nLazyLoader.prototype.complete = function( event, className ) {\n  // unbind events\n  this.img.removeEventListener( 'load', this );\n  this.img.removeEventListener( 'error', this );\n\n  var cell = this.flickity.getParentCell( this.img );\n  var cellElem = cell && cell.element;\n  this.flickity.cellSizeChange( cellElem );\n\n  this.img.classList.add( className );\n  this.flickity.dispatchEvent( 'lazyLoad', event, cellElem );\n};\n\n// -----  ----- //\n\nFlickity.LazyLoader = LazyLoader;\n\nreturn Flickity;\n\n}));\n\n/*!\n * Flickity v2.1.1\n * Touch, responsive, flickable carousels\n *\n * Licensed GPLv3 for open source use\n * or Flickity Commercial License for commercial use\n *\n * https://flickity.metafizzy.co\n * Copyright 2015-2018 Metafizzy\n */\n\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'flickity/js/index',[\n      './flickity',\n      './drag',\n      './prev-next-button',\n      './page-dots',\n      './player',\n      './add-remove-cell',\n      './lazyload'\n    ], factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      require('./flickity'),\n      require('./drag'),\n      require('./prev-next-button'),\n      require('./page-dots'),\n      require('./player'),\n      require('./add-remove-cell'),\n      require('./lazyload')\n    );\n  }\n\n})( window, function factory( Flickity ) {\n  /*jshint strict: false*/\n  return Flickity;\n});\n\n/*!\n * Flickity asNavFor v2.0.1\n * enable asNavFor for Flickity\n */\n\n/*jshint browser: true, undef: true, unused: true, strict: true*/\n\n( function( window, factory ) {\n  // universal module definition\n  /*jshint strict: false */ /*globals define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'flickity-as-nav-for/as-nav-for',[\n      'flickity/js/index',\n      'fizzy-ui-utils/utils'\n    ], factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      require('flickity'),\n      require('fizzy-ui-utils')\n    );\n  } else {\n    // browser global\n    window.Flickity = factory(\n      window.Flickity,\n      window.fizzyUIUtils\n    );\n  }\n\n}( window, function factory( Flickity, utils ) {\n\n\n\n// -------------------------- asNavFor prototype -------------------------- //\n\n// Flickity.defaults.asNavFor = null;\n\nFlickity.createMethods.push('_createAsNavFor');\n\nvar proto = Flickity.prototype;\n\nproto._createAsNavFor = function() {\n  this.on( 'activate', this.activateAsNavFor );\n  this.on( 'deactivate', this.deactivateAsNavFor );\n  this.on( 'destroy', this.destroyAsNavFor );\n\n  var asNavForOption = this.options.asNavFor;\n  if ( !asNavForOption ) {\n    return;\n  }\n  // HACK do async, give time for other flickity to be initalized\n  var _this = this;\n  setTimeout( function initNavCompanion() {\n    _this.setNavCompanion( asNavForOption );\n  });\n};\n\nproto.setNavCompanion = function( elem ) {\n  elem = utils.getQueryElement( elem );\n  var companion = Flickity.data( elem );\n  // stop if no companion or companion is self\n  if ( !companion || companion == this ) {\n    return;\n  }\n\n  this.navCompanion = companion;\n  // companion select\n  var _this = this;\n  this.onNavCompanionSelect = function() {\n    _this.navCompanionSelect();\n  };\n  companion.on( 'select', this.onNavCompanionSelect );\n  // click\n  this.on( 'staticClick', this.onNavStaticClick );\n\n  this.navCompanionSelect( true );\n};\n\nproto.navCompanionSelect = function( isInstant ) {\n  if ( !this.navCompanion ) {\n    return;\n  }\n  // select slide that matches first cell of slide\n  var selectedCell = this.navCompanion.selectedCells[0];\n  var firstIndex = this.navCompanion.cells.indexOf( selectedCell );\n  var lastIndex = firstIndex + this.navCompanion.selectedCells.length - 1;\n  var selectIndex = Math.floor( lerp( firstIndex, lastIndex,\n    this.navCompanion.cellAlign ) );\n  this.selectCell( selectIndex, false, isInstant );\n  // set nav selected class\n  this.removeNavSelectedElements();\n  // stop if companion has more cells than this one\n  if ( selectIndex >= this.cells.length ) {\n    return;\n  }\n\n  var selectedCells = this.cells.slice( firstIndex, lastIndex + 1 );\n  this.navSelectedElements = selectedCells.map( function( cell ) {\n    return cell.element;\n  });\n  this.changeNavSelectedClass('add');\n};\n\nfunction lerp( a, b, t ) {\n  return ( b - a ) * t + a;\n}\n\nproto.changeNavSelectedClass = function( method ) {\n  this.navSelectedElements.forEach( function( navElem ) {\n    navElem.classList[ method ]('is-nav-selected');\n  });\n};\n\nproto.activateAsNavFor = function() {\n  this.navCompanionSelect( true );\n};\n\nproto.removeNavSelectedElements = function() {\n  if ( !this.navSelectedElements ) {\n    return;\n  }\n  this.changeNavSelectedClass('remove');\n  delete this.navSelectedElements;\n};\n\nproto.onNavStaticClick = function( event, pointer, cellElement, cellIndex ) {\n  if ( typeof cellIndex == 'number' ) {\n    this.navCompanion.selectCell( cellIndex );\n  }\n};\n\nproto.deactivateAsNavFor = function() {\n  this.removeNavSelectedElements();\n};\n\nproto.destroyAsNavFor = function() {\n  if ( !this.navCompanion ) {\n    return;\n  }\n  this.navCompanion.off( 'select', this.onNavCompanionSelect );\n  this.off( 'staticClick', this.onNavStaticClick );\n  delete this.navCompanion;\n};\n\n// -----  ----- //\n\nreturn Flickity;\n\n}));\n\n/*!\n * imagesLoaded v4.1.4\n * JavaScript is all like \"You images are done yet or what?\"\n * MIT License\n */\n\n( function( window, factory ) { 'use strict';\n  // universal module definition\n\n  /*global define: false, module: false, require: false */\n\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'imagesloaded/imagesloaded',[\n      'ev-emitter/ev-emitter'\n    ], function( EvEmitter ) {\n      return factory( window, EvEmitter );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('ev-emitter')\n    );\n  } else {\n    // browser global\n    window.imagesLoaded = factory(\n      window,\n      window.EvEmitter\n    );\n  }\n\n})( typeof window !== 'undefined' ? window : this,\n\n// --------------------------  factory -------------------------- //\n\nfunction factory( window, EvEmitter ) {\n\n\n\nvar $ = window.jQuery;\nvar console = window.console;\n\n// -------------------------- helpers -------------------------- //\n\n// extend objects\nfunction extend( a, b ) {\n  for ( var prop in b ) {\n    a[ prop ] = b[ prop ];\n  }\n  return a;\n}\n\nvar arraySlice = Array.prototype.slice;\n\n// turn element or nodeList into an array\nfunction makeArray( obj ) {\n  if ( Array.isArray( obj ) ) {\n    // use object if already an array\n    return obj;\n  }\n\n  var isArrayLike = typeof obj == 'object' && typeof obj.length == 'number';\n  if ( isArrayLike ) {\n    // convert nodeList to array\n    return arraySlice.call( obj );\n  }\n\n  // array of single index\n  return [ obj ];\n}\n\n// -------------------------- imagesLoaded -------------------------- //\n\n/**\n * @param {Array, Element, NodeList, String} elem\n * @param {Object or Function} options - if function, use as callback\n * @param {Function} onAlways - callback function\n */\nfunction ImagesLoaded( elem, options, onAlways ) {\n  // coerce ImagesLoaded() without new, to be new ImagesLoaded()\n  if ( !( this instanceof ImagesLoaded ) ) {\n    return new ImagesLoaded( elem, options, onAlways );\n  }\n  // use elem as selector string\n  var queryElem = elem;\n  if ( typeof elem == 'string' ) {\n    queryElem = document.querySelectorAll( elem );\n  }\n  // bail if bad element\n  if ( !queryElem ) {\n    console.error( 'Bad element for imagesLoaded ' + ( queryElem || elem ) );\n    return;\n  }\n\n  this.elements = makeArray( queryElem );\n  this.options = extend( {}, this.options );\n  // shift arguments if no options set\n  if ( typeof options == 'function' ) {\n    onAlways = options;\n  } else {\n    extend( this.options, options );\n  }\n\n  if ( onAlways ) {\n    this.on( 'always', onAlways );\n  }\n\n  this.getImages();\n\n  if ( $ ) {\n    // add jQuery Deferred object\n    this.jqDeferred = new $.Deferred();\n  }\n\n  // HACK check async to allow time to bind listeners\n  setTimeout( this.check.bind( this ) );\n}\n\nImagesLoaded.prototype = Object.create( EvEmitter.prototype );\n\nImagesLoaded.prototype.options = {};\n\nImagesLoaded.prototype.getImages = function() {\n  this.images = [];\n\n  // filter & find items if we have an item selector\n  this.elements.forEach( this.addElementImages, this );\n};\n\n/**\n * @param {Node} element\n */\nImagesLoaded.prototype.addElementImages = function( elem ) {\n  // filter siblings\n  if ( elem.nodeName == 'IMG' ) {\n    this.addImage( elem );\n  }\n  // get background image on element\n  if ( this.options.background === true ) {\n    this.addElementBackgroundImages( elem );\n  }\n\n  // find children\n  // no non-element nodes, #143\n  var nodeType = elem.nodeType;\n  if ( !nodeType || !elementNodeTypes[ nodeType ] ) {\n    return;\n  }\n  var childImgs = elem.querySelectorAll('img');\n  // concat childElems to filterFound array\n  for ( var i=0; i < childImgs.length; i++ ) {\n    var img = childImgs[i];\n    this.addImage( img );\n  }\n\n  // get child background images\n  if ( typeof this.options.background == 'string' ) {\n    var children = elem.querySelectorAll( this.options.background );\n    for ( i=0; i < children.length; i++ ) {\n      var child = children[i];\n      this.addElementBackgroundImages( child );\n    }\n  }\n};\n\nvar elementNodeTypes = {\n  1: true,\n  9: true,\n  11: true\n};\n\nImagesLoaded.prototype.addElementBackgroundImages = function( elem ) {\n  var style = getComputedStyle( elem );\n  if ( !style ) {\n    // Firefox returns null if in a hidden iframe https://bugzil.la/548397\n    return;\n  }\n  // get url inside url(\"...\")\n  var reURL = /url\\((['\"])?(.*?)\\1\\)/gi;\n  var matches = reURL.exec( style.backgroundImage );\n  while ( matches !== null ) {\n    var url = matches && matches[2];\n    if ( url ) {\n      this.addBackground( url, elem );\n    }\n    matches = reURL.exec( style.backgroundImage );\n  }\n};\n\n/**\n * @param {Image} img\n */\nImagesLoaded.prototype.addImage = function( img ) {\n  var loadingImage = new LoadingImage( img );\n  this.images.push( loadingImage );\n};\n\nImagesLoaded.prototype.addBackground = function( url, elem ) {\n  var background = new Background( url, elem );\n  this.images.push( background );\n};\n\nImagesLoaded.prototype.check = function() {\n  var _this = this;\n  this.progressedCount = 0;\n  this.hasAnyBroken = false;\n  // complete if no images\n  if ( !this.images.length ) {\n    this.complete();\n    return;\n  }\n\n  function onProgress( image, elem, message ) {\n    // HACK - Chrome triggers event before object properties have changed. #83\n    setTimeout( function() {\n      _this.progress( image, elem, message );\n    });\n  }\n\n  this.images.forEach( function( loadingImage ) {\n    loadingImage.once( 'progress', onProgress );\n    loadingImage.check();\n  });\n};\n\nImagesLoaded.prototype.progress = function( image, elem, message ) {\n  this.progressedCount++;\n  this.hasAnyBroken = this.hasAnyBroken || !image.isLoaded;\n  // progress event\n  this.emitEvent( 'progress', [ this, image, elem ] );\n  if ( this.jqDeferred && this.jqDeferred.notify ) {\n    this.jqDeferred.notify( this, image );\n  }\n  // check if completed\n  if ( this.progressedCount == this.images.length ) {\n    this.complete();\n  }\n\n  if ( this.options.debug && console ) {\n    console.log( 'progress: ' + message, image, elem );\n  }\n};\n\nImagesLoaded.prototype.complete = function() {\n  var eventName = this.hasAnyBroken ? 'fail' : 'done';\n  this.isComplete = true;\n  this.emitEvent( eventName, [ this ] );\n  this.emitEvent( 'always', [ this ] );\n  if ( this.jqDeferred ) {\n    var jqMethod = this.hasAnyBroken ? 'reject' : 'resolve';\n    this.jqDeferred[ jqMethod ]( this );\n  }\n};\n\n// --------------------------  -------------------------- //\n\nfunction LoadingImage( img ) {\n  this.img = img;\n}\n\nLoadingImage.prototype = Object.create( EvEmitter.prototype );\n\nLoadingImage.prototype.check = function() {\n  // If complete is true and browser supports natural sizes,\n  // try to check for image status manually.\n  var isComplete = this.getIsImageComplete();\n  if ( isComplete ) {\n    // report based on naturalWidth\n    this.confirm( this.img.naturalWidth !== 0, 'naturalWidth' );\n    return;\n  }\n\n  // If none of the checks above matched, simulate loading on detached element.\n  this.proxyImage = new Image();\n  this.proxyImage.addEventListener( 'load', this );\n  this.proxyImage.addEventListener( 'error', this );\n  // bind to image as well for Firefox. #191\n  this.img.addEventListener( 'load', this );\n  this.img.addEventListener( 'error', this );\n  this.proxyImage.src = this.img.src;\n};\n\nLoadingImage.prototype.getIsImageComplete = function() {\n  // check for non-zero, non-undefined naturalWidth\n  // fixes Safari+InfiniteScroll+Masonry bug infinite-scroll#671\n  return this.img.complete && this.img.naturalWidth;\n};\n\nLoadingImage.prototype.confirm = function( isLoaded, message ) {\n  this.isLoaded = isLoaded;\n  this.emitEvent( 'progress', [ this, this.img, message ] );\n};\n\n// ----- events ----- //\n\n// trigger specified handler for event type\nLoadingImage.prototype.handleEvent = function( event ) {\n  var method = 'on' + event.type;\n  if ( this[ method ] ) {\n    this[ method ]( event );\n  }\n};\n\nLoadingImage.prototype.onload = function() {\n  this.confirm( true, 'onload' );\n  this.unbindEvents();\n};\n\nLoadingImage.prototype.onerror = function() {\n  this.confirm( false, 'onerror' );\n  this.unbindEvents();\n};\n\nLoadingImage.prototype.unbindEvents = function() {\n  this.proxyImage.removeEventListener( 'load', this );\n  this.proxyImage.removeEventListener( 'error', this );\n  this.img.removeEventListener( 'load', this );\n  this.img.removeEventListener( 'error', this );\n};\n\n// -------------------------- Background -------------------------- //\n\nfunction Background( url, element ) {\n  this.url = url;\n  this.element = element;\n  this.img = new Image();\n}\n\n// inherit LoadingImage prototype\nBackground.prototype = Object.create( LoadingImage.prototype );\n\nBackground.prototype.check = function() {\n  this.img.addEventListener( 'load', this );\n  this.img.addEventListener( 'error', this );\n  this.img.src = this.url;\n  // check if image is already complete\n  var isComplete = this.getIsImageComplete();\n  if ( isComplete ) {\n    this.confirm( this.img.naturalWidth !== 0, 'naturalWidth' );\n    this.unbindEvents();\n  }\n};\n\nBackground.prototype.unbindEvents = function() {\n  this.img.removeEventListener( 'load', this );\n  this.img.removeEventListener( 'error', this );\n};\n\nBackground.prototype.confirm = function( isLoaded, message ) {\n  this.isLoaded = isLoaded;\n  this.emitEvent( 'progress', [ this, this.element, message ] );\n};\n\n// -------------------------- jQuery -------------------------- //\n\nImagesLoaded.makeJQueryPlugin = function( jQuery ) {\n  jQuery = jQuery || window.jQuery;\n  if ( !jQuery ) {\n    return;\n  }\n  // set local variable\n  $ = jQuery;\n  // $().imagesLoaded()\n  $.fn.imagesLoaded = function( options, callback ) {\n    var instance = new ImagesLoaded( this, options, callback );\n    return instance.jqDeferred.promise( $(this) );\n  };\n};\n// try making plugin\nImagesLoaded.makeJQueryPlugin();\n\n// --------------------------  -------------------------- //\n\nreturn ImagesLoaded;\n\n});\n\n/*!\n * Flickity imagesLoaded v2.0.0\n * enables imagesLoaded option for Flickity\n */\n\n/*jshint browser: true, strict: true, undef: true, unused: true */\n\n( function( window, factory ) {\n  // universal module definition\n  /*jshint strict: false */ /*globals define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      'flickity/js/index',\n      'imagesloaded/imagesloaded'\n    ], function( Flickity, imagesLoaded ) {\n      return factory( window, Flickity, imagesLoaded );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('flickity'),\n      require('imagesloaded')\n    );\n  } else {\n    // browser global\n    window.Flickity = factory(\n      window,\n      window.Flickity,\n      window.imagesLoaded\n    );\n  }\n\n}( window, function factory( window, Flickity, imagesLoaded ) {\n'use strict';\n\nFlickity.createMethods.push('_createImagesLoaded');\n\nvar proto = Flickity.prototype;\n\nproto._createImagesLoaded = function() {\n  this.on( 'activate', this.imagesLoaded );\n};\n\nproto.imagesLoaded = function() {\n  if ( !this.options.imagesLoaded ) {\n    return;\n  }\n  var _this = this;\n  function onImagesLoadedProgress( instance, image ) {\n    var cell = _this.getParentCell( image.img );\n    _this.cellSizeChange( cell && cell.element );\n    if ( !_this.options.freeScroll ) {\n      _this.positionSliderAtSelected();\n    }\n  }\n  imagesLoaded( this.slider ).on( 'progress', onImagesLoadedProgress );\n};\n\nreturn Flickity;\n\n}));\n","/**\n * Flickity background lazyload v1.0.0\n * lazyload background cell images\n */\n\n/*jshint browser: true, unused: true, undef: true */\n\n( function( window, factory ) {\n  // universal module definition\n  /*globals define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      'flickity/js/index',\n      'fizzy-ui-utils/utils'\n    ], factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      require('flickity'),\n      require('fizzy-ui-utils')\n    );\n  } else {\n    // browser global\n    factory(\n      window.Flickity,\n      window.fizzyUIUtils\n    );\n  }\n\n}( window, function factory( Flickity, utils ) {\n/*jshint strict: true */\n'use strict';\n\nFlickity.createMethods.push('_createBgLazyLoad');\n\nvar proto = Flickity.prototype;\n\nproto._createBgLazyLoad = function() {\n  this.on( 'select', this.bgLazyLoad );\n};\n\nproto.bgLazyLoad = function() {\n  var lazyLoad = this.options.bgLazyLoad;\n  if ( !lazyLoad ) {\n    return;\n  }\n\n  // get adjacent cells, use lazyLoad option for adjacent count\n  var adjCount = typeof lazyLoad == 'number' ? lazyLoad : 0;\n  var cellElems = this.getAdjacentCellElements( adjCount );\n\n  for ( var i=0; i < cellElems.length; i++ ) {\n    var cellElem = cellElems[i];\n    this.bgLazyLoadElem( cellElem );\n    // select lazy elems in cell\n    var children = cellElem.querySelectorAll('[data-flickity-bg-lazyload]');\n    for ( var j=0; j < children.length; j++ ) {\n      this.bgLazyLoadElem( children[j] );\n    }\n  }\n};\n\nproto.bgLazyLoadElem = function( elem ) {\n  var attr = elem.getAttribute('data-flickity-bg-lazyload');\n  if ( attr ) {\n    new BgLazyLoader( elem, attr, this );\n  }\n};\n\n// -------------------------- LazyBGLoader -------------------------- //\n\n/**\n * class to handle loading images\n */\nfunction BgLazyLoader( elem, url, flickity ) {\n  this.element = elem;\n  this.url = url;\n  this.img = new Image();\n  this.flickity = flickity;\n  this.load();\n}\n\nBgLazyLoader.prototype.handleEvent = utils.handleEvent;\n\nBgLazyLoader.prototype.load = function() {\n  this.img.addEventListener( 'load', this );\n  this.img.addEventListener( 'error', this );\n  // load image\n  this.img.src = this.url;\n  // remove attr\n  this.element.removeAttribute('data-flickity-bg-lazyload');\n};\n\nBgLazyLoader.prototype.onload = function( event ) {\n  this.element.style.backgroundImage = 'url(' + this.url + ')';\n  this.complete( event, 'flickity-bg-lazyloaded' );\n};\n\nBgLazyLoader.prototype.onerror = function( event ) {\n  this.complete( event, 'flickity-bg-lazyerror' );\n};\n\nBgLazyLoader.prototype.complete = function( event, className ) {\n  // unbind events\n  this.img.removeEventListener( 'load', this );\n  this.img.removeEventListener( 'error', this );\n\n  this.element.classList.add( className );\n  this.flickity.dispatchEvent( 'bgLazyLoad', event, this.element );\n};\n\n// -----  ----- //\n\nFlickity.BgLazyLoader = BgLazyLoader;\n\nreturn Flickity;\n\n}));\n","/**\n*  Ajax Autocomplete for jQuery, version 1.2.27\n*  (c) 2015 Tomas Kirda\n*\n*  Ajax Autocomplete for jQuery is freely distributable under the terms of an MIT-style license.\n*  For details, see the web site: https://github.com/devbridge/jQuery-Autocomplete\n*/\n\n/*jslint  browser: true, white: true, single: true, this: true, multivar: true */\n/*global define, window, document, jQuery, exports, require */\n\n// Expose plugin as an AMD module if AMD loader is present:\n(function (factory) {\n    \"use strict\";\n    if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define(['jquery'], factory);\n    } else if (typeof exports === 'object' && typeof require === 'function') {\n        // Browserify\n        factory(require('jquery'));\n    } else {\n        // Browser globals\n        factory(jQuery);\n    }\n}(function ($) {\n    'use strict';\n\n    var\n        utils = (function () {\n            return {\n                escapeRegExChars: function (value) {\n                    return value.replace(/[|\\\\{}()[\\]^$+*?.]/g, \"\\\\$&\");\n                },\n                createNode: function (containerClass) {\n                    var div = document.createElement('div');\n                    div.className = containerClass;\n                    div.style.position = 'absolute';\n                    div.style.display = 'none';\n                    return div;\n                }\n            };\n        }()),\n\n        keys = {\n            ESC: 27,\n            TAB: 9,\n            RETURN: 13,\n            LEFT: 37,\n            UP: 38,\n            RIGHT: 39,\n            DOWN: 40\n        };\n\n    function Autocomplete(el, options) {\n        var noop = $.noop,\n            that = this,\n            defaults = {\n                ajaxSettings: {},\n                autoSelectFirst: false,\n                appendTo: document.body,\n                serviceUrl: null,\n                lookup: null,\n                onSelect: null,\n                width: 'auto',\n                minChars: 1,\n                maxHeight: 300,\n                deferRequestBy: 0,\n                params: {},\n                formatResult: Autocomplete.formatResult,\n                delimiter: null,\n                zIndex: 9999,\n                type: 'GET',\n                noCache: false,\n                onSearchStart: noop,\n                onSearchComplete: noop,\n                onSearchError: noop,\n                preserveInput: false,\n                containerClass: 'autocomplete-suggestions',\n                tabDisabled: false,\n                dataType: 'text',\n                currentRequest: null,\n                triggerSelectOnValidInput: true,\n                preventBadQueries: true,\n                lookupFilter: function (suggestion, originalQuery, queryLowerCase) {\n                    return suggestion.value.toLowerCase().indexOf(queryLowerCase) !== -1;\n                },\n                paramName: 'query',\n                transformResult: function (response) {\n                    return typeof response === 'string' ? $.parseJSON(response) : response;\n                },\n                showNoSuggestionNotice: false,\n                noSuggestionNotice: 'No results',\n                orientation: 'bottom',\n                forceFixPosition: false\n            };\n\n        // Shared variables:\n        that.element = el;\n        that.el = $(el);\n        that.suggestions = [];\n        that.badQueries = [];\n        that.selectedIndex = -1;\n        that.currentValue = that.element.value;\n        that.intervalId = 0;\n        that.cachedResponse = {};\n        that.onChangeInterval = null;\n        that.onChange = null;\n        that.isLocal = false;\n        that.suggestionsContainer = null;\n        that.noSuggestionsContainer = null;\n        that.options = $.extend({}, defaults, options);\n        that.classes = {\n            selected: 'autocomplete-selected',\n            suggestion: 'autocomplete-suggestion'\n        };\n        that.hint = null;\n        that.hintValue = '';\n        that.selection = null;\n\n        // Initialize and set options:\n        that.initialize();\n        that.setOptions(options);\n    }\n\n    Autocomplete.utils = utils;\n\n    $.Autocomplete = Autocomplete;\n\n    Autocomplete.formatResult = function (suggestion, currentValue) {\n        // Do not replace anything if there current value is empty\n        if (!currentValue) {\n            return suggestion.value;\n        }\n        \n        var pattern = '(' + utils.escapeRegExChars(currentValue) + ')';\n\n        return suggestion.value\n            .replace(new RegExp(pattern, 'gi'), '<strong>$1<\\/strong>')\n            .replace(/&/g, '&amp;')\n            .replace(/</g, '&lt;')\n            .replace(/>/g, '&gt;')\n            .replace(/\"/g, '&quot;')\n            .replace(/&lt;(\\/?strong)&gt;/g, '<$1>');\n    };\n\n    Autocomplete.prototype = {\n\n        killerFn: null,\n\n        initialize: function () {\n            var that = this,\n                suggestionSelector = '.' + that.classes.suggestion,\n                selected = that.classes.selected,\n                options = that.options,\n                container;\n\n            // Remove autocomplete attribute to prevent native suggestions:\n            that.element.setAttribute('autocomplete', 'off');\n\n            that.killerFn = function (e) {\n                if (!$(e.target).closest('.' + that.options.containerClass).length) {\n                    that.killSuggestions();\n                    that.disableKillerFn();\n                }\n            };\n\n            // html() deals with many types: htmlString or Element or Array or jQuery\n            that.noSuggestionsContainer = $('<div class=\"autocomplete-no-suggestion\"></div>')\n                                          .html(this.options.noSuggestionNotice).get(0);\n\n            that.suggestionsContainer = Autocomplete.utils.createNode(options.containerClass);\n\n            container = $(that.suggestionsContainer);\n\n            container.appendTo(options.appendTo);\n\n            // Only set width if it was provided:\n            if (options.width !== 'auto') {\n                container.css('width', options.width);\n            }\n\n            // Listen for mouse over event on suggestions list:\n            container.on('mouseover.autocomplete', suggestionSelector, function () {\n                that.activate($(this).data('index'));\n            });\n\n            // Deselect active element when mouse leaves suggestions container:\n            container.on('mouseout.autocomplete', function () {\n                that.selectedIndex = -1;\n                container.children('.' + selected).removeClass(selected);\n            });\n\n            // Listen for click event on suggestions list:\n            container.on('click.autocomplete', suggestionSelector, function () {\n                that.select($(this).data('index'));\n                return false;\n            });\n\n            that.fixPositionCapture = function () {\n                if (that.visible) {\n                    that.fixPosition();\n                }\n            };\n\n            $(window).on('resize.autocomplete', that.fixPositionCapture);\n\n            that.el.on('keydown.autocomplete', function (e) { that.onKeyPress(e); });\n            that.el.on('keyup.autocomplete', function (e) { that.onKeyUp(e); });\n            that.el.on('blur.autocomplete', function () { that.onBlur(); });\n            that.el.on('focus.autocomplete', function () { that.onFocus(); });\n            that.el.on('change.autocomplete', function (e) { that.onKeyUp(e); });\n            that.el.on('input.autocomplete', function (e) { that.onKeyUp(e); });\n        },\n\n        onFocus: function () {\n            var that = this;\n\n            that.fixPosition();\n\n            if (that.el.val().length >= that.options.minChars) {\n                that.onValueChange();\n            }\n        },\n\n        onBlur: function () {\n            this.enableKillerFn();\n        },\n        \n        abortAjax: function () {\n            var that = this;\n            if (that.currentRequest) {\n                that.currentRequest.abort();\n                that.currentRequest = null;\n            }\n        },\n\n        setOptions: function (suppliedOptions) {\n            var that = this,\n                options = that.options;\n\n            $.extend(options, suppliedOptions);\n\n            that.isLocal = $.isArray(options.lookup);\n\n            if (that.isLocal) {\n                options.lookup = that.verifySuggestionsFormat(options.lookup);\n            }\n\n            options.orientation = that.validateOrientation(options.orientation, 'bottom');\n\n            // Adjust height, width and z-index:\n            $(that.suggestionsContainer).css({\n                'max-height': options.maxHeight + 'px',\n                'width': options.width + 'px',\n                'z-index': options.zIndex\n            });\n        },\n\n\n        clearCache: function () {\n            this.cachedResponse = {};\n            this.badQueries = [];\n        },\n\n        clear: function () {\n            this.clearCache();\n            this.currentValue = '';\n            this.suggestions = [];\n        },\n\n        disable: function () {\n            var that = this;\n            that.disabled = true;\n            clearInterval(that.onChangeInterval);\n            that.abortAjax();\n        },\n\n        enable: function () {\n            this.disabled = false;\n        },\n\n        fixPosition: function () {\n            // Use only when container has already its content\n\n            var that = this,\n                $container = $(that.suggestionsContainer),\n                containerParent = $container.parent().get(0);\n            // Fix position automatically when appended to body.\n            // In other cases force parameter must be given.\n            if (containerParent !== document.body && !that.options.forceFixPosition) {\n                return;\n            }\n            var siteSearchDiv = $('.site-search');\n            // Choose orientation\n            var orientation = that.options.orientation,\n                containerHeight = $container.outerHeight(),\n                height = siteSearchDiv.outerHeight(),\n                offset = siteSearchDiv.offset(),\n                styles = { 'top': offset.top, 'left': offset.left };\n\n            if (orientation === 'auto') {\n                var viewPortHeight = $(window).height(),\n                    scrollTop = $(window).scrollTop(),\n                    topOverflow = -scrollTop + offset.top - containerHeight,\n                    bottomOverflow = scrollTop + viewPortHeight - (offset.top + height + containerHeight);\n\n                orientation = (Math.max(topOverflow, bottomOverflow) === topOverflow) ? 'top' : 'bottom';\n            }\n\n            if (orientation === 'top') {\n                styles.top += -containerHeight;\n            } else {\n                styles.top += height;\n            }\n\n            // If container is not positioned to body,\n            // correct its position using offset parent offset\n            if(containerParent !== document.body) {\n                var opacity = $container.css('opacity'),\n                    parentOffsetDiff;\n\n                    if (!that.visible){\n                        $container.css('opacity', 0).show();\n                    }\n\n                parentOffsetDiff = $container.offsetParent().offset();\n                styles.top -= parentOffsetDiff.top;\n                styles.left -= parentOffsetDiff.left;\n\n                if (!that.visible){\n                    $container.css('opacity', opacity).hide();\n                }\n            }\n\n            if (that.options.width === 'auto') {\n                styles.width = siteSearchDiv.outerWidth() + 'px';\n            }\n\n            $container.css(styles);\n        },\n\n        enableKillerFn: function () {\n            var that = this;\n            $(document).on('click.autocomplete', that.killerFn);\n        },\n\n        disableKillerFn: function () {\n            var that = this;\n            $(document).off('click.autocomplete', that.killerFn);\n        },\n\n        killSuggestions: function () {\n            var that = this;\n            that.stopKillSuggestions();\n            that.intervalId = window.setInterval(function () {\n                if (that.visible) {\n                    // No need to restore value when \n                    // preserveInput === true, \n                    // because we did not change it\n                    if (!that.options.preserveInput) {\n                        that.el.val(that.currentValue);\n                    }\n\n                    that.hide();\n                }\n                \n                that.stopKillSuggestions();\n            }, 50);\n        },\n\n        stopKillSuggestions: function () {\n            window.clearInterval(this.intervalId);\n        },\n\n        isCursorAtEnd: function () {\n            var that = this,\n                valLength = that.el.val().length,\n                selectionStart = that.element.selectionStart,\n                range;\n\n            if (typeof selectionStart === 'number') {\n                return selectionStart === valLength;\n            }\n            if (document.selection) {\n                range = document.selection.createRange();\n                range.moveStart('character', -valLength);\n                return valLength === range.text.length;\n            }\n            return true;\n        },\n\n        onKeyPress: function (e) {\n            var that = this;\n\n            // If suggestions are hidden and user presses arrow down, display suggestions:\n            if (!that.disabled && !that.visible && e.which === keys.DOWN && that.currentValue) {\n                that.suggest();\n                return;\n            }\n\n            if (that.disabled || !that.visible) {\n                return;\n            }\n\n            switch (e.which) {\n                case keys.ESC:\n                    that.el.val(that.currentValue);\n                    that.hide();\n                    break;\n                case keys.RIGHT:\n                    if (that.hint && that.options.onHint && that.isCursorAtEnd()) {\n                        that.selectHint();\n                        break;\n                    }\n                    return;\n                case keys.TAB:\n                    if (that.hint && that.options.onHint) {\n                        that.selectHint();\n                        return;\n                    }\n                    if (that.selectedIndex === -1) {\n                        that.hide();\n                        return;\n                    }\n                    that.select(that.selectedIndex);\n                    if (that.options.tabDisabled === false) {\n                        return;\n                    }\n                    break;\n                case keys.RETURN:\n                    if (that.selectedIndex === -1) {\n                        that.hide();\n                        return;\n                    }\n                    that.select(that.selectedIndex);\n                    break;\n                case keys.UP:\n                    that.moveUp();\n                    break;\n                case keys.DOWN:\n                    that.moveDown();\n                    break;\n                default:\n                    return;\n            }\n\n            // Cancel event if function did not return:\n            e.stopImmediatePropagation();\n            e.preventDefault();\n        },\n\n        onKeyUp: function (e) {\n            var that = this;\n\n            if (that.disabled) {\n                return;\n            }\n\n            switch (e.which) {\n                case keys.UP:\n                case keys.DOWN:\n                    return;\n            }\n\n            clearInterval(that.onChangeInterval);\n\n            if (that.currentValue !== that.el.val()) {\n                that.findBestHint();\n                if (that.options.deferRequestBy > 0) {\n                    // Defer lookup in case when value changes very quickly:\n                    that.onChangeInterval = setInterval(function () {\n                        that.onValueChange();\n                    }, that.options.deferRequestBy);\n                } else {\n                    that.onValueChange();\n                }\n            }\n        },\n\n        onValueChange: function () {\n            var that = this,\n                options = that.options,\n                value = that.el.val(),\n                query = that.getQuery(value);\n\n            if (that.selection && that.currentValue !== query) {\n                that.selection = null;\n                (options.onInvalidateSelection || $.noop).call(that.element);\n            }\n\n            clearInterval(that.onChangeInterval);\n            that.currentValue = value;\n            that.selectedIndex = -1;\n\n            // Check existing suggestion for the match before proceeding:\n            if (options.triggerSelectOnValidInput && that.isExactMatch(query)) {\n                that.select(0);\n                return;\n            }\n\n            if (query.length < options.minChars) {\n                that.hide();\n            } else {\n                that.getSuggestions(query);\n            }\n        },\n\n        isExactMatch: function (query) {\n            var suggestions = this.suggestions;\n\n            return (suggestions.length === 1 && suggestions[0].value.toLowerCase() === query.toLowerCase());\n        },\n\n        getQuery: function (value) {\n            var delimiter = this.options.delimiter,\n                parts;\n\n            if (!delimiter) {\n                return value;\n            }\n            parts = value.split(delimiter);\n            return $.trim(parts[parts.length - 1]);\n        },\n\n        getSuggestionsLocal: function (query) {\n            var that = this,\n                options = that.options,\n                queryLowerCase = query.toLowerCase(),\n                filter = options.lookupFilter,\n                limit = parseInt(options.lookupLimit, 10),\n                data;\n\n            data = {\n                suggestions: $.grep(options.lookup, function (suggestion) {\n                    return filter(suggestion, query, queryLowerCase);\n                })\n            };\n\n            if (limit && data.suggestions.length > limit) {\n                data.suggestions = data.suggestions.slice(0, limit);\n            }\n\n            return data;\n        },\n\n        getSuggestions: function (q) {\n            var response,\n                that = this,\n                options = that.options,\n                serviceUrl = options.serviceUrl,\n                params,\n                cacheKey,\n                ajaxSettings;\n\n            options.params[options.paramName] = q;\n            params = options.ignoreParams ? null : options.params;\n\n            if (options.onSearchStart.call(that.element, options.params) === false) {\n                return;\n            }\n\n            if ($.isFunction(options.lookup)){\n                options.lookup(q, function (data) {\n                    that.suggestions = data.suggestions;\n                    that.suggest();\n                    options.onSearchComplete.call(that.element, q, data.suggestions);\n                });\n                return;\n            }\n\n            if (that.isLocal) {\n                response = that.getSuggestionsLocal(q);\n            } else {\n                if ($.isFunction(serviceUrl)) {\n                    serviceUrl = serviceUrl.call(that.element, q);\n                }\n                cacheKey = serviceUrl + '?' + $.param(params || {});\n                response = that.cachedResponse[cacheKey];\n            }\n\n            if (response && $.isArray(response.suggestions)) {\n                that.suggestions = response.suggestions;\n                that.suggest();\n                options.onSearchComplete.call(that.element, q, response.suggestions);\n            } else if (!that.isBadQuery(q)) {\n                that.abortAjax();\n\n                ajaxSettings = {\n                    url: serviceUrl,\n                    data: params,\n                    type: options.type,\n                    dataType: options.dataType\n                };\n\n                $.extend(ajaxSettings, options.ajaxSettings);\n\n                that.currentRequest = $.ajax(ajaxSettings).done(function (data) {\n                    var result;\n                    that.currentRequest = null;\n                    result = options.transformResult(data, q);\n                    that.processResponse(result, q, cacheKey);\n                    options.onSearchComplete.call(that.element, q, result.suggestions);\n                }).fail(function (jqXHR, textStatus, errorThrown) {\n                    options.onSearchError.call(that.element, q, jqXHR, textStatus, errorThrown);\n                });\n            } else {\n                options.onSearchComplete.call(that.element, q, []);\n            }\n        },\n\n        isBadQuery: function (q) {\n            if (!this.options.preventBadQueries){\n                return false;\n            }\n\n            var badQueries = this.badQueries,\n                i = badQueries.length;\n\n            while (i--) {\n                if (q.indexOf(badQueries[i]) === 0) {\n                    return true;\n                }\n            }\n\n            return false;\n        },\n\n        hide: function () {\n            var that = this,\n                container = $(that.suggestionsContainer);\n\n            if ($.isFunction(that.options.onHide) && that.visible) {\n                that.options.onHide.call(that.element, container);\n            }\n\n            that.visible = false;\n            that.selectedIndex = -1;\n            clearInterval(that.onChangeInterval);\n            $(that.suggestionsContainer).hide();\n            that.signalHint(null);\n        },\n\n        suggest: function () {\n            if (!this.suggestions.length) {\n                if (this.options.showNoSuggestionNotice) {\n                    this.noSuggestions();\n                } else {\n                    this.hide();\n                }\n                return;\n            }\n\n            var that = this,\n                options = that.options,\n                groupBy = options.groupBy,\n                formatResult = options.formatResult,\n                value = that.getQuery(that.currentValue),\n                className = that.classes.suggestion,\n                classSelected = that.classes.selected,\n                container = $(that.suggestionsContainer),\n                noSuggestionsContainer = $(that.noSuggestionsContainer),\n                beforeRender = options.beforeRender,\n                html = '',\n                category,\n                formatGroup = function (suggestion, index) {\n                        var currentCategory = suggestion.data[groupBy];\n\n                        if (category === currentCategory){\n                            return '';\n                        }\n\n                        category = currentCategory;\n\n                        return '<div class=\"autocomplete-group\"><strong>' + category + '</strong></div>';\n                    };\n\n            if (options.triggerSelectOnValidInput && that.isExactMatch(value)) {\n                that.select(0);\n                return;\n            }\n\n            // Build suggestions inner HTML:\n            $.each(that.suggestions, function (i, suggestion) {\n                if (groupBy){\n                    html += formatGroup(suggestion, value, i);\n                }\n\n                html += '<div class=\"' + className + '\" data-index=\"' + i + '\">' + formatResult(suggestion, value, i) + '</div>';\n            });\n\n            this.adjustContainerWidth();\n\n            noSuggestionsContainer.detach();\n            container.html(html);\n\n            if ($.isFunction(beforeRender)) {\n                beforeRender.call(that.element, container, that.suggestions);\n            }\n\n            that.fixPosition();\n            container.show();\n\n            // Select first value by default:\n            if (options.autoSelectFirst) {\n                that.selectedIndex = 0;\n                container.scrollTop(0);\n                container.children('.' + className).first().addClass(classSelected);\n            }\n\n            that.visible = true;\n            that.findBestHint();\n        },\n\n        noSuggestions: function() {\n             var that = this,\n                 container = $(that.suggestionsContainer),\n                 noSuggestionsContainer = $(that.noSuggestionsContainer);\n\n            this.adjustContainerWidth();\n\n            // Some explicit steps. Be careful here as it easy to get\n            // noSuggestionsContainer removed from DOM if not detached properly.\n            noSuggestionsContainer.detach();\n            container.empty(); // clean suggestions if any\n            container.append(noSuggestionsContainer);\n\n            that.fixPosition();\n\n            container.show();\n            that.visible = true;\n        },\n\n        adjustContainerWidth: function() {\n            var that = this,\n                options = that.options,\n                width,\n                container = $(that.suggestionsContainer);\n\n            // If width is auto, adjust width before displaying suggestions,\n            // because if instance was created before input had width, it will be zero.\n            // Also it adjusts if input width has changed.\n            if (options.width === 'auto') {\n                width = that.el.outerWidth();\n                container.css('width', width > 0 ? width : 300);\n            }\n        },\n\n        findBestHint: function () {\n            var that = this,\n                value = that.el.val().toLowerCase(),\n                bestMatch = null;\n\n            if (!value) {\n                return;\n            }\n\n            $.each(that.suggestions, function (i, suggestion) {\n                var foundMatch = suggestion.value.toLowerCase().indexOf(value) === 0;\n                if (foundMatch) {\n                    bestMatch = suggestion;\n                }\n                return !foundMatch;\n            });\n\n            that.signalHint(bestMatch);\n        },\n\n        signalHint: function (suggestion) {\n            var hintValue = '',\n                that = this;\n            if (suggestion) {\n                hintValue = that.currentValue + suggestion.value.substr(that.currentValue.length);\n            }\n            if (that.hintValue !== hintValue) {\n                that.hintValue = hintValue;\n                that.hint = suggestion;\n                (this.options.onHint || $.noop)(hintValue);\n            }\n        },\n\n        verifySuggestionsFormat: function (suggestions) {\n            // If suggestions is string array, convert them to supported format:\n            if (suggestions.length && typeof suggestions[0] === 'string') {\n                return $.map(suggestions, function (value) {\n                    return { value: value, data: null };\n                });\n            }\n\n            return suggestions;\n        },\n\n        validateOrientation: function(orientation, fallback) {\n            orientation = $.trim(orientation || '').toLowerCase();\n\n            if($.inArray(orientation, ['auto', 'bottom', 'top']) === -1){\n                orientation = fallback;\n            }\n\n            return orientation;\n        },\n\n        processResponse: function (result, originalQuery, cacheKey) {\n            var that = this,\n                options = that.options;\n\n            result.suggestions = that.verifySuggestionsFormat(result.suggestions);\n\n            // Cache results if cache is not disabled:\n            if (!options.noCache) {\n                that.cachedResponse[cacheKey] = result;\n                if (options.preventBadQueries && !result.suggestions.length) {\n                    that.badQueries.push(originalQuery);\n                }\n            }\n\n            // Return if originalQuery is not matching current query:\n            if (originalQuery !== that.getQuery(that.currentValue)) {\n                return;\n            }\n\n            that.suggestions = result.suggestions;\n            that.suggest();\n        },\n\n        activate: function (index) {\n            var that = this,\n                activeItem,\n                selected = that.classes.selected,\n                container = $(that.suggestionsContainer),\n                children = container.find('.' + that.classes.suggestion);\n\n            container.find('.' + selected).removeClass(selected);\n\n            that.selectedIndex = index;\n\n            if (that.selectedIndex !== -1 && children.length > that.selectedIndex) {\n                activeItem = children.get(that.selectedIndex);\n                $(activeItem).addClass(selected);\n                return activeItem;\n            }\n\n            return null;\n        },\n\n        selectHint: function () {\n            var that = this,\n                i = $.inArray(that.hint, that.suggestions);\n\n            that.select(i);\n        },\n\n        select: function (i) {\n            var that = this;\n            that.hide();\n            that.onSelect(i);\n            that.disableKillerFn();\n        },\n\n        moveUp: function () {\n            var that = this;\n\n            if (that.selectedIndex === -1) {\n                return;\n            }\n\n            if (that.selectedIndex === 0) {\n                $(that.suggestionsContainer).children().first().removeClass(that.classes.selected);\n                that.selectedIndex = -1;\n                that.el.val(that.currentValue);\n                that.findBestHint();\n                return;\n            }\n\n            that.adjustScroll(that.selectedIndex - 1);\n        },\n\n        moveDown: function () {\n            var that = this;\n\n            if (that.selectedIndex === (that.suggestions.length - 1)) {\n                return;\n            }\n\n            that.adjustScroll(that.selectedIndex + 1);\n        },\n\n        adjustScroll: function (index) {\n            var that = this,\n                activeItem = that.activate(index);\n\n            if (!activeItem) {\n                return;\n            }\n\n            var offsetTop,\n                upperBound,\n                lowerBound,\n                heightDelta = $(activeItem).outerHeight();\n\n            offsetTop = activeItem.offsetTop;\n            upperBound = $(that.suggestionsContainer).scrollTop();\n            lowerBound = upperBound + that.options.maxHeight - heightDelta;\n\n            if (offsetTop < upperBound) {\n                $(that.suggestionsContainer).scrollTop(offsetTop);\n            } else if (offsetTop > lowerBound) {\n                $(that.suggestionsContainer).scrollTop(offsetTop - that.options.maxHeight + heightDelta);\n            }\n\n            if (!that.options.preserveInput) {\n                that.el.val(that.getValue(that.suggestions[index].value));\n            }\n            that.signalHint(null);\n        },\n\n        onSelect: function (index) {\n            var that = this,\n                onSelectCallback = that.options.onSelect,\n                suggestion = that.suggestions[index];\n\n            that.currentValue = that.getValue(suggestion.value);\n\n            if (that.currentValue !== that.el.val() && !that.options.preserveInput) {\n                that.el.val(that.currentValue);\n            }\n\n            that.signalHint(null);\n            that.suggestions = [];\n            that.selection = suggestion;\n\n            if ($.isFunction(onSelectCallback)) {\n                onSelectCallback.call(that.element, suggestion);\n            }\n        },\n\n        getValue: function (value) {\n            var that = this,\n                delimiter = that.options.delimiter,\n                currentValue,\n                parts;\n\n            if (!delimiter) {\n                return value;\n            }\n\n            currentValue = that.currentValue;\n            parts = currentValue.split(delimiter);\n\n            if (parts.length === 1) {\n                return value;\n            }\n\n            return currentValue.substr(0, currentValue.length - parts[parts.length - 1].length) + value;\n        },\n\n        dispose: function () {\n            var that = this;\n            that.el.off('.autocomplete').removeData('autocomplete');\n            that.disableKillerFn();\n            $(window).off('resize.autocomplete', that.fixPositionCapture);\n            $(that.suggestionsContainer).remove();\n        }\n    };\n\n    // Create chainable jQuery plugin:\n    $.fn.autocomplete = $.fn.devbridgeAutocomplete = function (options, args) {\n        var dataKey = 'autocomplete';\n        // If function invoked without argument return\n        // instance of the first matched element:\n        if (!arguments.length) {\n            return this.first().data(dataKey);\n        }\n\n        return this.each(function () {\n            var inputElement = $(this),\n                instance = inputElement.data(dataKey);\n\n            if (typeof options === 'string') {\n                if (instance && typeof instance[options] === 'function') {\n                    instance[options](args);\n                }\n            } else {\n                // If instance already exists, destroy it:\n                if (instance && instance.dispose) {\n                    instance.dispose();\n                }\n                instance = new Autocomplete(this, options);\n                inputElement.data(dataKey, instance);\n            }\n        });\n    };\n}));\n","/*! Magnific Popup - v1.1.0 - 2016-02-20\n* http://dimsemenov.com/plugins/magnific-popup/\n* Copyright (c) 2016 Dmitry Semenov; */\n;(function (factory) { \nif (typeof define === 'function' && define.amd) { \n // AMD. Register as an anonymous module. \n define(['jquery'], factory); \n } else if (typeof exports === 'object') { \n // Node/CommonJS \n factory(require('jquery')); \n } else { \n // Browser globals \n factory(window.jQuery || window.Zepto); \n } \n }(function($) { \n\n/*>>core*/\n/**\n * \n * Magnific Popup Core JS file\n * \n */\n\n\n/**\n * Private static constants\n */\nvar CLOSE_EVENT = 'Close',\n\tBEFORE_CLOSE_EVENT = 'BeforeClose',\n\tAFTER_CLOSE_EVENT = 'AfterClose',\n\tBEFORE_APPEND_EVENT = 'BeforeAppend',\n\tMARKUP_PARSE_EVENT = 'MarkupParse',\n\tOPEN_EVENT = 'Open',\n\tCHANGE_EVENT = 'Change',\n\tNS = 'mfp',\n\tEVENT_NS = '.' + NS,\n\tREADY_CLASS = 'mfp-ready',\n\tREMOVING_CLASS = 'mfp-removing',\n\tPREVENT_CLOSE_CLASS = 'mfp-prevent-close';\n\n\n/**\n * Private vars \n */\n/*jshint -W079 */\nvar mfp, // As we have only one instance of MagnificPopup object, we define it locally to not to use 'this'\n\tMagnificPopup = function(){},\n\t_isJQ = !!(window.jQuery),\n\t_prevStatus,\n\t_window = $(window),\n\t_document,\n\t_prevContentType,\n\t_wrapClasses,\n\t_currPopupType;\n\n\n/**\n * Private functions\n */\nvar _mfpOn = function(name, f) {\n\t\tmfp.ev.on(NS + name + EVENT_NS, f);\n\t},\n\t_getEl = function(className, appendTo, html, raw) {\n\t\tvar el = document.createElement('div');\n\t\tel.className = 'mfp-'+className;\n\t\tif(html) {\n\t\t\tel.innerHTML = html;\n\t\t}\n\t\tif(!raw) {\n\t\t\tel = $(el);\n\t\t\tif(appendTo) {\n\t\t\t\tel.appendTo(appendTo);\n\t\t\t}\n\t\t} else if(appendTo) {\n\t\t\tappendTo.appendChild(el);\n\t\t}\n\t\treturn el;\n\t},\n\t_mfpTrigger = function(e, data) {\n\t\tmfp.ev.triggerHandler(NS + e, data);\n\n\t\tif(mfp.st.callbacks) {\n\t\t\t// converts \"mfpEventName\" to \"eventName\" callback and triggers it if it's present\n\t\t\te = e.charAt(0).toLowerCase() + e.slice(1);\n\t\t\tif(mfp.st.callbacks[e]) {\n\t\t\t\tmfp.st.callbacks[e].apply(mfp, $.isArray(data) ? data : [data]);\n\t\t\t}\n\t\t}\n\t},\n\t_getCloseBtn = function(type) {\n\t\tif(type !== _currPopupType || !mfp.currTemplate.closeBtn) {\n\t\t\tmfp.currTemplate.closeBtn = $( mfp.st.closeMarkup.replace('%title%', mfp.st.tClose ) );\n\t\t\t_currPopupType = type;\n\t\t}\n\t\treturn mfp.currTemplate.closeBtn;\n\t},\n\t// Initialize Magnific Popup only when called at least once\n\t_checkInstance = function() {\n\t\tif(!$.magnificPopup.instance) {\n\t\t\t/*jshint -W020 */\n\t\t\tmfp = new MagnificPopup();\n\t\t\tmfp.init();\n\t\t\t$.magnificPopup.instance = mfp;\n\t\t}\n\t},\n\t// CSS transition detection, http://stackoverflow.com/questions/7264899/detect-css-transitions-using-javascript-and-without-modernizr\n\tsupportsTransitions = function() {\n\t\tvar s = document.createElement('p').style, // 's' for style. better to create an element if body yet to exist\n\t\t\tv = ['ms','O','Moz','Webkit']; // 'v' for vendor\n\n\t\tif( s['transition'] !== undefined ) {\n\t\t\treturn true; \n\t\t}\n\t\t\t\n\t\twhile( v.length ) {\n\t\t\tif( v.pop() + 'Transition' in s ) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\t\t\t\n\t\treturn false;\n\t};\n\n\n\n/**\n * Public functions\n */\nMagnificPopup.prototype = {\n\n\tconstructor: MagnificPopup,\n\n\t/**\n\t * Initializes Magnific Popup plugin. \n\t * This function is triggered only once when $.fn.magnificPopup or $.magnificPopup is executed\n\t */\n\tinit: function() {\n\t\tvar appVersion = navigator.appVersion;\n\t\tmfp.isLowIE = mfp.isIE8 = document.all && !document.addEventListener;\n\t\tmfp.isAndroid = (/android/gi).test(appVersion);\n\t\tmfp.isIOS = (/iphone|ipad|ipod/gi).test(appVersion);\n\t\tmfp.supportsTransition = supportsTransitions();\n\n\t\t// We disable fixed positioned lightbox on devices that don't handle it nicely.\n\t\t// If you know a better way of detecting this - let me know.\n\t\tmfp.probablyMobile = (mfp.isAndroid || mfp.isIOS || /(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent) );\n\t\t_document = $(document);\n\n\t\tmfp.popupsCache = {};\n\t},\n\n\t/**\n\t * Opens popup\n\t * @param  data [description]\n\t */\n\topen: function(data) {\n\n\t\tvar i;\n\n\t\tif(data.isObj === false) { \n\t\t\t// convert jQuery collection to array to avoid conflicts later\n\t\t\tmfp.items = data.items.toArray();\n\n\t\t\tmfp.index = 0;\n\t\t\tvar items = data.items,\n\t\t\t\titem;\n\t\t\tfor(i = 0; i < items.length; i++) {\n\t\t\t\titem = items[i];\n\t\t\t\tif(item.parsed) {\n\t\t\t\t\titem = item.el[0];\n\t\t\t\t}\n\t\t\t\tif(item === data.el[0]) {\n\t\t\t\t\tmfp.index = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tmfp.items = $.isArray(data.items) ? data.items : [data.items];\n\t\t\tmfp.index = data.index || 0;\n\t\t}\n\n\t\t// if popup is already opened - we just update the content\n\t\tif(mfp.isOpen) {\n\t\t\tmfp.updateItemHTML();\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tmfp.types = []; \n\t\t_wrapClasses = '';\n\t\tif(data.mainEl && data.mainEl.length) {\n\t\t\tmfp.ev = data.mainEl.eq(0);\n\t\t} else {\n\t\t\tmfp.ev = _document;\n\t\t}\n\n\t\tif(data.key) {\n\t\t\tif(!mfp.popupsCache[data.key]) {\n\t\t\t\tmfp.popupsCache[data.key] = {};\n\t\t\t}\n\t\t\tmfp.currTemplate = mfp.popupsCache[data.key];\n\t\t} else {\n\t\t\tmfp.currTemplate = {};\n\t\t}\n\n\n\n\t\tmfp.st = $.extend(true, {}, $.magnificPopup.defaults, data ); \n\t\tmfp.fixedContentPos = mfp.st.fixedContentPos === 'auto' ? !mfp.probablyMobile : mfp.st.fixedContentPos;\n\n\t\tif(mfp.st.modal) {\n\t\t\tmfp.st.closeOnContentClick = false;\n\t\t\tmfp.st.closeOnBgClick = false;\n\t\t\tmfp.st.showCloseBtn = false;\n\t\t\tmfp.st.enableEscapeKey = false;\n\t\t}\n\t\t\n\n\t\t// Building markup\n\t\t// main containers are created only once\n\t\tif(!mfp.bgOverlay) {\n\n\t\t\t// Dark overlay\n\t\t\tmfp.bgOverlay = _getEl('bg').on('click'+EVENT_NS, function() {\n\t\t\t\tmfp.close();\n\t\t\t});\n\n\t\t\tmfp.wrap = _getEl('wrap').attr('tabindex', -1).on('click'+EVENT_NS, function(e) {\n\t\t\t\tif(mfp._checkIfClose(e.target)) {\n\t\t\t\t\tmfp.close();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tmfp.container = _getEl('container', mfp.wrap);\n\t\t}\n\n\t\tmfp.contentContainer = _getEl('content');\n\t\tif(mfp.st.preloader) {\n\t\t\tmfp.preloader = _getEl('preloader', mfp.container, mfp.st.tLoading);\n\t\t}\n\n\n\t\t// Initializing modules\n\t\tvar modules = $.magnificPopup.modules;\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar n = modules[i];\n\t\t\tn = n.charAt(0).toUpperCase() + n.slice(1);\n\t\t\tmfp['init'+n].call(mfp);\n\t\t}\n\t\t_mfpTrigger('BeforeOpen');\n\n\n\t\tif(mfp.st.showCloseBtn) {\n\t\t\t// Close button\n\t\t\tif(!mfp.st.closeBtnInside) {\n\t\t\t\tmfp.wrap.append( _getCloseBtn() );\n\t\t\t} else {\n\t\t\t\t_mfpOn(MARKUP_PARSE_EVENT, function(e, template, values, item) {\n\t\t\t\t\tvalues.close_replaceWith = _getCloseBtn(item.type);\n\t\t\t\t});\n\t\t\t\t_wrapClasses += ' mfp-close-btn-in';\n\t\t\t}\n\t\t}\n\n\t\tif(mfp.st.alignTop) {\n\t\t\t_wrapClasses += ' mfp-align-top';\n\t\t}\n\n\t\n\n\t\tif(mfp.fixedContentPos) {\n\t\t\tmfp.wrap.css({\n\t\t\t\toverflow: mfp.st.overflowY,\n\t\t\t\toverflowX: 'hidden',\n\t\t\t\toverflowY: mfp.st.overflowY\n\t\t\t});\n\t\t} else {\n\t\t\tmfp.wrap.css({ \n\t\t\t\ttop: _window.scrollTop(),\n\t\t\t\tposition: 'absolute'\n\t\t\t});\n\t\t}\n\t\tif( mfp.st.fixedBgPos === false || (mfp.st.fixedBgPos === 'auto' && !mfp.fixedContentPos) ) {\n\t\t\tmfp.bgOverlay.css({\n\t\t\t\theight: _document.height(),\n\t\t\t\tposition: 'absolute'\n\t\t\t});\n\t\t}\n\n\t\t\n\n\t\tif(mfp.st.enableEscapeKey) {\n\t\t\t// Close on ESC key\n\t\t\t_document.on('keyup' + EVENT_NS, function(e) {\n\t\t\t\tif(e.keyCode === 27) {\n\t\t\t\t\tmfp.close();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\t_window.on('resize' + EVENT_NS, function() {\n\t\t\tmfp.updateSize();\n\t\t});\n\n\n\t\tif(!mfp.st.closeOnContentClick) {\n\t\t\t_wrapClasses += ' mfp-auto-cursor';\n\t\t}\n\t\t\n\t\tif(_wrapClasses)\n\t\t\tmfp.wrap.addClass(_wrapClasses);\n\n\n\t\t// this triggers recalculation of layout, so we get it once to not to trigger twice\n\t\tvar windowHeight = mfp.wH = _window.height();\n\n\t\t\n\t\tvar windowStyles = {};\n\n\t\tif( mfp.fixedContentPos ) {\n            if(mfp._hasScrollBar(windowHeight)){\n                var s = mfp._getScrollbarSize();\n                if(s) {\n                    windowStyles.marginRight = s;\n                }\n            }\n        }\n\n\t\tif(mfp.fixedContentPos) {\n\t\t\tif(!mfp.isIE7) {\n\t\t\t\twindowStyles.overflow = 'hidden';\n\t\t\t} else {\n\t\t\t\t// ie7 double-scroll bug\n\t\t\t\t$('body, html').css('overflow', 'hidden');\n\t\t\t}\n\t\t}\n\n\t\t\n\t\t\n\t\tvar classesToadd = mfp.st.mainClass;\n\t\tif(mfp.isIE7) {\n\t\t\tclassesToadd += ' mfp-ie7';\n\t\t}\n\t\tif(classesToadd) {\n\t\t\tmfp._addClassToMFP( classesToadd );\n\t\t}\n\n\t\t// add content\n\t\tmfp.updateItemHTML();\n\n\t\t_mfpTrigger('BuildControls');\n\n\t\t// remove scrollbar, add margin e.t.c\n\t\t$('html').css(windowStyles);\n\t\t\n\t\t// add everything to DOM\n\t\tmfp.bgOverlay.add(mfp.wrap).prependTo( mfp.st.prependTo || $(document.body) );\n\n\t\t// Save last focused element\n\t\tmfp._lastFocusedEl = document.activeElement;\n\t\t\n\t\t// Wait for next cycle to allow CSS transition\n\t\tsetTimeout(function() {\n\t\t\t\n\t\t\tif(mfp.content) {\n\t\t\t\tmfp._addClassToMFP(READY_CLASS);\n\t\t\t\tmfp._setFocus();\n\t\t\t} else {\n\t\t\t\t// if content is not defined (not loaded e.t.c) we add class only for BG\n\t\t\t\tmfp.bgOverlay.addClass(READY_CLASS);\n\t\t\t}\n\t\t\t\n\t\t\t// Trap the focus in popup\n\t\t\t_document.on('focusin' + EVENT_NS, mfp._onFocusIn);\n\n\t\t}, 16);\n\n\t\tmfp.isOpen = true;\n\t\tmfp.updateSize(windowHeight);\n\t\t_mfpTrigger(OPEN_EVENT);\n\n\t\treturn data;\n\t},\n\n\t/**\n\t * Closes the popup\n\t */\n\tclose: function() {\n\t\tif(!mfp.isOpen) return;\n\t\t_mfpTrigger(BEFORE_CLOSE_EVENT);\n\n\t\tmfp.isOpen = false;\n\t\t// for CSS3 animation\n\t\tif(mfp.st.removalDelay && !mfp.isLowIE && mfp.supportsTransition )  {\n\t\t\tmfp._addClassToMFP(REMOVING_CLASS);\n\t\t\tsetTimeout(function() {\n\t\t\t\tmfp._close();\n\t\t\t}, mfp.st.removalDelay);\n\t\t} else {\n\t\t\tmfp._close();\n\t\t}\n\t},\n\n\t/**\n\t * Helper for close() function\n\t */\n\t_close: function() {\n\t\t_mfpTrigger(CLOSE_EVENT);\n\n\t\tvar classesToRemove = REMOVING_CLASS + ' ' + READY_CLASS + ' ';\n\n\t\tmfp.bgOverlay.detach();\n\t\tmfp.wrap.detach();\n\t\tmfp.container.empty();\n\n\t\tif(mfp.st.mainClass) {\n\t\t\tclassesToRemove += mfp.st.mainClass + ' ';\n\t\t}\n\n\t\tmfp._removeClassFromMFP(classesToRemove);\n\n\t\tif(mfp.fixedContentPos) {\n\t\t\tvar windowStyles = {marginRight: ''};\n\t\t\tif(mfp.isIE7) {\n\t\t\t\t$('body, html').css('overflow', '');\n\t\t\t} else {\n\t\t\t\twindowStyles.overflow = '';\n\t\t\t}\n\t\t\t$('html').css(windowStyles);\n\t\t}\n\t\t\n\t\t_document.off('keyup' + EVENT_NS + ' focusin' + EVENT_NS);\n\t\tmfp.ev.off(EVENT_NS);\n\n\t\t// clean up DOM elements that aren't removed\n\t\tmfp.wrap.attr('class', 'mfp-wrap').removeAttr('style');\n\t\tmfp.bgOverlay.attr('class', 'mfp-bg');\n\t\tmfp.container.attr('class', 'mfp-container');\n\n\t\t// remove close button from target element\n\t\tif(mfp.st.showCloseBtn &&\n\t\t(!mfp.st.closeBtnInside || mfp.currTemplate[mfp.currItem.type] === true)) {\n\t\t\tif(mfp.currTemplate.closeBtn)\n\t\t\t\tmfp.currTemplate.closeBtn.detach();\n\t\t}\n\n\n\t\tif(mfp.st.autoFocusLast && mfp._lastFocusedEl) {\n\t\t\t$(mfp._lastFocusedEl).focus(); // put tab focus back\n\t\t}\n\t\tmfp.currItem = null;\t\n\t\tmfp.content = null;\n\t\tmfp.currTemplate = null;\n\t\tmfp.prevHeight = 0;\n\n\t\t_mfpTrigger(AFTER_CLOSE_EVENT);\n\t},\n\t\n\tupdateSize: function(winHeight) {\n\n\t\tif(mfp.isIOS) {\n\t\t\t// fixes iOS nav bars https://github.com/dimsemenov/Magnific-Popup/issues/2\n\t\t\tvar zoomLevel = document.documentElement.clientWidth / window.innerWidth;\n\t\t\tvar height = window.innerHeight * zoomLevel;\n\t\t\tmfp.wrap.css('height', height);\n\t\t\tmfp.wH = height;\n\t\t} else {\n\t\t\tmfp.wH = winHeight || _window.height();\n\t\t}\n\t\t// Fixes #84: popup incorrectly positioned with position:relative on body\n\t\tif(!mfp.fixedContentPos) {\n\t\t\tmfp.wrap.css('height', mfp.wH);\n\t\t}\n\n\t\t_mfpTrigger('Resize');\n\n\t},\n\n\t/**\n\t * Set content of popup based on current index\n\t */\n\tupdateItemHTML: function() {\n\t\tvar item = mfp.items[mfp.index];\n\n\t\t// Detach and perform modifications\n\t\tmfp.contentContainer.detach();\n\n\t\tif(mfp.content)\n\t\t\tmfp.content.detach();\n\n\t\tif(!item.parsed) {\n\t\t\titem = mfp.parseEl( mfp.index );\n\t\t}\n\n\t\tvar type = item.type;\n\n\t\t_mfpTrigger('BeforeChange', [mfp.currItem ? mfp.currItem.type : '', type]);\n\t\t// BeforeChange event works like so:\n\t\t// _mfpOn('BeforeChange', function(e, prevType, newType) { });\n\n\t\tmfp.currItem = item;\n\n\t\tif(!mfp.currTemplate[type]) {\n\t\t\tvar markup = mfp.st[type] ? mfp.st[type].markup : false;\n\n\t\t\t// allows to modify markup\n\t\t\t_mfpTrigger('FirstMarkupParse', markup);\n\n\t\t\tif(markup) {\n\t\t\t\tmfp.currTemplate[type] = $(markup);\n\t\t\t} else {\n\t\t\t\t// if there is no markup found we just define that template is parsed\n\t\t\t\tmfp.currTemplate[type] = true;\n\t\t\t}\n\t\t}\n\n\t\tif(_prevContentType && _prevContentType !== item.type) {\n\t\t\tmfp.container.removeClass('mfp-'+_prevContentType+'-holder');\n\t\t}\n\n\t\tvar newContent = mfp['get' + type.charAt(0).toUpperCase() + type.slice(1)](item, mfp.currTemplate[type]);\n\t\tmfp.appendContent(newContent, type);\n\n\t\titem.preloaded = true;\n\n\t\t_mfpTrigger(CHANGE_EVENT, item);\n\t\t_prevContentType = item.type;\n\n\t\t// Append container back after its content changed\n\t\tmfp.container.prepend(mfp.contentContainer);\n\n\t\t_mfpTrigger('AfterChange');\n\t},\n\n\n\t/**\n\t * Set HTML content of popup\n\t */\n\tappendContent: function(newContent, type) {\n\t\tmfp.content = newContent;\n\n\t\tif(newContent) {\n\t\t\tif(mfp.st.showCloseBtn && mfp.st.closeBtnInside &&\n\t\t\t\tmfp.currTemplate[type] === true) {\n\t\t\t\t// if there is no markup, we just append close button element inside\n\t\t\t\tif(!mfp.content.find('.mfp-close').length) {\n\t\t\t\t\tmfp.content.append(_getCloseBtn());\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tmfp.content = newContent;\n\t\t\t}\n\t\t} else {\n\t\t\tmfp.content = '';\n\t\t}\n\n\t\t_mfpTrigger(BEFORE_APPEND_EVENT);\n\t\tmfp.container.addClass('mfp-'+type+'-holder');\n\n\t\tmfp.contentContainer.append(mfp.content);\n\t},\n\n\n\t/**\n\t * Creates Magnific Popup data object based on given data\n\t * @param  {int} index Index of item to parse\n\t */\n\tparseEl: function(index) {\n\t\tvar item = mfp.items[index],\n\t\t\ttype;\n\n\t\tif(item.tagName) {\n\t\t\titem = { el: $(item) };\n\t\t} else {\n\t\t\ttype = item.type;\n\t\t\titem = { data: item, src: item.src };\n\t\t}\n\n\t\tif(item.el) {\n\t\t\tvar types = mfp.types;\n\n\t\t\t// check for 'mfp-TYPE' class\n\t\t\tfor(var i = 0; i < types.length; i++) {\n\t\t\t\tif( item.el.hasClass('mfp-'+types[i]) ) {\n\t\t\t\t\ttype = types[i];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\titem.src = item.el.attr('data-mfp-src');\n\t\t\tif(!item.src) {\n\t\t\t\titem.src = item.el.attr('href');\n\t\t\t}\n\t\t}\n\n\t\titem.type = type || mfp.st.type || 'inline';\n\t\titem.index = index;\n\t\titem.parsed = true;\n\t\tmfp.items[index] = item;\n\t\t_mfpTrigger('ElementParse', item);\n\n\t\treturn mfp.items[index];\n\t},\n\n\n\t/**\n\t * Initializes single popup or a group of popups\n\t */\n\taddGroup: function(el, options) {\n\t\tvar eHandler = function(e) {\n\t\t\te.mfpEl = this;\n\t\t\tmfp._openClick(e, el, options);\n\t\t};\n\n\t\tif(!options) {\n\t\t\toptions = {};\n\t\t}\n\n\t\tvar eName = 'click.magnificPopup';\n\t\toptions.mainEl = el;\n\n\t\tif(options.items) {\n\t\t\toptions.isObj = true;\n\t\t\tel.off(eName).on(eName, eHandler);\n\t\t} else {\n\t\t\toptions.isObj = false;\n\t\t\tif(options.delegate) {\n\t\t\t\tel.off(eName).on(eName, options.delegate , eHandler);\n\t\t\t} else {\n\t\t\t\toptions.items = el;\n\t\t\t\tel.off(eName).on(eName, eHandler);\n\t\t\t}\n\t\t}\n\t},\n\t_openClick: function(e, el, options) {\n\t\tvar midClick = options.midClick !== undefined ? options.midClick : $.magnificPopup.defaults.midClick;\n\n\n\t\tif(!midClick && ( e.which === 2 || e.ctrlKey || e.metaKey || e.altKey || e.shiftKey ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar disableOn = options.disableOn !== undefined ? options.disableOn : $.magnificPopup.defaults.disableOn;\n\n\t\tif(disableOn) {\n\t\t\tif($.isFunction(disableOn)) {\n\t\t\t\tif( !disableOn.call(mfp) ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t} else { // else it's number\n\t\t\t\tif( _window.width() < disableOn ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif(e.type) {\n\t\t\te.preventDefault();\n\n\t\t\t// This will prevent popup from closing if element is inside and popup is already opened\n\t\t\tif(mfp.isOpen) {\n\t\t\t\te.stopPropagation();\n\t\t\t}\n\t\t}\n\n\t\toptions.el = $(e.mfpEl);\n\t\tif(options.delegate) {\n\t\t\toptions.items = el.find(options.delegate);\n\t\t}\n\t\tmfp.open(options);\n\t},\n\n\n\t/**\n\t * Updates text on preloader\n\t */\n\tupdateStatus: function(status, text) {\n\n\t\tif(mfp.preloader) {\n\t\t\tif(_prevStatus !== status) {\n\t\t\t\tmfp.container.removeClass('mfp-s-'+_prevStatus);\n\t\t\t}\n\n\t\t\tif(!text && status === 'loading') {\n\t\t\t\ttext = mfp.st.tLoading;\n\t\t\t}\n\n\t\t\tvar data = {\n\t\t\t\tstatus: status,\n\t\t\t\ttext: text\n\t\t\t};\n\t\t\t// allows to modify status\n\t\t\t_mfpTrigger('UpdateStatus', data);\n\n\t\t\tstatus = data.status;\n\t\t\ttext = data.text;\n\n\t\t\tmfp.preloader.html(text);\n\n\t\t\tmfp.preloader.find('a').on('click', function(e) {\n\t\t\t\te.stopImmediatePropagation();\n\t\t\t});\n\n\t\t\tmfp.container.addClass('mfp-s-'+status);\n\t\t\t_prevStatus = status;\n\t\t}\n\t},\n\n\n\t/*\n\t\t\"Private\" helpers that aren't private at all\n\t */\n\t// Check to close popup or not\n\t// \"target\" is an element that was clicked\n\t_checkIfClose: function(target) {\n\n\t\tif($(target).hasClass(PREVENT_CLOSE_CLASS)) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar closeOnContent = mfp.st.closeOnContentClick;\n\t\tvar closeOnBg = mfp.st.closeOnBgClick;\n\n\t\tif(closeOnContent && closeOnBg) {\n\t\t\treturn true;\n\t\t} else {\n\n\t\t\t// We close the popup if click is on close button or on preloader. Or if there is no content.\n\t\t\tif(!mfp.content || $(target).hasClass('mfp-close') || (mfp.preloader && target === mfp.preloader[0]) ) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// if click is outside the content\n\t\t\tif(  (target !== mfp.content[0] && !$.contains(mfp.content[0], target))  ) {\n\t\t\t\tif(closeOnBg) {\n\t\t\t\t\t// last check, if the clicked element is in DOM, (in case it's removed onclick)\n\t\t\t\t\tif( $.contains(document, target) ) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if(closeOnContent) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t}\n\t\treturn false;\n\t},\n\t_addClassToMFP: function(cName) {\n\t\tmfp.bgOverlay.addClass(cName);\n\t\tmfp.wrap.addClass(cName);\n\t},\n\t_removeClassFromMFP: function(cName) {\n\t\tthis.bgOverlay.removeClass(cName);\n\t\tmfp.wrap.removeClass(cName);\n\t},\n\t_hasScrollBar: function(winHeight) {\n\t\treturn (  (mfp.isIE7 ? _document.height() : document.body.scrollHeight) > (winHeight || _window.height()) );\n\t},\n\t_setFocus: function() {\n\t\t(mfp.st.focus ? mfp.content.find(mfp.st.focus).eq(0) : mfp.wrap).focus();\n\t},\n\t_onFocusIn: function(e) {\n\t\tif( e.target !== mfp.wrap[0] && !$.contains(mfp.wrap[0], e.target) ) {\n\t\t\tmfp._setFocus();\n\t\t\treturn false;\n\t\t}\n\t},\n\t_parseMarkup: function(template, values, item) {\n\t\tvar arr;\n\t\tif(item.data) {\n\t\t\tvalues = $.extend(item.data, values);\n\t\t}\n\t\t_mfpTrigger(MARKUP_PARSE_EVENT, [template, values, item] );\n\n\t\t$.each(values, function(key, value) {\n\t\t\tif(value === undefined || value === false) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tarr = key.split('_');\n\t\t\tif(arr.length > 1) {\n\t\t\t\tvar el = template.find(EVENT_NS + '-'+arr[0]);\n\n\t\t\t\tif(el.length > 0) {\n\t\t\t\t\tvar attr = arr[1];\n\t\t\t\t\tif(attr === 'replaceWith') {\n\t\t\t\t\t\tif(el[0] !== value[0]) {\n\t\t\t\t\t\t\tel.replaceWith(value);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if(attr === 'img') {\n\t\t\t\t\t\tif(el.is('img')) {\n\t\t\t\t\t\t\tel.attr('src', value);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tel.replaceWith( $('<img>').attr('src', value).attr('class', el.attr('class')) );\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tel.attr(arr[1], value);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t} else {\n\t\t\t\ttemplate.find(EVENT_NS + '-'+key).html(value);\n\t\t\t}\n\t\t});\n\t},\n\n\t_getScrollbarSize: function() {\n\t\t// thx David\n\t\tif(mfp.scrollbarSize === undefined) {\n\t\t\tvar scrollDiv = document.createElement(\"div\");\n\t\t\tscrollDiv.style.cssText = 'width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;';\n\t\t\tdocument.body.appendChild(scrollDiv);\n\t\t\tmfp.scrollbarSize = scrollDiv.offsetWidth - scrollDiv.clientWidth;\n\t\t\tdocument.body.removeChild(scrollDiv);\n\t\t}\n\t\treturn mfp.scrollbarSize;\n\t}\n\n}; /* MagnificPopup core prototype end */\n\n\n\n\n/**\n * Public static functions\n */\n$.magnificPopup = {\n\tinstance: null,\n\tproto: MagnificPopup.prototype,\n\tmodules: [],\n\n\topen: function(options, index) {\n\t\t_checkInstance();\n\n\t\tif(!options) {\n\t\t\toptions = {};\n\t\t} else {\n\t\t\toptions = $.extend(true, {}, options);\n\t\t}\n\n\t\toptions.isObj = true;\n\t\toptions.index = index || 0;\n\t\treturn this.instance.open(options);\n\t},\n\n\tclose: function() {\n\t\treturn $.magnificPopup.instance && $.magnificPopup.instance.close();\n\t},\n\n\tregisterModule: function(name, module) {\n\t\tif(module.options) {\n\t\t\t$.magnificPopup.defaults[name] = module.options;\n\t\t}\n\t\t$.extend(this.proto, module.proto);\n\t\tthis.modules.push(name);\n\t},\n\n\tdefaults: {\n\n\t\t// Info about options is in docs:\n\t\t// http://dimsemenov.com/plugins/magnific-popup/documentation.html#options\n\n\t\tdisableOn: 0,\n\n\t\tkey: null,\n\n\t\tmidClick: false,\n\n\t\tmainClass: '',\n\n\t\tpreloader: true,\n\n\t\tfocus: '', // CSS selector of input to focus after popup is opened\n\n\t\tcloseOnContentClick: false,\n\n\t\tcloseOnBgClick: true,\n\n\t\tcloseBtnInside: true,\n\n\t\tshowCloseBtn: true,\n\n\t\tenableEscapeKey: true,\n\n\t\tmodal: false,\n\n\t\talignTop: false,\n\n\t\tremovalDelay: 0,\n\n\t\tprependTo: null,\n\n\t\tfixedContentPos: 'auto',\n\n\t\tfixedBgPos: 'auto',\n\n\t\toverflowY: 'auto',\n\n\t\tcloseMarkup: '<button title=\"%title%\" type=\"button\" class=\"mfp-close\">&#215;</button>',\n\n\t\ttClose: 'Close (Esc)',\n\n\t\ttLoading: 'Loading...',\n\n\t\tautoFocusLast: true\n\n\t}\n};\n\n\n\n$.fn.magnificPopup = function(options) {\n\t_checkInstance();\n\n\tvar jqEl = $(this);\n\n\t// We call some API method of first param is a string\n\tif (typeof options === \"string\" ) {\n\n\t\tif(options === 'open') {\n\t\t\tvar items,\n\t\t\t\titemOpts = _isJQ ? jqEl.data('magnificPopup') : jqEl[0].magnificPopup,\n\t\t\t\tindex = parseInt(arguments[1], 10) || 0;\n\n\t\t\tif(itemOpts.items) {\n\t\t\t\titems = itemOpts.items[index];\n\t\t\t} else {\n\t\t\t\titems = jqEl;\n\t\t\t\tif(itemOpts.delegate) {\n\t\t\t\t\titems = items.find(itemOpts.delegate);\n\t\t\t\t}\n\t\t\t\titems = items.eq( index );\n\t\t\t}\n\t\t\tmfp._openClick({mfpEl:items}, jqEl, itemOpts);\n\t\t} else {\n\t\t\tif(mfp.isOpen)\n\t\t\t\tmfp[options].apply(mfp, Array.prototype.slice.call(arguments, 1));\n\t\t}\n\n\t} else {\n\t\t// clone options obj\n\t\toptions = $.extend(true, {}, options);\n\n\t\t/*\n\t\t * As Zepto doesn't support .data() method for objects\n\t\t * and it works only in normal browsers\n\t\t * we assign \"options\" object directly to the DOM element. FTW!\n\t\t */\n\t\tif(_isJQ) {\n\t\t\tjqEl.data('magnificPopup', options);\n\t\t} else {\n\t\t\tjqEl[0].magnificPopup = options;\n\t\t}\n\n\t\tmfp.addGroup(jqEl, options);\n\n\t}\n\treturn jqEl;\n};\n\n/*>>core*/\n\n/*>>inline*/\n\nvar INLINE_NS = 'inline',\n\t_hiddenClass,\n\t_inlinePlaceholder,\n\t_lastInlineElement,\n\t_putInlineElementsBack = function() {\n\t\tif(_lastInlineElement) {\n\t\t\t_inlinePlaceholder.after( _lastInlineElement.addClass(_hiddenClass) ).detach();\n\t\t\t_lastInlineElement = null;\n\t\t}\n\t};\n\n$.magnificPopup.registerModule(INLINE_NS, {\n\toptions: {\n\t\thiddenClass: 'hide', // will be appended with `mfp-` prefix\n\t\tmarkup: '',\n\t\ttNotFound: 'Content not found'\n\t},\n\tproto: {\n\n\t\tinitInline: function() {\n\t\t\tmfp.types.push(INLINE_NS);\n\n\t\t\t_mfpOn(CLOSE_EVENT+'.'+INLINE_NS, function() {\n\t\t\t\t_putInlineElementsBack();\n\t\t\t});\n\t\t},\n\n\t\tgetInline: function(item, template) {\n\n\t\t\t_putInlineElementsBack();\n\n\t\t\tif(item.src) {\n\t\t\t\tvar inlineSt = mfp.st.inline,\n\t\t\t\t\tel = $(item.src);\n\n\t\t\t\tif(el.length) {\n\n\t\t\t\t\t// If target element has parent - we replace it with placeholder and put it back after popup is closed\n\t\t\t\t\tvar parent = el[0].parentNode;\n\t\t\t\t\tif(parent && parent.tagName) {\n\t\t\t\t\t\tif(!_inlinePlaceholder) {\n\t\t\t\t\t\t\t_hiddenClass = inlineSt.hiddenClass;\n\t\t\t\t\t\t\t_inlinePlaceholder = _getEl(_hiddenClass);\n\t\t\t\t\t\t\t_hiddenClass = 'mfp-'+_hiddenClass;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// replace target inline element with placeholder\n\t\t\t\t\t\t_lastInlineElement = el.after(_inlinePlaceholder).detach().removeClass(_hiddenClass);\n\t\t\t\t\t}\n\n\t\t\t\t\tmfp.updateStatus('ready');\n\t\t\t\t} else {\n\t\t\t\t\tmfp.updateStatus('error', inlineSt.tNotFound);\n\t\t\t\t\tel = $('<div>');\n\t\t\t\t}\n\n\t\t\t\titem.inlineElement = el;\n\t\t\t\treturn el;\n\t\t\t}\n\n\t\t\tmfp.updateStatus('ready');\n\t\t\tmfp._parseMarkup(template, {}, item);\n\t\t\treturn template;\n\t\t}\n\t}\n});\n\n/*>>inline*/\n\n/*>>ajax*/\nvar AJAX_NS = 'ajax',\n\t_ajaxCur,\n\t_removeAjaxCursor = function() {\n\t\tif(_ajaxCur) {\n\t\t\t$(document.body).removeClass(_ajaxCur);\n\t\t}\n\t},\n\t_destroyAjaxRequest = function() {\n\t\t_removeAjaxCursor();\n\t\tif(mfp.req) {\n\t\t\tmfp.req.abort();\n\t\t}\n\t};\n\n$.magnificPopup.registerModule(AJAX_NS, {\n\n\toptions: {\n\t\tsettings: null,\n\t\tcursor: 'mfp-ajax-cur',\n\t\ttError: '<a href=\"%url%\">The content</a> could not be loaded.'\n\t},\n\n\tproto: {\n\t\tinitAjax: function() {\n\t\t\tmfp.types.push(AJAX_NS);\n\t\t\t_ajaxCur = mfp.st.ajax.cursor;\n\n\t\t\t_mfpOn(CLOSE_EVENT+'.'+AJAX_NS, _destroyAjaxRequest);\n\t\t\t_mfpOn('BeforeChange.' + AJAX_NS, _destroyAjaxRequest);\n\t\t},\n\t\tgetAjax: function(item) {\n\n\t\t\tif(_ajaxCur) {\n\t\t\t\t$(document.body).addClass(_ajaxCur);\n\t\t\t}\n\n\t\t\tmfp.updateStatus('loading');\n\n\t\t\tvar opts = $.extend({\n\t\t\t\turl: item.src,\n\t\t\t\tsuccess: function(data, textStatus, jqXHR) {\n\t\t\t\t\tvar temp = {\n\t\t\t\t\t\tdata:data,\n\t\t\t\t\t\txhr:jqXHR\n\t\t\t\t\t};\n\n\t\t\t\t\t_mfpTrigger('ParseAjax', temp);\n\n\t\t\t\t\tmfp.appendContent( $(temp.data), AJAX_NS );\n\n\t\t\t\t\titem.finished = true;\n\n\t\t\t\t\t_removeAjaxCursor();\n\n\t\t\t\t\tmfp._setFocus();\n\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tmfp.wrap.addClass(READY_CLASS);\n\t\t\t\t\t}, 16);\n\n\t\t\t\t\tmfp.updateStatus('ready');\n\n\t\t\t\t\t_mfpTrigger('AjaxContentAdded');\n\t\t\t\t},\n\t\t\t\terror: function() {\n\t\t\t\t\t_removeAjaxCursor();\n\t\t\t\t\titem.finished = item.loadError = true;\n\t\t\t\t\tmfp.updateStatus('error', mfp.st.ajax.tError.replace('%url%', item.src));\n\t\t\t\t}\n\t\t\t}, mfp.st.ajax.settings);\n\n\t\t\tmfp.req = $.ajax(opts);\n\n\t\t\treturn '';\n\t\t}\n\t}\n});\n\n/*>>ajax*/\n\n/*>>image*/\nvar _imgInterval,\n\t_getTitle = function(item) {\n\t\tif(item.data && item.data.title !== undefined)\n\t\t\treturn item.data.title;\n\n\t\tvar src = mfp.st.image.titleSrc;\n\n\t\tif(src) {\n\t\t\tif($.isFunction(src)) {\n\t\t\t\treturn src.call(mfp, item);\n\t\t\t} else if(item.el) {\n\t\t\t\treturn item.el.attr(src) || '';\n\t\t\t}\n\t\t}\n\t\treturn '';\n\t};\n\n$.magnificPopup.registerModule('image', {\n\n\toptions: {\n\t\tmarkup: '<div class=\"mfp-figure\">'+\n\t\t\t\t\t'<div class=\"mfp-close\"></div>'+\n\t\t\t\t\t'<figure>'+\n\t\t\t\t\t\t'<div class=\"mfp-img\"></div>'+\n\t\t\t\t\t\t'<figcaption>'+\n\t\t\t\t\t\t\t'<div class=\"mfp-bottom-bar\">'+\n\t\t\t\t\t\t\t\t'<div class=\"mfp-title\"></div>'+\n\t\t\t\t\t\t\t\t'<div class=\"mfp-counter\"></div>'+\n\t\t\t\t\t\t\t'</div>'+\n\t\t\t\t\t\t'</figcaption>'+\n\t\t\t\t\t'</figure>'+\n\t\t\t\t'</div>',\n\t\tcursor: 'mfp-zoom-out-cur',\n\t\ttitleSrc: 'title',\n\t\tverticalFit: true,\n\t\ttError: '<a href=\"%url%\">The image</a> could not be loaded.'\n\t},\n\n\tproto: {\n\t\tinitImage: function() {\n\t\t\tvar imgSt = mfp.st.image,\n\t\t\t\tns = '.image';\n\n\t\t\tmfp.types.push('image');\n\n\t\t\t_mfpOn(OPEN_EVENT+ns, function() {\n\t\t\t\tif(mfp.currItem.type === 'image' && imgSt.cursor) {\n\t\t\t\t\t$(document.body).addClass(imgSt.cursor);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t_mfpOn(CLOSE_EVENT+ns, function() {\n\t\t\t\tif(imgSt.cursor) {\n\t\t\t\t\t$(document.body).removeClass(imgSt.cursor);\n\t\t\t\t}\n\t\t\t\t_window.off('resize' + EVENT_NS);\n\t\t\t});\n\n\t\t\t_mfpOn('Resize'+ns, mfp.resizeImage);\n\t\t\tif(mfp.isLowIE) {\n\t\t\t\t_mfpOn('AfterChange', mfp.resizeImage);\n\t\t\t}\n\t\t},\n\t\tresizeImage: function() {\n\t\t\tvar item = mfp.currItem;\n\t\t\tif(!item || !item.img) return;\n\n\t\t\tif(mfp.st.image.verticalFit) {\n\t\t\t\tvar decr = 0;\n\t\t\t\t// fix box-sizing in ie7/8\n\t\t\t\tif(mfp.isLowIE) {\n\t\t\t\t\tdecr = parseInt(item.img.css('padding-top'), 10) + parseInt(item.img.css('padding-bottom'),10);\n\t\t\t\t}\n\t\t\t\titem.img.css('max-height', mfp.wH-decr);\n\t\t\t}\n\t\t},\n\t\t_onImageHasSize: function(item) {\n\t\t\tif(item.img) {\n\n\t\t\t\titem.hasSize = true;\n\n\t\t\t\tif(_imgInterval) {\n\t\t\t\t\tclearInterval(_imgInterval);\n\t\t\t\t}\n\n\t\t\t\titem.isCheckingImgSize = false;\n\n\t\t\t\t_mfpTrigger('ImageHasSize', item);\n\n\t\t\t\tif(item.imgHidden) {\n\t\t\t\t\tif(mfp.content)\n\t\t\t\t\t\tmfp.content.removeClass('mfp-loading');\n\n\t\t\t\t\titem.imgHidden = false;\n\t\t\t\t}\n\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Function that loops until the image has size to display elements that rely on it asap\n\t\t */\n\t\tfindImageSize: function(item) {\n\n\t\t\tvar counter = 0,\n\t\t\t\timg = item.img[0],\n\t\t\t\tmfpSetInterval = function(delay) {\n\n\t\t\t\t\tif(_imgInterval) {\n\t\t\t\t\t\tclearInterval(_imgInterval);\n\t\t\t\t\t}\n\t\t\t\t\t// decelerating interval that checks for size of an image\n\t\t\t\t\t_imgInterval = setInterval(function() {\n\t\t\t\t\t\tif(img.naturalWidth > 0) {\n\t\t\t\t\t\t\tmfp._onImageHasSize(item);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif(counter > 200) {\n\t\t\t\t\t\t\tclearInterval(_imgInterval);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tcounter++;\n\t\t\t\t\t\tif(counter === 3) {\n\t\t\t\t\t\t\tmfpSetInterval(10);\n\t\t\t\t\t\t} else if(counter === 40) {\n\t\t\t\t\t\t\tmfpSetInterval(50);\n\t\t\t\t\t\t} else if(counter === 100) {\n\t\t\t\t\t\t\tmfpSetInterval(500);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, delay);\n\t\t\t\t};\n\n\t\t\tmfpSetInterval(1);\n\t\t},\n\n\t\tgetImage: function(item, template) {\n\n\t\t\tvar guard = 0,\n\n\t\t\t\t// image load complete handler\n\t\t\t\tonLoadComplete = function() {\n\t\t\t\t\tif(item) {\n\t\t\t\t\t\tif (item.img[0].complete) {\n\t\t\t\t\t\t\titem.img.off('.mfploader');\n\n\t\t\t\t\t\t\tif(item === mfp.currItem){\n\t\t\t\t\t\t\t\tmfp._onImageHasSize(item);\n\n\t\t\t\t\t\t\t\tmfp.updateStatus('ready');\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\titem.hasSize = true;\n\t\t\t\t\t\t\titem.loaded = true;\n\n\t\t\t\t\t\t\t_mfpTrigger('ImageLoadComplete');\n\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t// if image complete check fails 200 times (20 sec), we assume that there was an error.\n\t\t\t\t\t\t\tguard++;\n\t\t\t\t\t\t\tif(guard < 200) {\n\t\t\t\t\t\t\t\tsetTimeout(onLoadComplete,100);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tonLoadError();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\t// image error handler\n\t\t\t\tonLoadError = function() {\n\t\t\t\t\tif(item) {\n\t\t\t\t\t\titem.img.off('.mfploader');\n\t\t\t\t\t\tif(item === mfp.currItem){\n\t\t\t\t\t\t\tmfp._onImageHasSize(item);\n\t\t\t\t\t\t\tmfp.updateStatus('error', imgSt.tError.replace('%url%', item.src) );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\titem.hasSize = true;\n\t\t\t\t\t\titem.loaded = true;\n\t\t\t\t\t\titem.loadError = true;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\timgSt = mfp.st.image;\n\n\n\t\t\tvar el = template.find('.mfp-img');\n\t\t\tif(el.length) {\n\t\t\t\tvar img = document.createElement('img');\n\t\t\t\timg.className = 'mfp-img';\n\t\t\t\tif(item.el && item.el.find('img').length) {\n\t\t\t\t\timg.alt = item.el.find('img').attr('alt');\n\t\t\t\t}\n\t\t\t\titem.img = $(img).on('load.mfploader', onLoadComplete).on('error.mfploader', onLoadError);\n\t\t\t\timg.src = item.src;\n\n\t\t\t\t// without clone() \"error\" event is not firing when IMG is replaced by new IMG\n\t\t\t\t// TODO: find a way to avoid such cloning\n\t\t\t\tif(el.is('img')) {\n\t\t\t\t\titem.img = item.img.clone();\n\t\t\t\t}\n\n\t\t\t\timg = item.img[0];\n\t\t\t\tif(img.naturalWidth > 0) {\n\t\t\t\t\titem.hasSize = true;\n\t\t\t\t} else if(!img.width) {\n\t\t\t\t\titem.hasSize = false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tmfp._parseMarkup(template, {\n\t\t\t\ttitle: _getTitle(item),\n\t\t\t\timg_replaceWith: item.img\n\t\t\t}, item);\n\n\t\t\tmfp.resizeImage();\n\n\t\t\tif(item.hasSize) {\n\t\t\t\tif(_imgInterval) clearInterval(_imgInterval);\n\n\t\t\t\tif(item.loadError) {\n\t\t\t\t\ttemplate.addClass('mfp-loading');\n\t\t\t\t\tmfp.updateStatus('error', imgSt.tError.replace('%url%', item.src) );\n\t\t\t\t} else {\n\t\t\t\t\ttemplate.removeClass('mfp-loading');\n\t\t\t\t\tmfp.updateStatus('ready');\n\t\t\t\t}\n\t\t\t\treturn template;\n\t\t\t}\n\n\t\t\tmfp.updateStatus('loading');\n\t\t\titem.loading = true;\n\n\t\t\tif(!item.hasSize) {\n\t\t\t\titem.imgHidden = true;\n\t\t\t\ttemplate.addClass('mfp-loading');\n\t\t\t\tmfp.findImageSize(item);\n\t\t\t}\n\n\t\t\treturn template;\n\t\t}\n\t}\n});\n\n/*>>image*/\n\n/*>>zoom*/\nvar hasMozTransform,\n\tgetHasMozTransform = function() {\n\t\tif(hasMozTransform === undefined) {\n\t\t\thasMozTransform = document.createElement('p').style.MozTransform !== undefined;\n\t\t}\n\t\treturn hasMozTransform;\n\t};\n\n$.magnificPopup.registerModule('zoom', {\n\n\toptions: {\n\t\tenabled: false,\n\t\teasing: 'ease-in-out',\n\t\tduration: 300,\n\t\topener: function(element) {\n\t\t\treturn element.is('img') ? element : element.find('img');\n\t\t}\n\t},\n\n\tproto: {\n\n\t\tinitZoom: function() {\n\t\t\tvar zoomSt = mfp.st.zoom,\n\t\t\t\tns = '.zoom',\n\t\t\t\timage;\n\n\t\t\tif(!zoomSt.enabled || !mfp.supportsTransition) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar duration = zoomSt.duration,\n\t\t\t\tgetElToAnimate = function(image) {\n\t\t\t\t\tvar newImg = image.clone().removeAttr('style').removeAttr('class').addClass('mfp-animated-image'),\n\t\t\t\t\t\ttransition = 'all '+(zoomSt.duration/1000)+'s ' + zoomSt.easing,\n\t\t\t\t\t\tcssObj = {\n\t\t\t\t\t\t\tposition: 'fixed',\n\t\t\t\t\t\t\tzIndex: 9999,\n\t\t\t\t\t\t\tleft: 0,\n\t\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\t\t'-webkit-backface-visibility': 'hidden'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tt = 'transition';\n\n\t\t\t\t\tcssObj['-webkit-'+t] = cssObj['-moz-'+t] = cssObj['-o-'+t] = cssObj[t] = transition;\n\n\t\t\t\t\tnewImg.css(cssObj);\n\t\t\t\t\treturn newImg;\n\t\t\t\t},\n\t\t\t\tshowMainContent = function() {\n\t\t\t\t\tmfp.content.css('visibility', 'visible');\n\t\t\t\t},\n\t\t\t\topenTimeout,\n\t\t\t\tanimatedImg;\n\n\t\t\t_mfpOn('BuildControls'+ns, function() {\n\t\t\t\tif(mfp._allowZoom()) {\n\n\t\t\t\t\tclearTimeout(openTimeout);\n\t\t\t\t\tmfp.content.css('visibility', 'hidden');\n\n\t\t\t\t\t// Basically, all code below does is clones existing image, puts in on top of the current one and animated it\n\n\t\t\t\t\timage = mfp._getItemToZoom();\n\n\t\t\t\t\tif(!image) {\n\t\t\t\t\t\tshowMainContent();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tanimatedImg = getElToAnimate(image);\n\n\t\t\t\t\tanimatedImg.css( mfp._getOffset() );\n\n\t\t\t\t\tmfp.wrap.append(animatedImg);\n\n\t\t\t\t\topenTimeout = setTimeout(function() {\n\t\t\t\t\t\tanimatedImg.css( mfp._getOffset( true ) );\n\t\t\t\t\t\topenTimeout = setTimeout(function() {\n\n\t\t\t\t\t\t\tshowMainContent();\n\n\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\tanimatedImg.remove();\n\t\t\t\t\t\t\t\timage = animatedImg = null;\n\t\t\t\t\t\t\t\t_mfpTrigger('ZoomAnimationEnded');\n\t\t\t\t\t\t\t}, 16); // avoid blink when switching images\n\n\t\t\t\t\t\t}, duration); // this timeout equals animation duration\n\n\t\t\t\t\t}, 16); // by adding this timeout we avoid short glitch at the beginning of animation\n\n\n\t\t\t\t\t// Lots of timeouts...\n\t\t\t\t}\n\t\t\t});\n\t\t\t_mfpOn(BEFORE_CLOSE_EVENT+ns, function() {\n\t\t\t\tif(mfp._allowZoom()) {\n\n\t\t\t\t\tclearTimeout(openTimeout);\n\n\t\t\t\t\tmfp.st.removalDelay = duration;\n\n\t\t\t\t\tif(!image) {\n\t\t\t\t\t\timage = mfp._getItemToZoom();\n\t\t\t\t\t\tif(!image) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tanimatedImg = getElToAnimate(image);\n\t\t\t\t\t}\n\n\t\t\t\t\tanimatedImg.css( mfp._getOffset(true) );\n\t\t\t\t\tmfp.wrap.append(animatedImg);\n\t\t\t\t\tmfp.content.css('visibility', 'hidden');\n\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tanimatedImg.css( mfp._getOffset() );\n\t\t\t\t\t}, 16);\n\t\t\t\t}\n\n\t\t\t});\n\n\t\t\t_mfpOn(CLOSE_EVENT+ns, function() {\n\t\t\t\tif(mfp._allowZoom()) {\n\t\t\t\t\tshowMainContent();\n\t\t\t\t\tif(animatedImg) {\n\t\t\t\t\t\tanimatedImg.remove();\n\t\t\t\t\t}\n\t\t\t\t\timage = null;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t_allowZoom: function() {\n\t\t\treturn mfp.currItem.type === 'image';\n\t\t},\n\n\t\t_getItemToZoom: function() {\n\t\t\tif(mfp.currItem.hasSize) {\n\t\t\t\treturn mfp.currItem.img;\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\n\t\t// Get element postion relative to viewport\n\t\t_getOffset: function(isLarge) {\n\t\t\tvar el;\n\t\t\tif(isLarge) {\n\t\t\t\tel = mfp.currItem.img;\n\t\t\t} else {\n\t\t\t\tel = mfp.st.zoom.opener(mfp.currItem.el || mfp.currItem);\n\t\t\t}\n\n\t\t\tvar offset = el.offset();\n\t\t\tvar paddingTop = parseInt(el.css('padding-top'),10);\n\t\t\tvar paddingBottom = parseInt(el.css('padding-bottom'),10);\n\t\t\toffset.top -= ( $(window).scrollTop() - paddingTop );\n\n\n\t\t\t/*\n\n\t\t\tAnimating left + top + width/height looks glitchy in Firefox, but perfect in Chrome. And vice-versa.\n\n\t\t\t */\n\t\t\tvar obj = {\n\t\t\t\twidth: el.width(),\n\t\t\t\t// fix Zepto height+padding issue\n\t\t\t\theight: (_isJQ ? el.innerHeight() : el[0].offsetHeight) - paddingBottom - paddingTop\n\t\t\t};\n\n\t\t\t// I hate to do this, but there is no another option\n\t\t\tif( getHasMozTransform() ) {\n\t\t\t\tobj['-moz-transform'] = obj['transform'] = 'translate(' + offset.left + 'px,' + offset.top + 'px)';\n\t\t\t} else {\n\t\t\t\tobj.left = offset.left;\n\t\t\t\tobj.top = offset.top;\n\t\t\t}\n\t\t\treturn obj;\n\t\t}\n\n\t}\n});\n\n\n\n/*>>zoom*/\n\n/*>>iframe*/\n\nvar IFRAME_NS = 'iframe',\n\t_emptyPage = '//about:blank',\n\n\t_fixIframeBugs = function(isShowing) {\n\t\tif(mfp.currTemplate[IFRAME_NS]) {\n\t\t\tvar el = mfp.currTemplate[IFRAME_NS].find('iframe');\n\t\t\tif(el.length) {\n\t\t\t\t// reset src after the popup is closed to avoid \"video keeps playing after popup is closed\" bug\n\t\t\t\tif(!isShowing) {\n\t\t\t\t\tel[0].src = _emptyPage;\n\t\t\t\t}\n\n\t\t\t\t// IE8 black screen bug fix\n\t\t\t\tif(mfp.isIE8) {\n\t\t\t\t\tel.css('display', isShowing ? 'block' : 'none');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n$.magnificPopup.registerModule(IFRAME_NS, {\n\n\toptions: {\n\t\tmarkup: '<div class=\"mfp-iframe-scaler\">'+\n\t\t\t\t\t'<div class=\"mfp-close\"></div>'+\n\t\t\t\t\t'<iframe class=\"mfp-iframe\" src=\"//about:blank\" frameborder=\"0\" allowfullscreen></iframe>'+\n\t\t\t\t'</div>',\n\n\t\tsrcAction: 'iframe_src',\n\n\t\t// we don't care and support only one default type of URL by default\n\t\tpatterns: {\n\t\t\tyoutube: {\n\t\t\t\tindex: 'youtube.com',\n\t\t\t\tid: 'v=',\n\t\t\t\tsrc: '//www.youtube.com/embed/%id%?autoplay=1'\n\t\t\t},\n\t\t\tvimeo: {\n\t\t\t\tindex: 'vimeo.com/',\n\t\t\t\tid: '/',\n\t\t\t\tsrc: '//player.vimeo.com/video/%id%?autoplay=1'\n\t\t\t},\n\t\t\tgmaps: {\n\t\t\t\tindex: '//maps.google.',\n\t\t\t\tsrc: '%id%&output=embed'\n\t\t\t}\n\t\t}\n\t},\n\n\tproto: {\n\t\tinitIframe: function() {\n\t\t\tmfp.types.push(IFRAME_NS);\n\n\t\t\t_mfpOn('BeforeChange', function(e, prevType, newType) {\n\t\t\t\tif(prevType !== newType) {\n\t\t\t\t\tif(prevType === IFRAME_NS) {\n\t\t\t\t\t\t_fixIframeBugs(); // iframe if removed\n\t\t\t\t\t} else if(newType === IFRAME_NS) {\n\t\t\t\t\t\t_fixIframeBugs(true); // iframe is showing\n\t\t\t\t\t}\n\t\t\t\t}// else {\n\t\t\t\t\t// iframe source is switched, don't do anything\n\t\t\t\t//}\n\t\t\t});\n\n\t\t\t_mfpOn(CLOSE_EVENT + '.' + IFRAME_NS, function() {\n\t\t\t\t_fixIframeBugs();\n\t\t\t});\n\t\t},\n\n\t\tgetIframe: function(item, template) {\n\t\t\tvar embedSrc = item.src;\n\t\t\tvar iframeSt = mfp.st.iframe;\n\n\t\t\t$.each(iframeSt.patterns, function() {\n\t\t\t\tif(embedSrc.indexOf( this.index ) > -1) {\n\t\t\t\t\tif(this.id) {\n\t\t\t\t\t\tif(typeof this.id === 'string') {\n\t\t\t\t\t\t\tembedSrc = embedSrc.substr(embedSrc.lastIndexOf(this.id)+this.id.length, embedSrc.length);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tembedSrc = this.id.call( this, embedSrc );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tembedSrc = this.src.replace('%id%', embedSrc );\n\t\t\t\t\treturn false; // break;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tvar dataObj = {};\n\t\t\tif(iframeSt.srcAction) {\n\t\t\t\tdataObj[iframeSt.srcAction] = embedSrc;\n\t\t\t}\n\t\t\tmfp._parseMarkup(template, dataObj, item);\n\n\t\t\tmfp.updateStatus('ready');\n\n\t\t\treturn template;\n\t\t}\n\t}\n});\n\n\n\n/*>>iframe*/\n\n/*>>gallery*/\n/**\n * Get looped index depending on number of slides\n */\nvar _getLoopedId = function(index) {\n\t\tvar numSlides = mfp.items.length;\n\t\tif(index > numSlides - 1) {\n\t\t\treturn index - numSlides;\n\t\t} else  if(index < 0) {\n\t\t\treturn numSlides + index;\n\t\t}\n\t\treturn index;\n\t},\n\t_replaceCurrTotal = function(text, curr, total) {\n\t\treturn text.replace(/%curr%/gi, curr + 1).replace(/%total%/gi, total);\n\t};\n\n$.magnificPopup.registerModule('gallery', {\n\n\toptions: {\n\t\tenabled: false,\n\t\tarrowMarkup: '<button title=\"%title%\" type=\"button\" class=\"mfp-arrow mfp-arrow-%dir%\"></button>',\n\t\tpreload: [0,2],\n\t\tnavigateByImgClick: true,\n\t\tarrows: true,\n\n\t\ttPrev: 'Previous (Left arrow key)',\n\t\ttNext: 'Next (Right arrow key)',\n\t\ttCounter: '%curr% of %total%'\n\t},\n\n\tproto: {\n\t\tinitGallery: function() {\n\n\t\t\tvar gSt = mfp.st.gallery,\n\t\t\t\tns = '.mfp-gallery';\n\n\t\t\tmfp.direction = true; // true - next, false - prev\n\n\t\t\tif(!gSt || !gSt.enabled ) return false;\n\n\t\t\t_wrapClasses += ' mfp-gallery';\n\n\t\t\t_mfpOn(OPEN_EVENT+ns, function() {\n\n\t\t\t\tif(gSt.navigateByImgClick) {\n\t\t\t\t\tmfp.wrap.on('click'+ns, '.mfp-img', function() {\n\t\t\t\t\t\tif(mfp.items.length > 1) {\n\t\t\t\t\t\t\tmfp.next();\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t_document.on('keydown'+ns, function(e) {\n\t\t\t\t\tif (e.keyCode === 37) {\n\t\t\t\t\t\tmfp.prev();\n\t\t\t\t\t} else if (e.keyCode === 39) {\n\t\t\t\t\t\tmfp.next();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\n\t\t\t_mfpOn('UpdateStatus'+ns, function(e, data) {\n\t\t\t\tif(data.text) {\n\t\t\t\t\tdata.text = _replaceCurrTotal(data.text, mfp.currItem.index, mfp.items.length);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t_mfpOn(MARKUP_PARSE_EVENT+ns, function(e, element, values, item) {\n\t\t\t\tvar l = mfp.items.length;\n\t\t\t\tvalues.counter = l > 1 ? _replaceCurrTotal(gSt.tCounter, item.index, l) : '';\n\t\t\t});\n\n\t\t\t_mfpOn('BuildControls' + ns, function() {\n\t\t\t\tif(mfp.items.length > 1 && gSt.arrows && !mfp.arrowLeft) {\n\t\t\t\t\tvar markup = gSt.arrowMarkup,\n\t\t\t\t\t\tarrowLeft = mfp.arrowLeft = $( markup.replace(/%title%/gi, gSt.tPrev).replace(/%dir%/gi, 'left') ).addClass(PREVENT_CLOSE_CLASS),\n\t\t\t\t\t\tarrowRight = mfp.arrowRight = $( markup.replace(/%title%/gi, gSt.tNext).replace(/%dir%/gi, 'right') ).addClass(PREVENT_CLOSE_CLASS);\n\n\t\t\t\t\tarrowLeft.click(function() {\n\t\t\t\t\t\tmfp.prev();\n\t\t\t\t\t});\n\t\t\t\t\tarrowRight.click(function() {\n\t\t\t\t\t\tmfp.next();\n\t\t\t\t\t});\n\n\t\t\t\t\tmfp.container.append(arrowLeft.add(arrowRight));\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t_mfpOn(CHANGE_EVENT+ns, function() {\n\t\t\t\tif(mfp._preloadTimeout) clearTimeout(mfp._preloadTimeout);\n\n\t\t\t\tmfp._preloadTimeout = setTimeout(function() {\n\t\t\t\t\tmfp.preloadNearbyImages();\n\t\t\t\t\tmfp._preloadTimeout = null;\n\t\t\t\t}, 16);\n\t\t\t});\n\n\n\t\t\t_mfpOn(CLOSE_EVENT+ns, function() {\n\t\t\t\t_document.off(ns);\n\t\t\t\tmfp.wrap.off('click'+ns);\n\t\t\t\tmfp.arrowRight = mfp.arrowLeft = null;\n\t\t\t});\n\n\t\t},\n\t\tnext: function() {\n\t\t\tmfp.direction = true;\n\t\t\tmfp.index = _getLoopedId(mfp.index + 1);\n\t\t\tmfp.updateItemHTML();\n\t\t},\n\t\tprev: function() {\n\t\t\tmfp.direction = false;\n\t\t\tmfp.index = _getLoopedId(mfp.index - 1);\n\t\t\tmfp.updateItemHTML();\n\t\t},\n\t\tgoTo: function(newIndex) {\n\t\t\tmfp.direction = (newIndex >= mfp.index);\n\t\t\tmfp.index = newIndex;\n\t\t\tmfp.updateItemHTML();\n\t\t},\n\t\tpreloadNearbyImages: function() {\n\t\t\tvar p = mfp.st.gallery.preload,\n\t\t\t\tpreloadBefore = Math.min(p[0], mfp.items.length),\n\t\t\t\tpreloadAfter = Math.min(p[1], mfp.items.length),\n\t\t\t\ti;\n\n\t\t\tfor(i = 1; i <= (mfp.direction ? preloadAfter : preloadBefore); i++) {\n\t\t\t\tmfp._preloadItem(mfp.index+i);\n\t\t\t}\n\t\t\tfor(i = 1; i <= (mfp.direction ? preloadBefore : preloadAfter); i++) {\n\t\t\t\tmfp._preloadItem(mfp.index-i);\n\t\t\t}\n\t\t},\n\t\t_preloadItem: function(index) {\n\t\t\tindex = _getLoopedId(index);\n\n\t\t\tif(mfp.items[index].preloaded) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar item = mfp.items[index];\n\t\t\tif(!item.parsed) {\n\t\t\t\titem = mfp.parseEl( index );\n\t\t\t}\n\n\t\t\t_mfpTrigger('LazyLoad', item);\n\n\t\t\tif(item.type === 'image') {\n\t\t\t\titem.img = $('<img class=\"mfp-img\" />').on('load.mfploader', function() {\n\t\t\t\t\titem.hasSize = true;\n\t\t\t\t}).on('error.mfploader', function() {\n\t\t\t\t\titem.hasSize = true;\n\t\t\t\t\titem.loadError = true;\n\t\t\t\t\t_mfpTrigger('LazyLoadError', item);\n\t\t\t\t}).attr('src', item.src);\n\t\t\t}\n\n\n\t\t\titem.preloaded = true;\n\t\t}\n\t}\n});\n\n/*>>gallery*/\n\n/*>>retina*/\n\nvar RETINA_NS = 'retina';\n\n$.magnificPopup.registerModule(RETINA_NS, {\n\toptions: {\n\t\treplaceSrc: function(item) {\n\t\t\treturn item.src.replace(/\\.\\w+$/, function(m) { return '@2x' + m; });\n\t\t},\n\t\tratio: 1 // Function or number.  Set to 1 to disable.\n\t},\n\tproto: {\n\t\tinitRetina: function() {\n\t\t\tif(window.devicePixelRatio > 1) {\n\n\t\t\t\tvar st = mfp.st.retina,\n\t\t\t\t\tratio = st.ratio;\n\n\t\t\t\tratio = !isNaN(ratio) ? ratio : ratio();\n\n\t\t\t\tif(ratio > 1) {\n\t\t\t\t\t_mfpOn('ImageHasSize' + '.' + RETINA_NS, function(e, item) {\n\t\t\t\t\t\titem.img.css({\n\t\t\t\t\t\t\t'max-width': item.img[0].naturalWidth / ratio,\n\t\t\t\t\t\t\t'width': '100%'\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t\t_mfpOn('ElementParse' + '.' + RETINA_NS, function(e, item) {\n\t\t\t\t\t\titem.src = st.replaceSrc(item, ratio);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t}\n});\n\n/*>>retina*/\n _checkInstance(); }));","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n(function (global, factory) {\n    (typeof exports === 'undefined' ? 'undefined' : _typeof(exports)) === 'object' && typeof module !== 'undefined' ? module.exports = factory() : typeof define === 'function' && define.amd ? define(factory) : global.LazyLoad = factory();\n})(this, function () {\n    'use strict';\n\n    var defaultSettings = {\n        elements_selector: \"img\",\n        container: window,\n        threshold: 300,\n        throttle: 150,\n        data_src: \"original\",\n        data_srcset: \"original-set\",\n        class_loading: \"loading\",\n        class_loaded: \"loaded\",\n        class_error: \"error\",\n        class_initial: \"initial\",\n        skip_invisible: true,\n        callback_load: null,\n        callback_error: null,\n        callback_set: null,\n        callback_processed: null\n    };\n\n    var isBot = !(\"onscroll\" in window) || /glebot/.test(navigator.userAgent);\n\n    var callCallback = function callCallback(callback, argument) {\n        if (callback) {\n            callback(argument);\n        }\n    };\n\n    var getTopOffset = function getTopOffset(element) {\n        return element.getBoundingClientRect().top + window.pageYOffset - element.ownerDocument.documentElement.clientTop;\n    };\n\n    var isBelowViewport = function isBelowViewport(element, container, threshold) {\n        var fold = container === window ? window.innerHeight + window.pageYOffset : getTopOffset(container) + container.offsetHeight;\n        return fold <= getTopOffset(element) - threshold;\n    };\n\n    var getLeftOffset = function getLeftOffset(element) {\n        return element.getBoundingClientRect().left + window.pageXOffset - element.ownerDocument.documentElement.clientLeft;\n    };\n\n    var isAtRightOfViewport = function isAtRightOfViewport(element, container, threshold) {\n        var documentWidth = window.innerWidth;\n        var fold = container === window ? documentWidth + window.pageXOffset : getLeftOffset(container) + documentWidth;\n        return fold <= getLeftOffset(element) - threshold;\n    };\n\n    var isAboveViewport = function isAboveViewport(element, container, threshold) {\n        var fold = container === window ? window.pageYOffset : getTopOffset(container);\n        return fold >= getTopOffset(element) + threshold + element.offsetHeight;\n    };\n\n    var isAtLeftOfViewport = function isAtLeftOfViewport(element, container, threshold) {\n        var fold = container === window ? window.pageXOffset : getLeftOffset(container);\n        return fold >= getLeftOffset(element) + threshold + element.offsetWidth;\n    };\n\n    var isInsideViewport = function isInsideViewport(element, container, threshold) {\n        return !isBelowViewport(element, container, threshold) && !isAboveViewport(element, container, threshold) && !isAtRightOfViewport(element, container, threshold) && !isAtLeftOfViewport(element, container, threshold);\n    };\n\n    /* Creates instance and notifies it through the window element */\n    var createInstance = function createInstance(classObj, options) {\n        var instance = new classObj(options);\n        var event = new CustomEvent(\"LazyLoad::Initialized\", { detail: { instance: instance } });\n        window.dispatchEvent(event);\n    };\n\n    /* Auto initialization of one or more instances of lazyload, depending on the \n        options passed in (plain object or an array) */\n    var autoInitialize = function autoInitialize(classObj, options) {\n        var optsLength = options.length;\n        if (!optsLength) {\n            // Plain object\n            createInstance(classObj, options);\n        } else {\n            // Array of objects\n            for (var i = 0; i < optsLength; i++) {\n                createInstance(classObj, options[i]);\n            }\n        }\n    };\n\n    var dataPrefix = \"data-\";\n\n    var getData = function getData(element, attribute) {\n        return element.getAttribute(dataPrefix + attribute);\n    };\n\n    var setData = function setData(element, attribute, value) {\n        return element.setAttribute(dataPrefix + attribute, value);\n    };\n\n    var setSourcesForPicture = function setSourcesForPicture(element, srcsetDataAttribute) {\n        var parent = element.parentElement;\n        if (parent.tagName !== \"PICTURE\") {\n            return;\n        }\n        for (var i = 0; i < parent.children.length; i++) {\n            var pictureChild = parent.children[i];\n            if (pictureChild.tagName === \"SOURCE\") {\n                var sourceSrcset = getData(pictureChild, srcsetDataAttribute);\n                if (sourceSrcset) {\n                    pictureChild.setAttribute(\"srcset\", sourceSrcset);\n                }\n            }\n        }\n    };\n\n    var setSources = function setSources(element, srcsetDataAttribute, srcDataAttribute) {\n        var tagName = element.tagName;\n        var elementSrc = getData(element, srcDataAttribute);\n        if (tagName === \"IMG\") {\n            setSourcesForPicture(element, srcsetDataAttribute);\n            var imgSrcset = getData(element, srcsetDataAttribute);\n            if (imgSrcset) {\n                element.setAttribute(\"srcset\", imgSrcset);\n            }\n            if (elementSrc) {\n                element.setAttribute(\"src\", elementSrc);\n            }\n            return;\n        }\n        if (tagName === \"IFRAME\") {\n            if (elementSrc) {\n                element.setAttribute(\"src\", elementSrc);\n            }\n            return;\n        }\n        if (elementSrc) {\n            element.style.backgroundImage = 'url(\"' + elementSrc + '\")';\n        }\n    };\n\n    var supportsClassList = \"classList\" in document.createElement(\"p\");\n\n    var addClass = function addClass(element, className) {\n        if (supportsClassList) {\n            element.classList.add(className);\n            return;\n        }\n        element.className += (element.className ? \" \" : \"\") + className;\n    };\n\n    var removeClass = function removeClass(element, className) {\n        if (supportsClassList) {\n            element.classList.remove(className);\n            return;\n        }\n        element.className = element.className.replace(new RegExp(\"(^|\\\\s+)\" + className + \"(\\\\s+|$)\"), \" \").replace(/^\\s+/, \"\").replace(/\\s+$/, \"\");\n    };\n\n    /*\n     * Constructor\n     */\n\n    var LazyLoad = function LazyLoad(instanceSettings) {\n        this._settings = _extends({}, defaultSettings, instanceSettings);\n        this._queryOriginNode = this._settings.container === window ? document : this._settings.container;\n\n        this._previousLoopTime = 0;\n        this._loopTimeout = null;\n        this._boundHandleScroll = this.handleScroll.bind(this);\n\n        this._isFirstLoop = true;\n        window.addEventListener(\"resize\", this._boundHandleScroll);\n        this.update();\n    };\n\n    LazyLoad.prototype = {\n\n        /*\n         * Private methods\n         */\n\n        _reveal: function _reveal(element) {\n            var settings = this._settings;\n\n            var errorCallback = function errorCallback() {\n                /* As this method is asynchronous, it must be protected against external destroy() calls */\n                if (!settings) {\n                    return;\n                }\n                element.removeEventListener(\"load\", loadCallback);\n                element.removeEventListener(\"error\", errorCallback);\n                removeClass(element, settings.class_loading);\n                addClass(element, settings.class_error);\n                callCallback(settings.callback_error, element);\n            };\n\n            var loadCallback = function loadCallback() {\n                /* As this method is asynchronous, it must be protected against external destroy() calls */\n                if (!settings) {\n                    return;\n                }\n                removeClass(element, settings.class_loading);\n                addClass(element, settings.class_loaded);\n                element.removeEventListener(\"load\", loadCallback);\n                element.removeEventListener(\"error\", errorCallback);\n                /* Calling LOAD callback */\n                callCallback(settings.callback_load, element);\n            };\n\n            if (element.tagName === \"IMG\" || element.tagName === \"IFRAME\") {\n                element.addEventListener(\"load\", loadCallback);\n                element.addEventListener(\"error\", errorCallback);\n                addClass(element, settings.class_loading);\n            }\n\n            setSources(element, settings.data_srcset, settings.data_src);\n            /* Calling SET callback */\n            callCallback(settings.callback_set, element);\n        },\n\n        _loopThroughElements: function _loopThroughElements() {\n            var settings = this._settings,\n                elements = this._elements,\n                elementsLength = !elements ? 0 : elements.length;\n            var i = void 0,\n                processedIndexes = [],\n                firstLoop = this._isFirstLoop;\n\n            for (i = 0; i < elementsLength; i++) {\n                var element = elements[i];\n                /* If must skip_invisible and element is invisible, skip it */\n                if (settings.skip_invisible && element.offsetParent === null) {\n                    continue;\n                }\n\n                if (isBot || isInsideViewport(element, settings.container, settings.threshold)) {\n                    if (firstLoop) {\n                        addClass(element, settings.class_initial);\n                    }\n                    /* Start loading the image */\n                    this._reveal(element);\n                    /* Marking the element as processed. */\n                    processedIndexes.push(i);\n                    setData(element, \"was-processed\", true);\n                }\n            }\n            /* Removing processed elements from this._elements. */\n            while (processedIndexes.length) {\n                elements.splice(processedIndexes.pop(), 1);\n                /* Calling the end loop callback */\n                callCallback(settings.callback_processed, elements.length);\n            }\n            /* Stop listening to scroll event when 0 elements remains */\n            if (elementsLength === 0) {\n                this._stopScrollHandler();\n            }\n            /* Sets isFirstLoop to false */\n            if (firstLoop) {\n                this._isFirstLoop = false;\n            }\n        },\n\n        _purgeElements: function _purgeElements() {\n            var elements = this._elements,\n                elementsLength = elements.length;\n            var i = void 0,\n                elementsToPurge = [];\n\n            for (i = 0; i < elementsLength; i++) {\n                var element = elements[i];\n                /* If the element has already been processed, skip it */\n                if (getData(element, \"was-processed\")) {\n                    elementsToPurge.push(i);\n                }\n            }\n            /* Removing elements to purge from this._elements. */\n            while (elementsToPurge.length > 0) {\n                elements.splice(elementsToPurge.pop(), 1);\n            }\n        },\n\n        _startScrollHandler: function _startScrollHandler() {\n            if (!this._isHandlingScroll) {\n                this._isHandlingScroll = true;\n                this._settings.container.addEventListener(\"scroll\", this._boundHandleScroll);\n            }\n        },\n\n        _stopScrollHandler: function _stopScrollHandler() {\n            if (this._isHandlingScroll) {\n                this._isHandlingScroll = false;\n                this._settings.container.removeEventListener(\"scroll\", this._boundHandleScroll);\n            }\n        },\n\n        /* \n         * Public methods\n         */\n\n        handleScroll: function handleScroll() {\n            var throttle = this._settings.throttle;\n\n            if (throttle !== 0) {\n                var now = Date.now();\n                var remainingTime = throttle - (now - this._previousLoopTime);\n                if (remainingTime <= 0 || remainingTime > throttle) {\n                    if (this._loopTimeout) {\n                        clearTimeout(this._loopTimeout);\n                        this._loopTimeout = null;\n                    }\n                    this._previousLoopTime = now;\n                    this._loopThroughElements();\n                } else if (!this._loopTimeout) {\n                    this._loopTimeout = setTimeout(function () {\n                        this._previousLoopTime = Date.now();\n                        this._loopTimeout = null;\n                        this._loopThroughElements();\n                    }.bind(this), remainingTime);\n                }\n            } else {\n                this._loopThroughElements();\n            }\n        },\n\n        update: function update() {\n            // Converts to array the nodeset obtained querying the DOM from _queryOriginNode with elements_selector\n            this._elements = Array.prototype.slice.call(this._queryOriginNode.querySelectorAll(this._settings.elements_selector));\n            this._purgeElements();\n            this._loopThroughElements();\n            this._startScrollHandler();\n        },\n\n        destroy: function destroy() {\n            window.removeEventListener(\"resize\", this._boundHandleScroll);\n            if (this._loopTimeout) {\n                clearTimeout(this._loopTimeout);\n                this._loopTimeout = null;\n            }\n            this._stopScrollHandler();\n            this._elements = null;\n            this._queryOriginNode = null;\n            this._settings = null;\n        }\n    };\n\n    /* Automatic instances creation if required (useful for async script loading!) */\n    var autoInitOptions = window.lazyLoadOptions;\n    if (autoInitOptions) {\n        autoInitialize(LazyLoad, autoInitOptions);\n    }\n\n    return LazyLoad;\n});","/**\n * what-input - A global utility for tracking the current input method (mouse, keyboard or touch).\n * @version v4.0.6\n * @link https://github.com/ten1seven/what-input\n * @license MIT\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n  if(typeof exports === 'object' && typeof module === 'object')\n    module.exports = factory();\n  else if(typeof define === 'function' && define.amd)\n    define(\"whatInput\", [], factory);\n  else if(typeof exports === 'object')\n    exports[\"whatInput\"] = factory();\n  else\n    root[\"whatInput\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/  // The module cache\n/******/  var installedModules = {};\n\n/******/  // The require function\n/******/  function __webpack_require__(moduleId) {\n\n/******/    // Check if module is in cache\n/******/    if(installedModules[moduleId])\n/******/      return installedModules[moduleId].exports;\n\n/******/    // Create a new module (and put it into the cache)\n/******/    var module = installedModules[moduleId] = {\n/******/      exports: {},\n/******/      id: moduleId,\n/******/      loaded: false\n/******/    };\n\n/******/    // Execute the module function\n/******/    modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n/******/    // Flag the module as loaded\n/******/    module.loaded = true;\n\n/******/    // Return the exports of the module\n/******/    return module.exports;\n/******/  }\n\n\n/******/  // expose the modules object (__webpack_modules__)\n/******/  __webpack_require__.m = modules;\n\n/******/  // expose the module cache\n/******/  __webpack_require__.c = installedModules;\n\n/******/  // __webpack_public_path__\n/******/  __webpack_require__.p = \"\";\n\n/******/  // Load entry module and return exports\n/******/  return __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports) {\n\n  module.exports = (function() {\n\n    /*\n      ---------------\n      Variables\n      ---------------\n    */\n\n    // cache document.documentElement\n    var docElem = document.documentElement;\n\n    // last used input type\n    var currentInput = 'initial';\n\n    // last used input intent\n    var currentIntent = null;\n\n    // form input types\n    var formInputs = [\n      'input',\n      'select',\n      'textarea'\n    ];\n\n    // list of modifier keys commonly used with the mouse and\n    // can be safely ignored to prevent false keyboard detection\n    var ignoreMap = [\n      16, // shift\n      17, // control\n      18, // alt\n      91, // Windows key / left Apple cmd\n      93  // Windows menu / right Apple cmd\n    ];\n\n    // mapping of events to input types\n    var inputMap = {\n      'keyup': 'keyboard',\n      'mousedown': 'mouse',\n      'mousemove': 'mouse',\n      'MSPointerDown': 'pointer',\n      'MSPointerMove': 'pointer',\n      'pointerdown': 'pointer',\n      'pointermove': 'pointer',\n      'touchstart': 'touch'\n    };\n\n    // array of all used input types\n    var inputTypes = [];\n\n    // boolean: true if touch buffer timer is running\n    var isBuffering = false;\n\n    // map of IE 10 pointer events\n    var pointerMap = {\n      2: 'touch',\n      3: 'touch', // treat pen like touch\n      4: 'mouse'\n    };\n\n    // touch buffer timer\n    var touchTimer = null;\n\n\n    /*\n      ---------------\n      Set up\n      ---------------\n    */\n\n    var setUp = function() {\n\n      // add correct mouse wheel event mapping to `inputMap`\n      inputMap[detectWheel()] = 'mouse';\n\n      addListeners();\n      setInput();\n    };\n\n\n    /*\n      ---------------\n      Events\n      ---------------\n    */\n\n    var addListeners = function() {\n\n      // `pointermove`, `MSPointerMove`, `mousemove` and mouse wheel event binding\n      // can only demonstrate potential, but not actual, interaction\n      // and are treated separately\n\n      // pointer events (mouse, pen, touch)\n      if (window.PointerEvent) {\n        docElem.addEventListener('pointerdown', updateInput);\n        docElem.addEventListener('pointermove', setIntent);\n      } else if (window.MSPointerEvent) {\n        docElem.addEventListener('MSPointerDown', updateInput);\n        docElem.addEventListener('MSPointerMove', setIntent);\n      } else {\n\n        // mouse events\n        docElem.addEventListener('mousedown', updateInput);\n        docElem.addEventListener('mousemove', setIntent);\n\n        // touch events\n        if ('ontouchstart' in window) {\n          docElem.addEventListener('touchstart', touchBuffer);\n        }\n      }\n\n      // mouse wheel\n      docElem.addEventListener(detectWheel(), setIntent);\n\n      // keyboard events\n      docElem.addEventListener('keydown', updateInput);\n      docElem.addEventListener('keyup', updateInput);\n    };\n\n    // checks conditions before updating new input\n    var updateInput = function(event) {\n\n      // only execute if the touch buffer timer isn't running\n      if (!isBuffering) {\n        var eventKey = event.which;\n        var value = inputMap[event.type];\n        if (value === 'pointer') value = pointerType(event);\n\n        if (\n          currentInput !== value ||\n          currentIntent !== value\n        ) {\n\n          var activeElem = document.activeElement;\n          var activeInput = (\n            activeElem &&\n            activeElem.nodeName &&\n            formInputs.indexOf(activeElem.nodeName.toLowerCase()) === -1\n          ) ? true : false;\n\n          if (\n            value === 'touch' ||\n\n            // ignore mouse modifier keys\n            (value === 'mouse' && ignoreMap.indexOf(eventKey) === -1) ||\n\n            // don't switch if the current element is a form input\n            (value === 'keyboard' && activeInput)\n          ) {\n\n            // set the current and catch-all variable\n            currentInput = currentIntent = value;\n\n            setInput();\n          }\n        }\n      }\n    };\n\n    // updates the doc and `inputTypes` array with new input\n    var setInput = function() {\n      docElem.setAttribute('data-whatinput', currentInput);\n      docElem.setAttribute('data-whatintent', currentInput);\n\n      if (inputTypes.indexOf(currentInput) === -1) {\n        inputTypes.push(currentInput);\n        docElem.className += ' whatinput-types-' + currentInput;\n      }\n    };\n\n    // updates input intent for `mousemove` and `pointermove`\n    var setIntent = function(event) {\n\n      // only execute if the touch buffer timer isn't running\n      if (!isBuffering) {\n        var value = inputMap[event.type];\n        if (value === 'pointer') value = pointerType(event);\n\n        if (currentIntent !== value) {\n          currentIntent = value;\n\n          docElem.setAttribute('data-whatintent', currentIntent);\n        }\n      }\n    };\n\n    // buffers touch events because they frequently also fire mouse events\n    var touchBuffer = function(event) {\n\n      // clear the timer if it happens to be running\n      window.clearTimeout(touchTimer);\n\n      // set the current input\n      updateInput(event);\n\n      // set the isBuffering to `true`\n      isBuffering = true;\n\n      // run the timer\n      touchTimer = window.setTimeout(function() {\n\n        // if the timer runs out, set isBuffering back to `false`\n        isBuffering = false;\n      }, 200);\n    };\n\n\n    /*\n      ---------------\n      Utilities\n      ---------------\n    */\n\n    var pointerType = function(event) {\n     if (typeof event.pointerType === 'number') {\n        return pointerMap[event.pointerType];\n     } else {\n        return (event.pointerType === 'pen') ? 'touch' : event.pointerType; // treat pen like touch\n     }\n    };\n\n    // detect version of mouse wheel event to use\n    // via https://developer.mozilla.org/en-US/docs/Web/Events/wheel\n    var detectWheel = function() {\n      return 'onwheel' in document.createElement('div') ?\n        'wheel' : // Modern browsers support \"wheel\"\n\n        document.onmousewheel !== undefined ?\n          'mousewheel' : // Webkit and IE support at least \"mousewheel\"\n          'DOMMouseScroll'; // let's assume that remaining browsers are older Firefox\n    };\n\n\n    /*\n      ---------------\n      Init\n\n      don't start script unless browser cuts the mustard\n      (also passes if polyfills are used)\n      ---------------\n    */\n\n    if (\n      'addEventListener' in window &&\n      Array.prototype.indexOf\n    ) {\n      setUp();\n    }\n\n\n    /*\n      ---------------\n      API\n      ---------------\n    */\n\n    return {\n\n      // returns string: the current input type\n      // opt: 'loose'|'strict'\n      // 'strict' (default): returns the same value as the `data-whatinput` attribute\n      // 'loose': includes `data-whatintent` value if it's more current than `data-whatinput`\n      ask: function(opt) { return (opt === 'loose') ? currentIntent : currentInput; },\n\n      // returns array: all the detected input types\n      types: function() { return inputTypes; }\n\n    };\n\n  }());\n\n\n/***/ }\n/******/ ])\n});\n;","\n$(function(){\n\t$('.main-nav').setup_navigation();\n});\n\nvar keyCodeMap = {\n        48:\"0\", 49:\"1\", 50:\"2\", 51:\"3\", 52:\"4\", 53:\"5\", 54:\"6\", 55:\"7\", 56:\"8\", 57:\"9\", 59:\";\",\n        65:\"a\", 66:\"b\", 67:\"c\", 68:\"d\", 69:\"e\", 70:\"f\", 71:\"g\", 72:\"h\", 73:\"i\", 74:\"j\", 75:\"k\", 76:\"l\",\n        77:\"m\", 78:\"n\", 79:\"o\", 80:\"p\", 81:\"q\", 82:\"r\", 83:\"s\", 84:\"t\", 85:\"u\", 86:\"v\", 87:\"w\", 88:\"x\", 89:\"y\", 90:\"z\",\n        96:\"0\", 97:\"1\", 98:\"2\", 99:\"3\", 100:\"4\", 101:\"5\", 102:\"6\", 103:\"7\", 104:\"8\", 105:\"9\"\n}\n\n$.fn.setup_navigation = function(settings) {\n\n\tsettings = jQuery.extend({\n\t\tmenuHoverClass: 'show-menu',\n\t}, settings);\n\n\t// Add ARIA role to menubar and menu items\n\t$(this).attr('role', 'menubar').find('li').attr('role', 'menuitem');\n\n\tvar top_level_links = $(this).find('> li > a');\n\n\t// Added by Terrill: (removed temporarily: doesn't fix the JAWS problem after all)\n\t// Add tabindex=\"0\" to all top-level links\n\t// Without at least one of these, JAWS doesn't read widget as a menu, despite all the other ARIA\n\t//$(top_level_links).attr('tabindex','0');\n\n\t// Set tabIndex to -1 so that top_level_links can't receive focus until menu is open\n\t$(top_level_links).next('ul')\n\t\t.attr('data-test','true')\n\t\t.attr({ 'aria-hidden': 'true', 'role': 'menu' })\n\t\t.find('a')\n\t\t\t.attr('tabIndex',-1);\n\n\t// Adding aria-haspopup for appropriate items\n\t$(top_level_links).each(function(){\n\t\tif($(this).next('ul').length > 0)\n\t\t\t$(this).parent('li').attr('aria-haspopup', 'true');\n\t});\n\n\t$(top_level_links).hover(function(){\n\t\t$(this).closest('ul')\n\t\t\t.attr('aria-hidden', 'false')\n\t\t\t.find('.'+settings.menuHoverClass)\n\t\t\t\t.attr('aria-hidden', 'true')\n\t\t\t\t.removeClass(settings.menuHoverClass)\n\t\t\t\t.find('a')\n\t\t\t\t\t.attr('tabIndex',-1);\n\t\t$(this).next('ul')\n\t\t\t.attr('aria-hidden', 'false')\n\t\t\t.find('a').attr('tabIndex',0);\n\t});\n\n\n\t$(top_level_links).focus(function(){\n\t\t$(this).closest('ul')\n\t\t\t// Removed by Terrill\n\t\t\t// The following was adding aria-hidden=\"false\" to root ul since menu is never hidden\n\t\t\t// and seemed to be causing flakiness in JAWS (needs more testing)\n\t\t\t// .attr('aria-hidden', 'false')\n\t\t\t.find('.'+settings.menuHoverClass)\n\t\t\t\t.attr('aria-hidden', 'true')\n\t\t\t\t.removeClass(settings.menuHoverClass)\n\t\t\t\t.find('a')\n\t\t\t\t\t.attr('tabIndex',-1);\n\t\t$(this).next('ul')\n\t\t\t.attr('aria-hidden', 'false')\n\t\t\t.addClass(settings.menuHoverClass)\n\t\t\t.find('a').attr('tabIndex',0);\n\t});\n\n\t// Bind arrow keys for navigation\n\t$(top_level_links).keydown(function(e){\n\t\tif(e.keyCode == 37) {\n\t\t\te.preventDefault();\n\t\t\t// This is the first item\n\t\t\tif($(this).parent('li').prev('li').length == 0) {\n\t\t\t\t$(this).parents('ul').find('> li').last().find('a').first().focus();\n\t\t\t} else {\n\t\t\t\t$(this).parent('li').prev('li').find('a').first().focus();\n\t\t\t}\n\t\t} else if(e.keyCode == 38) {\n\t\t\te.preventDefault();\n\t\t\tif($(this).parent('li').find('ul').length > 0) {\n\t\t\t\t$(this).parent('li').find('ul')\n\t\t\t\t\t.attr('aria-hidden', 'false')\n\t\t\t\t\t.addClass(settings.menuHoverClass)\n\t\t\t\t\t.find('a').attr('tabIndex',0)\n\t\t\t\t\t\t.last().focus();\n\t\t\t}\n\t\t} else if(e.keyCode == 39) {\n\t\t\te.preventDefault();\n\t\t\t// This is the last item\n\t\t\tif($(this).parent('li').next('li').length == 0) {\n\t\t\t\t$(this).parents('ul').find('> li').first().find('a').first().focus();\n\t\t\t} else {\n\t\t\t\t$(this).parent('li').next('li').find('a').first().focus();\n\t\t\t}\n\t\t} else if(e.keyCode == 40) {\n\t\t\te.preventDefault();\n\t\t\tif($(this).parent('li').find('ul').length > 0) {\n\t\t\t\t$(this).parent('li').find('ul')\n\t\t\t\t\t.attr('aria-hidden', 'false')\n\t\t\t\t\t.addClass(settings.menuHoverClass)\n\t\t\t\t\t.find('a').attr('tabIndex',0)\n\t\t\t\t\t\t.first().focus();\n\t\t\t}\n\t\t} else if(e.keyCode == 13 || e.keyCode == 32) {\n\t\t\t// If submenu is hidden, open it\n\t\t\te.preventDefault();\n\t\t\t$(this).parent('li').find('ul[aria-hidden=true]')\n\t\t\t\t\t.attr('aria-hidden', 'false')\n\t\t\t\t\t.addClass(settings.menuHoverClass)\n\t\t\t\t\t.find('a').attr('tabIndex',0)\n\t\t\t\t\t\t.first().focus();\n\t\t} else if(e.keyCode == 27) {\n\t\t\te.preventDefault();\n\t\t\t$('.'+settings.menuHoverClass)\n\t\t\t\t.attr('aria-hidden', 'true')\n\t\t\t\t.removeClass(settings.menuHoverClass)\n\t\t\t\t.find('a')\n\t\t\t\t\t.attr('tabIndex',-1);\n\t\t} else {\n\t\t\t$(this).parent('li').find('ul[aria-hidden=false] a').each(function(){\n\t\t\t\tif($(this).text().substring(0,1).toLowerCase() == keyCodeMap[e.keyCode]) {\n\t\t\t\t\t$(this).focus();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n\n\n\tvar links = $(top_level_links).parent('li').find('ul').find('a');\n\t$(links).keydown(function(e){\n\t\tif(e.keyCode == 38) {\n\t\t\te.preventDefault();\n\t\t\t// This is the first item\n\t\t\tif($(this).parent('li').prev('li').length == 0) {\n\t\t\t\t$(this).parents('ul').parents('li').find('a').first().focus();\n\t\t\t} else {\n\t\t\t\t$(this).parent('li').prev('li').find('a').first().focus();\n\t\t\t}\n\t\t} else if(e.keyCode == 40) {\n\t\t\te.preventDefault();\n\t\t\tif($(this).parent('li').next('li').length == 0) {\n\t\t\t\t$(this).parents('ul').parents('li').find('a').first().focus();\n\t\t\t} else {\n\t\t\t\t$(this).parent('li').next('li').find('a').first().focus();\n\t\t\t}\n\t\t} else if(e.keyCode == 27 || e.keyCode == 37) {\n\t\t\te.preventDefault();\n\t\t\t$(this)\n\t\t\t\t.parents('ul').first()\n\t\t\t\t\t.prev('a').focus()\n\t\t\t\t\t.parents('ul').first().find('.'+settings.menuHoverClass)\n\t\t\t\t\t\t.attr('aria-hidden', 'true')\n\t\t\t\t\t\t.removeClass(settings.menuHoverClass)\n\t\t\t\t\t\t.find('a')\n\t\t\t\t\t\t\t.attr('tabIndex',-1);\n\t\t} else if(e.keyCode == 32) {\n\t\t\te.preventDefault();\n\t\t\twindow.location = $(this).attr('href');\n\t\t} else {\n\t\t\tvar found = false;\n\t\t\t$(this).parent('li').nextAll('li').find('a').each(function(){\n\t\t\t\tif($(this).text().substring(0,1).toLowerCase() == keyCodeMap[e.keyCode]) {\n\t\t\t\t\t$(this).focus();\n\t\t\t\t\tfound = true;\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif(!found) {\n\t\t\t\t$(this).parent('li').prevAll('li').find('a').each(function(){\n\t\t\t\t\tif($(this).text().substring(0,1).toLowerCase() == keyCodeMap[e.keyCode]) {\n\t\t\t\t\t\t$(this).focus();\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t});\n\n\n\t// Hide menu if click or focus occurs outside of navigation\n\t$(this).find('a').last().keydown(function(e){\n\t\tif(e.keyCode == 9) {\n\t\t\t// If the user tabs out of the navigation hide all menus\n\t\t\t$('.'+settings.menuHoverClass)\n\t\t\t\t.attr('aria-hidden', 'true')\n\t\t\t\t.removeClass(settings.menuHoverClass)\n\t\t\t\t.find('a')\n\t\t\t\t\t.attr('tabIndex',-1);\n\t\t}\n\t});\n\t$(document).click(function(){ $('.'+settings.menuHoverClass).attr('aria-hidden', 'true').removeClass(settings.menuHoverClass).find('a').attr('tabIndex',-1); });\n\n\t$(this).click(function(e){\n\t\te.stopPropagation();\n\t});\n}\n"]}