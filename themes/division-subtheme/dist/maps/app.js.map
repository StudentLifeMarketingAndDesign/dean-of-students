{"version":3,"sources":["foundation.core.js","foundation.util.box.js","foundation.util.keyboard.js","foundation.util.mediaQuery.js","foundation.util.motion.js","foundation.util.nest.js","foundation.util.timerAndImageLoader.js","foundation.util.touch.js","foundation.util.triggers.js","foundation.accordion.js","foundation.interchange.js","foundation.tabs.js","iframeResizer.contentWindow.js","iframeResizer.contentWindow.min.js","iframeResizer.js","iframeResizer.min.js","app.js","flickity.pkgd.min.js","flickitybg-lazyload.js","jquery-autocomplete.js","jquery.magnific-popup.js","lazyload.js","what-input.js","z-menubar.js"],"names":["$","Foundation","version","_plugins","_uuids","rtl","attr","plugin","name","className","functionName","attrName","hyphenate","this","registerPlugin","pluginName","constructor","toLowerCase","uuid","GetYoDigits","$element","data","trigger","push","unregisterPlugin","prop","splice","indexOf","removeAttr","removeData","reInit","plugins","isJQ","each","_init","type","_typeof","_this","object","plgs","forEach","p","foundation","string","undefined","Object","keys","err","console","error","length","namespace","Math","round","pow","random","toString","slice","reflow","elem","i","find","addBack","$el","opts","warn","split","e","opt","map","el","trim","str","isNaN","parseFloat","parseValue","er","getFnName","transitionend","$elem","end","transitions","transition","WebkitTransition","MozTransition","OTransition","document","createElement","t","style","setTimeout","triggerHandler","util","throttle","func","delay","timer","context","args","arguments","apply","fn","Function","prototype","results","exec","replace","window","method","$meta","$noJS","appendTo","head","removeClass","MediaQuery","TypeError","Array","call","plugClass","ReferenceError","Date","now","getTime","vendors","requestAnimationFrame","vp","cancelAnimationFrame","test","navigator","userAgent","lastTime","callback","nextTime","max","clearTimeout","performance","start","bind","oThis","aArgs","fToBind","fNOP","fBound","concat","jQuery","GetDimensions","Error","rect","getBoundingClientRect","parRect","parentNode","winRect","body","winY","pageYOffset","winX","pageXOffset","width","height","offset","top","left","parentDims","windowDims","Box","ImNotTouchingYou","element","parent","lrOnly","tbOnly","bottom","right","eleDims","parDims","allDirs","GetOffsets","anchor","position","vOffset","hOffset","isOverflow","$eleDims","$anchorDims","keyCodes","9","13","27","32","37","38","39","40","commands","Keyboard","kcs","k","kc","getKeyCodes","parseKey","event","key","which","keyCode","String","fromCharCode","toUpperCase","shiftKey","ctrlKey","altKey","handleKey","component","functions","commandList","ltr","extend","returnValue","handled","unhandled","findFocusable","filter","is","register","componentName","cmds","trapFocus","$focusable","$firstFocusable","eq","$lastFocusable","on","target","preventDefault","focus","releaseFocus","off","queries","current","namedQueries","styleObject","extractedStyles","css","reduce","ret","param","parts","val","decodeURIComponent","hasOwnProperty","isArray","value","_getCurrentSize","_watcher","atLeast","size","query","get","matchMedia","matches","matched","newSize","currentSize","styleMedia","media","info","script","getElementsByTagName","id","insertBefore","getComputedStyle","currentStyle","matchMedium","text","styleSheet","cssText","textContent","initClasses","activeClasses","Motion","animateIn","animation","cb","animate","animateOut","isIn","initClass","activeClass","reset","addClass","show","offsetWidth","one","hide","transitionDuration","Move","duration","anim","prog","move","ts","Nest","Feather","menu","items","role","subMenuClass","subItemClass","hasSubClass","$item","$sub","children","aria-haspopup","aria-label","aria-expanded","data-submenu","aria-hidden","Burn","Timer","options","nameSpace","remain","isPaused","restart","infinite","pause","onImagesLoaded","images","unloaded","singleImageLoaded","complete","readyState","src","startPosX","startTime","elapsedTime","isMoving","spotSwipe","enabled","documentElement","moveThreshold","timeThreshold","onTouchEnd","removeEventListener","onTouchMove","dir","x","touches","pageX","dx","pageY","abs","onTouchStart","addEventListener","special","swipe","setup","noop","addTouch","handleTouch","simulatedEvent","first","changedTouches","touchstart","touchmove","touchend","MouseEvent","bubbles","cancelable","screenX","screenY","clientX","clientY","createEvent","initMouseEvent","dispatchEvent","MutationObserver","prefixes","triggers","checkListeners","debounce","$nodes","nodes","querySelectorAll","listeningElementsMutation","mutationRecordsList","$target","attributeName","closest","elementObserver","observe","attributes","childList","characterData","subtree","attributeFilter","eventsListener","yetiBoxes","plugNames","listeners","join","pluginId","not","closemeListener","stopPropagation","fadeOut","IHearYou","Accordion","_classCallCheck","defaults","ENTER","SPACE","ARROW_DOWN","ARROW_UP","_createClass","_this2","$tabs","idx","$content","linkId","aria-controls","aria-selected","aria-labelledby","$initActive","firstTimeInit","down","_checkDeepLink","location","hash","$link","$anchor","hasClass","deepLinkSmudge","load","scrollTop","deepLinkSmudgeDelay","deepLink","_events","$tabContent","toggle","next","$a","multiExpand","previous","prev","up","updateHistory","history","pushState","replaceState","firstTime","_this3","$currentActive","slideDown","slideSpeed","$aunts","siblings","allowAllClosed","slideUp","stop","Interchange","rules","currentPath","_addBreakpoints","_generateRules","_reflow","match","rule","path","SPECIAL_QUERIES","rulesList","nodeName","background-image","response","html","landscape","portrait","retina","Tabs","ARROW_RIGHT","ARROW_LEFT","$tabTitles","linkClass","isActive","linkActiveClass","autoFocus","matchHeight","$images","_setHeight","selectTab","_addKeyHandler","_addClickHandler","_setHeightMqHandler","_handleTabChange","$prevElement","$nextElement","$elements","wrapOnKeys","last","min","open","historyHandled","activeCollapse","_collapseTab","$oldTab","$targetContent","_openTab","$tabLink","panelActiveClass","$target_anchor","idStr","panelClass","panel","visibility","display","temp","autoResize","base","bodyBackground","bodyMargin","bodyMarginStr","bodyObserver","bodyPadding","calculateWidth","doubleEventList","resize","click","eventCancelTimer","firstRun","heightCalcModeDefault","heightCalcMode","initLock","initMsg","inPageLinks","interval","intervalTimer","logging","msgID","msgIdLen","myID","resetRequiredMethods","bodyScroll","documentElementScroll","resizeFrom","sendPermit","targetOriginDefault","tolerance","triggerLocked","triggerLockedTimer","throttledTimer","widthCalcModeDefault","widthCalcMode","win","onMessage","onReady","onPageInfo","customCalcMethods","offsetHeight","scrollWidth","eventHandlersByName","passiveSupported","create","passive","result","timeout","later","getNow","getHeight","bodyOffset","scrollHeight","custom","documentElementOffset","getAllMeasurements","grow","lowestElement","getMaxElement","getAllElements","taggedElement","getTaggedElements","getWidth","scroll","rightMostElement","sizeIFrameThrottled","sizeIFrame","remaining","receiver","chkLateLoaded","evt","capitalizeFirstLetter","charAt","formatLogMsg","msg","log","init","clearFix","strBool","substr","Number","enable","readDataFromParent","href","setupCustomCalcMethods","calcMode","calcFunc","iFrameResizer","JSON","stringify","depricate","targetOrigin","heightCalculationMethod","widthCalculationMethod","readDataFromPage","setBodyStyle","chkCSS","setMargin","clear","appendChild","checkHeightMode","checkWidthMode","parentIFrame","startEventListeners","stopEventListeners","close","sendMsg","getId","getPageInfo","moveToAnchor","findTarget","resetIFrame","scrollTo","y","scrollToOffset","sendMessage","setHeightCalculationMethod","setWidthCalculationMethod","setTargetOrigin","customHeight","customWidth","valString","sendSize","getElementPosition","elPosition","pagePosition","scrollLeft","parseInt","jumpPosition","hashData","getElementById","getElementsByName","checkLocationHash","bindAnchors","linkClicked","getAttribute","setupInPageLinks","splitName","manageTriggerEvent","listener","add","eventName","handleEvent","eventType","remove","eventNames","manageEventListeners","checkCalcMode","calcModeDefault","modes","forceIntervalTimer","WebKitMutationObserver","initInterval","addImageLoadListners","mutation","addImageLoadListener","imageLoaded","imageError","elements","removeImageLoadListener","imageEventTriggered","typeDesc","mutationObserved","mutations","config","observer","querySelector","attributeOldValue","characterDataOldValue","disconnect","setupBodyMutationObserver","clearInterval","setInterval","retVal","defaultView","side","elementsLength","elVal","maxVal","Side","dimention","tag","triggerEvent","triggerEventDesc","currentHeight","currentWidth","checkTolarance","a","b","isSizeChangeDetected","lockTrigger","resetPage","triggerReset","hcm","message","postMessage","processRequestFromParent","source","getData","inPageLink","pageInfo","msgBody","parse","getMessageType","isInitMsg","true","false","callFromParent","messageType","module","exports","l","n","o","r","u","c","s","d","f","m","h","g","v","w","T","E","O","S","M","I","N","A","C","z","R","L","F","P","D","ue","j","q","H","W","B","U","te","J","V","K","Q","X","Y","G","Z","be","Te","we","Oe","Ee","_","ee","Se","ne","ke","ze","oe","ie","re","ae","ce","se","de","he","ge","pe","ve","Ce","Ae","Me","le","fe","me","ye","Ie","Ne","count","logEnabled","hiddenCheckEnabled","msgHeaderLen","msgId","settings","bodyMarginV1","checkOrigin","enablePublicMethods","maxHeight","Infinity","maxWidth","minHeight","minWidth","scrolling","sizeHeight","sizeWidth","warningTimeout","onClosed","onInit","onResized","onScroll","frameTimer","iFrameResize","index","setupIFrame","define","amd","factory","getMutationObserver","MozMutationObserver","formatLogHeader","iframeId","retStr","self","isLogEnabled","output","iFrameListener","resizeIFrame","ensureInRange","syncResize","setSize","messageData","setPagePosition","Dimension","dimension","getMsgBody","sendPageInfoToIframe","iframe","time","frameId","bodyPosition","iFramePosition","iframeHeight","iframeWidth","clientHeight","innerHeight","clientWidth","innerWidth","offsetTop","offsetLeft","getPagePosition","floor","scrollRequestFromChild","addOffset","newPosition","unsetPagePosition","funcName","chkEvent","retBool","retCode","createOutgoingMsg","iFrameReadyMsgReceived","loaded","remoteHost","origin","checkList","isMessageFromIFrame","closeRequeston","closeIFrame","setListener","sendPageInfo","stopPageInfo","startPageInfoMonitor","actionMsg","removeIframeListeners","removeChild","chkZero","checkIFrames","values","settingId","chkDimension","offsetParent","debouce","fixHiddenIFrames","processDimension","doNotSync","calleeMsg","noResponseWarning","errorShown","contentWindow","msgTimeout","checkOptions","option","copyOptions","overflow","setScrolling","addStyle","chkMinMax","setLimits","removedNodes","removedNode","resetRequertMethod","removeListeners","tabVisible","visibilityState","sendTriggerMsg","setupEventListeners","tagName","chkType","iFrames","setupRequestAnimationFrame","require","jQueryBridget","arraySlice","logError","PluginClass","isPlainObject","arg0","instance","$elems","methodName","pluginMethodStr","updateJQuery","bridget","global","EvEmitter","proto","events","once","onceEvents","_onceEvents","emitEvent","onceListeners","allOff","getSize","getStyleSize","num","measurements","measurementsLength","getStyle","isBoxSizeOuter","isSetup","div","padding","borderStyle","borderWidth","boxSizing","nodeType","outerWidth","outerHeight","getZeroSize","isBorderBox","measurement","paddingWidth","paddingLeft","paddingRight","paddingHeight","paddingTop","paddingBottom","marginWidth","marginLeft","marginRight","marginHeight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderHeight","borderTopWidth","borderBottomWidth","isBorderBoxSizeOuter","styleWidth","styleHeight","matchesSelector","matchesMethod","ElemProto","Element","selector","fizzyUIUtils","utils","makeArray","obj","removeFrom","ary","getParent","getQueryElement","filterFindElements","elems","ffElems","HTMLElement","childElems","debounceMethod","_class","threshold","timeoutName","docReady","toDashed","$1","$2","htmlInit","WidgetClass","dashedNamespace","dataAttr","dataAttrElems","jsDashElems","dataOptionsAttr","Flickity","Cell","setAttribute","shift","destroy","originSide","removeAttribute","setPosition","updateTarget","renderPosition","setDefaultTarget","marginProperty","cellAlign","getPositionValue","wrapShift","slideableWidth","Slide","isOriginLeft","cells","addCell","cell","beginMargin","firstMargin","endMargin","lastCell","getLastCell","lastMargin","slideWidth","select","changeSelected","unselect","isSelected","classMethod","classList","getCellElements","animatePrototype","isAnimating","restingFrames","applyDragForce","applySelectedAttraction","previousX","integratePhysics","positionSlider","settle","wrapAround","modulo","shiftWrapCells","cursorPosition","rightToLeft","slider","transform","firstSlide","slides","positionX","progress","slidesWidth","selectedSlide","velocity","percentPosition","isPointerDown","isFreeScrolling","selectedIndex","beforeGap","_shiftCells","beforeShiftCells","afterGap","afterShiftCells","gap","cellShift","getFrictionFactor","force","isDraggable","dragForce","dragX","applyForce","selectedAttraction","_Flickity","moveElements","toElem","GUID","instances","queryElement","flickityGUID","_create","accessibility","freeScrollFriction","friction","namespaceJQueryEvents","setGallerySize","createMethods","guid","viewport","_createSlider","watchCSS","activate","_filterFindCellElements","reloadCells","tabIndex","initialIndex","isInitActivated","cellSelector","_makeCells","positionCells","_getWrapShiftCells","cellElem","getLastSlide","_sizeCells","_positionCells","maxCellHeight","cellX","startCell","len","updateSlides","_containSlides","slide","nextMargin","canCellFit","_getCanCellFit","updateSelectedSlide","groupCells","number","percentMatch","percent","reposition","positionSliderAtSelected","setCellAlign","cellAlignShorthands","center","shorthand","adaptiveHeight","_unshiftCells","gapX","cellIndex","_getGapCells","increment","contain","isRightToLeft","contentWidth","isContentSmaller","beginBound","endBound","emitArgs","$event","jQEvent","Event","isWrap","isInstant","_wrapSelect","prevIndex","startAnimation","wrapIndex","delta","backWrapDelta","forewardWrapDelta","isDragSelect","unselectSelectedSlide","selectedCells","selectedElements","selectedCell","selectedElement","selectCell","queryCell","getCellSlideIndex","getCell","getCells","getParentCell","getAdjacentCellElements","adjCount","cellElems","slideIndex","uiChange","childUIPointerDown","onresize","content","deactivate","onkeydown","isNotFocused","activeElement","handler","keyboardHandlers","leftMethod","rightMethod","prevScrollY","setJQuery","jq","Unipointer","bindStartEvent","_bindStartEvent","unbindStartEvent","isAdd","bindMethod","startEvent","PointerEvent","getTouch","touch","identifier","pointerIdentifier","onmousedown","button","_pointerDown","ontouchstart","onpointerdown","pointer","pointerId","pointerDown","_bindPostStartEvents","postStartEvents","mousedown","pointerdown","_boundPointerEvents","_unbindPostStartEvents","onmousemove","_pointerMove","onpointermove","ontouchmove","pointerMove","onmouseup","_pointerUp","onpointerup","ontouchend","_pointerDone","pointerUp","_pointerReset","pointerDone","onpointercancel","_pointerCancel","ontouchcancel","pointerCancel","getPointerPoint","Unidragger","bindHandles","_bindHandles","unbindHandles","touchAction","_touchActionValue","handles","handle","okayPointerDown","pointerDownPointer","pointerDownBlur","cursorNodes","TEXTAREA","INPUT","SELECT","OPTION","clickTypes","radio","checkbox","submit","image","file","isCursorNode","isClickType","isOkay","focused","blur","moveVector","_dragPointerMove","_dragMove","isDragging","hasDragStarted","_dragStart","_dragPointerUp","_dragEnd","_staticClick","isPreventingClicks","dragStart","dragMove","dragEnd","onclick","isIgnoringMouseUp","staticClick","draggable","dragThreshold","isTouch","isTouchmoveScrollCanceled","_createDrag","onActivateDrag","_uiChangeDrag","_childUIPointerDownDrag","unbindDrag","updateDraggable","onDeactivateDrag","bindDrag","pointerDownFocus","_pointerDownPreventDefault","pointerDownScroll","getScrollPosition","_pointerDownDefault","focusNodes","isTouchStart","isTouchPointer","pointerType","isFocusNode","isTouchScrolling","dragStartPosition","previousDragX","direction","originBound","dragMoveTime","freeScroll","dragEndRestingSelect","restingX","getRestingPosition","dragEndBoostSelect","distance","getSlideDistance","positiveResting","_getClosestResting","negativeResting","minDistance","condition","md","isWrapAround","wrap","clickedCell","onscroll","scrollMoveX","scrollMoveY","TapListener","bindTap","unbindTap","tapElement","pointerPoint","boundingRect","scrollX","scrollY","svgURI","PrevNextButton","isEnabled","isPrevious","leftDirection","isLeft","disable","svg","createSVG","onTap","update","createElementNS","shape","pathMovements","arrowShape","x0","x1","y1","x2","y2","x3","disabled","lastIndex","boundIndex","prevNextButtons","_createPrevNextButtons","prevButton","nextButton","activatePrevNextButtons","deactivatePrevNextButtons","PageDots","holder","dots","setDots","addDots","removeDots","fragment","createDocumentFragment","newDots","dot","updateSelected","selectedDot","pageDots","_createPageDots","activatePageDots","updateSelectedPageDots","updatePageDots","deactivatePageDots","Player","state","onVisibilityChange","visibilityChange","onVisibilityPlay","visibilityPlay","play","hidden","tick","autoPlay","unpause","pauseAutoPlayOnHover","_createPlayer","player","activatePlayer","stopPlayer","deactivatePlayer","playPlayer","pausePlayer","unpausePlayer","onmouseenter","onmouseleave","insert","isAppend","insertCellElement","endCells","cellChange","append","prepend","minCellIndex","cellSizeChange","changedCellIndex","isPositioningSlider","prevSelectedElem","LazyLoader","img","flickity","_createLazyload","lazyLoad","lazyImages","lazyCellImages","lazyloadAttr","srcAttr","srcsetAttr","imgs","getCellLazyImages","srcset","onload","onerror","_createAsNavFor","activateAsNavFor","deactivateAsNavFor","destroyAsNavFor","asNavForOption","asNavFor","setNavCompanion","companion","navCompanion","onNavCompanionSelect","navCompanionSelect","onNavStaticClick","firstIndex","selectIndex","removeNavSelectedElements","navSelectedElements","changeNavSelectedClass","navElem","cellElement","imagesLoaded","ImagesLoaded","onAlways","queryElem","getImages","jqDeferred","Deferred","check","addElementImages","addImage","background","addElementBackgroundImages","elementNodeTypes","childImgs","child","1","11","LoadingImage","Background","url","Image","reURL","backgroundImage","addBackground","loadingImage","onProgress","progressedCount","hasAnyBroken","isLoaded","notify","debug","isComplete","jqMethod","getIsImageComplete","confirm","naturalWidth","proxyImage","unbindEvents","makeJQueryPlugin","promise","_createImagesLoaded","BgLazyLoader","_createBgLazyLoad","bgLazyLoad","bgLazyLoadElem","escapeRegExChars","createNode","containerClass","Autocomplete","that","ajaxSettings","autoSelectFirst","serviceUrl","lookup","onSelect","minChars","deferRequestBy","params","formatResult","delimiter","zIndex","noCache","onSearchStart","onSearchComplete","onSearchError","preserveInput","tabDisabled","dataType","currentRequest","triggerSelectOnValidInput","preventBadQueries","lookupFilter","suggestion","originalQuery","queryLowerCase","paramName","transformResult","parseJSON","showNoSuggestionNotice","noSuggestionNotice","orientation","forceFixPosition","suggestions","badQueries","currentValue","intervalId","cachedResponse","onChangeInterval","onChange","isLocal","suggestionsContainer","noSuggestionsContainer","classes","selected","hint","hintValue","selection","initialize","setOptions","pattern","RegExp","killerFn","container","suggestionSelector","killSuggestions","disableKillerFn","fixPositionCapture","visible","fixPosition","onKeyPress","onKeyUp","onBlur","onFocus","onValueChange","enableKillerFn","abortAjax","abort","suppliedOptions","verifySuggestionsFormat","validateOrientation","max-height","z-index","clearCache","$container","containerParent","siteSearchDiv","containerHeight","styles","viewPortHeight","topOverflow","bottomOverflow","parentOffsetDiff","opacity","stopKillSuggestions","isCursorAtEnd","range","valLength","selectionStart","createRange","moveStart","onHint","selectHint","moveUp","moveDown","stopImmediatePropagation","suggest","findBestHint","getQuery","onInvalidateSelection","isExactMatch","getSuggestions","getSuggestionsLocal","limit","lookupLimit","grep","cacheKey","ignoreParams","isFunction","isBadQuery","ajax","done","processResponse","fail","jqXHR","textStatus","errorThrown","onHide","signalHint","category","groupBy","classSelected","beforeRender","currentCategory","adjustContainerWidth","detach","noSuggestions","empty","bestMatch","foundMatch","fallback","inArray","activeItem","adjustScroll","upperBound","lowerBound","heightDelta","getValue","onSelectCallback","dispose","autocomplete","devbridgeAutocomplete","dataKey","inputElement","Zepto","mfp","_prevStatus","_document","_prevContentType","_wrapClasses","_currPopupType","CLOSE_EVENT","BEFORE_CLOSE_EVENT","MARKUP_PARSE_EVENT","OPEN_EVENT","EVENT_NS","READY_CLASS","REMOVING_CLASS","PREVENT_CLOSE_CLASS","MagnificPopup","_isJQ","_window","_mfpOn","ev","_getEl","raw","innerHTML","_mfpTrigger","st","callbacks","_getCloseBtn","currTemplate","closeBtn","closeMarkup","tClose","_checkInstance","magnificPopup","appVersion","isLowIE","isIE8","all","isAndroid","isIOS","supportsTransition","pop","supportsTransitions","probablyMobile","popupsCache","isObj","toArray","item","parsed","isOpen","types","mainEl","fixedContentPos","modal","closeOnContentClick","closeOnBgClick","showCloseBtn","enableEscapeKey","bgOverlay","_checkIfClose","contentContainer","preloader","tLoading","modules","closeBtnInside","template","close_replaceWith","alignTop","overflowY","overflowX","fixedBgPos","updateSize","windowHeight","wH","windowStyles","_hasScrollBar","_getScrollbarSize","isIE7","classesToadd","mainClass","_addClassToMFP","updateItemHTML","prependTo","_lastFocusedEl","_setFocus","_onFocusIn","removalDelay","_close","classesToRemove","_removeClassFromMFP","currItem","autoFocusLast","prevHeight","winHeight","zoomLevel","parseEl","markup","newContent","appendContent","preloaded","addGroup","eHandler","mfpEl","_openClick","eName","delegate","midClick","metaKey","disableOn","updateStatus","status","closeOnContent","closeOnBg","contains","cName","_parseMarkup","arr","replaceWith","scrollbarSize","scrollDiv","registerModule","jqEl","itemOpts","_hiddenClass","_inlinePlaceholder","_lastInlineElement","INLINE_NS","_putInlineElementsBack","after","hiddenClass","tNotFound","initInline","getInline","inlineSt","inline","inlineElement","_ajaxCur","AJAX_NS","_removeAjaxCursor","_destroyAjaxRequest","req","cursor","tError","initAjax","getAjax","success","xhr","finished","loadError","_imgInterval","titleSrc","verticalFit","initImage","imgSt","ns","resizeImage","decr","_onImageHasSize","hasSize","isCheckingImgSize","imgHidden","findImageSize","counter","mfpSetInterval","getImage","guard","onLoadError","alt","onLoadComplete","clone","title","_getTitle","img_replaceWith","loading","hasMozTransform","easing","opener","initZoom","zoomSt","zoom","openTimeout","animatedImg","getElToAnimate","newImg","cssObj","-webkit-backface-visibility","showMainContent","_allowZoom","_getItemToZoom","_getOffset","isLarge","MozTransform","IFRAME_NS","_fixIframeBugs","isShowing","srcAction","patterns","youtube","vimeo","gmaps","initIframe","prevType","newType","getIframe","embedSrc","iframeSt","lastIndexOf","dataObj","_getLoopedId","numSlides","_replaceCurrTotal","curr","total","arrowMarkup","preload","navigateByImgClick","arrows","tPrev","tNext","tCounter","initGallery","gSt","gallery","arrowLeft","arrowRight","_preloadTimeout","preloadNearbyImages","goTo","newIndex","preloadBefore","preloadAfter","_preloadItem","RETINA_NS","replaceSrc","ratio","initRetina","devicePixelRatio","max-width","_extends","assign","Symbol","iterator","LazyLoad","defaultSettings","elements_selector","data_src","data_srcset","class_loading","class_loaded","class_error","class_initial","skip_invisible","callback_load","callback_error","callback_set","callback_processed","isBot","callCallback","argument","getTopOffset","ownerDocument","clientTop","getLeftOffset","clientLeft","isInsideViewport","documentWidth","createInstance","classObj","CustomEvent","detail","attribute","setSources","srcsetDataAttribute","srcDataAttribute","elementSrc","parentElement","pictureChild","sourceSrcset","setSourcesForPicture","imgSrcset","supportsClassList","instanceSettings","_settings","_queryOriginNode","_previousLoopTime","_loopTimeout","_boundHandleScroll","handleScroll","_isFirstLoop","_reveal","errorCallback","loadCallback","_loopThroughElements","_elements","processedIndexes","firstLoop","_stopScrollHandler","_purgeElements","elementsToPurge","_startScrollHandler","_isHandlingScroll","remainingTime","autoInitOptions","lazyLoadOptions","optsLength","autoInitialize","root","installedModules","__webpack_require__","moduleId","docElem","currentInput","currentIntent","formInputs","ignoreMap","inputMap","inputTypes","isBuffering","pointerMap","touchTimer","addListeners","updateInput","setInput","setIntent","touchBuffer","detectWheel","keyup","mousemove","MSPointerDown","MSPointerMove","pointermove","2","3","4","MSPointerEvent","eventKey","activeElem","activeInput","onmousewheel","ask","setup_navigation","keyCodeMap","48","49","50","51","52","53","54","55","56","57","59","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","96","97","98","99","100","101","102","103","104","105","menuHoverClass","top_level_links","hover","keydown","parents","substring","links","found","nextAll","prevAll","bases","baseHref","myLazyLoad","$carousel","_defineProperty","_$$flickity","$imgs","docStyle","transformProp","flkty","onLoadeddata","$gallery","video","$slideshow","slideshowflk","toggleSearchClasses","toggleClass","fns","whatInput","toggleMobileMenuClasses","focusout","oldSize","pathname","hostname","funcNameRegex"],"mappings":"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","file":"../foundation/app.js","sourcesContent":["!function($) {\n\n\"use strict\";\n\nvar FOUNDATION_VERSION = '6.3.1';\n\n// Global Foundation object\n// This is attached to the window, or used as a module for AMD/Browserify\nvar Foundation = {\n  version: FOUNDATION_VERSION,\n\n  /**\n   * Stores initialized plugins.\n   */\n  _plugins: {},\n\n  /**\n   * Stores generated unique ids for plugin instances\n   */\n  _uuids: [],\n\n  /**\n   * Returns a boolean for RTL support\n   */\n  rtl: function(){\n    return $('html').attr('dir') === 'rtl';\n  },\n  /**\n   * Defines a Foundation plugin, adding it to the `Foundation` namespace and the list of plugins to initialize when reflowing.\n   * @param {Object} plugin - The constructor of the plugin.\n   */\n  plugin: function(plugin, name) {\n    // Object key to use when adding to global Foundation object\n    // Examples: Foundation.Reveal, Foundation.OffCanvas\n    var className = (name || functionName(plugin));\n    // Object key to use when storing the plugin, also used to create the identifying data attribute for the plugin\n    // Examples: data-reveal, data-off-canvas\n    var attrName  = hyphenate(className);\n\n    // Add to the Foundation object and the plugins list (for reflowing)\n    this._plugins[attrName] = this[className] = plugin;\n  },\n  /**\n   * @function\n   * Populates the _uuids array with pointers to each individual plugin instance.\n   * Adds the `zfPlugin` data-attribute to programmatically created plugins to allow use of $(selector).foundation(method) calls.\n   * Also fires the initialization event for each plugin, consolidating repetitive code.\n   * @param {Object} plugin - an instance of a plugin, usually `this` in context.\n   * @param {String} name - the name of the plugin, passed as a camelCased string.\n   * @fires Plugin#init\n   */\n  registerPlugin: function(plugin, name){\n    var pluginName = name ? hyphenate(name) : functionName(plugin.constructor).toLowerCase();\n    plugin.uuid = this.GetYoDigits(6, pluginName);\n\n    if(!plugin.$element.attr(`data-${pluginName}`)){ plugin.$element.attr(`data-${pluginName}`, plugin.uuid); }\n    if(!plugin.$element.data('zfPlugin')){ plugin.$element.data('zfPlugin', plugin); }\n          /**\n           * Fires when the plugin has initialized.\n           * @event Plugin#init\n           */\n    plugin.$element.trigger(`init.zf.${pluginName}`);\n\n    this._uuids.push(plugin.uuid);\n\n    return;\n  },\n  /**\n   * @function\n   * Removes the plugins uuid from the _uuids array.\n   * Removes the zfPlugin data attribute, as well as the data-plugin-name attribute.\n   * Also fires the destroyed event for the plugin, consolidating repetitive code.\n   * @param {Object} plugin - an instance of a plugin, usually `this` in context.\n   * @fires Plugin#destroyed\n   */\n  unregisterPlugin: function(plugin){\n    var pluginName = hyphenate(functionName(plugin.$element.data('zfPlugin').constructor));\n\n    this._uuids.splice(this._uuids.indexOf(plugin.uuid), 1);\n    plugin.$element.removeAttr(`data-${pluginName}`).removeData('zfPlugin')\n          /**\n           * Fires when the plugin has been destroyed.\n           * @event Plugin#destroyed\n           */\n          .trigger(`destroyed.zf.${pluginName}`);\n    for(var prop in plugin){\n      plugin[prop] = null;//clean up script to prep for garbage collection.\n    }\n    return;\n  },\n\n  /**\n   * @function\n   * Causes one or more active plugins to re-initialize, resetting event listeners, recalculating positions, etc.\n   * @param {String} plugins - optional string of an individual plugin key, attained by calling `$(element).data('pluginName')`, or string of a plugin class i.e. `'dropdown'`\n   * @default If no argument is passed, reflow all currently active plugins.\n   */\n   reInit: function(plugins){\n     var isJQ = plugins instanceof $;\n     try{\n       if(isJQ){\n         plugins.each(function(){\n           $(this).data('zfPlugin')._init();\n         });\n       }else{\n         var type = typeof plugins,\n         _this = this,\n         fns = {\n           'object': function(plgs){\n             plgs.forEach(function(p){\n               p = hyphenate(p);\n               $('[data-'+ p +']').foundation('_init');\n             });\n           },\n           'string': function(){\n             plugins = hyphenate(plugins);\n             $('[data-'+ plugins +']').foundation('_init');\n           },\n           'undefined': function(){\n             this['object'](Object.keys(_this._plugins));\n           }\n         };\n         fns[type](plugins);\n       }\n     }catch(err){\n       console.error(err);\n     }finally{\n       return plugins;\n     }\n   },\n\n  /**\n   * returns a random base-36 uid with namespacing\n   * @function\n   * @param {Number} length - number of random base-36 digits desired. Increase for more random strings.\n   * @param {String} namespace - name of plugin to be incorporated in uid, optional.\n   * @default {String} '' - if no plugin name is provided, nothing is appended to the uid.\n   * @returns {String} - unique id\n   */\n  GetYoDigits: function(length, namespace){\n    length = length || 6;\n    return Math.round((Math.pow(36, length + 1) - Math.random() * Math.pow(36, length))).toString(36).slice(1) + (namespace ? `-${namespace}` : '');\n  },\n  /**\n   * Initialize plugins on any elements within `elem` (and `elem` itself) that aren't already initialized.\n   * @param {Object} elem - jQuery object containing the element to check inside. Also checks the element itself, unless it's the `document` object.\n   * @param {String|Array} plugins - A list of plugins to initialize. Leave this out to initialize everything.\n   */\n  reflow: function(elem, plugins) {\n\n    // If plugins is undefined, just grab everything\n    if (typeof plugins === 'undefined') {\n      plugins = Object.keys(this._plugins);\n    }\n    // If plugins is a string, convert it to an array with one item\n    else if (typeof plugins === 'string') {\n      plugins = [plugins];\n    }\n\n    var _this = this;\n\n    // Iterate through each plugin\n    $.each(plugins, function(i, name) {\n      // Get the current plugin\n      var plugin = _this._plugins[name];\n\n      // Localize the search to all elements inside elem, as well as elem itself, unless elem === document\n      var $elem = $(elem).find('[data-'+name+']').addBack('[data-'+name+']');\n\n      // For each plugin found, initialize it\n      $elem.each(function() {\n        var $el = $(this),\n            opts = {};\n        // Don't double-dip on plugins\n        if ($el.data('zfPlugin')) {\n          console.warn(\"Tried to initialize \"+name+\" on an element that already has a Foundation plugin.\");\n          return;\n        }\n\n        if($el.attr('data-options')){\n          var thing = $el.attr('data-options').split(';').forEach(function(e, i){\n            var opt = e.split(':').map(function(el){ return el.trim(); });\n            if(opt[0]) opts[opt[0]] = parseValue(opt[1]);\n          });\n        }\n        try{\n          $el.data('zfPlugin', new plugin($(this), opts));\n        }catch(er){\n          console.error(er);\n        }finally{\n          return;\n        }\n      });\n    });\n  },\n  getFnName: functionName,\n  transitionend: function($elem){\n    var transitions = {\n      'transition': 'transitionend',\n      'WebkitTransition': 'webkitTransitionEnd',\n      'MozTransition': 'transitionend',\n      'OTransition': 'otransitionend'\n    };\n    var elem = document.createElement('div'),\n        end;\n\n    for (var t in transitions){\n      if (typeof elem.style[t] !== 'undefined'){\n        end = transitions[t];\n      }\n    }\n    if(end){\n      return end;\n    }else{\n      end = setTimeout(function(){\n        $elem.triggerHandler('transitionend', [$elem]);\n      }, 1);\n      return 'transitionend';\n    }\n  }\n};\n\nFoundation.util = {\n  /**\n   * Function for applying a debounce effect to a function call.\n   * @function\n   * @param {Function} func - Function to be called at end of timeout.\n   * @param {Number} delay - Time in ms to delay the call of `func`.\n   * @returns function\n   */\n  throttle: function (func, delay) {\n    var timer = null;\n\n    return function () {\n      var context = this, args = arguments;\n\n      if (timer === null) {\n        timer = setTimeout(function () {\n          func.apply(context, args);\n          timer = null;\n        }, delay);\n      }\n    };\n  }\n};\n\n// TODO: consider not making this a jQuery function\n// TODO: need way to reflow vs. re-initialize\n/**\n * The Foundation jQuery method.\n * @param {String|Array} method - An action to perform on the current jQuery object.\n */\nvar foundation = function(method) {\n  var type = typeof method,\n      $meta = $('meta.foundation-mq'),\n      $noJS = $('.no-js');\n\n  if(!$meta.length){\n    $('<meta class=\"foundation-mq\">').appendTo(document.head);\n  }\n  if($noJS.length){\n    $noJS.removeClass('no-js');\n  }\n\n  if(type === 'undefined'){//needs to initialize the Foundation object, or an individual plugin.\n    Foundation.MediaQuery._init();\n    Foundation.reflow(this);\n  }else if(type === 'string'){//an individual method to invoke on a plugin or group of plugins\n    var args = Array.prototype.slice.call(arguments, 1);//collect all the arguments, if necessary\n    var plugClass = this.data('zfPlugin');//determine the class of plugin\n\n    if(plugClass !== undefined && plugClass[method] !== undefined){//make sure both the class and method exist\n      if(this.length === 1){//if there's only one, call it directly.\n          plugClass[method].apply(plugClass, args);\n      }else{\n        this.each(function(i, el){//otherwise loop through the jQuery collection and invoke the method on each\n          plugClass[method].apply($(el).data('zfPlugin'), args);\n        });\n      }\n    }else{//error for no class or no method\n      throw new ReferenceError(\"We're sorry, '\" + method + \"' is not an available method for \" + (plugClass ? functionName(plugClass) : 'this element') + '.');\n    }\n  }else{//error for invalid argument type\n    throw new TypeError(`We're sorry, ${type} is not a valid parameter. You must use a string representing the method you wish to invoke.`);\n  }\n  return this;\n};\n\nwindow.Foundation = Foundation;\n$.fn.foundation = foundation;\n\n// Polyfill for requestAnimationFrame\n(function() {\n  if (!Date.now || !window.Date.now)\n    window.Date.now = Date.now = function() { return new Date().getTime(); };\n\n  var vendors = ['webkit', 'moz'];\n  for (var i = 0; i < vendors.length && !window.requestAnimationFrame; ++i) {\n      var vp = vendors[i];\n      window.requestAnimationFrame = window[vp+'RequestAnimationFrame'];\n      window.cancelAnimationFrame = (window[vp+'CancelAnimationFrame']\n                                 || window[vp+'CancelRequestAnimationFrame']);\n  }\n  if (/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent)\n    || !window.requestAnimationFrame || !window.cancelAnimationFrame) {\n    var lastTime = 0;\n    window.requestAnimationFrame = function(callback) {\n        var now = Date.now();\n        var nextTime = Math.max(lastTime + 16, now);\n        return setTimeout(function() { callback(lastTime = nextTime); },\n                          nextTime - now);\n    };\n    window.cancelAnimationFrame = clearTimeout;\n  }\n  /**\n   * Polyfill for performance.now, required by rAF\n   */\n  if(!window.performance || !window.performance.now){\n    window.performance = {\n      start: Date.now(),\n      now: function(){ return Date.now() - this.start; }\n    };\n  }\n})();\nif (!Function.prototype.bind) {\n  Function.prototype.bind = function(oThis) {\n    if (typeof this !== 'function') {\n      // closest thing possible to the ECMAScript 5\n      // internal IsCallable function\n      throw new TypeError('Function.prototype.bind - what is trying to be bound is not callable');\n    }\n\n    var aArgs   = Array.prototype.slice.call(arguments, 1),\n        fToBind = this,\n        fNOP    = function() {},\n        fBound  = function() {\n          return fToBind.apply(this instanceof fNOP\n                 ? this\n                 : oThis,\n                 aArgs.concat(Array.prototype.slice.call(arguments)));\n        };\n\n    if (this.prototype) {\n      // native functions don't have a prototype\n      fNOP.prototype = this.prototype;\n    }\n    fBound.prototype = new fNOP();\n\n    return fBound;\n  };\n}\n// Polyfill to get the name of a function in IE9\nfunction functionName(fn) {\n  if (Function.prototype.name === undefined) {\n    var funcNameRegex = /function\\s([^(]{1,})\\(/;\n    var results = (funcNameRegex).exec((fn).toString());\n    return (results && results.length > 1) ? results[1].trim() : \"\";\n  }\n  else if (fn.prototype === undefined) {\n    return fn.constructor.name;\n  }\n  else {\n    return fn.prototype.constructor.name;\n  }\n}\nfunction parseValue(str){\n  if ('true' === str) return true;\n  else if ('false' === str) return false;\n  else if (!isNaN(str * 1)) return parseFloat(str);\n  return str;\n}\n// Convert PascalCase to kebab-case\n// Thank you: http://stackoverflow.com/a/8955580\nfunction hyphenate(str) {\n  return str.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n}\n\n}(jQuery);\n","'use strict';\n\n!function($) {\n\nFoundation.Box = {\n  ImNotTouchingYou: ImNotTouchingYou,\n  GetDimensions: GetDimensions,\n  GetOffsets: GetOffsets\n}\n\n/**\n * Compares the dimensions of an element to a container and determines collision events with container.\n * @function\n * @param {jQuery} element - jQuery object to test for collisions.\n * @param {jQuery} parent - jQuery object to use as bounding container.\n * @param {Boolean} lrOnly - set to true to check left and right values only.\n * @param {Boolean} tbOnly - set to true to check top and bottom values only.\n * @default if no parent object passed, detects collisions with `window`.\n * @returns {Boolean} - true if collision free, false if a collision in any direction.\n */\nfunction ImNotTouchingYou(element, parent, lrOnly, tbOnly) {\n  var eleDims = GetDimensions(element),\n      top, bottom, left, right;\n\n  if (parent) {\n    var parDims = GetDimensions(parent);\n\n    bottom = (eleDims.offset.top + eleDims.height <= parDims.height + parDims.offset.top);\n    top    = (eleDims.offset.top >= parDims.offset.top);\n    left   = (eleDims.offset.left >= parDims.offset.left);\n    right  = (eleDims.offset.left + eleDims.width <= parDims.width + parDims.offset.left);\n  }\n  else {\n    bottom = (eleDims.offset.top + eleDims.height <= eleDims.windowDims.height + eleDims.windowDims.offset.top);\n    top    = (eleDims.offset.top >= eleDims.windowDims.offset.top);\n    left   = (eleDims.offset.left >= eleDims.windowDims.offset.left);\n    right  = (eleDims.offset.left + eleDims.width <= eleDims.windowDims.width);\n  }\n\n  var allDirs = [bottom, top, left, right];\n\n  if (lrOnly) {\n    return left === right === true;\n  }\n\n  if (tbOnly) {\n    return top === bottom === true;\n  }\n\n  return allDirs.indexOf(false) === -1;\n};\n\n/**\n * Uses native methods to return an object of dimension values.\n * @function\n * @param {jQuery || HTML} element - jQuery object or DOM element for which to get the dimensions. Can be any element other that document or window.\n * @returns {Object} - nested object of integer pixel values\n * TODO - if element is window, return only those values.\n */\nfunction GetDimensions(elem, test){\n  elem = elem.length ? elem[0] : elem;\n\n  if (elem === window || elem === document) {\n    throw new Error(\"I'm sorry, Dave. I'm afraid I can't do that.\");\n  }\n\n  var rect = elem.getBoundingClientRect(),\n      parRect = elem.parentNode.getBoundingClientRect(),\n      winRect = document.body.getBoundingClientRect(),\n      winY = window.pageYOffset,\n      winX = window.pageXOffset;\n\n  return {\n    width: rect.width,\n    height: rect.height,\n    offset: {\n      top: rect.top + winY,\n      left: rect.left + winX\n    },\n    parentDims: {\n      width: parRect.width,\n      height: parRect.height,\n      offset: {\n        top: parRect.top + winY,\n        left: parRect.left + winX\n      }\n    },\n    windowDims: {\n      width: winRect.width,\n      height: winRect.height,\n      offset: {\n        top: winY,\n        left: winX\n      }\n    }\n  }\n}\n\n/**\n * Returns an object of top and left integer pixel values for dynamically rendered elements,\n * such as: Tooltip, Reveal, and Dropdown\n * @function\n * @param {jQuery} element - jQuery object for the element being positioned.\n * @param {jQuery} anchor - jQuery object for the element's anchor point.\n * @param {String} position - a string relating to the desired position of the element, relative to it's anchor\n * @param {Number} vOffset - integer pixel value of desired vertical separation between anchor and element.\n * @param {Number} hOffset - integer pixel value of desired horizontal separation between anchor and element.\n * @param {Boolean} isOverflow - if a collision event is detected, sets to true to default the element to full width - any desired offset.\n * TODO alter/rewrite to work with `em` values as well/instead of pixels\n */\nfunction GetOffsets(element, anchor, position, vOffset, hOffset, isOverflow) {\n  var $eleDims = GetDimensions(element),\n      $anchorDims = anchor ? GetDimensions(anchor) : null;\n\n  switch (position) {\n    case 'top':\n      return {\n        left: (Foundation.rtl() ? $anchorDims.offset.left - $eleDims.width + $anchorDims.width : $anchorDims.offset.left),\n        top: $anchorDims.offset.top - ($eleDims.height + vOffset)\n      }\n      break;\n    case 'left':\n      return {\n        left: $anchorDims.offset.left - ($eleDims.width + hOffset),\n        top: $anchorDims.offset.top\n      }\n      break;\n    case 'right':\n      return {\n        left: $anchorDims.offset.left + $anchorDims.width + hOffset,\n        top: $anchorDims.offset.top\n      }\n      break;\n    case 'center top':\n      return {\n        left: ($anchorDims.offset.left + ($anchorDims.width / 2)) - ($eleDims.width / 2),\n        top: $anchorDims.offset.top - ($eleDims.height + vOffset)\n      }\n      break;\n    case 'center bottom':\n      return {\n        left: isOverflow ? hOffset : (($anchorDims.offset.left + ($anchorDims.width / 2)) - ($eleDims.width / 2)),\n        top: $anchorDims.offset.top + $anchorDims.height + vOffset\n      }\n      break;\n    case 'center left':\n      return {\n        left: $anchorDims.offset.left - ($eleDims.width + hOffset),\n        top: ($anchorDims.offset.top + ($anchorDims.height / 2)) - ($eleDims.height / 2)\n      }\n      break;\n    case 'center right':\n      return {\n        left: $anchorDims.offset.left + $anchorDims.width + hOffset + 1,\n        top: ($anchorDims.offset.top + ($anchorDims.height / 2)) - ($eleDims.height / 2)\n      }\n      break;\n    case 'center':\n      return {\n        left: ($eleDims.windowDims.offset.left + ($eleDims.windowDims.width / 2)) - ($eleDims.width / 2),\n        top: ($eleDims.windowDims.offset.top + ($eleDims.windowDims.height / 2)) - ($eleDims.height / 2)\n      }\n      break;\n    case 'reveal':\n      return {\n        left: ($eleDims.windowDims.width - $eleDims.width) / 2,\n        top: $eleDims.windowDims.offset.top + vOffset\n      }\n    case 'reveal full':\n      return {\n        left: $eleDims.windowDims.offset.left,\n        top: $eleDims.windowDims.offset.top\n      }\n      break;\n    case 'left bottom':\n      return {\n        left: $anchorDims.offset.left,\n        top: $anchorDims.offset.top + $anchorDims.height + vOffset\n      };\n      break;\n    case 'right bottom':\n      return {\n        left: $anchorDims.offset.left + $anchorDims.width + hOffset - $eleDims.width,\n        top: $anchorDims.offset.top + $anchorDims.height + vOffset\n      };\n      break;\n    default:\n      return {\n        left: (Foundation.rtl() ? $anchorDims.offset.left - $eleDims.width + $anchorDims.width : $anchorDims.offset.left + hOffset),\n        top: $anchorDims.offset.top + $anchorDims.height + vOffset\n      }\n  }\n}\n\n}(jQuery);\n","/*******************************************\n *                                         *\n * This util was created by Marius Olbertz *\n * Please thank Marius on GitHub /owlbertz *\n * or the web http://www.mariusolbertz.de/ *\n *                                         *\n ******************************************/\n\n'use strict';\n\n!function($) {\n\nconst keyCodes = {\n  9: 'TAB',\n  13: 'ENTER',\n  27: 'ESCAPE',\n  32: 'SPACE',\n  37: 'ARROW_LEFT',\n  38: 'ARROW_UP',\n  39: 'ARROW_RIGHT',\n  40: 'ARROW_DOWN'\n}\n\nvar commands = {}\n\nvar Keyboard = {\n  keys: getKeyCodes(keyCodes),\n\n  /**\n   * Parses the (keyboard) event and returns a String that represents its key\n   * Can be used like Foundation.parseKey(event) === Foundation.keys.SPACE\n   * @param {Event} event - the event generated by the event handler\n   * @return String key - String that represents the key pressed\n   */\n  parseKey(event) {\n    var key = keyCodes[event.which || event.keyCode] || String.fromCharCode(event.which).toUpperCase();\n\n    // Remove un-printable characters, e.g. for `fromCharCode` calls for CTRL only events\n    key = key.replace(/\\W+/, '');\n\n    if (event.shiftKey) key = `SHIFT_${key}`;\n    if (event.ctrlKey) key = `CTRL_${key}`;\n    if (event.altKey) key = `ALT_${key}`;\n\n    // Remove trailing underscore, in case only modifiers were used (e.g. only `CTRL_ALT`)\n    key = key.replace(/_$/, '');\n\n    return key;\n  },\n\n  /**\n   * Handles the given (keyboard) event\n   * @param {Event} event - the event generated by the event handler\n   * @param {String} component - Foundation component's name, e.g. Slider or Reveal\n   * @param {Objects} functions - collection of functions that are to be executed\n   */\n  handleKey(event, component, functions) {\n    var commandList = commands[component],\n      keyCode = this.parseKey(event),\n      cmds,\n      command,\n      fn;\n\n    if (!commandList) return console.warn('Component not defined!');\n\n    if (typeof commandList.ltr === 'undefined') { // this component does not differentiate between ltr and rtl\n        cmds = commandList; // use plain list\n    } else { // merge ltr and rtl: if document is rtl, rtl overwrites ltr and vice versa\n        if (Foundation.rtl()) cmds = $.extend({}, commandList.ltr, commandList.rtl);\n\n        else cmds = $.extend({}, commandList.rtl, commandList.ltr);\n    }\n    command = cmds[keyCode];\n\n    fn = functions[command];\n    if (fn && typeof fn === 'function') { // execute function  if exists\n      var returnValue = fn.apply();\n      if (functions.handled || typeof functions.handled === 'function') { // execute function when event was handled\n          functions.handled(returnValue);\n      }\n    } else {\n      if (functions.unhandled || typeof functions.unhandled === 'function') { // execute function when event was not handled\n          functions.unhandled();\n      }\n    }\n  },\n\n  /**\n   * Finds all focusable elements within the given `$element`\n   * @param {jQuery} $element - jQuery object to search within\n   * @return {jQuery} $focusable - all focusable elements within `$element`\n   */\n  findFocusable($element) {\n    if(!$element) {return false; }\n    return $element.find('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]').filter(function() {\n      if (!$(this).is(':visible') || $(this).attr('tabindex') < 0) { return false; } //only have visible elements and those that have a tabindex greater or equal 0\n      return true;\n    });\n  },\n\n  /**\n   * Returns the component name name\n   * @param {Object} component - Foundation component, e.g. Slider or Reveal\n   * @return String componentName\n   */\n\n  register(componentName, cmds) {\n    commands[componentName] = cmds;\n  },  \n\n  /**\n   * Traps the focus in the given element.\n   * @param  {jQuery} $element  jQuery object to trap the foucs into.\n   */\n  trapFocus($element) {\n    var $focusable = Foundation.Keyboard.findFocusable($element),\n        $firstFocusable = $focusable.eq(0),\n        $lastFocusable = $focusable.eq(-1);\n\n    $element.on('keydown.zf.trapfocus', function(event) {\n      if (event.target === $lastFocusable[0] && Foundation.Keyboard.parseKey(event) === 'TAB') {\n        event.preventDefault();\n        $firstFocusable.focus();\n      }\n      else if (event.target === $firstFocusable[0] && Foundation.Keyboard.parseKey(event) === 'SHIFT_TAB') {\n        event.preventDefault();\n        $lastFocusable.focus();\n      }\n    });\n  },\n  /**\n   * Releases the trapped focus from the given element.\n   * @param  {jQuery} $element  jQuery object to release the focus for.\n   */\n  releaseFocus($element) {\n    $element.off('keydown.zf.trapfocus');\n  }\n}\n\n/*\n * Constants for easier comparing.\n * Can be used like Foundation.parseKey(event) === Foundation.keys.SPACE\n */\nfunction getKeyCodes(kcs) {\n  var k = {};\n  for (var kc in kcs) k[kcs[kc]] = kcs[kc];\n  return k;\n}\n\nFoundation.Keyboard = Keyboard;\n\n}(jQuery);\n","'use strict';\n\n!function($) {\n\n// Default set of media queries\nconst defaultQueries = {\n  'default' : 'only screen',\n  landscape : 'only screen and (orientation: landscape)',\n  portrait : 'only screen and (orientation: portrait)',\n  retina : 'only screen and (-webkit-min-device-pixel-ratio: 2),' +\n    'only screen and (min--moz-device-pixel-ratio: 2),' +\n    'only screen and (-o-min-device-pixel-ratio: 2/1),' +\n    'only screen and (min-device-pixel-ratio: 2),' +\n    'only screen and (min-resolution: 192dpi),' +\n    'only screen and (min-resolution: 2dppx)'\n};\n\nvar MediaQuery = {\n  queries: [],\n\n  current: '',\n\n  /**\n   * Initializes the media query helper, by extracting the breakpoint list from the CSS and activating the breakpoint watcher.\n   * @function\n   * @private\n   */\n  _init() {\n    var self = this;\n    var extractedStyles = $('.foundation-mq').css('font-family');\n    var namedQueries;\n\n    namedQueries = parseStyleToObject(extractedStyles);\n\n    for (var key in namedQueries) {\n      if(namedQueries.hasOwnProperty(key)) {\n        self.queries.push({\n          name: key,\n          value: `only screen and (min-width: ${namedQueries[key]})`\n        });\n      }\n    }\n\n    this.current = this._getCurrentSize();\n\n    this._watcher();\n  },\n\n  /**\n   * Checks if the screen is at least as wide as a breakpoint.\n   * @function\n   * @param {String} size - Name of the breakpoint to check.\n   * @returns {Boolean} `true` if the breakpoint matches, `false` if it's smaller.\n   */\n  atLeast(size) {\n    var query = this.get(size);\n\n    if (query) {\n      return window.matchMedia(query).matches;\n    }\n\n    return false;\n  },\n\n  /**\n   * Checks if the screen matches to a breakpoint.\n   * @function\n   * @param {String} size - Name of the breakpoint to check, either 'small only' or 'small'. Omitting 'only' falls back to using atLeast() method.\n   * @returns {Boolean} `true` if the breakpoint matches, `false` if it does not.\n   */\n  is(size) {\n    size = size.trim().split(' ');\n    if(size.length > 1 && size[1] === 'only') {\n      if(size[0] === this._getCurrentSize()) return true;\n    } else {\n      return this.atLeast(size[0]);\n    }\n    return false;\n  },\n\n  /**\n   * Gets the media query of a breakpoint.\n   * @function\n   * @param {String} size - Name of the breakpoint to get.\n   * @returns {String|null} - The media query of the breakpoint, or `null` if the breakpoint doesn't exist.\n   */\n  get(size) {\n    for (var i in this.queries) {\n      if(this.queries.hasOwnProperty(i)) {\n        var query = this.queries[i];\n        if (size === query.name) return query.value;\n      }\n    }\n\n    return null;\n  },\n\n  /**\n   * Gets the current breakpoint name by testing every breakpoint and returning the last one to match (the biggest one).\n   * @function\n   * @private\n   * @returns {String} Name of the current breakpoint.\n   */\n  _getCurrentSize() {\n    var matched;\n\n    for (var i = 0; i < this.queries.length; i++) {\n      var query = this.queries[i];\n\n      if (window.matchMedia(query.value).matches) {\n        matched = query;\n      }\n    }\n\n    if (typeof matched === 'object') {\n      return matched.name;\n    } else {\n      return matched;\n    }\n  },\n\n  /**\n   * Activates the breakpoint watcher, which fires an event on the window whenever the breakpoint changes.\n   * @function\n   * @private\n   */\n  _watcher() {\n    $(window).on('resize.zf.mediaquery', () => {\n      var newSize = this._getCurrentSize(), currentSize = this.current;\n\n      if (newSize !== currentSize) {\n        // Change the current media query\n        this.current = newSize;\n\n        // Broadcast the media query change on the window\n        $(window).trigger('changed.zf.mediaquery', [newSize, currentSize]);\n      }\n    });\n  }\n};\n\nFoundation.MediaQuery = MediaQuery;\n\n// matchMedia() polyfill - Test a CSS media type/query in JS.\n// Authors & copyright (c) 2012: Scott Jehl, Paul Irish, Nicholas Zakas, David Knight. Dual MIT/BSD license\nwindow.matchMedia || (window.matchMedia = function() {\n  'use strict';\n\n  // For browsers that support matchMedium api such as IE 9 and webkit\n  var styleMedia = (window.styleMedia || window.media);\n\n  // For those that don't support matchMedium\n  if (!styleMedia) {\n    var style   = document.createElement('style'),\n    script      = document.getElementsByTagName('script')[0],\n    info        = null;\n\n    style.type  = 'text/css';\n    style.id    = 'matchmediajs-test';\n\n    script && script.parentNode && script.parentNode.insertBefore(style, script);\n\n    // 'style.currentStyle' is used by IE <= 8 and 'window.getComputedStyle' for all other browsers\n    info = ('getComputedStyle' in window) && window.getComputedStyle(style, null) || style.currentStyle;\n\n    styleMedia = {\n      matchMedium(media) {\n        var text = `@media ${media}{ #matchmediajs-test { width: 1px; } }`;\n\n        // 'style.styleSheet' is used by IE <= 8 and 'style.textContent' for all other browsers\n        if (style.styleSheet) {\n          style.styleSheet.cssText = text;\n        } else {\n          style.textContent = text;\n        }\n\n        // Test if media query is true or false\n        return info.width === '1px';\n      }\n    }\n  }\n\n  return function(media) {\n    return {\n      matches: styleMedia.matchMedium(media || 'all'),\n      media: media || 'all'\n    };\n  }\n}());\n\n// Thank you: https://github.com/sindresorhus/query-string\nfunction parseStyleToObject(str) {\n  var styleObject = {};\n\n  if (typeof str !== 'string') {\n    return styleObject;\n  }\n\n  str = str.trim().slice(1, -1); // browsers re-quote string style values\n\n  if (!str) {\n    return styleObject;\n  }\n\n  styleObject = str.split('&').reduce(function(ret, param) {\n    var parts = param.replace(/\\+/g, ' ').split('=');\n    var key = parts[0];\n    var val = parts[1];\n    key = decodeURIComponent(key);\n\n    // missing `=` should be `null`:\n    // http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n    val = val === undefined ? null : decodeURIComponent(val);\n\n    if (!ret.hasOwnProperty(key)) {\n      ret[key] = val;\n    } else if (Array.isArray(ret[key])) {\n      ret[key].push(val);\n    } else {\n      ret[key] = [ret[key], val];\n    }\n    return ret;\n  }, {});\n\n  return styleObject;\n}\n\nFoundation.MediaQuery = MediaQuery;\n\n}(jQuery);\n","'use strict';\n\n!function($) {\n\n/**\n * Motion module.\n * @module foundation.motion\n */\n\nconst initClasses   = ['mui-enter', 'mui-leave'];\nconst activeClasses = ['mui-enter-active', 'mui-leave-active'];\n\nconst Motion = {\n  animateIn: function(element, animation, cb) {\n    animate(true, element, animation, cb);\n  },\n\n  animateOut: function(element, animation, cb) {\n    animate(false, element, animation, cb);\n  }\n}\n\nfunction Move(duration, elem, fn){\n  var anim, prog, start = null;\n  // console.log('called');\n\n  if (duration === 0) {\n    fn.apply(elem);\n    elem.trigger('finished.zf.animate', [elem]).triggerHandler('finished.zf.animate', [elem]);\n    return;\n  }\n\n  function move(ts){\n    if(!start) start = ts;\n    // console.log(start, ts);\n    prog = ts - start;\n    fn.apply(elem);\n\n    if(prog < duration){ anim = window.requestAnimationFrame(move, elem); }\n    else{\n      window.cancelAnimationFrame(anim);\n      elem.trigger('finished.zf.animate', [elem]).triggerHandler('finished.zf.animate', [elem]);\n    }\n  }\n  anim = window.requestAnimationFrame(move);\n}\n\n/**\n * Animates an element in or out using a CSS transition class.\n * @function\n * @private\n * @param {Boolean} isIn - Defines if the animation is in or out.\n * @param {Object} element - jQuery or HTML object to animate.\n * @param {String} animation - CSS class to use.\n * @param {Function} cb - Callback to run when animation is finished.\n */\nfunction animate(isIn, element, animation, cb) {\n  element = $(element).eq(0);\n\n  if (!element.length) return;\n\n  var initClass = isIn ? initClasses[0] : initClasses[1];\n  var activeClass = isIn ? activeClasses[0] : activeClasses[1];\n\n  // Set up the animation\n  reset();\n\n  element\n    .addClass(animation)\n    .css('transition', 'none');\n\n  requestAnimationFrame(() => {\n    element.addClass(initClass);\n    if (isIn) element.show();\n  });\n\n  // Start the animation\n  requestAnimationFrame(() => {\n    element[0].offsetWidth;\n    element\n      .css('transition', '')\n      .addClass(activeClass);\n  });\n\n  // Clean up the animation when it finishes\n  element.one(Foundation.transitionend(element), finish);\n\n  // Hides the element (for out animations), resets the element, and runs a callback\n  function finish() {\n    if (!isIn) element.hide();\n    reset();\n    if (cb) cb.apply(element);\n  }\n\n  // Resets transitions and removes motion-specific classes\n  function reset() {\n    element[0].style.transitionDuration = 0;\n    element.removeClass(`${initClass} ${activeClass} ${animation}`);\n  }\n}\n\nFoundation.Move = Move;\nFoundation.Motion = Motion;\n\n}(jQuery);\n","'use strict';\n\n!function($) {\n\nconst Nest = {\n  Feather(menu, type = 'zf') {\n    menu.attr('role', 'menubar');\n\n    var items = menu.find('li').attr({'role': 'menuitem'}),\n        subMenuClass = `is-${type}-submenu`,\n        subItemClass = `${subMenuClass}-item`,\n        hasSubClass = `is-${type}-submenu-parent`;\n\n    items.each(function() {\n      var $item = $(this),\n          $sub = $item.children('ul');\n\n      if ($sub.length) {\n        $item\n          .addClass(hasSubClass)\n          .attr({\n            'aria-haspopup': true,\n            'aria-label': $item.children('a:first').text()\n          });\n          // Note:  Drilldowns behave differently in how they hide, and so need\n          // additional attributes.  We should look if this possibly over-generalized\n          // utility (Nest) is appropriate when we rework menus in 6.4\n          if(type === 'drilldown') {\n            $item.attr({'aria-expanded': false});\n          }\n\n        $sub\n          .addClass(`submenu ${subMenuClass}`)\n          .attr({\n            'data-submenu': '',\n            'role': 'menu'\n          });\n        if(type === 'drilldown') {\n          $sub.attr({'aria-hidden': true});\n        }\n      }\n\n      if ($item.parent('[data-submenu]').length) {\n        $item.addClass(`is-submenu-item ${subItemClass}`);\n      }\n    });\n\n    return;\n  },\n\n  Burn(menu, type) {\n    var //items = menu.find('li'),\n        subMenuClass = `is-${type}-submenu`,\n        subItemClass = `${subMenuClass}-item`,\n        hasSubClass = `is-${type}-submenu-parent`;\n\n    menu\n      .find('>li, .menu, .menu > li')\n      .removeClass(`${subMenuClass} ${subItemClass} ${hasSubClass} is-submenu-item submenu is-active`)\n      .removeAttr('data-submenu').css('display', '');\n\n    // console.log(      menu.find('.' + subMenuClass + ', .' + subItemClass + ', .has-submenu, .is-submenu-item, .submenu, [data-submenu]')\n    //           .removeClass(subMenuClass + ' ' + subItemClass + ' has-submenu is-submenu-item submenu')\n    //           .removeAttr('data-submenu'));\n    // items.each(function(){\n    //   var $item = $(this),\n    //       $sub = $item.children('ul');\n    //   if($item.parent('[data-submenu]').length){\n    //     $item.removeClass('is-submenu-item ' + subItemClass);\n    //   }\n    //   if($sub.length){\n    //     $item.removeClass('has-submenu');\n    //     $sub.removeClass('submenu ' + subMenuClass).removeAttr('data-submenu');\n    //   }\n    // });\n  }\n}\n\nFoundation.Nest = Nest;\n\n}(jQuery);\n","'use strict';\n\n!function($) {\n\nfunction Timer(elem, options, cb) {\n  var _this = this,\n      duration = options.duration,//options is an object for easily adding features later.\n      nameSpace = Object.keys(elem.data())[0] || 'timer',\n      remain = -1,\n      start,\n      timer;\n\n  this.isPaused = false;\n\n  this.restart = function() {\n    remain = -1;\n    clearTimeout(timer);\n    this.start();\n  }\n\n  this.start = function() {\n    this.isPaused = false;\n    // if(!elem.data('paused')){ return false; }//maybe implement this sanity check if used for other things.\n    clearTimeout(timer);\n    remain = remain <= 0 ? duration : remain;\n    elem.data('paused', false);\n    start = Date.now();\n    timer = setTimeout(function(){\n      if(options.infinite){\n        _this.restart();//rerun the timer.\n      }\n      if (cb && typeof cb === 'function') { cb(); }\n    }, remain);\n    elem.trigger(`timerstart.zf.${nameSpace}`);\n  }\n\n  this.pause = function() {\n    this.isPaused = true;\n    //if(elem.data('paused')){ return false; }//maybe implement this sanity check if used for other things.\n    clearTimeout(timer);\n    elem.data('paused', true);\n    var end = Date.now();\n    remain = remain - (end - start);\n    elem.trigger(`timerpaused.zf.${nameSpace}`);\n  }\n}\n\n/**\n * Runs a callback function when images are fully loaded.\n * @param {Object} images - Image(s) to check if loaded.\n * @param {Func} callback - Function to execute when image is fully loaded.\n */\nfunction onImagesLoaded(images, callback){\n  var self = this,\n      unloaded = images.length;\n\n  if (unloaded === 0) {\n    callback();\n  }\n\n  images.each(function() {\n    // Check if image is loaded\n    if (this.complete || (this.readyState === 4) || (this.readyState === 'complete')) {\n      singleImageLoaded();\n    }\n    // Force load the image\n    else {\n      // fix for IE. See https://css-tricks.com/snippets/jquery/fixing-load-in-ie-for-cached-images/\n      var src = $(this).attr('src');\n      $(this).attr('src', src + (src.indexOf('?') >= 0 ? '&' : '?') + (new Date().getTime()));\n      $(this).one('load', function() {\n        singleImageLoaded();\n      });\n    }\n  });\n\n  function singleImageLoaded() {\n    unloaded--;\n    if (unloaded === 0) {\n      callback();\n    }\n  }\n}\n\nFoundation.Timer = Timer;\nFoundation.onImagesLoaded = onImagesLoaded;\n\n}(jQuery);\n","//**************************************************\n//**Work inspired by multiple jquery swipe plugins**\n//**Done by Yohai Ararat ***************************\n//**************************************************\n(function($) {\n\n  $.spotSwipe = {\n    version: '1.0.0',\n    enabled: 'ontouchstart' in document.documentElement,\n    preventDefault: false,\n    moveThreshold: 75,\n    timeThreshold: 200\n  };\n\n  var   startPosX,\n        startPosY,\n        startTime,\n        elapsedTime,\n        isMoving = false;\n\n  function onTouchEnd() {\n    //  alert(this);\n    this.removeEventListener('touchmove', onTouchMove);\n    this.removeEventListener('touchend', onTouchEnd);\n    isMoving = false;\n  }\n\n  function onTouchMove(e) {\n    if ($.spotSwipe.preventDefault) { e.preventDefault(); }\n    if(isMoving) {\n      var x = e.touches[0].pageX;\n      var y = e.touches[0].pageY;\n      var dx = startPosX - x;\n      var dy = startPosY - y;\n      var dir;\n      elapsedTime = new Date().getTime() - startTime;\n      if(Math.abs(dx) >= $.spotSwipe.moveThreshold && elapsedTime <= $.spotSwipe.timeThreshold) {\n        dir = dx > 0 ? 'left' : 'right';\n      }\n      // else if(Math.abs(dy) >= $.spotSwipe.moveThreshold && elapsedTime <= $.spotSwipe.timeThreshold) {\n      //   dir = dy > 0 ? 'down' : 'up';\n      // }\n      if(dir) {\n        e.preventDefault();\n        onTouchEnd.call(this);\n        $(this).trigger('swipe', dir).trigger(`swipe${dir}`);\n      }\n    }\n  }\n\n  function onTouchStart(e) {\n    if (e.touches.length == 1) {\n      startPosX = e.touches[0].pageX;\n      startPosY = e.touches[0].pageY;\n      isMoving = true;\n      startTime = new Date().getTime();\n      this.addEventListener('touchmove', onTouchMove, false);\n      this.addEventListener('touchend', onTouchEnd, false);\n    }\n  }\n\n  function init() {\n    this.addEventListener && this.addEventListener('touchstart', onTouchStart, false);\n  }\n\n  function teardown() {\n    this.removeEventListener('touchstart', onTouchStart);\n  }\n\n  $.event.special.swipe = { setup: init };\n\n  $.each(['left', 'up', 'down', 'right'], function () {\n    $.event.special[`swipe${this}`] = { setup: function(){\n      $(this).on('swipe', $.noop);\n    } };\n  });\n})(jQuery);\n/****************************************************\n * Method for adding psuedo drag events to elements *\n ***************************************************/\n!function($){\n  $.fn.addTouch = function(){\n    this.each(function(i,el){\n      $(el).bind('touchstart touchmove touchend touchcancel',function(){\n        //we pass the original event object because the jQuery event\n        //object is normalized to w3c specs and does not provide the TouchList\n        handleTouch(event);\n      });\n    });\n\n    var handleTouch = function(event){\n      var touches = event.changedTouches,\n          first = touches[0],\n          eventTypes = {\n            touchstart: 'mousedown',\n            touchmove: 'mousemove',\n            touchend: 'mouseup'\n          },\n          type = eventTypes[event.type],\n          simulatedEvent\n        ;\n\n      if('MouseEvent' in window && typeof window.MouseEvent === 'function') {\n        simulatedEvent = new window.MouseEvent(type, {\n          'bubbles': true,\n          'cancelable': true,\n          'screenX': first.screenX,\n          'screenY': first.screenY,\n          'clientX': first.clientX,\n          'clientY': first.clientY\n        });\n      } else {\n        simulatedEvent = document.createEvent('MouseEvent');\n        simulatedEvent.initMouseEvent(type, true, true, window, 1, first.screenX, first.screenY, first.clientX, first.clientY, false, false, false, false, 0/*left*/, null);\n      }\n      first.target.dispatchEvent(simulatedEvent);\n    };\n  };\n}(jQuery);\n\n\n//**********************************\n//**From the jQuery Mobile Library**\n//**need to recreate functionality**\n//**and try to improve if possible**\n//**********************************\n\n/* Removing the jQuery function ****\n************************************\n\n(function( $, window, undefined ) {\n\n\tvar $document = $( document ),\n\t\t// supportTouch = $.mobile.support.touch,\n\t\ttouchStartEvent = 'touchstart'//supportTouch ? \"touchstart\" : \"mousedown\",\n\t\ttouchStopEvent = 'touchend'//supportTouch ? \"touchend\" : \"mouseup\",\n\t\ttouchMoveEvent = 'touchmove'//supportTouch ? \"touchmove\" : \"mousemove\";\n\n\t// setup new event shortcuts\n\t$.each( ( \"touchstart touchmove touchend \" +\n\t\t\"swipe swipeleft swiperight\" ).split( \" \" ), function( i, name ) {\n\n\t\t$.fn[ name ] = function( fn ) {\n\t\t\treturn fn ? this.bind( name, fn ) : this.trigger( name );\n\t\t};\n\n\t\t// jQuery < 1.8\n\t\tif ( $.attrFn ) {\n\t\t\t$.attrFn[ name ] = true;\n\t\t}\n\t});\n\n\tfunction triggerCustomEvent( obj, eventType, event, bubble ) {\n\t\tvar originalType = event.type;\n\t\tevent.type = eventType;\n\t\tif ( bubble ) {\n\t\t\t$.event.trigger( event, undefined, obj );\n\t\t} else {\n\t\t\t$.event.dispatch.call( obj, event );\n\t\t}\n\t\tevent.type = originalType;\n\t}\n\n\t// also handles taphold\n\n\t// Also handles swipeleft, swiperight\n\t$.event.special.swipe = {\n\n\t\t// More than this horizontal displacement, and we will suppress scrolling.\n\t\tscrollSupressionThreshold: 30,\n\n\t\t// More time than this, and it isn't a swipe.\n\t\tdurationThreshold: 1000,\n\n\t\t// Swipe horizontal displacement must be more than this.\n\t\thorizontalDistanceThreshold: window.devicePixelRatio >= 2 ? 15 : 30,\n\n\t\t// Swipe vertical displacement must be less than this.\n\t\tverticalDistanceThreshold: window.devicePixelRatio >= 2 ? 15 : 30,\n\n\t\tgetLocation: function ( event ) {\n\t\t\tvar winPageX = window.pageXOffset,\n\t\t\t\twinPageY = window.pageYOffset,\n\t\t\t\tx = event.clientX,\n\t\t\t\ty = event.clientY;\n\n\t\t\tif ( event.pageY === 0 && Math.floor( y ) > Math.floor( event.pageY ) ||\n\t\t\t\tevent.pageX === 0 && Math.floor( x ) > Math.floor( event.pageX ) ) {\n\n\t\t\t\t// iOS4 clientX/clientY have the value that should have been\n\t\t\t\t// in pageX/pageY. While pageX/page/ have the value 0\n\t\t\t\tx = x - winPageX;\n\t\t\t\ty = y - winPageY;\n\t\t\t} else if ( y < ( event.pageY - winPageY) || x < ( event.pageX - winPageX ) ) {\n\n\t\t\t\t// Some Android browsers have totally bogus values for clientX/Y\n\t\t\t\t// when scrolling/zooming a page. Detectable since clientX/clientY\n\t\t\t\t// should never be smaller than pageX/pageY minus page scroll\n\t\t\t\tx = event.pageX - winPageX;\n\t\t\t\ty = event.pageY - winPageY;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tx: x,\n\t\t\t\ty: y\n\t\t\t};\n\t\t},\n\n\t\tstart: function( event ) {\n\t\t\tvar data = event.originalEvent.touches ?\n\t\t\t\t\tevent.originalEvent.touches[ 0 ] : event,\n\t\t\t\tlocation = $.event.special.swipe.getLocation( data );\n\t\t\treturn {\n\t\t\t\t\t\ttime: ( new Date() ).getTime(),\n\t\t\t\t\t\tcoords: [ location.x, location.y ],\n\t\t\t\t\t\torigin: $( event.target )\n\t\t\t\t\t};\n\t\t},\n\n\t\tstop: function( event ) {\n\t\t\tvar data = event.originalEvent.touches ?\n\t\t\t\t\tevent.originalEvent.touches[ 0 ] : event,\n\t\t\t\tlocation = $.event.special.swipe.getLocation( data );\n\t\t\treturn {\n\t\t\t\t\t\ttime: ( new Date() ).getTime(),\n\t\t\t\t\t\tcoords: [ location.x, location.y ]\n\t\t\t\t\t};\n\t\t},\n\n\t\thandleSwipe: function( start, stop, thisObject, origTarget ) {\n\t\t\tif ( stop.time - start.time < $.event.special.swipe.durationThreshold &&\n\t\t\t\tMath.abs( start.coords[ 0 ] - stop.coords[ 0 ] ) > $.event.special.swipe.horizontalDistanceThreshold &&\n\t\t\t\tMath.abs( start.coords[ 1 ] - stop.coords[ 1 ] ) < $.event.special.swipe.verticalDistanceThreshold ) {\n\t\t\t\tvar direction = start.coords[0] > stop.coords[ 0 ] ? \"swipeleft\" : \"swiperight\";\n\n\t\t\t\ttriggerCustomEvent( thisObject, \"swipe\", $.Event( \"swipe\", { target: origTarget, swipestart: start, swipestop: stop }), true );\n\t\t\t\ttriggerCustomEvent( thisObject, direction,$.Event( direction, { target: origTarget, swipestart: start, swipestop: stop } ), true );\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\n\t\t},\n\n\t\t// This serves as a flag to ensure that at most one swipe event event is\n\t\t// in work at any given time\n\t\teventInProgress: false,\n\n\t\tsetup: function() {\n\t\t\tvar events,\n\t\t\t\tthisObject = this,\n\t\t\t\t$this = $( thisObject ),\n\t\t\t\tcontext = {};\n\n\t\t\t// Retrieve the events data for this element and add the swipe context\n\t\t\tevents = $.data( this, \"mobile-events\" );\n\t\t\tif ( !events ) {\n\t\t\t\tevents = { length: 0 };\n\t\t\t\t$.data( this, \"mobile-events\", events );\n\t\t\t}\n\t\t\tevents.length++;\n\t\t\tevents.swipe = context;\n\n\t\t\tcontext.start = function( event ) {\n\n\t\t\t\t// Bail if we're already working on a swipe event\n\t\t\t\tif ( $.event.special.swipe.eventInProgress ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t$.event.special.swipe.eventInProgress = true;\n\n\t\t\t\tvar stop,\n\t\t\t\t\tstart = $.event.special.swipe.start( event ),\n\t\t\t\t\torigTarget = event.target,\n\t\t\t\t\temitted = false;\n\n\t\t\t\tcontext.move = function( event ) {\n\t\t\t\t\tif ( !start || event.isDefaultPrevented() ) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tstop = $.event.special.swipe.stop( event );\n\t\t\t\t\tif ( !emitted ) {\n\t\t\t\t\t\temitted = $.event.special.swipe.handleSwipe( start, stop, thisObject, origTarget );\n\t\t\t\t\t\tif ( emitted ) {\n\n\t\t\t\t\t\t\t// Reset the context to make way for the next swipe event\n\t\t\t\t\t\t\t$.event.special.swipe.eventInProgress = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// prevent scrolling\n\t\t\t\t\tif ( Math.abs( start.coords[ 0 ] - stop.coords[ 0 ] ) > $.event.special.swipe.scrollSupressionThreshold ) {\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tcontext.stop = function() {\n\t\t\t\t\t\temitted = true;\n\n\t\t\t\t\t\t// Reset the context to make way for the next swipe event\n\t\t\t\t\t\t$.event.special.swipe.eventInProgress = false;\n\t\t\t\t\t\t$document.off( touchMoveEvent, context.move );\n\t\t\t\t\t\tcontext.move = null;\n\t\t\t\t};\n\n\t\t\t\t$document.on( touchMoveEvent, context.move )\n\t\t\t\t\t.one( touchStopEvent, context.stop );\n\t\t\t};\n\t\t\t$this.on( touchStartEvent, context.start );\n\t\t},\n\n\t\tteardown: function() {\n\t\t\tvar events, context;\n\n\t\t\tevents = $.data( this, \"mobile-events\" );\n\t\t\tif ( events ) {\n\t\t\t\tcontext = events.swipe;\n\t\t\t\tdelete events.swipe;\n\t\t\t\tevents.length--;\n\t\t\t\tif ( events.length === 0 ) {\n\t\t\t\t\t$.removeData( this, \"mobile-events\" );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( context ) {\n\t\t\t\tif ( context.start ) {\n\t\t\t\t\t$( this ).off( touchStartEvent, context.start );\n\t\t\t\t}\n\t\t\t\tif ( context.move ) {\n\t\t\t\t\t$document.off( touchMoveEvent, context.move );\n\t\t\t\t}\n\t\t\t\tif ( context.stop ) {\n\t\t\t\t\t$document.off( touchStopEvent, context.stop );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\t$.each({\n\t\tswipeleft: \"swipe.left\",\n\t\tswiperight: \"swipe.right\"\n\t}, function( event, sourceEvent ) {\n\n\t\t$.event.special[ event ] = {\n\t\t\tsetup: function() {\n\t\t\t\t$( this ).bind( sourceEvent, $.noop );\n\t\t\t},\n\t\t\tteardown: function() {\n\t\t\t\t$( this ).unbind( sourceEvent );\n\t\t\t}\n\t\t};\n\t});\n})( jQuery, this );\n*/\n","'use strict';\n\n!function($) {\n\nconst MutationObserver = (function () {\n  var prefixes = ['WebKit', 'Moz', 'O', 'Ms', ''];\n  for (var i=0; i < prefixes.length; i++) {\n    if (`${prefixes[i]}MutationObserver` in window) {\n      return window[`${prefixes[i]}MutationObserver`];\n    }\n  }\n  return false;\n}());\n\nconst triggers = (el, type) => {\n  el.data(type).split(' ').forEach(id => {\n    $(`#${id}`)[ type === 'close' ? 'trigger' : 'triggerHandler'](`${type}.zf.trigger`, [el]);\n  });\n};\n// Elements with [data-open] will reveal a plugin that supports it when clicked.\n$(document).on('click.zf.trigger', '[data-open]', function() {\n  triggers($(this), 'open');\n});\n\n// Elements with [data-close] will close a plugin that supports it when clicked.\n// If used without a value on [data-close], the event will bubble, allowing it to close a parent component.\n$(document).on('click.zf.trigger', '[data-close]', function() {\n  let id = $(this).data('close');\n  if (id) {\n    triggers($(this), 'close');\n  }\n  else {\n    $(this).trigger('close.zf.trigger');\n  }\n});\n\n// Elements with [data-toggle] will toggle a plugin that supports it when clicked.\n$(document).on('click.zf.trigger', '[data-toggle]', function() {\n  let id = $(this).data('toggle');\n  if (id) {\n    triggers($(this), 'toggle');\n  } else {\n    $(this).trigger('toggle.zf.trigger');\n  }\n});\n\n// Elements with [data-closable] will respond to close.zf.trigger events.\n$(document).on('close.zf.trigger', '[data-closable]', function(e){\n  e.stopPropagation();\n  let animation = $(this).data('closable');\n\n  if(animation !== ''){\n    Foundation.Motion.animateOut($(this), animation, function() {\n      $(this).trigger('closed.zf');\n    });\n  }else{\n    $(this).fadeOut().trigger('closed.zf');\n  }\n});\n\n$(document).on('focus.zf.trigger blur.zf.trigger', '[data-toggle-focus]', function() {\n  let id = $(this).data('toggle-focus');\n  $(`#${id}`).triggerHandler('toggle.zf.trigger', [$(this)]);\n});\n\n/**\n* Fires once after all other scripts have loaded\n* @function\n* @private\n*/\n$(window).on('load', () => {\n  checkListeners();\n});\n\nfunction checkListeners() {\n  eventsListener();\n  resizeListener();\n  scrollListener();\n  closemeListener();\n}\n\n//******** only fires this function once on load, if there's something to watch ********\nfunction closemeListener(pluginName) {\n  var yetiBoxes = $('[data-yeti-box]'),\n      plugNames = ['dropdown', 'tooltip', 'reveal'];\n\n  if(pluginName){\n    if(typeof pluginName === 'string'){\n      plugNames.push(pluginName);\n    }else if(typeof pluginName === 'object' && typeof pluginName[0] === 'string'){\n      plugNames.concat(pluginName);\n    }else{\n      console.error('Plugin names must be strings');\n    }\n  }\n  if(yetiBoxes.length){\n    let listeners = plugNames.map((name) => {\n      return `closeme.zf.${name}`;\n    }).join(' ');\n\n    $(window).off(listeners).on(listeners, function(e, pluginId){\n      let plugin = e.namespace.split('.')[0];\n      let plugins = $(`[data-${plugin}]`).not(`[data-yeti-box=\"${pluginId}\"]`);\n\n      plugins.each(function(){\n        let _this = $(this);\n\n        _this.triggerHandler('close.zf.trigger', [_this]);\n      });\n    });\n  }\n}\n\nfunction resizeListener(debounce){\n  let timer,\n      $nodes = $('[data-resize]');\n  if($nodes.length){\n    $(window).off('resize.zf.trigger')\n    .on('resize.zf.trigger', function(e) {\n      if (timer) { clearTimeout(timer); }\n\n      timer = setTimeout(function(){\n\n        if(!MutationObserver){//fallback for IE 9\n          $nodes.each(function(){\n            $(this).triggerHandler('resizeme.zf.trigger');\n          });\n        }\n        //trigger all listening elements and signal a resize event\n        $nodes.attr('data-events', \"resize\");\n      }, debounce || 10);//default time to emit resize event\n    });\n  }\n}\n\nfunction scrollListener(debounce){\n  let timer,\n      $nodes = $('[data-scroll]');\n  if($nodes.length){\n    $(window).off('scroll.zf.trigger')\n    .on('scroll.zf.trigger', function(e){\n      if(timer){ clearTimeout(timer); }\n\n      timer = setTimeout(function(){\n\n        if(!MutationObserver){//fallback for IE 9\n          $nodes.each(function(){\n            $(this).triggerHandler('scrollme.zf.trigger');\n          });\n        }\n        //trigger all listening elements and signal a scroll event\n        $nodes.attr('data-events', \"scroll\");\n      }, debounce || 10);//default time to emit scroll event\n    });\n  }\n}\n\nfunction eventsListener() {\n  if(!MutationObserver){ return false; }\n  let nodes = document.querySelectorAll('[data-resize], [data-scroll], [data-mutate]');\n\n  //element callback\n  var listeningElementsMutation = function (mutationRecordsList) {\n      var $target = $(mutationRecordsList[0].target);\n\n\t  //trigger the event handler for the element depending on type\n      switch (mutationRecordsList[0].type) {\n\n        case \"attributes\":\n          if ($target.attr(\"data-events\") === \"scroll\" && mutationRecordsList[0].attributeName === \"data-events\") {\n\t\t  \t$target.triggerHandler('scrollme.zf.trigger', [$target, window.pageYOffset]);\n\t\t  }\n\t\t  if ($target.attr(\"data-events\") === \"resize\" && mutationRecordsList[0].attributeName === \"data-events\") {\n\t\t  \t$target.triggerHandler('resizeme.zf.trigger', [$target]);\n\t\t   }\n\t\t  if (mutationRecordsList[0].attributeName === \"style\") {\n\t\t\t  $target.closest(\"[data-mutate]\").attr(\"data-events\",\"mutate\");\n\t\t\t  $target.closest(\"[data-mutate]\").triggerHandler('mutateme.zf.trigger', [$target.closest(\"[data-mutate]\")]);\n\t\t  }\n\t\t  break;\n\n        case \"childList\":\n\t\t  $target.closest(\"[data-mutate]\").attr(\"data-events\",\"mutate\");\n\t\t  $target.closest(\"[data-mutate]\").triggerHandler('mutateme.zf.trigger', [$target.closest(\"[data-mutate]\")]);\n          break;\n\n        default:\n          return false;\n        //nothing\n      }\n    };\n\n    if (nodes.length) {\n      //for each element that needs to listen for resizing, scrolling, or mutation add a single observer\n      for (var i = 0; i <= nodes.length - 1; i++) {\n        var elementObserver = new MutationObserver(listeningElementsMutation);\n        elementObserver.observe(nodes[i], { attributes: true, childList: true, characterData: false, subtree: true, attributeFilter: [\"data-events\", \"style\"] });\n      }\n    }\n  }\n\n// ------------------------------------\n\n// [PH]\n// Foundation.CheckWatchers = checkWatchers;\nFoundation.IHearYou = checkListeners;\n// Foundation.ISeeYou = scrollListener;\n// Foundation.IFeelYou = closemeListener;\n\n}(jQuery);\n","'use strict';\n\n!function($) {\n\n/**\n * Accordion module.\n * @module foundation.accordion\n * @requires foundation.util.keyboard\n * @requires foundation.util.motion\n */\n\nclass Accordion {\n  /**\n   * Creates a new instance of an accordion.\n   * @class\n   * @fires Accordion#init\n   * @param {jQuery} element - jQuery object to make into an accordion.\n   * @param {Object} options - a plain object with settings to override the default options.\n   */\n  constructor(element, options) {\n    this.$element = element;\n    this.options = $.extend({}, Accordion.defaults, this.$element.data(), options);\n\n    this._init();\n\n    Foundation.registerPlugin(this, 'Accordion');\n    Foundation.Keyboard.register('Accordion', {\n      'ENTER': 'toggle',\n      'SPACE': 'toggle',\n      'ARROW_DOWN': 'next',\n      'ARROW_UP': 'previous'\n    });\n  }\n\n  /**\n   * Initializes the accordion by animating the preset active pane(s).\n   * @private\n   */\n  _init() {\n    this.$element.attr('role', 'tablist');\n    this.$tabs = this.$element.children('[data-accordion-item]');\n\n    this.$tabs.each(function(idx, el) {\n      var $el = $(el),\n          $content = $el.children('[data-tab-content]'),\n          id = $content[0].id || Foundation.GetYoDigits(6, 'accordion'),\n          linkId = el.id || `${id}-label`;\n\n      $el.find('a:first').attr({\n        'aria-controls': id,\n        'role': 'tab',\n        'id': linkId,\n        'aria-expanded': false,\n        'aria-selected': false\n      });\n\n      $content.attr({'role': 'tabpanel', 'aria-labelledby': linkId, 'aria-hidden': true, 'id': id});\n    });\n    var $initActive = this.$element.find('.is-active').children('[data-tab-content]');\n    this.firstTimeInit = true;\n    if($initActive.length){\n      this.down($initActive, this.firstTimeInit);\n      this.firstTimeInit = false;\n    }\n\n    this._checkDeepLink = () => {\n      var anchor = window.location.hash;\n      //need a hash and a relevant anchor in this tabset\n      if(anchor.length) {\n        var $link = this.$element.find('[href$=\"'+anchor+'\"]'),\n        $anchor = $(anchor);\n\n        if ($link.length && $anchor) {\n          if (!$link.parent('[data-accordion-item]').hasClass('is-active')) {\n            this.down($anchor, this.firstTimeInit);\n            this.firstTimeInit = false;\n          };\n\n          //roll up a little to show the titles\n          if (this.options.deepLinkSmudge) {\n            var _this = this;\n            $(window).load(function() {\n              var offset = _this.$element.offset();\n              $('html, body').animate({ scrollTop: offset.top }, _this.options.deepLinkSmudgeDelay);\n            });\n          }\n\n          /**\n            * Fires when the zplugin has deeplinked at pageload\n            * @event Accordion#deeplink\n            */\n          this.$element.trigger('deeplink.zf.accordion', [$link, $anchor]);\n        }\n      }\n    }\n\n    //use browser to open a tab, if it exists in this tabset\n    if (this.options.deepLink) {\n      this._checkDeepLink();\n    }\n\n    this._events();\n  }\n\n  /**\n   * Adds event handlers for items within the accordion.\n   * @private\n   */\n  _events() {\n    var _this = this;\n\n    this.$tabs.each(function() {\n      var $elem = $(this);\n      var $tabContent = $elem.children('[data-tab-content]');\n      if ($tabContent.length) {\n        $elem.children('a').off('click.zf.accordion keydown.zf.accordion')\n               .on('click.zf.accordion', function(e) {\n          e.preventDefault();\n          _this.toggle($tabContent);\n        }).on('keydown.zf.accordion', function(e){\n          Foundation.Keyboard.handleKey(e, 'Accordion', {\n            toggle: function() {\n              _this.toggle($tabContent);\n            },\n            next: function() {\n              var $a = $elem.next().find('a').focus();\n              if (!_this.options.multiExpand) {\n                $a.trigger('click.zf.accordion')\n              }\n            },\n            previous: function() {\n              var $a = $elem.prev().find('a').focus();\n              if (!_this.options.multiExpand) {\n                $a.trigger('click.zf.accordion')\n              }\n            },\n            handled: function() {\n              e.preventDefault();\n              e.stopPropagation();\n            }\n          });\n        });\n      }\n    });\n    if(this.options.deepLink) {\n      $(window).on('popstate', this._checkDeepLink);\n    }\n  }\n\n  /**\n   * Toggles the selected content pane's open/close state.\n   * @param {jQuery} $target - jQuery object of the pane to toggle (`.accordion-content`).\n   * @function\n   */\n  toggle($target) {\n    if($target.parent().hasClass('is-active')) {\n      this.up($target);\n    } else {\n      this.down($target);\n    }\n    //either replace or update browser history\n    if (this.options.deepLink) {\n      var anchor = $target.prev('a').attr('href');\n\n      if (this.options.updateHistory) {\n        history.pushState({}, '', anchor);\n      } else {\n        history.replaceState({}, '', anchor);\n      }\n    }\n  }\n\n  /**\n   * Opens the accordion tab defined by `$target`.\n   * @param {jQuery} $target - Accordion pane to open (`.accordion-content`).\n   * @param {Boolean} firstTime - flag to determine if reflow should happen.\n   * @fires Accordion#down\n   * @function\n   */\n  down($target, firstTime) {\n    $target\n      .attr('aria-hidden', false)\n      .parent('[data-tab-content]')\n      .addBack()\n      .parent().addClass('is-active');\n\n    if (!this.options.multiExpand && !firstTime) {\n      var $currentActive = this.$element.children('.is-active').children('[data-tab-content]');\n      if ($currentActive.length) {\n        this.up($currentActive.not($target));\n      }\n    }\n\n    $target.slideDown(this.options.slideSpeed, () => {\n      /**\n       * Fires when the tab is done opening.\n       * @event Accordion#down\n       */\n      this.$element.trigger('down.zf.accordion', [$target]);\n    });\n\n    $(`#${$target.attr('aria-labelledby')}`).attr({\n      'aria-expanded': true,\n      'aria-selected': true\n    });\n  }\n\n  /**\n   * Closes the tab defined by `$target`.\n   * @param {jQuery} $target - Accordion tab to close (`.accordion-content`).\n   * @fires Accordion#up\n   * @function\n   */\n  up($target) {\n    var $aunts = $target.parent().siblings(),\n        _this = this;\n\n    if((!this.options.allowAllClosed && !$aunts.hasClass('is-active')) || !$target.parent().hasClass('is-active')) {\n      return;\n    }\n\n    // Foundation.Move(this.options.slideSpeed, $target, function(){\n      $target.slideUp(_this.options.slideSpeed, function () {\n        /**\n         * Fires when the tab is done collapsing up.\n         * @event Accordion#up\n         */\n        _this.$element.trigger('up.zf.accordion', [$target]);\n      });\n    // });\n\n    $target.attr('aria-hidden', true)\n           .parent().removeClass('is-active');\n\n    $(`#${$target.attr('aria-labelledby')}`).attr({\n     'aria-expanded': false,\n     'aria-selected': false\n   });\n  }\n\n  /**\n   * Destroys an instance of an accordion.\n   * @fires Accordion#destroyed\n   * @function\n   */\n  destroy() {\n    this.$element.find('[data-tab-content]').stop(true).slideUp(0).css('display', '');\n    this.$element.find('a').off('.zf.accordion');\n    if(this.options.deepLink) {\n      $(window).off('popstate', this._checkDeepLink);\n    }\n\n    Foundation.unregisterPlugin(this);\n  }\n}\n\nAccordion.defaults = {\n  /**\n   * Amount of time to animate the opening of an accordion pane.\n   * @option\n   * @type {number}\n   * @default 250\n   */\n  slideSpeed: 250,\n  /**\n   * Allow the accordion to have multiple open panes.\n   * @option\n   * @type {boolean}\n   * @default false\n   */\n  multiExpand: false,\n  /**\n   * Allow the accordion to close all panes.\n   * @option\n   * @type {boolean}\n   * @default false\n   */\n  allowAllClosed: false,\n  /**\n   * Allows the window to scroll to content of pane specified by hash anchor\n   * @option\n   * @type {boolean}\n   * @default false\n   */\n  deepLink: false,\n\n  /**\n   * Adjust the deep link scroll to make sure the top of the accordion panel is visible\n   * @option\n   * @type {boolean}\n   * @default false\n   */\n  deepLinkSmudge: false,\n\n  /**\n   * Animation time (ms) for the deep link adjustment\n   * @option\n   * @type {number}\n   * @default 300\n   */\n  deepLinkSmudgeDelay: 300,\n\n  /**\n   * Update the browser history with the open accordion\n   * @option\n   * @type {boolean}\n   * @default false\n   */\n  updateHistory: false\n};\n\n// Window exports\nFoundation.plugin(Accordion, 'Accordion');\n\n}(jQuery);\n","'use strict';\n\n!function($) {\n\n/**\n * Interchange module.\n * @module foundation.interchange\n * @requires foundation.util.mediaQuery\n * @requires foundation.util.timerAndImageLoader\n */\n\nclass Interchange {\n  /**\n   * Creates a new instance of Interchange.\n   * @class\n   * @fires Interchange#init\n   * @param {Object} element - jQuery object to add the trigger to.\n   * @param {Object} options - Overrides to the default plugin settings.\n   */\n  constructor(element, options) {\n    this.$element = element;\n    this.options = $.extend({}, Interchange.defaults, options);\n    this.rules = [];\n    this.currentPath = '';\n\n    this._init();\n    this._events();\n\n    Foundation.registerPlugin(this, 'Interchange');\n  }\n\n  /**\n   * Initializes the Interchange plugin and calls functions to get interchange functioning on load.\n   * @function\n   * @private\n   */\n  _init() {\n    this._addBreakpoints();\n    this._generateRules();\n    this._reflow();\n  }\n\n  /**\n   * Initializes events for Interchange.\n   * @function\n   * @private\n   */\n  _events() {\n    $(window).on('resize.zf.interchange', Foundation.util.throttle(() => {\n      this._reflow();\n    }, 50));\n  }\n\n  /**\n   * Calls necessary functions to update Interchange upon DOM change\n   * @function\n   * @private\n   */\n  _reflow() {\n    var match;\n\n    // Iterate through each rule, but only save the last match\n    for (var i in this.rules) {\n      if(this.rules.hasOwnProperty(i)) {\n        var rule = this.rules[i];\n        if (window.matchMedia(rule.query).matches) {\n          match = rule;\n        }\n      }\n    }\n\n    if (match) {\n      this.replace(match.path);\n    }\n  }\n\n  /**\n   * Gets the Foundation breakpoints and adds them to the Interchange.SPECIAL_QUERIES object.\n   * @function\n   * @private\n   */\n  _addBreakpoints() {\n    for (var i in Foundation.MediaQuery.queries) {\n      if (Foundation.MediaQuery.queries.hasOwnProperty(i)) {\n        var query = Foundation.MediaQuery.queries[i];\n        Interchange.SPECIAL_QUERIES[query.name] = query.value;\n      }\n    }\n  }\n\n  /**\n   * Checks the Interchange element for the provided media query + content pairings\n   * @function\n   * @private\n   * @param {Object} element - jQuery object that is an Interchange instance\n   * @returns {Array} scenarios - Array of objects that have 'mq' and 'path' keys with corresponding keys\n   */\n  _generateRules(element) {\n    var rulesList = [];\n    var rules;\n\n    if (this.options.rules) {\n      rules = this.options.rules;\n    }\n    else {\n      rules = this.$element.data('interchange');\n    }\n    \n    rules =  typeof rules === 'string' ? rules.match(/\\[.*?\\]/g) : rules;\n\n    for (var i in rules) {\n      if(rules.hasOwnProperty(i)) {\n        var rule = rules[i].slice(1, -1).split(', ');\n        var path = rule.slice(0, -1).join('');\n        var query = rule[rule.length - 1];\n\n        if (Interchange.SPECIAL_QUERIES[query]) {\n          query = Interchange.SPECIAL_QUERIES[query];\n        }\n\n        rulesList.push({\n          path: path,\n          query: query\n        });\n      }\n    }\n\n    this.rules = rulesList;\n  }\n\n  /**\n   * Update the `src` property of an image, or change the HTML of a container, to the specified path.\n   * @function\n   * @param {String} path - Path to the image or HTML partial.\n   * @fires Interchange#replaced\n   */\n  replace(path) {\n    if (this.currentPath === path) return;\n\n    var _this = this,\n        trigger = 'replaced.zf.interchange';\n\n    // Replacing images\n    if (this.$element[0].nodeName === 'IMG') {\n      this.$element.attr('src', path).on('load', function() {\n        _this.currentPath = path;\n      })\n      .trigger(trigger);\n    }\n    // Replacing background images\n    else if (path.match(/\\.(gif|jpg|jpeg|png|svg|tiff)([?#].*)?/i)) {\n      this.$element.css({ 'background-image': 'url('+path+')' })\n          .trigger(trigger);\n    }\n    // Replacing HTML\n    else {\n      $.get(path, function(response) {\n        _this.$element.html(response)\n             .trigger(trigger);\n        $(response).foundation();\n        _this.currentPath = path;\n      });\n    }\n\n    /**\n     * Fires when content in an Interchange element is done being loaded.\n     * @event Interchange#replaced\n     */\n    // this.$element.trigger('replaced.zf.interchange');\n  }\n\n  /**\n   * Destroys an instance of interchange.\n   * @function\n   */\n  destroy() {\n    //TODO this.\n  }\n}\n\n/**\n * Default settings for plugin\n */\nInterchange.defaults = {\n  /**\n   * Rules to be applied to Interchange elements. Set with the `data-interchange` array notation.\n   * @option\n   * @type {?array}\n   * @default null\n   */\n  rules: null\n};\n\nInterchange.SPECIAL_QUERIES = {\n  'landscape': 'screen and (orientation: landscape)',\n  'portrait': 'screen and (orientation: portrait)',\n  'retina': 'only screen and (-webkit-min-device-pixel-ratio: 2), only screen and (min--moz-device-pixel-ratio: 2), only screen and (-o-min-device-pixel-ratio: 2/1), only screen and (min-device-pixel-ratio: 2), only screen and (min-resolution: 192dpi), only screen and (min-resolution: 2dppx)'\n};\n\n// Window exports\nFoundation.plugin(Interchange, 'Interchange');\n\n}(jQuery);\n","'use strict';\n\n!function($) {\n\n/**\n * Tabs module.\n * @module foundation.tabs\n * @requires foundation.util.keyboard\n * @requires foundation.util.timerAndImageLoader if tabs contain images\n */\n\nclass Tabs {\n  /**\n   * Creates a new instance of tabs.\n   * @class\n   * @fires Tabs#init\n   * @param {jQuery} element - jQuery object to make into tabs.\n   * @param {Object} options - Overrides to the default plugin settings.\n   */\n  constructor(element, options) {\n    this.$element = element;\n    this.options = $.extend({}, Tabs.defaults, this.$element.data(), options);\n\n    this._init();\n    Foundation.registerPlugin(this, 'Tabs');\n    Foundation.Keyboard.register('Tabs', {\n      'ENTER': 'open',\n      'SPACE': 'open',\n      'ARROW_RIGHT': 'next',\n      'ARROW_UP': 'previous',\n      'ARROW_DOWN': 'next',\n      'ARROW_LEFT': 'previous'\n      // 'TAB': 'next',\n      // 'SHIFT_TAB': 'previous'\n    });\n  }\n\n  /**\n   * Initializes the tabs by showing and focusing (if autoFocus=true) the preset active tab.\n   * @private\n   */\n  _init() {\n    var _this = this;\n\n    this.$element.attr({'role': 'tablist'});\n    this.$tabTitles = this.$element.find(`.${this.options.linkClass}`);\n    this.$tabContent = $(`[data-tabs-content=\"${this.$element[0].id}\"]`);\n\n    this.$tabTitles.each(function(){\n      var $elem = $(this),\n          $link = $elem.find('a'),\n          isActive = $elem.hasClass(`${_this.options.linkActiveClass}`),\n          hash = $link[0].hash.slice(1),\n          linkId = $link[0].id ? $link[0].id : `${hash}-label`,\n          $tabContent = $(`#${hash}`);\n\n      $elem.attr({'role': 'presentation'});\n\n      $link.attr({\n        'role': 'tab',\n        'aria-controls': hash,\n        'aria-selected': isActive,\n        'id': linkId\n      });\n\n      $tabContent.attr({\n        'role': 'tabpanel',\n        'aria-hidden': !isActive,\n        'aria-labelledby': linkId\n      });\n\n      if(isActive && _this.options.autoFocus){\n        $(window).load(function() {\n          $('html, body').animate({ scrollTop: $elem.offset().top }, _this.options.deepLinkSmudgeDelay, () => {\n            $link.focus();\n          });\n        });\n      }\n    });\n    if(this.options.matchHeight) {\n      var $images = this.$tabContent.find('img');\n\n      if ($images.length) {\n        Foundation.onImagesLoaded($images, this._setHeight.bind(this));\n      } else {\n        this._setHeight();\n      }\n    }\n\n     //current context-bound function to open tabs on page load or history popstate\n    this._checkDeepLink = () => {\n      var anchor = window.location.hash;\n      //need a hash and a relevant anchor in this tabset\n      if(anchor.length) {\n        var $link = this.$element.find('[href$=\"'+anchor+'\"]');\n        if ($link.length) {\n          this.selectTab($(anchor), true);\n\n          //roll up a little to show the titles\n          if (this.options.deepLinkSmudge) {\n            var offset = this.$element.offset();\n            $('html, body').animate({ scrollTop: offset.top }, this.options.deepLinkSmudgeDelay);\n          }\n\n          /**\n            * Fires when the zplugin has deeplinked at pageload\n            * @event Tabs#deeplink\n            */\n           this.$element.trigger('deeplink.zf.tabs', [$link, $(anchor)]);\n         }\n       }\n     }\n\n    //use browser to open a tab, if it exists in this tabset\n    if (this.options.deepLink) {\n      this._checkDeepLink();\n    }\n\n    this._events();\n  }\n\n  /**\n   * Adds event handlers for items within the tabs.\n   * @private\n   */\n  _events() {\n    this._addKeyHandler();\n    this._addClickHandler();\n    this._setHeightMqHandler = null;\n\n    if (this.options.matchHeight) {\n      this._setHeightMqHandler = this._setHeight.bind(this);\n\n      $(window).on('changed.zf.mediaquery', this._setHeightMqHandler);\n    }\n\n    if(this.options.deepLink) {\n      $(window).on('popstate', this._checkDeepLink);\n    }\n  }\n\n  /**\n   * Adds click handlers for items within the tabs.\n   * @private\n   */\n  _addClickHandler() {\n    var _this = this;\n\n    this.$element\n      .off('click.zf.tabs')\n      .on('click.zf.tabs', `.${this.options.linkClass}`, function(e){\n        e.preventDefault();\n        e.stopPropagation();\n        _this._handleTabChange($(this));\n      });\n  }\n\n  /**\n   * Adds keyboard event handlers for items within the tabs.\n   * @private\n   */\n  _addKeyHandler() {\n    var _this = this;\n\n    this.$tabTitles.off('keydown.zf.tabs').on('keydown.zf.tabs', function(e){\n      if (e.which === 9) return;\n\n\n      var $element = $(this),\n        $elements = $element.parent('ul').children('li'),\n        $prevElement,\n        $nextElement;\n\n      $elements.each(function(i) {\n        if ($(this).is($element)) {\n          if (_this.options.wrapOnKeys) {\n            $prevElement = i === 0 ? $elements.last() : $elements.eq(i-1);\n            $nextElement = i === $elements.length -1 ? $elements.first() : $elements.eq(i+1);\n          } else {\n            $prevElement = $elements.eq(Math.max(0, i-1));\n            $nextElement = $elements.eq(Math.min(i+1, $elements.length-1));\n          }\n          return;\n        }\n      });\n\n      // handle keyboard event with keyboard util\n      Foundation.Keyboard.handleKey(e, 'Tabs', {\n        open: function() {\n          $element.find('[role=\"tab\"]').focus();\n          _this._handleTabChange($element);\n        },\n        previous: function() {\n          $prevElement.find('[role=\"tab\"]').focus();\n          _this._handleTabChange($prevElement);\n        },\n        next: function() {\n          $nextElement.find('[role=\"tab\"]').focus();\n          _this._handleTabChange($nextElement);\n        },\n        handled: function() {\n          e.stopPropagation();\n          e.preventDefault();\n        }\n      });\n    });\n  }\n\n  /**\n   * Opens the tab `$targetContent` defined by `$target`. Collapses active tab.\n   * @param {jQuery} $target - Tab to open.\n   * @param {boolean} historyHandled - browser has already handled a history update\n   * @fires Tabs#change\n   * @function\n   */\n  _handleTabChange($target, historyHandled) {\n\n    /**\n     * Check for active class on target. Collapse if exists.\n     */\n    if ($target.hasClass(`${this.options.linkActiveClass}`)) {\n        if(this.options.activeCollapse) {\n            this._collapseTab($target);\n\n           /**\n            * Fires when the zplugin has successfully collapsed tabs.\n            * @event Tabs#collapse\n            */\n            this.$element.trigger('collapse.zf.tabs', [$target]);\n        }\n        return;\n    }\n\n    var $oldTab = this.$element.\n          find(`.${this.options.linkClass}.${this.options.linkActiveClass}`),\n          $tabLink = $target.find('[role=\"tab\"]'),\n          hash = $tabLink[0].hash,\n          $targetContent = this.$tabContent.find(hash);\n\n    //close old tab\n    this._collapseTab($oldTab);\n\n    //open new tab\n    this._openTab($target);\n\n    //either replace or update browser history\n    if (this.options.deepLink && !historyHandled) {\n      var anchor = $target.find('a').attr('href');\n\n      if (this.options.updateHistory) {\n        history.pushState({}, '', anchor);\n      } else {\n        history.replaceState({}, '', anchor);\n      }\n    }\n\n    /**\n     * Fires when the plugin has successfully changed tabs.\n     * @event Tabs#change\n     */\n    this.$element.trigger('change.zf.tabs', [$target, $targetContent]);\n\n    //fire to children a mutation event\n    $targetContent.find(\"[data-mutate]\").trigger(\"mutateme.zf.trigger\");\n  }\n\n  /**\n   * Opens the tab `$targetContent` defined by `$target`.\n   * @param {jQuery} $target - Tab to Open.\n   * @function\n   */\n  _openTab($target) {\n      var $tabLink = $target.find('[role=\"tab\"]'),\n          hash = $tabLink[0].hash,\n          $targetContent = this.$tabContent.find(hash);\n\n      $target.addClass(`${this.options.linkActiveClass}`);\n\n      $tabLink.attr({'aria-selected': 'true'});\n\n      $targetContent\n        .addClass(`${this.options.panelActiveClass}`)\n        .attr({'aria-hidden': 'false'});\n  }\n\n  /**\n   * Collapses `$targetContent` defined by `$target`.\n   * @param {jQuery} $target - Tab to Open.\n   * @function\n   */\n  _collapseTab($target) {\n    var $target_anchor = $target\n      .removeClass(`${this.options.linkActiveClass}`)\n      .find('[role=\"tab\"]')\n      .attr({ 'aria-selected': 'false' });\n\n    $(`#${$target_anchor.attr('aria-controls')}`)\n      .removeClass(`${this.options.panelActiveClass}`)\n      .attr({ 'aria-hidden': 'true' });\n  }\n\n  /**\n   * Public method for selecting a content pane to display.\n   * @param {jQuery | String} elem - jQuery object or string of the id of the pane to display.\n   * @param {boolean} historyHandled - browser has already handled a history update\n   * @function\n   */\n  selectTab(elem, historyHandled) {\n    var idStr;\n\n    if (typeof elem === 'object') {\n      idStr = elem[0].id;\n    } else {\n      idStr = elem;\n    }\n\n    if (idStr.indexOf('#') < 0) {\n      idStr = `#${idStr}`;\n    }\n\n    var $target = this.$tabTitles.find(`[href$=\"${idStr}\"]`).parent(`.${this.options.linkClass}`);\n\n    this._handleTabChange($target, historyHandled);\n  };\n  /**\n   * Sets the height of each panel to the height of the tallest panel.\n   * If enabled in options, gets called on media query change.\n   * If loading content via external source, can be called directly or with _reflow.\n   * If enabled with `data-match-height=\"true\"`, tabs sets to equal height\n   * @function\n   * @private\n   */\n  _setHeight() {\n    var max = 0,\n        _this = this; // Lock down the `this` value for the root tabs object\n\n    this.$tabContent\n      .find(`.${this.options.panelClass}`)\n      .css('height', '')\n      .each(function() {\n\n        var panel = $(this),\n            isActive = panel.hasClass(`${_this.options.panelActiveClass}`); // get the options from the parent instead of trying to get them from the child\n\n        if (!isActive) {\n          panel.css({'visibility': 'hidden', 'display': 'block'});\n        }\n\n        var temp = this.getBoundingClientRect().height;\n\n        if (!isActive) {\n          panel.css({\n            'visibility': '',\n            'display': ''\n          });\n        }\n\n        max = temp > max ? temp : max;\n      })\n      .css('height', `${max}px`);\n  }\n\n  /**\n   * Destroys an instance of an tabs.\n   * @fires Tabs#destroyed\n   */\n  destroy() {\n    this.$element\n      .find(`.${this.options.linkClass}`)\n      .off('.zf.tabs').hide().end()\n      .find(`.${this.options.panelClass}`)\n      .hide();\n\n    if (this.options.matchHeight) {\n      if (this._setHeightMqHandler != null) {\n         $(window).off('changed.zf.mediaquery', this._setHeightMqHandler);\n      }\n    }\n\n    if (this.options.deepLink) {\n      $(window).off('popstate', this._checkDeepLink);\n    }\n\n    Foundation.unregisterPlugin(this);\n  }\n}\n\nTabs.defaults = {\n  /**\n   * Allows the window to scroll to content of pane specified by hash anchor\n   * @option\n   * @type {boolean}\n   * @default false\n   */\n  deepLink: false,\n\n  /**\n   * Adjust the deep link scroll to make sure the top of the tab panel is visible\n   * @option\n   * @type {boolean}\n   * @default false\n   */\n  deepLinkSmudge: false,\n\n  /**\n   * Animation time (ms) for the deep link adjustment\n   * @option\n   * @type {number}\n   * @default 300\n   */\n  deepLinkSmudgeDelay: 300,\n\n  /**\n   * Update the browser history with the open tab\n   * @option\n   * @type {boolean}\n   * @default false\n   */\n  updateHistory: false,\n\n  /**\n   * Allows the window to scroll to content of active pane on load if set to true.\n   * Not recommended if more than one tab panel per page.\n   * @option\n   * @type {boolean}\n   * @default false\n   */\n  autoFocus: false,\n\n  /**\n   * Allows keyboard input to 'wrap' around the tab links.\n   * @option\n   * @type {boolean}\n   * @default true\n   */\n  wrapOnKeys: true,\n\n  /**\n   * Allows the tab content panes to match heights if set to true.\n   * @option\n   * @type {boolean}\n   * @default false\n   */\n  matchHeight: false,\n\n  /**\n   * Allows active tabs to collapse when clicked.\n   * @option\n   * @type {boolean}\n   * @default false\n   */\n  activeCollapse: false,\n\n  /**\n   * Class applied to `li`'s in tab link list.\n   * @option\n   * @type {string}\n   * @default 'tabs-title'\n   */\n  linkClass: 'tabs-title',\n\n  /**\n   * Class applied to the active `li` in tab link list.\n   * @option\n   * @type {string}\n   * @default 'is-active'\n   */\n  linkActiveClass: 'is-active',\n\n  /**\n   * Class applied to the content containers.\n   * @option\n   * @type {string}\n   * @default 'tabs-panel'\n   */\n  panelClass: 'tabs-panel',\n\n  /**\n   * Class applied to the active content container.\n   * @option\n   * @type {string}\n   * @default 'is-active'\n   */\n  panelActiveClass: 'is-active'\n};\n\n// Window exports\nFoundation.plugin(Tabs, 'Tabs');\n\n}(jQuery);\n","/*\n * File: iframeResizer.contentWindow.js\n * Desc: Include this file in any page being loaded into an iframe\n *       to force the iframe to resize to the content size.\n * Requires: iframeResizer.js on host page.\n * Doc: https://github.com/davidjbradshaw/iframe-resizer\n * Author: David J. Bradshaw - dave@bradshaw.net\n *\n */\n\n// eslint-disable-next-line sonarjs/cognitive-complexity, no-shadow-restricted-names\n;(function(undefined) {\n  if (typeof window === 'undefined') return // don't run for server side render\n\n  var autoResize = true,\n    base = 10,\n    bodyBackground = '',\n    bodyMargin = 0,\n    bodyMarginStr = '',\n    bodyObserver = null,\n    bodyPadding = '',\n    calculateWidth = false,\n    doubleEventList = { resize: 1, click: 1 },\n    eventCancelTimer = 128,\n    firstRun = true,\n    height = 1,\n    heightCalcModeDefault = 'bodyOffset',\n    heightCalcMode = heightCalcModeDefault,\n    initLock = true,\n    initMsg = '',\n    inPageLinks = {},\n    interval = 32,\n    intervalTimer = null,\n    logging = false,\n    msgID = '[iFrameSizer]', // Must match host page msg ID\n    msgIdLen = msgID.length,\n    myID = '',\n    resetRequiredMethods = {\n      max: 1,\n      min: 1,\n      bodyScroll: 1,\n      documentElementScroll: 1\n    },\n    resizeFrom = 'child',\n    sendPermit = true,\n    target = window.parent,\n    targetOriginDefault = '*',\n    tolerance = 0,\n    triggerLocked = false,\n    triggerLockedTimer = null,\n    throttledTimer = 16,\n    width = 1,\n    widthCalcModeDefault = 'scroll',\n    widthCalcMode = widthCalcModeDefault,\n    win = window,\n    onMessage = function() {\n      warn('onMessage function not defined')\n    },\n    onReady = function() {},\n    onPageInfo = function() {},\n    customCalcMethods = {\n      height: function() {\n        warn('Custom height calculation function not defined')\n        return document.documentElement.offsetHeight\n      },\n      width: function() {\n        warn('Custom width calculation function not defined')\n        return document.body.scrollWidth\n      }\n    },\n    eventHandlersByName = {},\n    passiveSupported = false\n\n  function noop() {}\n\n  try {\n    var options = Object.create(\n      {},\n      {\n        passive: {\n          get: function() {\n            passiveSupported = true\n          }\n        }\n      }\n    )\n    window.addEventListener('test', noop, options)\n    window.removeEventListener('test', noop, options)\n  } catch (error) {\n    /* */\n  }\n\n  function addEventListener(el, evt, func, options) {\n    el.addEventListener(evt, func, passiveSupported ? options || {} : false)\n  }\n\n  function removeEventListener(el, evt, func) {\n    el.removeEventListener(evt, func, false)\n  }\n\n  function capitalizeFirstLetter(string) {\n    return string.charAt(0).toUpperCase() + string.slice(1)\n  }\n\n  // Based on underscore.js\n  function throttle(func) {\n    var context,\n      args,\n      result,\n      timeout = null,\n      previous = 0,\n      later = function() {\n        previous = getNow()\n        timeout = null\n        result = func.apply(context, args)\n        if (!timeout) {\n          // eslint-disable-next-line no-multi-assign\n          context = args = null\n        }\n      }\n\n    return function() {\n      var now = getNow()\n\n      if (!previous) {\n        previous = now\n      }\n\n      var remaining = throttledTimer - (now - previous)\n\n      context = this\n      args = arguments\n\n      if (remaining <= 0 || remaining > throttledTimer) {\n        if (timeout) {\n          clearTimeout(timeout)\n          timeout = null\n        }\n\n        previous = now\n        result = func.apply(context, args)\n\n        if (!timeout) {\n          // eslint-disable-next-line no-multi-assign\n          context = args = null\n        }\n      } else if (!timeout) {\n        timeout = setTimeout(later, remaining)\n      }\n\n      return result\n    }\n  }\n\n  var getNow =\n    Date.now ||\n    function() {\n      /* istanbul ignore next */ // Not testable in PhantonJS\n      return new Date().getTime()\n    }\n\n  function formatLogMsg(msg) {\n    return msgID + '[' + myID + '] ' + msg\n  }\n\n  function log(msg) {\n    if (logging && 'object' === typeof window.console) {\n      // eslint-disable-next-line no-console\n      console.log(formatLogMsg(msg))\n    }\n  }\n\n  function warn(msg) {\n    if ('object' === typeof window.console) {\n      // eslint-disable-next-line no-console\n      console.warn(formatLogMsg(msg))\n    }\n  }\n\n  function init() {\n    readDataFromParent()\n    log('Initialising iFrame (' + location.href + ')')\n    readDataFromPage()\n    setMargin()\n    setBodyStyle('background', bodyBackground)\n    setBodyStyle('padding', bodyPadding)\n    injectClearFixIntoBodyElement()\n    checkHeightMode()\n    checkWidthMode()\n    stopInfiniteResizingOfIFrame()\n    setupPublicMethods()\n    startEventListeners()\n    inPageLinks = setupInPageLinks()\n    sendSize('init', 'Init message from host page')\n    onReady()\n  }\n\n  function readDataFromParent() {\n    function strBool(str) {\n      return 'true' === str\n    }\n\n    var data = initMsg.substr(msgIdLen).split(':')\n\n    myID = data[0]\n    bodyMargin = undefined !== data[1] ? Number(data[1]) : bodyMargin // For V1 compatibility\n    calculateWidth = undefined !== data[2] ? strBool(data[2]) : calculateWidth\n    logging = undefined !== data[3] ? strBool(data[3]) : logging\n    interval = undefined !== data[4] ? Number(data[4]) : interval\n    autoResize = undefined !== data[6] ? strBool(data[6]) : autoResize\n    bodyMarginStr = data[7]\n    heightCalcMode = undefined !== data[8] ? data[8] : heightCalcMode\n    bodyBackground = data[9]\n    bodyPadding = data[10]\n    tolerance = undefined !== data[11] ? Number(data[11]) : tolerance\n    inPageLinks.enable = undefined !== data[12] ? strBool(data[12]) : false\n    resizeFrom = undefined !== data[13] ? data[13] : resizeFrom\n    widthCalcMode = undefined !== data[14] ? data[14] : widthCalcMode\n  }\n\n  function depricate(key) {\n    var splitName = key.split('Callback')\n\n    if (splitName.length === 2) {\n      var name =\n        'on' + splitName[0].charAt(0).toUpperCase() + splitName[0].slice(1)\n      this[name] = this[key]\n      delete this[key]\n      warn(\n        \"Deprecated: '\" +\n          key +\n          \"' has been renamed '\" +\n          name +\n          \"'. The old method will be removed in the next major version.\"\n      )\n    }\n  }\n\n  function readDataFromPage() {\n    function readData() {\n      var data = window.iFrameResizer\n\n      log('Reading data from page: ' + JSON.stringify(data))\n      Object.keys(data).forEach(depricate, data)\n\n      onMessage = 'onMessage' in data ? data.onMessage : onMessage\n      onReady = 'onReady' in data ? data.onReady : onReady\n      targetOriginDefault =\n        'targetOrigin' in data ? data.targetOrigin : targetOriginDefault\n      heightCalcMode =\n        'heightCalculationMethod' in data\n          ? data.heightCalculationMethod\n          : heightCalcMode\n      widthCalcMode =\n        'widthCalculationMethod' in data\n          ? data.widthCalculationMethod\n          : widthCalcMode\n    }\n\n    function setupCustomCalcMethods(calcMode, calcFunc) {\n      if ('function' === typeof calcMode) {\n        log('Setup custom ' + calcFunc + 'CalcMethod')\n        customCalcMethods[calcFunc] = calcMode\n        calcMode = 'custom'\n      }\n\n      return calcMode\n    }\n\n    if (\n      'iFrameResizer' in window &&\n      Object === window.iFrameResizer.constructor\n    ) {\n      readData()\n      heightCalcMode = setupCustomCalcMethods(heightCalcMode, 'height')\n      widthCalcMode = setupCustomCalcMethods(widthCalcMode, 'width')\n    }\n\n    log('TargetOrigin for parent set to: ' + targetOriginDefault)\n  }\n\n  function chkCSS(attr, value) {\n    if (-1 !== value.indexOf('-')) {\n      warn('Negative CSS value ignored for ' + attr)\n      value = ''\n    }\n    return value\n  }\n\n  function setBodyStyle(attr, value) {\n    if (undefined !== value && '' !== value && 'null' !== value) {\n      document.body.style[attr] = value\n      log('Body ' + attr + ' set to \"' + value + '\"')\n    }\n  }\n\n  function setMargin() {\n    // If called via V1 script, convert bodyMargin from int to str\n    if (undefined === bodyMarginStr) {\n      bodyMarginStr = bodyMargin + 'px'\n    }\n\n    setBodyStyle('margin', chkCSS('margin', bodyMarginStr))\n  }\n\n  function stopInfiniteResizingOfIFrame() {\n    document.documentElement.style.height = ''\n    document.body.style.height = ''\n    log('HTML & body height set to \"auto\"')\n  }\n\n  function manageTriggerEvent(options) {\n    var listener = {\n      add: function(eventName) {\n        function handleEvent() {\n          sendSize(options.eventName, options.eventType)\n        }\n\n        eventHandlersByName[eventName] = handleEvent\n\n        addEventListener(window, eventName, handleEvent, { passive: true })\n      },\n      remove: function(eventName) {\n        var handleEvent = eventHandlersByName[eventName]\n        delete eventHandlersByName[eventName]\n\n        removeEventListener(window, eventName, handleEvent)\n      }\n    }\n\n    if (options.eventNames && Array.prototype.map) {\n      options.eventName = options.eventNames[0]\n      options.eventNames.map(listener[options.method])\n    } else {\n      listener[options.method](options.eventName)\n    }\n\n    log(\n      capitalizeFirstLetter(options.method) +\n        ' event listener: ' +\n        options.eventType\n    )\n  }\n\n  function manageEventListeners(method) {\n    manageTriggerEvent({\n      method: method,\n      eventType: 'Animation Start',\n      eventNames: ['animationstart', 'webkitAnimationStart']\n    })\n    manageTriggerEvent({\n      method: method,\n      eventType: 'Animation Iteration',\n      eventNames: ['animationiteration', 'webkitAnimationIteration']\n    })\n    manageTriggerEvent({\n      method: method,\n      eventType: 'Animation End',\n      eventNames: ['animationend', 'webkitAnimationEnd']\n    })\n    manageTriggerEvent({\n      method: method,\n      eventType: 'Input',\n      eventName: 'input'\n    })\n    manageTriggerEvent({\n      method: method,\n      eventType: 'Mouse Up',\n      eventName: 'mouseup'\n    })\n    manageTriggerEvent({\n      method: method,\n      eventType: 'Mouse Down',\n      eventName: 'mousedown'\n    })\n    manageTriggerEvent({\n      method: method,\n      eventType: 'Orientation Change',\n      eventName: 'orientationchange'\n    })\n    manageTriggerEvent({\n      method: method,\n      eventType: 'Print',\n      eventName: ['afterprint', 'beforeprint']\n    })\n    manageTriggerEvent({\n      method: method,\n      eventType: 'Ready State Change',\n      eventName: 'readystatechange'\n    })\n    manageTriggerEvent({\n      method: method,\n      eventType: 'Touch Start',\n      eventName: 'touchstart'\n    })\n    manageTriggerEvent({\n      method: method,\n      eventType: 'Touch End',\n      eventName: 'touchend'\n    })\n    manageTriggerEvent({\n      method: method,\n      eventType: 'Touch Cancel',\n      eventName: 'touchcancel'\n    })\n    manageTriggerEvent({\n      method: method,\n      eventType: 'Transition Start',\n      eventNames: [\n        'transitionstart',\n        'webkitTransitionStart',\n        'MSTransitionStart',\n        'oTransitionStart',\n        'otransitionstart'\n      ]\n    })\n    manageTriggerEvent({\n      method: method,\n      eventType: 'Transition Iteration',\n      eventNames: [\n        'transitioniteration',\n        'webkitTransitionIteration',\n        'MSTransitionIteration',\n        'oTransitionIteration',\n        'otransitioniteration'\n      ]\n    })\n    manageTriggerEvent({\n      method: method,\n      eventType: 'Transition End',\n      eventNames: [\n        'transitionend',\n        'webkitTransitionEnd',\n        'MSTransitionEnd',\n        'oTransitionEnd',\n        'otransitionend'\n      ]\n    })\n    if ('child' === resizeFrom) {\n      manageTriggerEvent({\n        method: method,\n        eventType: 'IFrame Resized',\n        eventName: 'resize'\n      })\n    }\n  }\n\n  function checkCalcMode(calcMode, calcModeDefault, modes, type) {\n    if (calcModeDefault !== calcMode) {\n      if (!(calcMode in modes)) {\n        warn(\n          calcMode + ' is not a valid option for ' + type + 'CalculationMethod.'\n        )\n        calcMode = calcModeDefault\n      }\n      log(type + ' calculation method set to \"' + calcMode + '\"')\n    }\n\n    return calcMode\n  }\n\n  function checkHeightMode() {\n    heightCalcMode = checkCalcMode(\n      heightCalcMode,\n      heightCalcModeDefault,\n      getHeight,\n      'height'\n    )\n  }\n\n  function checkWidthMode() {\n    widthCalcMode = checkCalcMode(\n      widthCalcMode,\n      widthCalcModeDefault,\n      getWidth,\n      'width'\n    )\n  }\n\n  function startEventListeners() {\n    if (true === autoResize) {\n      manageEventListeners('add')\n      setupMutationObserver()\n    } else {\n      log('Auto Resize disabled')\n    }\n  }\n\n  function stopMsgsToParent() {\n    log('Disable outgoing messages')\n    sendPermit = false\n  }\n\n  function removeMsgListener() {\n    log('Remove event listener: Message')\n    removeEventListener(window, 'message', receiver)\n  }\n\n  function disconnectMutationObserver() {\n    if (null !== bodyObserver) {\n      /* istanbul ignore next */ // Not testable in PhantonJS\n      bodyObserver.disconnect()\n    }\n  }\n\n  function stopEventListeners() {\n    manageEventListeners('remove')\n    disconnectMutationObserver()\n    clearInterval(intervalTimer)\n  }\n\n  function teardown() {\n    stopMsgsToParent()\n    removeMsgListener()\n    if (true === autoResize) stopEventListeners()\n  }\n\n  function injectClearFixIntoBodyElement() {\n    var clearFix = document.createElement('div')\n    clearFix.style.clear = 'both'\n    // Guard against the following having been globally redefined in CSS.\n    clearFix.style.display = 'block'\n    clearFix.style.height = '0'\n    document.body.appendChild(clearFix)\n  }\n\n  function setupInPageLinks() {\n    function getPagePosition() {\n      return {\n        x:\n          window.pageXOffset !== undefined\n            ? window.pageXOffset\n            : document.documentElement.scrollLeft,\n        y:\n          window.pageYOffset !== undefined\n            ? window.pageYOffset\n            : document.documentElement.scrollTop\n      }\n    }\n\n    function getElementPosition(el) {\n      var elPosition = el.getBoundingClientRect(),\n        pagePosition = getPagePosition()\n\n      return {\n        x: parseInt(elPosition.left, 10) + parseInt(pagePosition.x, 10),\n        y: parseInt(elPosition.top, 10) + parseInt(pagePosition.y, 10)\n      }\n    }\n\n    function findTarget(location) {\n      function jumpToTarget(target) {\n        var jumpPosition = getElementPosition(target)\n\n        log(\n          'Moving to in page link (#' +\n            hash +\n            ') at x: ' +\n            jumpPosition.x +\n            ' y: ' +\n            jumpPosition.y\n        )\n        sendMsg(jumpPosition.y, jumpPosition.x, 'scrollToOffset') // X&Y reversed at sendMsg uses height/width\n      }\n\n      var hash = location.split('#')[1] || location, // Remove # if present\n        hashData = decodeURIComponent(hash),\n        target =\n          document.getElementById(hashData) ||\n          document.getElementsByName(hashData)[0]\n\n      if (undefined !== target) {\n        jumpToTarget(target)\n      } else {\n        log(\n          'In page link (#' +\n            hash +\n            ') not found in iFrame, so sending to parent'\n        )\n        sendMsg(0, 0, 'inPageLink', '#' + hash)\n      }\n    }\n\n    function checkLocationHash() {\n      if ('' !== location.hash && '#' !== location.hash) {\n        findTarget(location.href)\n      }\n    }\n\n    function bindAnchors() {\n      function setupLink(el) {\n        function linkClicked(e) {\n          e.preventDefault()\n\n          /* jshint validthis:true */\n          findTarget(this.getAttribute('href'))\n        }\n\n        if ('#' !== el.getAttribute('href')) {\n          addEventListener(el, 'click', linkClicked)\n        }\n      }\n\n      Array.prototype.forEach.call(\n        document.querySelectorAll('a[href^=\"#\"]'),\n        setupLink\n      )\n    }\n\n    function bindLocationHash() {\n      addEventListener(window, 'hashchange', checkLocationHash)\n    }\n\n    function initCheck() {\n      // Check if page loaded with location hash after init resize\n      setTimeout(checkLocationHash, eventCancelTimer)\n    }\n\n    function enableInPageLinks() {\n      /* istanbul ignore else */ // Not testable in phantonJS\n      if (Array.prototype.forEach && document.querySelectorAll) {\n        log('Setting up location.hash handlers')\n        bindAnchors()\n        bindLocationHash()\n        initCheck()\n      } else {\n        warn(\n          'In page linking not fully supported in this browser! (See README.md for IE8 workaround)'\n        )\n      }\n    }\n\n    if (inPageLinks.enable) {\n      enableInPageLinks()\n    } else {\n      log('In page linking not enabled')\n    }\n\n    return {\n      findTarget: findTarget\n    }\n  }\n\n  function setupPublicMethods() {\n    log('Enable public methods')\n\n    win.parentIFrame = {\n      autoResize: function autoResizeF(resize) {\n        if (true === resize && false === autoResize) {\n          autoResize = true\n          startEventListeners()\n        } else if (false === resize && true === autoResize) {\n          autoResize = false\n          stopEventListeners()\n        }\n\n        return autoResize\n      },\n\n      close: function closeF() {\n        sendMsg(0, 0, 'close')\n        teardown()\n      },\n\n      getId: function getIdF() {\n        return myID\n      },\n\n      getPageInfo: function getPageInfoF(callback) {\n        if ('function' === typeof callback) {\n          onPageInfo = callback\n          sendMsg(0, 0, 'pageInfo')\n        } else {\n          onPageInfo = function() {}\n          sendMsg(0, 0, 'pageInfoStop')\n        }\n      },\n\n      moveToAnchor: function moveToAnchorF(hash) {\n        inPageLinks.findTarget(hash)\n      },\n\n      reset: function resetF() {\n        resetIFrame('parentIFrame.reset')\n      },\n\n      scrollTo: function scrollToF(x, y) {\n        sendMsg(y, x, 'scrollTo') // X&Y reversed at sendMsg uses height/width\n      },\n\n      scrollToOffset: function scrollToF(x, y) {\n        sendMsg(y, x, 'scrollToOffset') // X&Y reversed at sendMsg uses height/width\n      },\n\n      sendMessage: function sendMessageF(msg, targetOrigin) {\n        sendMsg(0, 0, 'message', JSON.stringify(msg), targetOrigin)\n      },\n\n      setHeightCalculationMethod: function setHeightCalculationMethodF(\n        heightCalculationMethod\n      ) {\n        heightCalcMode = heightCalculationMethod\n        checkHeightMode()\n      },\n\n      setWidthCalculationMethod: function setWidthCalculationMethodF(\n        widthCalculationMethod\n      ) {\n        widthCalcMode = widthCalculationMethod\n        checkWidthMode()\n      },\n\n      setTargetOrigin: function setTargetOriginF(targetOrigin) {\n        log('Set targetOrigin: ' + targetOrigin)\n        targetOriginDefault = targetOrigin\n      },\n\n      size: function sizeF(customHeight, customWidth) {\n        var valString =\n          '' + (customHeight || '') + (customWidth ? ',' + customWidth : '')\n        sendSize(\n          'size',\n          'parentIFrame.size(' + valString + ')',\n          customHeight,\n          customWidth\n        )\n      }\n    }\n  }\n\n  function initInterval() {\n    if (0 !== interval) {\n      log('setInterval: ' + interval + 'ms')\n      intervalTimer = setInterval(function() {\n        sendSize('interval', 'setInterval: ' + interval)\n      }, Math.abs(interval))\n    }\n  }\n\n  // Not testable in PhantomJS\n  /* istanbul ignore next */\n  function setupBodyMutationObserver() {\n    function addImageLoadListners(mutation) {\n      function addImageLoadListener(element) {\n        if (false === element.complete) {\n          log('Attach listeners to ' + element.src)\n          element.addEventListener('load', imageLoaded, false)\n          element.addEventListener('error', imageError, false)\n          elements.push(element)\n        }\n      }\n\n      if (mutation.type === 'attributes' && mutation.attributeName === 'src') {\n        addImageLoadListener(mutation.target)\n      } else if (mutation.type === 'childList') {\n        Array.prototype.forEach.call(\n          mutation.target.querySelectorAll('img'),\n          addImageLoadListener\n        )\n      }\n    }\n\n    function removeFromArray(element) {\n      elements.splice(elements.indexOf(element), 1)\n    }\n\n    function removeImageLoadListener(element) {\n      log('Remove listeners from ' + element.src)\n      element.removeEventListener('load', imageLoaded, false)\n      element.removeEventListener('error', imageError, false)\n      removeFromArray(element)\n    }\n\n    function imageEventTriggered(event, type, typeDesc) {\n      removeImageLoadListener(event.target)\n      sendSize(type, typeDesc + ': ' + event.target.src, undefined, undefined)\n    }\n\n    function imageLoaded(event) {\n      imageEventTriggered(event, 'imageLoad', 'Image loaded')\n    }\n\n    function imageError(event) {\n      imageEventTriggered(event, 'imageLoadFailed', 'Image load failed')\n    }\n\n    function mutationObserved(mutations) {\n      sendSize(\n        'mutationObserver',\n        'mutationObserver: ' + mutations[0].target + ' ' + mutations[0].type\n      )\n\n      // Deal with WebKit / Blink asyncing image loading when tags are injected into the page\n      mutations.forEach(addImageLoadListners)\n    }\n\n    function createMutationObserver() {\n      var target = document.querySelector('body'),\n        config = {\n          attributes: true,\n          attributeOldValue: false,\n          characterData: true,\n          characterDataOldValue: false,\n          childList: true,\n          subtree: true\n        }\n\n      observer = new MutationObserver(mutationObserved)\n\n      log('Create body MutationObserver')\n      observer.observe(target, config)\n\n      return observer\n    }\n\n    var elements = [],\n      MutationObserver =\n        window.MutationObserver || window.WebKitMutationObserver,\n      observer = createMutationObserver()\n\n    return {\n      disconnect: function() {\n        if ('disconnect' in observer) {\n          log('Disconnect body MutationObserver')\n          observer.disconnect()\n          elements.forEach(removeImageLoadListener)\n        }\n      }\n    }\n  }\n\n  function setupMutationObserver() {\n    var forceIntervalTimer = 0 > interval\n\n    // Not testable in PhantomJS\n    /* istanbul ignore if */ if (\n      window.MutationObserver ||\n      window.WebKitMutationObserver\n    ) {\n      if (forceIntervalTimer) {\n        initInterval()\n      } else {\n        bodyObserver = setupBodyMutationObserver()\n      }\n    } else {\n      log('MutationObserver not supported in this browser!')\n      initInterval()\n    }\n  }\n\n  // document.documentElement.offsetHeight is not reliable, so\n  // we have to jump through hoops to get a better value.\n  function getComputedStyle(prop, el) {\n    var retVal = 0\n    el = el || document.body // Not testable in phantonJS\n\n    retVal = document.defaultView.getComputedStyle(el, null)\n    retVal = null !== retVal ? retVal[prop] : 0\n\n    return parseInt(retVal, base)\n  }\n\n  function chkEventThottle(timer) {\n    if (timer > throttledTimer / 2) {\n      throttledTimer = 2 * timer\n      log('Event throttle increased to ' + throttledTimer + 'ms')\n    }\n  }\n\n  // Idea from https://github.com/guardian/iframe-messenger\n  function getMaxElement(side, elements) {\n    var elementsLength = elements.length,\n      elVal = 0,\n      maxVal = 0,\n      Side = capitalizeFirstLetter(side),\n      timer = getNow()\n\n    for (var i = 0; i < elementsLength; i++) {\n      elVal =\n        elements[i].getBoundingClientRect()[side] +\n        getComputedStyle('margin' + Side, elements[i])\n      if (elVal > maxVal) {\n        maxVal = elVal\n      }\n    }\n\n    timer = getNow() - timer\n\n    log('Parsed ' + elementsLength + ' HTML elements')\n    log('Element position calculated in ' + timer + 'ms')\n\n    chkEventThottle(timer)\n\n    return maxVal\n  }\n\n  function getAllMeasurements(dimention) {\n    return [\n      dimention.bodyOffset(),\n      dimention.bodyScroll(),\n      dimention.documentElementOffset(),\n      dimention.documentElementScroll()\n    ]\n  }\n\n  function getTaggedElements(side, tag) {\n    function noTaggedElementsFound() {\n      warn('No tagged elements (' + tag + ') found on page')\n      return document.querySelectorAll('body *')\n    }\n\n    var elements = document.querySelectorAll('[' + tag + ']')\n\n    if (0 === elements.length) noTaggedElementsFound()\n\n    return getMaxElement(side, elements)\n  }\n\n  function getAllElements() {\n    return document.querySelectorAll('body *')\n  }\n\n  var getHeight = {\n      bodyOffset: function getBodyOffsetHeight() {\n        return (\n          document.body.offsetHeight +\n          getComputedStyle('marginTop') +\n          getComputedStyle('marginBottom')\n        )\n      },\n\n      offset: function() {\n        return getHeight.bodyOffset() // Backwards compatability\n      },\n\n      bodyScroll: function getBodyScrollHeight() {\n        return document.body.scrollHeight\n      },\n\n      custom: function getCustomWidth() {\n        return customCalcMethods.height()\n      },\n\n      documentElementOffset: function getDEOffsetHeight() {\n        return document.documentElement.offsetHeight\n      },\n\n      documentElementScroll: function getDEScrollHeight() {\n        return document.documentElement.scrollHeight\n      },\n\n      max: function getMaxHeight() {\n        return Math.max.apply(null, getAllMeasurements(getHeight))\n      },\n\n      min: function getMinHeight() {\n        return Math.min.apply(null, getAllMeasurements(getHeight))\n      },\n\n      grow: function growHeight() {\n        return getHeight.max() // Run max without the forced downsizing\n      },\n\n      lowestElement: function getBestHeight() {\n        return Math.max(\n          getHeight.bodyOffset() || getHeight.documentElementOffset(),\n          getMaxElement('bottom', getAllElements())\n        )\n      },\n\n      taggedElement: function getTaggedElementsHeight() {\n        return getTaggedElements('bottom', 'data-iframe-height')\n      }\n    },\n    getWidth = {\n      bodyScroll: function getBodyScrollWidth() {\n        return document.body.scrollWidth\n      },\n\n      bodyOffset: function getBodyOffsetWidth() {\n        return document.body.offsetWidth\n      },\n\n      custom: function getCustomWidth() {\n        return customCalcMethods.width()\n      },\n\n      documentElementScroll: function getDEScrollWidth() {\n        return document.documentElement.scrollWidth\n      },\n\n      documentElementOffset: function getDEOffsetWidth() {\n        return document.documentElement.offsetWidth\n      },\n\n      scroll: function getMaxWidth() {\n        return Math.max(getWidth.bodyScroll(), getWidth.documentElementScroll())\n      },\n\n      max: function getMaxWidth() {\n        return Math.max.apply(null, getAllMeasurements(getWidth))\n      },\n\n      min: function getMinWidth() {\n        return Math.min.apply(null, getAllMeasurements(getWidth))\n      },\n\n      rightMostElement: function rightMostElement() {\n        return getMaxElement('right', getAllElements())\n      },\n\n      taggedElement: function getTaggedElementsWidth() {\n        return getTaggedElements('right', 'data-iframe-width')\n      }\n    }\n\n  function sizeIFrame(\n    triggerEvent,\n    triggerEventDesc,\n    customHeight,\n    customWidth\n  ) {\n    function resizeIFrame() {\n      height = currentHeight\n      width = currentWidth\n\n      sendMsg(height, width, triggerEvent)\n    }\n\n    function isSizeChangeDetected() {\n      function checkTolarance(a, b) {\n        var retVal = Math.abs(a - b) <= tolerance\n        return !retVal\n      }\n\n      currentHeight =\n        undefined !== customHeight ? customHeight : getHeight[heightCalcMode]()\n      currentWidth =\n        undefined !== customWidth ? customWidth : getWidth[widthCalcMode]()\n\n      return (\n        checkTolarance(height, currentHeight) ||\n        (calculateWidth && checkTolarance(width, currentWidth))\n      )\n    }\n\n    function isForceResizableEvent() {\n      return !(triggerEvent in { init: 1, interval: 1, size: 1 })\n    }\n\n    function isForceResizableCalcMode() {\n      return (\n        heightCalcMode in resetRequiredMethods ||\n        (calculateWidth && widthCalcMode in resetRequiredMethods)\n      )\n    }\n\n    function logIgnored() {\n      log('No change in size detected')\n    }\n\n    function checkDownSizing() {\n      if (isForceResizableEvent() && isForceResizableCalcMode()) {\n        resetIFrame(triggerEventDesc)\n      } else if (!(triggerEvent in { interval: 1 })) {\n        logIgnored()\n      }\n    }\n\n    var currentHeight, currentWidth\n\n    if (isSizeChangeDetected() || 'init' === triggerEvent) {\n      lockTrigger()\n      resizeIFrame()\n    } else {\n      checkDownSizing()\n    }\n  }\n\n  var sizeIFrameThrottled = throttle(sizeIFrame)\n\n  function sendSize(triggerEvent, triggerEventDesc, customHeight, customWidth) {\n    function recordTrigger() {\n      if (!(triggerEvent in { reset: 1, resetPage: 1, init: 1 })) {\n        log('Trigger event: ' + triggerEventDesc)\n      }\n    }\n\n    function isDoubleFiredEvent() {\n      return triggerLocked && triggerEvent in doubleEventList\n    }\n\n    if (!isDoubleFiredEvent()) {\n      recordTrigger()\n      if (triggerEvent === 'init') {\n        sizeIFrame(triggerEvent, triggerEventDesc, customHeight, customWidth)\n      } else {\n        sizeIFrameThrottled(\n          triggerEvent,\n          triggerEventDesc,\n          customHeight,\n          customWidth\n        )\n      }\n    } else {\n      log('Trigger event cancelled: ' + triggerEvent)\n    }\n  }\n\n  function lockTrigger() {\n    if (!triggerLocked) {\n      triggerLocked = true\n      log('Trigger event lock on')\n    }\n    clearTimeout(triggerLockedTimer)\n    triggerLockedTimer = setTimeout(function() {\n      triggerLocked = false\n      log('Trigger event lock off')\n      log('--')\n    }, eventCancelTimer)\n  }\n\n  function triggerReset(triggerEvent) {\n    height = getHeight[heightCalcMode]()\n    width = getWidth[widthCalcMode]()\n\n    sendMsg(height, width, triggerEvent)\n  }\n\n  function resetIFrame(triggerEventDesc) {\n    var hcm = heightCalcMode\n    heightCalcMode = heightCalcModeDefault\n\n    log('Reset trigger event: ' + triggerEventDesc)\n    lockTrigger()\n    triggerReset('reset')\n\n    heightCalcMode = hcm\n  }\n\n  function sendMsg(height, width, triggerEvent, msg, targetOrigin) {\n    function setTargetOrigin() {\n      if (undefined === targetOrigin) {\n        targetOrigin = targetOriginDefault\n      } else {\n        log('Message targetOrigin: ' + targetOrigin)\n      }\n    }\n\n    function sendToParent() {\n      var size = height + ':' + width,\n        message =\n          myID +\n          ':' +\n          size +\n          ':' +\n          triggerEvent +\n          (undefined !== msg ? ':' + msg : '')\n\n      log('Sending message to host page (' + message + ')')\n      target.postMessage(msgID + message, targetOrigin)\n    }\n\n    if (true === sendPermit) {\n      setTargetOrigin()\n      sendToParent()\n    }\n  }\n\n  function receiver(event) {\n    var processRequestFromParent = {\n      init: function initFromParent() {\n        initMsg = event.data\n        target = event.source\n\n        init()\n        firstRun = false\n        setTimeout(function() {\n          initLock = false\n        }, eventCancelTimer)\n      },\n\n      reset: function resetFromParent() {\n        if (!initLock) {\n          log('Page size reset by host page')\n          triggerReset('resetPage')\n        } else {\n          log('Page reset ignored by init')\n        }\n      },\n\n      resize: function resizeFromParent() {\n        sendSize('resizeParent', 'Parent window requested size check')\n      },\n\n      moveToAnchor: function moveToAnchorF() {\n        inPageLinks.findTarget(getData())\n      },\n      inPageLink: function inPageLinkF() {\n        this.moveToAnchor()\n      }, // Backward compatability\n\n      pageInfo: function pageInfoFromParent() {\n        var msgBody = getData()\n        log('PageInfoFromParent called from parent: ' + msgBody)\n        onPageInfo(JSON.parse(msgBody))\n        log(' --')\n      },\n\n      message: function messageFromParent() {\n        var msgBody = getData()\n\n        log('onMessage called from parent: ' + msgBody)\n        // eslint-disable-next-line sonarjs/no-extra-arguments\n        onMessage(JSON.parse(msgBody))\n        log(' --')\n      }\n    }\n\n    function isMessageForUs() {\n      return msgID === ('' + event.data).substr(0, msgIdLen) // ''+ Protects against non-string messages\n    }\n\n    function getMessageType() {\n      return event.data.split(']')[1].split(':')[0]\n    }\n\n    function getData() {\n      return event.data.substr(event.data.indexOf(':') + 1)\n    }\n\n    function isMiddleTier() {\n      return (\n        (!(typeof module !== 'undefined' && module.exports) &&\n          'iFrameResize' in window) ||\n        ('jQuery' in window && 'iFrameResize' in window.jQuery.prototype)\n      )\n    }\n\n    function isInitMsg() {\n      // Test if this message is from a child below us. This is an ugly test, however, updating\n      // the message format would break backwards compatibity.\n      return event.data.split(':')[2] in { true: 1, false: 1 }\n    }\n\n    function callFromParent() {\n      var messageType = getMessageType()\n\n      if (messageType in processRequestFromParent) {\n        processRequestFromParent[messageType]()\n      } else if (!isMiddleTier() && !isInitMsg()) {\n        warn('Unexpected message (' + event.data + ')')\n      }\n    }\n\n    function processMessage() {\n      if (false === firstRun) {\n        callFromParent()\n      } else if (isInitMsg()) {\n        processRequestFromParent.init()\n      } else {\n        log(\n          'Ignored message of type \"' +\n            getMessageType() +\n            '\". Received before initialization.'\n        )\n      }\n    }\n\n    if (isMessageForUs()) {\n      processMessage()\n    }\n  }\n\n  // Normally the parent kicks things off when it detects the iFrame has loaded.\n  // If this script is async-loaded, then tell parent page to retry init.\n  function chkLateLoaded() {\n    if ('loading' !== document.readyState) {\n      window.parent.postMessage('[iFrameResizerChild]Ready', '*')\n    }\n  }\n\n  addEventListener(window, 'message', receiver)\n  addEventListener(window, 'readystatechange', chkLateLoaded)\n  chkLateLoaded()\n\n  \n})()\n","/*! iFrame Resizer (iframeSizer.contentWindow.min.js) - v4.0.4 - 2019-03-04\n *  Desc: Include this file in any page being loaded into an iframe\n *        to force the iframe to resize to the content size.\n *  Requires: iframeResizer.min.js on host page.\n *  Copyright: (c) 2019 David J. Bradshaw - dave@bradshaw.net\n *  License: MIT\n */\n\n!function(l){if(\"undefined\"!=typeof window){var n=!0,o=10,i=\"\",r=0,a=\"\",t=null,u=\"\",c=!1,s={resize:1,click:1},d=128,f=!0,m=1,h=\"bodyOffset\",g=h,p=!0,v=\"\",y={},b=32,e=null,w=!1,T=\"[iFrameSizer]\",E=T.length,O=\"\",S={max:1,min:1,bodyScroll:1,documentElementScroll:1},M=\"child\",I=!0,N=window.parent,A=\"*\",C=0,k=!1,z=null,R=16,x=1,L=\"scroll\",F=L,P=window,D=function(){ue(\"onMessage function not defined\")},j=function(){},q=function(){},H={height:function(){return ue(\"Custom height calculation function not defined\"),document.documentElement.offsetHeight},width:function(){return ue(\"Custom width calculation function not defined\"),document.body.scrollWidth}},W={},B=!1;try{var U=Object.create({},{passive:{get:function(){B=!0}}});window.addEventListener(\"test\",te,U),window.removeEventListener(\"test\",te,U)}catch(e){}var J,V,K,Q,X,Y,G,Z=Date.now||function(){return(new Date).getTime()},$={bodyOffset:function(){return document.body.offsetHeight+be(\"marginTop\")+be(\"marginBottom\")},offset:function(){return $.bodyOffset()},bodyScroll:function(){return document.body.scrollHeight},custom:function(){return H.height()},documentElementOffset:function(){return document.documentElement.offsetHeight},documentElementScroll:function(){return document.documentElement.scrollHeight},max:function(){return Math.max.apply(null,Te($))},min:function(){return Math.min.apply(null,Te($))},grow:function(){return $.max()},lowestElement:function(){return Math.max($.bodyOffset()||$.documentElementOffset(),we(\"bottom\",Oe()))},taggedElement:function(){return Ee(\"bottom\",\"data-iframe-height\")}},_={bodyScroll:function(){return document.body.scrollWidth},bodyOffset:function(){return document.body.offsetWidth},custom:function(){return H.width()},documentElementScroll:function(){return document.documentElement.scrollWidth},documentElementOffset:function(){return document.documentElement.offsetWidth},scroll:function(){return Math.max(_.bodyScroll(),_.documentElementScroll())},max:function(){return Math.max.apply(null,Te(_))},min:function(){return Math.min.apply(null,Te(_))},rightMostElement:function(){return we(\"right\",Oe())},taggedElement:function(){return Ee(\"right\",\"data-iframe-width\")}},ee=(J=Se,X=null,Y=0,G=function(){Y=Z(),X=null,Q=J.apply(V,K),X||(V=K=null)},function(){var e=Z();Y||(Y=e);var t=R-(e-Y);return V=this,K=arguments,t<=0||R<t?(X&&(clearTimeout(X),X=null),Y=e,Q=J.apply(V,K),X||(V=K=null)):X||(X=setTimeout(G,t)),Q});ne(window,\"message\",ke),ne(window,\"readystatechange\",ze),ze()}function te(){}function ne(e,t,n,o){e.addEventListener(t,n,!!B&&(o||{}))}function oe(e,t,n){e.removeEventListener(t,n,!1)}function ie(e){return e.charAt(0).toUpperCase()+e.slice(1)}function re(e){return T+\"[\"+O+\"] \"+e}function ae(e){w&&\"object\"==typeof window.console&&console.log(re(e))}function ue(e){\"object\"==typeof window.console&&console.warn(re(e))}function ce(){var e;!function(){function e(e){return\"true\"===e}var t=v.substr(E).split(\":\");O=t[0],r=l!==t[1]?Number(t[1]):r,c=l!==t[2]?e(t[2]):c,w=l!==t[3]?e(t[3]):w,b=l!==t[4]?Number(t[4]):b,n=l!==t[6]?e(t[6]):n,a=t[7],g=l!==t[8]?t[8]:g,i=t[9],u=t[10],C=l!==t[11]?Number(t[11]):C,y.enable=l!==t[12]&&e(t[12]),M=l!==t[13]?t[13]:M,F=l!==t[14]?t[14]:F}(),ae(\"Initialising iFrame (\"+location.href+\")\"),function(){function e(e,t){return\"function\"==typeof e&&(ae(\"Setup custom \"+t+\"CalcMethod\"),H[t]=e,e=\"custom\"),e}\"iFrameResizer\"in window&&Object===window.iFrameResizer.constructor&&(t=window.iFrameResizer,ae(\"Reading data from page: \"+JSON.stringify(t)),Object.keys(t).forEach(se,t),D=\"onMessage\"in t?t.onMessage:D,j=\"onReady\"in t?t.onReady:j,A=\"targetOrigin\"in t?t.targetOrigin:A,g=\"heightCalculationMethod\"in t?t.heightCalculationMethod:g,F=\"widthCalculationMethod\"in t?t.widthCalculationMethod:F,g=e(g,\"height\"),F=e(F,\"width\"));var t;ae(\"TargetOrigin for parent set to: \"+A)}(),function(){l===a&&(a=r+\"px\");de(\"margin\",function(e,t){-1!==t.indexOf(\"-\")&&(ue(\"Negative CSS value ignored for \"+e),t=\"\");return t}(\"margin\",a))}(),de(\"background\",i),de(\"padding\",u),(e=document.createElement(\"div\")).style.clear=\"both\",e.style.display=\"block\",e.style.height=\"0\",document.body.appendChild(e),he(),ge(),document.documentElement.style.height=\"\",document.body.style.height=\"\",ae('HTML & body height set to \"auto\"'),ae(\"Enable public methods\"),P.parentIFrame={autoResize:function(e){return!0===e&&!1===n?(n=!0,pe()):!1===e&&!0===n&&(n=!1,ve()),n},close:function(){Ce(0,0,\"close\"),ae(\"Disable outgoing messages\"),I=!1,ae(\"Remove event listener: Message\"),oe(window,\"message\",ke),!0===n&&ve()},getId:function(){return O},getPageInfo:function(e){\"function\"==typeof e?(q=e,Ce(0,0,\"pageInfo\")):(q=function(){},Ce(0,0,\"pageInfoStop\"))},moveToAnchor:function(e){y.findTarget(e)},reset:function(){Ae(\"parentIFrame.reset\")},scrollTo:function(e,t){Ce(t,e,\"scrollTo\")},scrollToOffset:function(e,t){Ce(t,e,\"scrollToOffset\")},sendMessage:function(e,t){Ce(0,0,\"message\",JSON.stringify(e),t)},setHeightCalculationMethod:function(e){g=e,he()},setWidthCalculationMethod:function(e){F=e,ge()},setTargetOrigin:function(e){ae(\"Set targetOrigin: \"+e),A=e},size:function(e,t){var n=(e||\"\")+(t?\",\"+t:\"\");Me(\"size\",\"parentIFrame.size(\"+n+\")\",e,t)}},pe(),y=function(){function r(e){var t=e.getBoundingClientRect(),n={x:window.pageXOffset!==l?window.pageXOffset:document.documentElement.scrollLeft,y:window.pageYOffset!==l?window.pageYOffset:document.documentElement.scrollTop};return{x:parseInt(t.left,10)+parseInt(n.x,10),y:parseInt(t.top,10)+parseInt(n.y,10)}}function n(e){var t,n=e.split(\"#\")[1]||e,o=decodeURIComponent(n),i=document.getElementById(o)||document.getElementsByName(o)[0];l!==i?(t=r(i),ae(\"Moving to in page link (#\"+n+\") at x: \"+t.x+\" y: \"+t.y),Ce(t.y,t.x,\"scrollToOffset\")):(ae(\"In page link (#\"+n+\") not found in iFrame, so sending to parent\"),Ce(0,0,\"inPageLink\",\"#\"+n))}function e(){\"\"!==location.hash&&\"#\"!==location.hash&&n(location.href)}function t(){Array.prototype.forEach.call(document.querySelectorAll('a[href^=\"#\"]'),function(e){function t(e){e.preventDefault(),n(this.getAttribute(\"href\"))}\"#\"!==e.getAttribute(\"href\")&&ne(e,\"click\",t)})}y.enable?Array.prototype.forEach&&document.querySelectorAll?(ae(\"Setting up location.hash handlers\"),t(),ne(window,\"hashchange\",e),setTimeout(e,d)):ue(\"In page linking not fully supported in this browser! (See README.md for IE8 workaround)\"):ae(\"In page linking not enabled\");return{findTarget:n}}(),Me(\"init\",\"Init message from host page\"),j()}function se(e){var t=e.split(\"Callback\");if(2===t.length){var n=\"on\"+t[0].charAt(0).toUpperCase()+t[0].slice(1);this[n]=this[e],delete this[e],ue(\"Deprecated: '\"+e+\"' has been renamed '\"+n+\"'. The old method will be removed in the next major version.\")}}function de(e,t){l!==t&&\"\"!==t&&\"null\"!==t&&ae(\"Body \"+e+' set to \"'+(document.body.style[e]=t)+'\"')}function le(n){var e={add:function(e){function t(){Me(n.eventName,n.eventType)}W[e]=t,ne(window,e,t,{passive:!0})},remove:function(e){var t=W[e];delete W[e],oe(window,e,t)}};n.eventNames&&Array.prototype.map?(n.eventName=n.eventNames[0],n.eventNames.map(e[n.method])):e[n.method](n.eventName),ae(ie(n.method)+\" event listener: \"+n.eventType)}function fe(e){le({method:e,eventType:\"Animation Start\",eventNames:[\"animationstart\",\"webkitAnimationStart\"]}),le({method:e,eventType:\"Animation Iteration\",eventNames:[\"animationiteration\",\"webkitAnimationIteration\"]}),le({method:e,eventType:\"Animation End\",eventNames:[\"animationend\",\"webkitAnimationEnd\"]}),le({method:e,eventType:\"Input\",eventName:\"input\"}),le({method:e,eventType:\"Mouse Up\",eventName:\"mouseup\"}),le({method:e,eventType:\"Mouse Down\",eventName:\"mousedown\"}),le({method:e,eventType:\"Orientation Change\",eventName:\"orientationchange\"}),le({method:e,eventType:\"Print\",eventName:[\"afterprint\",\"beforeprint\"]}),le({method:e,eventType:\"Ready State Change\",eventName:\"readystatechange\"}),le({method:e,eventType:\"Touch Start\",eventName:\"touchstart\"}),le({method:e,eventType:\"Touch End\",eventName:\"touchend\"}),le({method:e,eventType:\"Touch Cancel\",eventName:\"touchcancel\"}),le({method:e,eventType:\"Transition Start\",eventNames:[\"transitionstart\",\"webkitTransitionStart\",\"MSTransitionStart\",\"oTransitionStart\",\"otransitionstart\"]}),le({method:e,eventType:\"Transition Iteration\",eventNames:[\"transitioniteration\",\"webkitTransitionIteration\",\"MSTransitionIteration\",\"oTransitionIteration\",\"otransitioniteration\"]}),le({method:e,eventType:\"Transition End\",eventNames:[\"transitionend\",\"webkitTransitionEnd\",\"MSTransitionEnd\",\"oTransitionEnd\",\"otransitionend\"]}),\"child\"===M&&le({method:e,eventType:\"IFrame Resized\",eventName:\"resize\"})}function me(e,t,n,o){return t!==e&&(e in n||(ue(e+\" is not a valid option for \"+o+\"CalculationMethod.\"),e=t),ae(o+' calculation method set to \"'+e+'\"')),e}function he(){g=me(g,h,$,\"height\")}function ge(){F=me(F,L,_,\"width\")}function pe(){var e;!0===n?(fe(\"add\"),e=b<0,window.MutationObserver||window.WebKitMutationObserver?e?ye():t=function(){function t(e){function t(e){!1===e.complete&&(ae(\"Attach listeners to \"+e.src),e.addEventListener(\"load\",i,!1),e.addEventListener(\"error\",r,!1),c.push(e))}\"attributes\"===e.type&&\"src\"===e.attributeName?t(e.target):\"childList\"===e.type&&Array.prototype.forEach.call(e.target.querySelectorAll(\"img\"),t)}function o(e){var t;ae(\"Remove listeners from \"+e.src),e.removeEventListener(\"load\",i,!1),e.removeEventListener(\"error\",r,!1),t=e,c.splice(c.indexOf(t),1)}function n(e,t,n){o(e.target),Me(t,n+\": \"+e.target.src,l,l)}function i(e){n(e,\"imageLoad\",\"Image loaded\")}function r(e){n(e,\"imageLoadFailed\",\"Image load failed\")}function e(e){Me(\"mutationObserver\",\"mutationObserver: \"+e[0].target+\" \"+e[0].type),e.forEach(t)}var a,u,c=[],s=window.MutationObserver||window.WebKitMutationObserver,d=(a=document.querySelector(\"body\"),u={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0},d=new s(e),ae(\"Create body MutationObserver\"),d.observe(a,u),d);return{disconnect:function(){\"disconnect\"in d&&(ae(\"Disconnect body MutationObserver\"),d.disconnect(),c.forEach(o))}}}():(ae(\"MutationObserver not supported in this browser!\"),ye())):ae(\"Auto Resize disabled\")}function ve(){fe(\"remove\"),null!==t&&t.disconnect(),clearInterval(e)}function ye(){0!==b&&(ae(\"setInterval: \"+b+\"ms\"),e=setInterval(function(){Me(\"interval\",\"setInterval: \"+b)},Math.abs(b)))}function be(e,t){var n=0;return t=t||document.body,n=null!==(n=document.defaultView.getComputedStyle(t,null))?n[e]:0,parseInt(n,o)}function we(e,t){for(var n,o=t.length,i=0,r=0,a=ie(e),u=Z(),c=0;c<o;c++)r<(i=t[c].getBoundingClientRect()[e]+be(\"margin\"+a,t[c]))&&(r=i);return u=Z()-u,ae(\"Parsed \"+o+\" HTML elements\"),ae(\"Element position calculated in \"+u+\"ms\"),R/2<(n=u)&&ae(\"Event throttle increased to \"+(R=2*n)+\"ms\"),r}function Te(e){return[e.bodyOffset(),e.bodyScroll(),e.documentElementOffset(),e.documentElementScroll()]}function Ee(e,t){var n=document.querySelectorAll(\"[\"+t+\"]\");return 0===n.length&&(ue(\"No tagged elements (\"+t+\") found on page\"),document.querySelectorAll(\"body *\")),we(e,n)}function Oe(){return document.querySelectorAll(\"body *\")}function Se(e,t,n,o){var i,r;!function(){function e(e,t){return!(Math.abs(e-t)<=C)}return i=l!==n?n:$[g](),r=l!==o?o:_[F](),e(m,i)||c&&e(x,r)}()&&\"init\"!==e?e in{init:1,interval:1,size:1}||!(g in S||c&&F in S)?e in{interval:1}||ae(\"No change in size detected\"):Ae(t):(Ie(),Ce(m=i,x=r,e))}function Me(e,t,n,o){k&&e in s?ae(\"Trigger event cancelled: \"+e):(e in{reset:1,resetPage:1,init:1}||ae(\"Trigger event: \"+t),\"init\"===e?Se(e,t,n,o):ee(e,t,n,o))}function Ie(){k||(k=!0,ae(\"Trigger event lock on\")),clearTimeout(z),z=setTimeout(function(){k=!1,ae(\"Trigger event lock off\"),ae(\"--\")},d)}function Ne(e){m=$[g](),x=_[F](),Ce(m,x,e)}function Ae(e){var t=g;g=h,ae(\"Reset trigger event: \"+e),Ie(),Ne(\"reset\"),g=t}function Ce(e,t,n,o,i){var r;!0===I&&(l===i?i=A:ae(\"Message targetOrigin: \"+i),ae(\"Sending message to host page (\"+(r=O+\":\"+e+\":\"+t+\":\"+n+(l!==o?\":\"+o:\"\"))+\")\"),N.postMessage(T+r,i))}function ke(t){var n={init:function(){v=t.data,N=t.source,ce(),f=!1,setTimeout(function(){p=!1},d)},reset:function(){p?ae(\"Page reset ignored by init\"):(ae(\"Page size reset by host page\"),Ne(\"resetPage\"))},resize:function(){Me(\"resizeParent\",\"Parent window requested size check\")},moveToAnchor:function(){y.findTarget(i())},inPageLink:function(){this.moveToAnchor()},pageInfo:function(){var e=i();ae(\"PageInfoFromParent called from parent: \"+e),q(JSON.parse(e)),ae(\" --\")},message:function(){var e=i();ae(\"onMessage called from parent: \"+e),D(JSON.parse(e)),ae(\" --\")}};function o(){return t.data.split(\"]\")[1].split(\":\")[0]}function i(){return t.data.substr(t.data.indexOf(\":\")+1)}function r(){return t.data.split(\":\")[2]in{true:1,false:1}}function e(){var e=o();e in n?n[e]():(\"undefined\"==typeof module||!module.exports)&&\"iFrameResize\"in window||\"jQuery\"in window&&\"iFrameResize\"in window.jQuery.prototype||r()||ue(\"Unexpected message (\"+t.data+\")\")}T===(\"\"+t.data).substr(0,E)&&(!1===f?e():r()?n.init():ae('Ignored message of type \"'+o()+'\". Received before initialization.'))}function ze(){\"loading\"!==document.readyState&&window.parent.postMessage(\"[iFrameResizerChild]Ready\",\"*\")}}();\n//# sourceMappingURL=iframeResizer.contentWindow.map","/*\n * File: iframeResizer.js\n * Desc: Force iframes to size to content.\n * Requires: iframeResizer.contentWindow.js to be loaded into the target frame.\n * Doc: https://github.com/davidjbradshaw/iframe-resizer\n * Author: David J. Bradshaw - dave@bradshaw.net\n * Contributor: Jure Mav - jure.mav@gmail.com\n * Contributor: Reed Dadoune - reed@dadoune.com\n */\n\n// eslint-disable-next-line sonarjs/cognitive-complexity, no-shadow-restricted-names\n;(function(undefined) {\n  if (typeof window === 'undefined') return // don't run for server side render\n\n  var count = 0,\n    logEnabled = false,\n    hiddenCheckEnabled = false,\n    msgHeader = 'message',\n    msgHeaderLen = msgHeader.length,\n    msgId = '[iFrameSizer]', // Must match iframe msg ID\n    msgIdLen = msgId.length,\n    pagePosition = null,\n    requestAnimationFrame = window.requestAnimationFrame,\n    resetRequiredMethods = {\n      max: 1,\n      scroll: 1,\n      bodyScroll: 1,\n      documentElementScroll: 1\n    },\n    settings = {},\n    timer = null,\n    defaults = {\n      autoResize: true,\n      bodyBackground: null,\n      bodyMargin: null,\n      bodyMarginV1: 8,\n      bodyPadding: null,\n      checkOrigin: true,\n      inPageLinks: false,\n      enablePublicMethods: true,\n      heightCalculationMethod: 'bodyOffset',\n      id: 'iFrameResizer',\n      interval: 32,\n      log: false,\n      maxHeight: Infinity,\n      maxWidth: Infinity,\n      minHeight: 0,\n      minWidth: 0,\n      resizeFrom: 'parent',\n      scrolling: false,\n      sizeHeight: true,\n      sizeWidth: false,\n      warningTimeout: 5000,\n      tolerance: 0,\n      widthCalculationMethod: 'scroll',\n      onClosed: function() {},\n      onInit: function() {},\n      onMessage: function() {\n        warn('onMessage function not defined')\n      },\n      onResized: function() {},\n      onScroll: function() {\n        return true\n      }\n    }\n\n  function getMutationObserver() {\n    return (\n      window.MutationObserver ||\n      window.WebKitMutationObserver ||\n      window.MozMutationObserver\n    )\n  }\n\n  function addEventListener(el, evt, func) {\n    el.addEventListener(evt, func, false)\n  }\n\n  function removeEventListener(el, evt, func) {\n    el.removeEventListener(evt, func, false)\n  }\n\n  function setupRequestAnimationFrame() {\n    var vendors = ['moz', 'webkit', 'o', 'ms']\n    var x\n\n    // Remove vendor prefixing if prefixed and break early if not\n    for (x = 0; x < vendors.length && !requestAnimationFrame; x += 1) {\n      requestAnimationFrame = window[vendors[x] + 'RequestAnimationFrame']\n    }\n\n    if (!requestAnimationFrame) {\n      log('setup', 'RequestAnimationFrame not supported')\n    }\n  }\n\n  function getMyID(iframeId) {\n    var retStr = 'Host page: ' + iframeId\n\n    if (window.top !== window.self) {\n      if (window.parentIFrame && window.parentIFrame.getId) {\n        retStr = window.parentIFrame.getId() + ': ' + iframeId\n      } else {\n        retStr = 'Nested host page: ' + iframeId\n      }\n    }\n\n    return retStr\n  }\n\n  function formatLogHeader(iframeId) {\n    return msgId + '[' + getMyID(iframeId) + ']'\n  }\n\n  function isLogEnabled(iframeId) {\n    return settings[iframeId] ? settings[iframeId].log : logEnabled\n  }\n\n  function log(iframeId, msg) {\n    output('log', iframeId, msg, isLogEnabled(iframeId))\n  }\n\n  function info(iframeId, msg) {\n    output('info', iframeId, msg, isLogEnabled(iframeId))\n  }\n\n  function warn(iframeId, msg) {\n    output('warn', iframeId, msg, true)\n  }\n\n  function output(type, iframeId, msg, enabled) {\n    if (true === enabled && 'object' === typeof window.console) {\n      // eslint-disable-next-line no-console\n      console[type](formatLogHeader(iframeId), msg)\n    }\n  }\n\n  function iFrameListener(event) {\n    function resizeIFrame() {\n      function resize() {\n        setSize(messageData)\n        setPagePosition(iframeId)\n        on('onResized', messageData)\n      }\n\n      ensureInRange('Height')\n      ensureInRange('Width')\n\n      syncResize(resize, messageData, 'init')\n    }\n\n    function processMsg() {\n      var data = msg.substr(msgIdLen).split(':')\n\n      return {\n        iframe: settings[data[0]] && settings[data[0]].iframe,\n        id: data[0],\n        height: data[1],\n        width: data[2],\n        type: data[3]\n      }\n    }\n\n    function ensureInRange(Dimension) {\n      var max = Number(settings[iframeId]['max' + Dimension]),\n        min = Number(settings[iframeId]['min' + Dimension]),\n        dimension = Dimension.toLowerCase(),\n        size = Number(messageData[dimension])\n\n      log(iframeId, 'Checking ' + dimension + ' is in range ' + min + '-' + max)\n\n      if (size < min) {\n        size = min\n        log(iframeId, 'Set ' + dimension + ' to min value')\n      }\n\n      if (size > max) {\n        size = max\n        log(iframeId, 'Set ' + dimension + ' to max value')\n      }\n\n      messageData[dimension] = '' + size\n    }\n\n    function isMessageFromIFrame() {\n      function checkAllowedOrigin() {\n        function checkList() {\n          var i = 0,\n            retCode = false\n\n          log(\n            iframeId,\n            'Checking connection is from allowed list of origins: ' +\n              checkOrigin\n          )\n\n          for (; i < checkOrigin.length; i++) {\n            if (checkOrigin[i] === origin) {\n              retCode = true\n              break\n            }\n          }\n          return retCode\n        }\n\n        function checkSingle() {\n          var remoteHost = settings[iframeId] && settings[iframeId].remoteHost\n          log(iframeId, 'Checking connection is from: ' + remoteHost)\n          return origin === remoteHost\n        }\n\n        return checkOrigin.constructor === Array ? checkList() : checkSingle()\n      }\n\n      var origin = event.origin,\n        checkOrigin = settings[iframeId] && settings[iframeId].checkOrigin\n\n      if (checkOrigin && '' + origin !== 'null' && !checkAllowedOrigin()) {\n        throw new Error(\n          'Unexpected message received from: ' +\n            origin +\n            ' for ' +\n            messageData.iframe.id +\n            '. Message was: ' +\n            event.data +\n            '. This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains.'\n        )\n      }\n\n      return true\n    }\n\n    function isMessageForUs() {\n      return (\n        msgId === ('' + msg).substr(0, msgIdLen) &&\n        msg.substr(msgIdLen).split(':')[0] in settings\n      ) // ''+Protects against non-string msg\n    }\n\n    function isMessageFromMetaParent() {\n      // Test if this message is from a parent above us. This is an ugly test, however, updating\n      // the message format would break backwards compatibity.\n      var retCode = messageData.type in { true: 1, false: 1, undefined: 1 }\n\n      if (retCode) {\n        log(iframeId, 'Ignoring init message from meta parent page')\n      }\n\n      return retCode\n    }\n\n    function getMsgBody(offset) {\n      return msg.substr(msg.indexOf(':') + msgHeaderLen + offset)\n    }\n\n    function forwardMsgFromIFrame(msgBody) {\n      log(\n        iframeId,\n        'onMessage passed: {iframe: ' +\n          messageData.iframe.id +\n          ', message: ' +\n          msgBody +\n          '}'\n      )\n      on('onMessage', {\n        iframe: messageData.iframe,\n        message: JSON.parse(msgBody)\n      })\n      log(iframeId, '--')\n    }\n\n    function getPageInfo() {\n      var bodyPosition = document.body.getBoundingClientRect(),\n        iFramePosition = messageData.iframe.getBoundingClientRect()\n\n      return JSON.stringify({\n        iframeHeight: iFramePosition.height,\n        iframeWidth: iFramePosition.width,\n        clientHeight: Math.max(\n          document.documentElement.clientHeight,\n          window.innerHeight || 0\n        ),\n        clientWidth: Math.max(\n          document.documentElement.clientWidth,\n          window.innerWidth || 0\n        ),\n        offsetTop: parseInt(iFramePosition.top - bodyPosition.top, 10),\n        offsetLeft: parseInt(iFramePosition.left - bodyPosition.left, 10),\n        scrollTop: window.pageYOffset,\n        scrollLeft: window.pageXOffset\n      })\n    }\n\n    function sendPageInfoToIframe(iframe, iframeId) {\n      function debouncedTrigger() {\n        trigger('Send Page Info', 'pageInfo:' + getPageInfo(), iframe, iframeId)\n      }\n      debounceFrameEvents(debouncedTrigger, 32, iframeId)\n    }\n\n    function startPageInfoMonitor() {\n      function setListener(type, func) {\n        function sendPageInfo() {\n          if (settings[id]) {\n            sendPageInfoToIframe(settings[id].iframe, id)\n          } else {\n            stop()\n          }\n        }\n\n        ;['scroll', 'resize'].forEach(function(evt) {\n          log(id, type + evt + ' listener for sendPageInfo')\n          func(window, evt, sendPageInfo)\n        })\n      }\n\n      function stop() {\n        setListener('Remove ', removeEventListener)\n      }\n\n      function start() {\n        setListener('Add ', addEventListener)\n      }\n\n      var id = iframeId // Create locally scoped copy of iFrame ID\n\n      start()\n\n      if (settings[id]) {\n        settings[id].stopPageInfo = stop\n      }\n    }\n\n    function stopPageInfoMonitor() {\n      if (settings[iframeId] && settings[iframeId].stopPageInfo) {\n        settings[iframeId].stopPageInfo()\n        delete settings[iframeId].stopPageInfo\n      }\n    }\n\n    function checkIFrameExists() {\n      var retBool = true\n\n      if (null === messageData.iframe) {\n        warn(iframeId, 'IFrame (' + messageData.id + ') not found')\n        retBool = false\n      }\n      return retBool\n    }\n\n    function getElementPosition(target) {\n      var iFramePosition = target.getBoundingClientRect()\n\n      getPagePosition(iframeId)\n\n      return {\n        x: Math.floor(Number(iFramePosition.left) + Number(pagePosition.x)),\n        y: Math.floor(Number(iFramePosition.top) + Number(pagePosition.y))\n      }\n    }\n\n    function scrollRequestFromChild(addOffset) {\n      /* istanbul ignore next */ // Not testable in Karma\n      function reposition() {\n        pagePosition = newPosition\n        scrollTo()\n        log(iframeId, '--')\n      }\n\n      function calcOffset() {\n        return {\n          x: Number(messageData.width) + offset.x,\n          y: Number(messageData.height) + offset.y\n        }\n      }\n\n      function scrollParent() {\n        if (window.parentIFrame) {\n          window.parentIFrame['scrollTo' + (addOffset ? 'Offset' : '')](\n            newPosition.x,\n            newPosition.y\n          )\n        } else {\n          warn(\n            iframeId,\n            'Unable to scroll to requested position, window.parentIFrame not found'\n          )\n        }\n      }\n\n      var offset = addOffset\n          ? getElementPosition(messageData.iframe)\n          : { x: 0, y: 0 },\n        newPosition = calcOffset()\n\n      log(\n        iframeId,\n        'Reposition requested from iFrame (offset x:' +\n          offset.x +\n          ' y:' +\n          offset.y +\n          ')'\n      )\n\n      if (window.top !== window.self) {\n        scrollParent()\n      } else {\n        reposition()\n      }\n    }\n\n    function scrollTo() {\n      if (false !== on('onScroll', pagePosition)) {\n        setPagePosition(iframeId)\n      } else {\n        unsetPagePosition()\n      }\n    }\n\n    function findTarget(location) {\n      function jumpToTarget() {\n        var jumpPosition = getElementPosition(target)\n\n        log(\n          iframeId,\n          'Moving to in page link (#' +\n            hash +\n            ') at x: ' +\n            jumpPosition.x +\n            ' y: ' +\n            jumpPosition.y\n        )\n        pagePosition = {\n          x: jumpPosition.x,\n          y: jumpPosition.y\n        }\n\n        scrollTo()\n        log(iframeId, '--')\n      }\n\n      function jumpToParent() {\n        if (window.parentIFrame) {\n          window.parentIFrame.moveToAnchor(hash)\n        } else {\n          log(\n            iframeId,\n            'In page link #' +\n              hash +\n              ' not found and window.parentIFrame not found'\n          )\n        }\n      }\n\n      var hash = location.split('#')[1] || '',\n        hashData = decodeURIComponent(hash),\n        target =\n          document.getElementById(hashData) ||\n          document.getElementsByName(hashData)[0]\n\n      if (target) {\n        jumpToTarget()\n      } else if (window.top !== window.self) {\n        jumpToParent()\n      } else {\n        log(iframeId, 'In page link #' + hash + ' not found')\n      }\n    }\n\n    function on(funcName, val) {\n      return chkEvent(iframeId, funcName, val)\n    }\n\n    function actionMsg() {\n      if (settings[iframeId] && settings[iframeId].firstRun) firstRun()\n\n      switch (messageData.type) {\n        case 'close':\n          if (settings[iframeId].closeRequeston)\n            chkEvent(iframeId, 'onCloseRequest', settings[iframeId].iframe)\n          else closeIFrame(messageData.iframe)\n          break\n\n        case 'message':\n          forwardMsgFromIFrame(getMsgBody(6))\n          break\n\n        case 'scrollTo':\n          scrollRequestFromChild(false)\n          break\n\n        case 'scrollToOffset':\n          scrollRequestFromChild(true)\n          break\n\n        case 'pageInfo':\n          sendPageInfoToIframe(\n            settings[iframeId] && settings[iframeId].iframe,\n            iframeId\n          )\n          startPageInfoMonitor()\n          break\n\n        case 'pageInfoStop':\n          stopPageInfoMonitor()\n          break\n\n        case 'inPageLink':\n          findTarget(getMsgBody(9))\n          break\n\n        case 'reset':\n          resetIFrame(messageData)\n          break\n\n        case 'init':\n          resizeIFrame()\n          on('onInit', messageData.iframe)\n          break\n\n        default:\n          resizeIFrame()\n      }\n    }\n\n    function hasSettings(iframeId) {\n      var retBool = true\n\n      if (!settings[iframeId]) {\n        retBool = false\n        warn(\n          messageData.type +\n            ' No settings for ' +\n            iframeId +\n            '. Message was: ' +\n            msg\n        )\n      }\n\n      return retBool\n    }\n\n    function iFrameReadyMsgReceived() {\n      // eslint-disable-next-line no-restricted-syntax, guard-for-in\n      for (var iframeId in settings) {\n        trigger(\n          'iFrame requested init',\n          createOutgoingMsg(iframeId),\n          document.getElementById(iframeId),\n          iframeId\n        )\n      }\n    }\n\n    function firstRun() {\n      if (settings[iframeId]) {\n        settings[iframeId].firstRun = false\n      }\n    }\n\n    var msg = event.data,\n      messageData = {},\n      iframeId = null\n\n    if ('[iFrameResizerChild]Ready' === msg) {\n      iFrameReadyMsgReceived()\n    } else if (isMessageForUs()) {\n      messageData = processMsg()\n      iframeId = messageData.id\n      if (settings[iframeId]) {\n        settings[iframeId].loaded = true\n      }\n\n      if (!isMessageFromMetaParent() && hasSettings(iframeId)) {\n        log(iframeId, 'Received: ' + msg)\n\n        if (checkIFrameExists() && isMessageFromIFrame()) {\n          actionMsg()\n        }\n      }\n    } else {\n      info(iframeId, 'Ignored: ' + msg)\n    }\n  }\n\n  function chkEvent(iframeId, funcName, val) {\n    var func = null,\n      retVal = null\n\n    if (settings[iframeId]) {\n      func = settings[iframeId][funcName]\n\n      if ('function' === typeof func) {\n        retVal = func(val)\n      } else {\n        throw new TypeError(\n          funcName + ' on iFrame[' + iframeId + '] is not a function'\n        )\n      }\n    }\n\n    return retVal\n  }\n\n  function removeIframeListeners(iframe) {\n    var iframeId = iframe.id\n    delete settings[iframeId]\n  }\n\n  function closeIFrame(iframe) {\n    var iframeId = iframe.id\n    log(iframeId, 'Removing iFrame: ' + iframeId)\n\n    try {\n      // Catch race condition error with React\n      if (iframe.parentNode) {\n        iframe.parentNode.removeChild(iframe)\n      }\n    } catch (error) {\n      warn(error)\n    }\n\n    chkEvent(iframeId, 'onClosed', iframeId)\n    log(iframeId, '--')\n    removeIframeListeners(iframe)\n  }\n\n  function getPagePosition(iframeId) {\n    if (null === pagePosition) {\n      pagePosition = {\n        x:\n          window.pageXOffset !== undefined\n            ? window.pageXOffset\n            : document.documentElement.scrollLeft,\n        y:\n          window.pageYOffset !== undefined\n            ? window.pageYOffset\n            : document.documentElement.scrollTop\n      }\n      log(\n        iframeId,\n        'Get page position: ' + pagePosition.x + ',' + pagePosition.y\n      )\n    }\n  }\n\n  function setPagePosition(iframeId) {\n    if (null !== pagePosition) {\n      window.scrollTo(pagePosition.x, pagePosition.y)\n      log(\n        iframeId,\n        'Set page position: ' + pagePosition.x + ',' + pagePosition.y\n      )\n      unsetPagePosition()\n    }\n  }\n\n  function unsetPagePosition() {\n    pagePosition = null\n  }\n\n  function resetIFrame(messageData) {\n    function reset() {\n      setSize(messageData)\n      trigger('reset', 'reset', messageData.iframe, messageData.id)\n    }\n\n    log(\n      messageData.id,\n      'Size reset requested by ' +\n        ('init' === messageData.type ? 'host page' : 'iFrame')\n    )\n    getPagePosition(messageData.id)\n    syncResize(reset, messageData, 'reset')\n  }\n\n  function setSize(messageData) {\n    function setDimension(dimension) {\n      if (!messageData.id) {\n        log('undefined', 'messageData id not set')\n        return\n      }\n      messageData.iframe.style[dimension] = messageData[dimension] + 'px'\n      log(\n        messageData.id,\n        'IFrame (' +\n          iframeId +\n          ') ' +\n          dimension +\n          ' set to ' +\n          messageData[dimension] +\n          'px'\n      )\n    }\n\n    function chkZero(dimension) {\n      // FireFox sets dimension of hidden iFrames to zero.\n      // So if we detect that set up an event to check for\n      // when iFrame becomes visible.\n\n      /* istanbul ignore next */ // Not testable in PhantomJS\n      if (!hiddenCheckEnabled && '0' === messageData[dimension]) {\n        hiddenCheckEnabled = true\n        log(iframeId, 'Hidden iFrame detected, creating visibility listener')\n        fixHiddenIFrames()\n      }\n    }\n\n    function processDimension(dimension) {\n      setDimension(dimension)\n      chkZero(dimension)\n    }\n\n    var iframeId = messageData.iframe.id\n\n    if (settings[iframeId]) {\n      if (settings[iframeId].sizeHeight) {\n        processDimension('height')\n      }\n      if (settings[iframeId].sizeWidth) {\n        processDimension('width')\n      }\n    }\n  }\n\n  function syncResize(func, messageData, doNotSync) {\n    /* istanbul ignore if */ // Not testable in PhantomJS\n    if (doNotSync !== messageData.type && requestAnimationFrame) {\n      log(messageData.id, 'Requesting animation frame')\n      requestAnimationFrame(func)\n    } else {\n      func()\n    }\n  }\n\n  function trigger(calleeMsg, msg, iframe, id, noResponseWarning) {\n    function postMessageToIFrame() {\n      var target = settings[id] && settings[id].targetOrigin\n      log(\n        id,\n        '[' +\n          calleeMsg +\n          '] Sending msg to iframe[' +\n          id +\n          '] (' +\n          msg +\n          ') targetOrigin: ' +\n          target\n      )\n      iframe.contentWindow.postMessage(msgId + msg, target)\n    }\n\n    function iFrameNotFound() {\n      warn(id, '[' + calleeMsg + '] IFrame(' + id + ') not found')\n    }\n\n    function chkAndSend() {\n      if (\n        iframe &&\n        'contentWindow' in iframe &&\n        null !== iframe.contentWindow\n      ) {\n        // Null test for PhantomJS\n        postMessageToIFrame()\n      } else {\n        iFrameNotFound()\n      }\n    }\n\n    function warnOnNoResponse() {\n      function warning() {\n        if (settings[id] && !settings[id].loaded && !errorShown) {\n          errorShown = true\n          warn(\n            id,\n            'IFrame has not responded within ' +\n              settings[id].warningTimeout / 1000 +\n              ' seconds. Check iFrameResizer.contentWindow.js has been loaded in iFrame. This message can be ignored if everything is working, or you can set the warningTimeout option to a higher value or zero to suppress this warning.'\n          )\n        }\n      }\n\n      if (\n        !!noResponseWarning &&\n        settings[id] &&\n        !!settings[id].warningTimeout\n      ) {\n        settings[id].msgTimeout = setTimeout(\n          warning,\n          settings[id].warningTimeout\n        )\n      }\n    }\n\n    var errorShown = false\n\n    id = id || iframe.id\n\n    if (settings[id]) {\n      chkAndSend()\n      warnOnNoResponse()\n    }\n  }\n\n  function createOutgoingMsg(iframeId) {\n    return (\n      iframeId +\n      ':' +\n      settings[iframeId].bodyMarginV1 +\n      ':' +\n      settings[iframeId].sizeWidth +\n      ':' +\n      settings[iframeId].log +\n      ':' +\n      settings[iframeId].interval +\n      ':' +\n      settings[iframeId].enablePublicMethods +\n      ':' +\n      settings[iframeId].autoResize +\n      ':' +\n      settings[iframeId].bodyMargin +\n      ':' +\n      settings[iframeId].heightCalculationMethod +\n      ':' +\n      settings[iframeId].bodyBackground +\n      ':' +\n      settings[iframeId].bodyPadding +\n      ':' +\n      settings[iframeId].tolerance +\n      ':' +\n      settings[iframeId].inPageLinks +\n      ':' +\n      settings[iframeId].resizeFrom +\n      ':' +\n      settings[iframeId].widthCalculationMethod\n    )\n  }\n\n  function setupIFrame(iframe, options) {\n    function setLimits() {\n      function addStyle(style) {\n        if (\n          Infinity !== settings[iframeId][style] &&\n          0 !== settings[iframeId][style]\n        ) {\n          iframe.style[style] = settings[iframeId][style] + 'px'\n          log(\n            iframeId,\n            'Set ' + style + ' = ' + settings[iframeId][style] + 'px'\n          )\n        }\n      }\n\n      function chkMinMax(dimension) {\n        if (\n          settings[iframeId]['min' + dimension] >\n          settings[iframeId]['max' + dimension]\n        ) {\n          throw new Error(\n            'Value for min' +\n              dimension +\n              ' can not be greater than max' +\n              dimension\n          )\n        }\n      }\n\n      chkMinMax('Height')\n      chkMinMax('Width')\n\n      addStyle('maxHeight')\n      addStyle('minHeight')\n      addStyle('maxWidth')\n      addStyle('minWidth')\n    }\n\n    function newId() {\n      var id = (options && options.id) || defaults.id + count++\n      if (null !== document.getElementById(id)) {\n        id += count++\n      }\n      return id\n    }\n\n    function ensureHasId(iframeId) {\n      if ('' === iframeId) {\n        // eslint-disable-next-line no-multi-assign\n        iframe.id = iframeId = newId()\n        logEnabled = (options || {}).log\n        log(\n          iframeId,\n          'Added missing iframe ID: ' + iframeId + ' (' + iframe.src + ')'\n        )\n      }\n\n      return iframeId\n    }\n\n    function setScrolling() {\n      log(\n        iframeId,\n        'IFrame scrolling ' +\n          (settings[iframeId] && settings[iframeId].scrolling\n            ? 'enabled'\n            : 'disabled') +\n          ' for ' +\n          iframeId\n      )\n      iframe.style.overflow =\n        false === (settings[iframeId] && settings[iframeId].scrolling)\n          ? 'hidden'\n          : 'auto'\n      switch (settings[iframeId] && settings[iframeId].scrolling) {\n        case 'omit':\n          break\n\n        case true:\n          iframe.scrolling = 'yes'\n          break\n\n        case false:\n          iframe.scrolling = 'no'\n          break\n\n        default:\n          iframe.scrolling = settings[iframeId]\n            ? settings[iframeId].scrolling\n            : 'no'\n      }\n    }\n\n    // The V1 iFrame script expects an int, where as in V2 expects a CSS\n    // string value such as '1px 3em', so if we have an int for V2, set V1=V2\n    // and then convert V2 to a string PX value.\n    function setupBodyMarginValues() {\n      if (\n        'number' ===\n          typeof (settings[iframeId] && settings[iframeId].bodyMargin) ||\n        '0' === (settings[iframeId] && settings[iframeId].bodyMargin)\n      ) {\n        settings[iframeId].bodyMarginV1 = settings[iframeId].bodyMargin\n        settings[iframeId].bodyMargin =\n          '' + settings[iframeId].bodyMargin + 'px'\n      }\n    }\n\n    function checkReset() {\n      // Reduce scope of firstRun to function, because IE8's JS execution\n      // context stack is borked and this value gets externally\n      // changed midway through running this function!!!\n      var firstRun = settings[iframeId] && settings[iframeId].firstRun,\n        resetRequertMethod =\n          settings[iframeId] &&\n          settings[iframeId].heightCalculationMethod in resetRequiredMethods\n\n      if (!firstRun && resetRequertMethod) {\n        resetIFrame({ iframe: iframe, height: 0, width: 0, type: 'init' })\n      }\n    }\n\n    function setupIFrameObject() {\n      if (settings[iframeId]) {\n        settings[iframeId].iframe.iFrameResizer = {\n          close: closeIFrame.bind(null, settings[iframeId].iframe),\n\n          removeListeners: removeIframeListeners.bind(\n            null,\n            settings[iframeId].iframe\n          ),\n\n          resize: trigger.bind(\n            null,\n            'Window resize',\n            'resize',\n            settings[iframeId].iframe\n          ),\n\n          moveToAnchor: function(anchor) {\n            trigger(\n              'Move to anchor',\n              'moveToAnchor:' + anchor,\n              settings[iframeId].iframe,\n              iframeId\n            )\n          },\n\n          sendMessage: function(message) {\n            message = JSON.stringify(message)\n            trigger(\n              'Send Message',\n              'message:' + message,\n              settings[iframeId].iframe,\n              iframeId\n            )\n          }\n        }\n      }\n    }\n\n    // We have to call trigger twice, as we can not be sure if all\n    // iframes have completed loading when this code runs. The\n    // event listener also catches the page changing in the iFrame.\n    function init(msg) {\n      function iFrameLoaded() {\n        trigger('iFrame.onload', msg, iframe, undefined, true)\n        checkReset()\n      }\n\n      function createDestroyObserver(MutationObserver) {\n        if (!iframe.parentNode) {\n          return\n        }\n\n        var destroyObserver = new MutationObserver(function(mutations) {\n          mutations.forEach(function(mutation) {\n            var removedNodes = Array.prototype.slice.call(mutation.removedNodes) // Transform NodeList into an Array\n            removedNodes.forEach(function(removedNode) {\n              if (removedNode === iframe) {\n                closeIFrame(iframe)\n              }\n            })\n          })\n        })\n        destroyObserver.observe(iframe.parentNode, {\n          childList: true\n        })\n      }\n\n      var MutationObserver = getMutationObserver()\n      if (MutationObserver) {\n        createDestroyObserver(MutationObserver)\n      }\n\n      addEventListener(iframe, 'load', iFrameLoaded)\n      trigger('init', msg, iframe, undefined, true)\n    }\n\n    function checkOptions(options) {\n      if ('object' !== typeof options) {\n        throw new TypeError('Options is not an object')\n      }\n    }\n\n    function copyOptions(options) {\n      // eslint-disable-next-line no-restricted-syntax\n      for (var option in defaults) {\n        if (Object.prototype.hasOwnProperty.call(defaults, option)) {\n          settings[iframeId][option] = Object.prototype.hasOwnProperty.call(\n            options,\n            option\n          )\n            ? options[option]\n            : defaults[option]\n        }\n      }\n    }\n\n    function getTargetOrigin(remoteHost) {\n      return '' === remoteHost || 'file://' === remoteHost ? '*' : remoteHost\n    }\n\n    function depricate(key) {\n      var splitName = key.split('Callback')\n\n      if (splitName.length === 2) {\n        var name =\n          'on' + splitName[0].charAt(0).toUpperCase() + splitName[0].slice(1)\n        this[name] = this[key]\n        delete this[key]\n        warn(\n          iframeId,\n          \"Deprecated: '\" +\n            key +\n            \"' has been renamed '\" +\n            name +\n            \"'. The old method will be removed in the next major version.\"\n        )\n      }\n    }\n\n    function processOptions(options) {\n      options = options || {}\n      settings[iframeId] = {\n        firstRun: true,\n        iframe: iframe,\n        remoteHost: iframe.src\n          .split('/')\n          .slice(0, 3)\n          .join('/')\n      }\n\n      checkOptions(options)\n      Object.keys(options).forEach(depricate, options)\n      copyOptions(options)\n\n      if (settings[iframeId]) {\n        settings[iframeId].targetOrigin =\n          true === settings[iframeId].checkOrigin\n            ? getTargetOrigin(settings[iframeId].remoteHost)\n            : '*'\n      }\n    }\n\n    function beenHere() {\n      return iframeId in settings && 'iFrameResizer' in iframe\n    }\n\n    var iframeId = ensureHasId(iframe.id)\n\n    if (!beenHere()) {\n      processOptions(options)\n      setScrolling()\n      setLimits()\n      setupBodyMarginValues()\n      init(createOutgoingMsg(iframeId))\n      setupIFrameObject()\n    } else {\n      warn(iframeId, 'Ignored iFrame, already setup.')\n    }\n  }\n\n  function debouce(fn, time) {\n    if (null === timer) {\n      timer = setTimeout(function() {\n        timer = null\n        fn()\n      }, time)\n    }\n  }\n\n  var frameTimer = {}\n  function debounceFrameEvents(fn, time, frameId) {\n    if (!frameTimer[frameId]) {\n      frameTimer[frameId] = setTimeout(function() {\n        frameTimer[frameId] = null\n        fn()\n      }, time)\n    }\n  }\n\n  // Not testable in PhantomJS\n  /* istanbul ignore next */\n\n  function fixHiddenIFrames() {\n    function checkIFrames() {\n      function checkIFrame(settingId) {\n        function chkDimension(dimension) {\n          return (\n            '0px' ===\n            (settings[settingId] && settings[settingId].iframe.style[dimension])\n          )\n        }\n\n        function isVisible(el) {\n          return null !== el.offsetParent\n        }\n\n        if (\n          settings[settingId] &&\n          isVisible(settings[settingId].iframe) &&\n          (chkDimension('height') || chkDimension('width'))\n        ) {\n          trigger(\n            'Visibility change',\n            'resize',\n            settings[settingId].iframe,\n            settingId\n          )\n        }\n      }\n\n      Object.values(settings).forEach(checkIFrame)\n    }\n\n    function mutationObserved(mutations) {\n      log(\n        'window',\n        'Mutation observed: ' + mutations[0].target + ' ' + mutations[0].type\n      )\n      debouce(checkIFrames, 16)\n    }\n\n    function createMutationObserver() {\n      var target = document.querySelector('body'),\n        config = {\n          attributes: true,\n          attributeOldValue: false,\n          characterData: true,\n          characterDataOldValue: false,\n          childList: true,\n          subtree: true\n        },\n        observer = new MutationObserver(mutationObserved)\n\n      observer.observe(target, config)\n    }\n\n    var MutationObserver = getMutationObserver()\n    if (MutationObserver) {\n      createMutationObserver()\n    }\n  }\n\n  function resizeIFrames(event) {\n    function resize() {\n      sendTriggerMsg('Window ' + event, 'resize')\n    }\n\n    log('window', 'Trigger event: ' + event)\n    debouce(resize, 16)\n  }\n\n  // Not testable in PhantomJS\n  /* istanbul ignore next */\n  function tabVisible() {\n    function resize() {\n      sendTriggerMsg('Tab Visable', 'resize')\n    }\n\n    if ('hidden' !== document.visibilityState) {\n      log('document', 'Trigger event: Visiblity change')\n      debouce(resize, 16)\n    }\n  }\n\n  function sendTriggerMsg(eventName, event) {\n    function isIFrameResizeEnabled(iframeId) {\n      return (\n        settings[iframeId] &&\n        'parent' === settings[iframeId].resizeFrom &&\n        settings[iframeId].autoResize &&\n        !settings[iframeId].firstRun\n      )\n    }\n\n    Object.keys(settings).forEach(function(iframeId) {\n      if (isIFrameResizeEnabled(iframeId)) {\n        trigger(eventName, event, document.getElementById(iframeId), iframeId)\n      }\n    })\n  }\n\n  function setupEventListeners() {\n    addEventListener(window, 'message', iFrameListener)\n\n    addEventListener(window, 'resize', function() {\n      resizeIFrames('resize')\n    })\n\n    addEventListener(document, 'visibilitychange', tabVisible)\n\n    addEventListener(document, '-webkit-visibilitychange', tabVisible)\n  }\n\n  function factory() {\n    function init(options, element) {\n      function chkType() {\n        if (!element.tagName) {\n          throw new TypeError('Object is not a valid DOM element')\n        } else if ('IFRAME' !== element.tagName.toUpperCase()) {\n          throw new TypeError(\n            'Expected <IFRAME> tag, found <' + element.tagName + '>'\n          )\n        }\n      }\n\n      if (element) {\n        chkType()\n        setupIFrame(element, options)\n        iFrames.push(element)\n      }\n    }\n\n    function warnDeprecatedOptions(options) {\n      if (options && options.enablePublicMethods) {\n        warn(\n          'enablePublicMethods option has been removed, public methods are now always available in the iFrame'\n        )\n      }\n    }\n\n    var iFrames\n\n    setupRequestAnimationFrame()\n    setupEventListeners()\n\n    return function iFrameResizeF(options, target) {\n      iFrames = [] // Only return iFrames past in on this call\n\n      warnDeprecatedOptions(options)\n\n      switch (typeof target) {\n        case 'undefined':\n        case 'string':\n          Array.prototype.forEach.call(\n            document.querySelectorAll(target || 'iframe'),\n            init.bind(undefined, options)\n          )\n          break\n\n        case 'object':\n          init(options, target)\n          break\n\n        default:\n          throw new TypeError('Unexpected data type (' + typeof target + ')')\n      }\n\n      return iFrames\n    }\n  }\n\n  function createJQueryPublicMethod($) {\n    if (!$.fn) {\n      info('', 'Unable to bind to jQuery, it is not fully loaded.')\n    } else if (!$.fn.iFrameResize) {\n      $.fn.iFrameResize = function $iFrameResizeF(options) {\n        function init(index, element) {\n          setupIFrame(element, options)\n        }\n\n        return this.filter('iframe')\n          .each(init)\n          .end()\n      }\n    }\n  }\n\n  if (window.jQuery) {\n    createJQueryPublicMethod(window.jQuery)\n  }\n\n  if (typeof define === 'function' && define.amd) {\n    define([], factory)\n  } else if (typeof module === 'object' && typeof module.exports === 'object') {\n    // Node for browserfy\n    module.exports = factory()\n  }\n  window.iFrameResize = window.iFrameResize || factory()\n})()\n","/*! iFrame Resizer (iframeSizer.min.js ) - v4.0.4 - 2019-03-04\n *  Desc: Force cross domain iframes to size to content.\n *  Requires: iframeResizer.contentWindow.min.js to be loaded into the target frame.\n *  Copyright: (c) 2019 David J. Bradshaw - dave@bradshaw.net\n *  License: MIT\n */\n\n!function(u){if(\"undefined\"!=typeof window){var e,l=0,m=!1,n=!1,p=\"message\".length,b=\"[iFrameSizer]\",y=b.length,v=null,r=window.requestAnimationFrame,g={max:1,scroll:1,bodyScroll:1,documentElementScroll:1},F={},i=null,h={autoResize:!0,bodyBackground:null,bodyMargin:null,bodyMarginV1:8,bodyPadding:null,checkOrigin:!0,inPageLinks:!1,enablePublicMethods:!0,heightCalculationMethod:\"bodyOffset\",id:\"iFrameResizer\",interval:32,log:!1,maxHeight:1/0,maxWidth:1/0,minHeight:0,minWidth:0,resizeFrom:\"parent\",scrolling:!1,sizeHeight:!0,sizeWidth:!1,warningTimeout:5e3,tolerance:0,widthCalculationMethod:\"scroll\",onClosed:function(){},onInit:function(){},onMessage:function(){O(\"onMessage function not defined\")},onResized:function(){},onScroll:function(){return!0}},I={};window.jQuery&&((e=window.jQuery).fn?e.fn.iFrameResize||(e.fn.iFrameResize=function(i){return this.filter(\"iframe\").each(function(e,n){d(n,i)}).end()}):z(\"\",\"Unable to bind to jQuery, it is not fully loaded.\")),\"function\"==typeof define&&define.amd?define([],B):\"object\"==typeof module&&\"object\"==typeof module.exports&&(module.exports=B()),window.iFrameResize=window.iFrameResize||B()}function w(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function M(e,n,i){e.addEventListener(n,i,!1)}function x(e,n,i){e.removeEventListener(n,i,!1)}function o(e){return b+\"[\"+(i=\"Host page: \"+(n=e),window.top!==window.self&&(i=window.parentIFrame&&window.parentIFrame.getId?window.parentIFrame.getId()+\": \"+n:\"Nested host page: \"+n),i)+\"]\";var n,i}function t(e){return F[e]?F[e].log:m}function k(e,n){a(\"log\",e,n,t(e))}function z(e,n){a(\"info\",e,n,t(e))}function O(e,n){a(\"warn\",e,n,!0)}function a(e,n,i,t){!0===t&&\"object\"==typeof window.console&&console[e](o(n),i)}function s(n){function a(){e(\"Height\"),e(\"Width\"),P(function(){j(h),C(w),l(\"onResized\",h)},h,\"init\")}function e(e){var n=Number(F[w][\"max\"+e]),i=Number(F[w][\"min\"+e]),t=e.toLowerCase(),o=Number(h[t]);k(w,\"Checking \"+t+\" is in range \"+i+\"-\"+n),o<i&&(o=i,k(w,\"Set \"+t+\" to min value\")),n<o&&(o=n,k(w,\"Set \"+t+\" to max value\")),h[t]=\"\"+o}function s(e){return g.substr(g.indexOf(\":\")+p+e)}function d(i,t){var e,n,o;e=function(){var e,n;H(\"Send Page Info\",\"pageInfo:\"+(e=document.body.getBoundingClientRect(),n=h.iframe.getBoundingClientRect(),JSON.stringify({iframeHeight:n.height,iframeWidth:n.width,clientHeight:Math.max(document.documentElement.clientHeight,window.innerHeight||0),clientWidth:Math.max(document.documentElement.clientWidth,window.innerWidth||0),offsetTop:parseInt(n.top-e.top,10),offsetLeft:parseInt(n.left-e.left,10),scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset})),i,t)},n=32,I[o=t]||(I[o]=setTimeout(function(){I[o]=null,e()},n))}function c(e){var n=e.getBoundingClientRect();return N(w),{x:Math.floor(Number(n.left)+Number(v.x)),y:Math.floor(Number(n.top)+Number(v.y))}}function f(e){var n=e?c(h.iframe):{x:0,y:0},i={x:Number(h.width)+n.x,y:Number(h.height)+n.y};k(w,\"Reposition requested from iFrame (offset x:\"+n.x+\" y:\"+n.y+\")\"),window.top!==window.self?window.parentIFrame?window.parentIFrame[\"scrollTo\"+(e?\"Offset\":\"\")](i.x,i.y):O(w,\"Unable to scroll to requested position, window.parentIFrame not found\"):(v=i,u(),k(w,\"--\"))}function u(){!1!==l(\"onScroll\",v)?C(w):S()}function l(e,n){return R(w,e,n)}var i,t,o,r,m,g=n.data,h={},w=null;\"[iFrameResizerChild]Ready\"===g?function(){for(var e in F)H(\"iFrame requested init\",A(e),document.getElementById(e),e)}():b===(\"\"+g).substr(0,y)&&g.substr(y).split(\":\")[0]in F?(m=g.substr(y).split(\":\"),h={iframe:F[m[0]]&&F[m[0]].iframe,id:m[0],height:m[1],width:m[2],type:m[3]},w=h.id,F[w]&&(F[w].loaded=!0),(r=h.type in{true:1,false:1,undefined:1})&&k(w,\"Ignoring init message from meta parent page\"),!r&&(o=!0,F[t=w]||(o=!1,O(h.type+\" No settings for \"+t+\". Message was: \"+g)),o)&&(k(w,\"Received: \"+g),i=!0,null===h.iframe&&(O(w,\"IFrame (\"+h.id+\") not found\"),i=!1),i&&function(){var e,i=n.origin,t=F[w]&&F[w].checkOrigin;if(t&&\"\"+i!=\"null\"&&!(t.constructor===Array?function(){var e=0,n=!1;for(k(w,\"Checking connection is from allowed list of origins: \"+t);e<t.length;e++)if(t[e]===i){n=!0;break}return n}():(e=F[w]&&F[w].remoteHost,k(w,\"Checking connection is from: \"+e),i===e)))throw new Error(\"Unexpected message received from: \"+i+\" for \"+h.iframe.id+\". Message was: \"+n.data+\". This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains.\");return!0}()&&function(){switch(F[w]&&F[w].firstRun&&F[w]&&(F[w].firstRun=!1),h.type){case\"close\":F[w].closeRequeston?R(w,\"onCloseRequest\",F[w].iframe):E(h.iframe);break;case\"message\":r=s(6),k(w,\"onMessage passed: {iframe: \"+h.iframe.id+\", message: \"+r+\"}\"),l(\"onMessage\",{iframe:h.iframe,message:JSON.parse(r)}),k(w,\"--\");break;case\"scrollTo\":f(!1);break;case\"scrollToOffset\":f(!0);break;case\"pageInfo\":d(F[w]&&F[w].iframe,w),function(){function e(n,i){function t(){F[r]?d(F[r].iframe,r):o()}[\"scroll\",\"resize\"].forEach(function(e){k(r,n+e+\" listener for sendPageInfo\"),i(window,e,t)})}function o(){e(\"Remove \",x)}var r=w;e(\"Add \",M),F[r]&&(F[r].stopPageInfo=o)}();break;case\"pageInfoStop\":F[w]&&F[w].stopPageInfo&&(F[w].stopPageInfo(),delete F[w].stopPageInfo);break;case\"inPageLink\":e=s(9),i=e.split(\"#\")[1]||\"\",t=decodeURIComponent(i),(o=document.getElementById(t)||document.getElementsByName(t)[0])?(n=c(o),k(w,\"Moving to in page link (#\"+i+\") at x: \"+n.x+\" y: \"+n.y),v={x:n.x,y:n.y},u(),k(w,\"--\")):window.top!==window.self?window.parentIFrame?window.parentIFrame.moveToAnchor(i):k(w,\"In page link #\"+i+\" not found and window.parentIFrame not found\"):k(w,\"In page link #\"+i+\" not found\");break;case\"reset\":W(h);break;case\"init\":a(),l(\"onInit\",h.iframe);break;default:a()}var e,n,i,t,o,r}())):z(w,\"Ignored: \"+g)}function R(e,n,i){var t=null,o=null;if(F[e]){if(\"function\"!=typeof(t=F[e][n]))throw new TypeError(n+\" on iFrame[\"+e+\"] is not a function\");o=t(i)}return o}function T(e){var n=e.id;delete F[n]}function E(e){var n=e.id;k(n,\"Removing iFrame: \"+n);try{e.parentNode&&e.parentNode.removeChild(e)}catch(e){O(e)}R(n,\"onClosed\",n),k(n,\"--\"),T(e)}function N(e){null===v&&k(e,\"Get page position: \"+(v={x:window.pageXOffset!==u?window.pageXOffset:document.documentElement.scrollLeft,y:window.pageYOffset!==u?window.pageYOffset:document.documentElement.scrollTop}).x+\",\"+v.y)}function C(e){null!==v&&(window.scrollTo(v.x,v.y),k(e,\"Set page position: \"+v.x+\",\"+v.y),S())}function S(){v=null}function W(e){k(e.id,\"Size reset requested by \"+(\"init\"===e.type?\"host page\":\"iFrame\")),N(e.id),P(function(){j(e),H(\"reset\",\"reset\",e.iframe,e.id)},e,\"reset\")}function j(i){function t(e){n||\"0\"!==i[e]||(n=!0,k(o,\"Hidden iFrame detected, creating visibility listener\"),function(){function n(){Object.values(F).forEach(function(n){function e(e){return\"0px\"===(F[n]&&F[n].iframe.style[e])}F[n]&&(i=F[n].iframe,null!==i.offsetParent)&&(e(\"height\")||e(\"width\"))&&H(\"Visibility change\",\"resize\",F[n].iframe,n);var i})}function e(e){k(\"window\",\"Mutation observed: \"+e[0].target+\" \"+e[0].type),c(n,16)}var i=w();i&&(t=document.querySelector(\"body\"),o={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0},new i(e).observe(t,o));var t,o}())}function e(e){var n;n=e,i.id?(i.iframe.style[n]=i[n]+\"px\",k(i.id,\"IFrame (\"+o+\") \"+n+\" set to \"+i[n]+\"px\")):k(\"undefined\",\"messageData id not set\"),t(e)}var o=i.iframe.id;F[o]&&(F[o].sizeHeight&&e(\"height\"),F[o].sizeWidth&&e(\"width\"))}function P(e,n,i){i!==n.type&&r?(k(n.id,\"Requesting animation frame\"),r(e)):e()}function H(e,n,i,t,o){var r,a=!1;t=t||i.id,F[t]&&(i&&\"contentWindow\"in i&&null!==i.contentWindow?(r=F[t]&&F[t].targetOrigin,k(t,\"[\"+e+\"] Sending msg to iframe[\"+t+\"] (\"+n+\") targetOrigin: \"+r),i.contentWindow.postMessage(b+n,r)):O(t,\"[\"+e+\"] IFrame(\"+t+\") not found\"),o&&F[t]&&F[t].warningTimeout&&(F[t].msgTimeout=setTimeout(function(){!F[t]||F[t].loaded||a||(a=!0,O(t,\"IFrame has not responded within \"+F[t].warningTimeout/1e3+\" seconds. Check iFrameResizer.contentWindow.js has been loaded in iFrame. This message can be ignored if everything is working, or you can set the warningTimeout option to a higher value or zero to suppress this warning.\"))},F[t].warningTimeout)))}function A(e){return e+\":\"+F[e].bodyMarginV1+\":\"+F[e].sizeWidth+\":\"+F[e].log+\":\"+F[e].interval+\":\"+F[e].enablePublicMethods+\":\"+F[e].autoResize+\":\"+F[e].bodyMargin+\":\"+F[e].heightCalculationMethod+\":\"+F[e].bodyBackground+\":\"+F[e].bodyPadding+\":\"+F[e].tolerance+\":\"+F[e].inPageLinks+\":\"+F[e].resizeFrom+\":\"+F[e].widthCalculationMethod}function d(i,e){function n(e){var n=e.split(\"Callback\");if(2===n.length){var i=\"on\"+n[0].charAt(0).toUpperCase()+n[0].slice(1);this[i]=this[e],delete this[e],O(f,\"Deprecated: '\"+e+\"' has been renamed '\"+i+\"'. The old method will be removed in the next major version.\")}}var t,o,r,a,s,d,c,f=(\"\"===(t=i.id)&&(i.id=(o=e&&e.id||h.id+l++,null!==document.getElementById(o)&&(o+=l++),t=o),m=(e||{}).log,k(t,\"Added missing iframe ID: \"+t+\" (\"+i.src+\")\")),t);f in F&&\"iFrameResizer\"in i?O(f,\"Ignored iFrame, already setup.\"):(d=(d=e)||{},F[f]={firstRun:!0,iframe:i,remoteHost:i.src.split(\"/\").slice(0,3).join(\"/\")},function(e){if(\"object\"!=typeof e)throw new TypeError(\"Options is not an object\")}(d),Object.keys(d).forEach(n,d),function(e){for(var n in h)Object.prototype.hasOwnProperty.call(h,n)&&(F[f][n]=Object.prototype.hasOwnProperty.call(e,n)?e[n]:h[n])}(d),F[f]&&(F[f].targetOrigin=!0===F[f].checkOrigin?\"\"===(c=F[f].remoteHost)||\"file://\"===c?\"*\":c:\"*\"),function(){switch(k(f,\"IFrame scrolling \"+(F[f]&&F[f].scrolling?\"enabled\":\"disabled\")+\" for \"+f),i.style.overflow=!1===(F[f]&&F[f].scrolling)?\"hidden\":\"auto\",F[f]&&F[f].scrolling){case\"omit\":break;case!0:i.scrolling=\"yes\";break;case!1:i.scrolling=\"no\";break;default:i.scrolling=F[f]?F[f].scrolling:\"no\"}}(),function(){function e(e){1/0!==F[f][e]&&0!==F[f][e]&&(i.style[e]=F[f][e]+\"px\",k(f,\"Set \"+e+\" = \"+F[f][e]+\"px\"))}function n(e){if(F[f][\"min\"+e]>F[f][\"max\"+e])throw new Error(\"Value for min\"+e+\" can not be greater than max\"+e)}n(\"Height\"),n(\"Width\"),e(\"maxHeight\"),e(\"minHeight\"),e(\"maxWidth\"),e(\"minWidth\")}(),\"number\"!=typeof(F[f]&&F[f].bodyMargin)&&\"0\"!==(F[f]&&F[f].bodyMargin)||(F[f].bodyMarginV1=F[f].bodyMargin,F[f].bodyMargin=F[f].bodyMargin+\"px\"),r=A(f),(s=w())&&(a=s,i.parentNode&&new a(function(e){e.forEach(function(e){Array.prototype.slice.call(e.removedNodes).forEach(function(e){e===i&&E(i)})})}).observe(i.parentNode,{childList:!0})),M(i,\"load\",function(){var e,n;H(\"iFrame.onload\",r,i,u,!0),e=F[f]&&F[f].firstRun,n=F[f]&&F[f].heightCalculationMethod in g,!e&&n&&W({iframe:i,height:0,width:0,type:\"init\"})}),H(\"init\",r,i,u,!0),F[f]&&(F[f].iframe.iFrameResizer={close:E.bind(null,F[f].iframe),removeListeners:T.bind(null,F[f].iframe),resize:H.bind(null,\"Window resize\",\"resize\",F[f].iframe),moveToAnchor:function(e){H(\"Move to anchor\",\"moveToAnchor:\"+e,F[f].iframe,f)},sendMessage:function(e){H(\"Send Message\",\"message:\"+(e=JSON.stringify(e)),F[f].iframe,f)}}))}function c(e,n){null===i&&(i=setTimeout(function(){i=null,e()},n))}function f(){\"hidden\"!==document.visibilityState&&(k(\"document\",\"Trigger event: Visiblity change\"),c(function(){q(\"Tab Visable\",\"resize\")},16))}function q(i,t){Object.keys(F).forEach(function(e){var n;F[n=e]&&\"parent\"===F[n].resizeFrom&&F[n].autoResize&&!F[n].firstRun&&H(i,t,document.getElementById(e),e)})}function L(){M(window,\"message\",s),M(window,\"resize\",function(){var e;k(\"window\",\"Trigger event: \"+(e=\"resize\")),c(function(){q(\"Window \"+e,\"resize\")},16)}),M(document,\"visibilitychange\",f),M(document,\"-webkit-visibilitychange\",f)}function B(){function t(e,n){n&&(!function(){if(!n.tagName)throw new TypeError(\"Object is not a valid DOM element\");if(\"IFRAME\"!==n.tagName.toUpperCase())throw new TypeError(\"Expected <IFRAME> tag, found <\"+n.tagName+\">\")}(),d(n,e),o.push(n))}var o;return function(){var e,n=[\"moz\",\"webkit\",\"o\",\"ms\"];for(e=0;e<n.length&&!r;e+=1)r=window[n[e]+\"RequestAnimationFrame\"];r||k(\"setup\",\"RequestAnimationFrame not supported\")}(),L(),function(e,n){var i;switch(o=[],(i=e)&&i.enablePublicMethods&&O(\"enablePublicMethods option has been removed, public methods are now always available in the iFrame\"),typeof n){case\"undefined\":case\"string\":Array.prototype.forEach.call(document.querySelectorAll(n||\"iframe\"),t.bind(u,e));break;case\"object\":t(e,n);break;default:throw new TypeError(\"Unexpected data type (\"+typeof n+\")\")}return o}}}();\n//# sourceMappingURL=iframeResizer.map","'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n!function ($) {\n\n  \"use strict\";\n\n  var FOUNDATION_VERSION = '6.3.1';\n\n  // Global Foundation object\n  // This is attached to the window, or used as a module for AMD/Browserify\n  var Foundation = {\n    version: FOUNDATION_VERSION,\n\n    /**\n     * Stores initialized plugins.\n     */\n    _plugins: {},\n\n    /**\n     * Stores generated unique ids for plugin instances\n     */\n    _uuids: [],\n\n    /**\n     * Returns a boolean for RTL support\n     */\n    rtl: function rtl() {\n      return $('html').attr('dir') === 'rtl';\n    },\n    /**\n     * Defines a Foundation plugin, adding it to the `Foundation` namespace and the list of plugins to initialize when reflowing.\n     * @param {Object} plugin - The constructor of the plugin.\n     */\n    plugin: function plugin(_plugin, name) {\n      // Object key to use when adding to global Foundation object\n      // Examples: Foundation.Reveal, Foundation.OffCanvas\n      var className = name || functionName(_plugin);\n      // Object key to use when storing the plugin, also used to create the identifying data attribute for the plugin\n      // Examples: data-reveal, data-off-canvas\n      var attrName = hyphenate(className);\n\n      // Add to the Foundation object and the plugins list (for reflowing)\n      this._plugins[attrName] = this[className] = _plugin;\n    },\n    /**\n     * @function\n     * Populates the _uuids array with pointers to each individual plugin instance.\n     * Adds the `zfPlugin` data-attribute to programmatically created plugins to allow use of $(selector).foundation(method) calls.\n     * Also fires the initialization event for each plugin, consolidating repetitive code.\n     * @param {Object} plugin - an instance of a plugin, usually `this` in context.\n     * @param {String} name - the name of the plugin, passed as a camelCased string.\n     * @fires Plugin#init\n     */\n    registerPlugin: function registerPlugin(plugin, name) {\n      var pluginName = name ? hyphenate(name) : functionName(plugin.constructor).toLowerCase();\n      plugin.uuid = this.GetYoDigits(6, pluginName);\n\n      if (!plugin.$element.attr('data-' + pluginName)) {\n        plugin.$element.attr('data-' + pluginName, plugin.uuid);\n      }\n      if (!plugin.$element.data('zfPlugin')) {\n        plugin.$element.data('zfPlugin', plugin);\n      }\n      /**\n       * Fires when the plugin has initialized.\n       * @event Plugin#init\n       */\n      plugin.$element.trigger('init.zf.' + pluginName);\n\n      this._uuids.push(plugin.uuid);\n\n      return;\n    },\n    /**\n     * @function\n     * Removes the plugins uuid from the _uuids array.\n     * Removes the zfPlugin data attribute, as well as the data-plugin-name attribute.\n     * Also fires the destroyed event for the plugin, consolidating repetitive code.\n     * @param {Object} plugin - an instance of a plugin, usually `this` in context.\n     * @fires Plugin#destroyed\n     */\n    unregisterPlugin: function unregisterPlugin(plugin) {\n      var pluginName = hyphenate(functionName(plugin.$element.data('zfPlugin').constructor));\n\n      this._uuids.splice(this._uuids.indexOf(plugin.uuid), 1);\n      plugin.$element.removeAttr('data-' + pluginName).removeData('zfPlugin')\n      /**\n       * Fires when the plugin has been destroyed.\n       * @event Plugin#destroyed\n       */\n      .trigger('destroyed.zf.' + pluginName);\n      for (var prop in plugin) {\n        plugin[prop] = null; //clean up script to prep for garbage collection.\n      }\n      return;\n    },\n\n    /**\n     * @function\n     * Causes one or more active plugins to re-initialize, resetting event listeners, recalculating positions, etc.\n     * @param {String} plugins - optional string of an individual plugin key, attained by calling `$(element).data('pluginName')`, or string of a plugin class i.e. `'dropdown'`\n     * @default If no argument is passed, reflow all currently active plugins.\n     */\n    reInit: function reInit(plugins) {\n      var isJQ = plugins instanceof $;\n      try {\n        if (isJQ) {\n          plugins.each(function () {\n            $(this).data('zfPlugin')._init();\n          });\n        } else {\n          var type = typeof plugins === 'undefined' ? 'undefined' : _typeof(plugins),\n              _this = this,\n              fns = {\n            'object': function object(plgs) {\n              plgs.forEach(function (p) {\n                p = hyphenate(p);\n                $('[data-' + p + ']').foundation('_init');\n              });\n            },\n            'string': function string() {\n              plugins = hyphenate(plugins);\n              $('[data-' + plugins + ']').foundation('_init');\n            },\n            'undefined': function undefined() {\n              this['object'](Object.keys(_this._plugins));\n            }\n          };\n          fns[type](plugins);\n        }\n      } catch (err) {\n        console.error(err);\n      } finally {\n        return plugins;\n      }\n    },\n\n    /**\n     * returns a random base-36 uid with namespacing\n     * @function\n     * @param {Number} length - number of random base-36 digits desired. Increase for more random strings.\n     * @param {String} namespace - name of plugin to be incorporated in uid, optional.\n     * @default {String} '' - if no plugin name is provided, nothing is appended to the uid.\n     * @returns {String} - unique id\n     */\n    GetYoDigits: function GetYoDigits(length, namespace) {\n      length = length || 6;\n      return Math.round(Math.pow(36, length + 1) - Math.random() * Math.pow(36, length)).toString(36).slice(1) + (namespace ? '-' + namespace : '');\n    },\n    /**\n     * Initialize plugins on any elements within `elem` (and `elem` itself) that aren't already initialized.\n     * @param {Object} elem - jQuery object containing the element to check inside. Also checks the element itself, unless it's the `document` object.\n     * @param {String|Array} plugins - A list of plugins to initialize. Leave this out to initialize everything.\n     */\n    reflow: function reflow(elem, plugins) {\n\n      // If plugins is undefined, just grab everything\n      if (typeof plugins === 'undefined') {\n        plugins = Object.keys(this._plugins);\n      }\n      // If plugins is a string, convert it to an array with one item\n      else if (typeof plugins === 'string') {\n          plugins = [plugins];\n        }\n\n      var _this = this;\n\n      // Iterate through each plugin\n      $.each(plugins, function (i, name) {\n        // Get the current plugin\n        var plugin = _this._plugins[name];\n\n        // Localize the search to all elements inside elem, as well as elem itself, unless elem === document\n        var $elem = $(elem).find('[data-' + name + ']').addBack('[data-' + name + ']');\n\n        // For each plugin found, initialize it\n        $elem.each(function () {\n          var $el = $(this),\n              opts = {};\n          // Don't double-dip on plugins\n          if ($el.data('zfPlugin')) {\n            console.warn(\"Tried to initialize \" + name + \" on an element that already has a Foundation plugin.\");\n            return;\n          }\n\n          if ($el.attr('data-options')) {\n            var thing = $el.attr('data-options').split(';').forEach(function (e, i) {\n              var opt = e.split(':').map(function (el) {\n                return el.trim();\n              });\n              if (opt[0]) opts[opt[0]] = parseValue(opt[1]);\n            });\n          }\n          try {\n            $el.data('zfPlugin', new plugin($(this), opts));\n          } catch (er) {\n            console.error(er);\n          } finally {\n            return;\n          }\n        });\n      });\n    },\n    getFnName: functionName,\n    transitionend: function transitionend($elem) {\n      var transitions = {\n        'transition': 'transitionend',\n        'WebkitTransition': 'webkitTransitionEnd',\n        'MozTransition': 'transitionend',\n        'OTransition': 'otransitionend'\n      };\n      var elem = document.createElement('div'),\n          end;\n\n      for (var t in transitions) {\n        if (typeof elem.style[t] !== 'undefined') {\n          end = transitions[t];\n        }\n      }\n      if (end) {\n        return end;\n      } else {\n        end = setTimeout(function () {\n          $elem.triggerHandler('transitionend', [$elem]);\n        }, 1);\n        return 'transitionend';\n      }\n    }\n  };\n\n  Foundation.util = {\n    /**\n     * Function for applying a debounce effect to a function call.\n     * @function\n     * @param {Function} func - Function to be called at end of timeout.\n     * @param {Number} delay - Time in ms to delay the call of `func`.\n     * @returns function\n     */\n    throttle: function throttle(func, delay) {\n      var timer = null;\n\n      return function () {\n        var context = this,\n            args = arguments;\n\n        if (timer === null) {\n          timer = setTimeout(function () {\n            func.apply(context, args);\n            timer = null;\n          }, delay);\n        }\n      };\n    }\n  };\n\n  // TODO: consider not making this a jQuery function\n  // TODO: need way to reflow vs. re-initialize\n  /**\n   * The Foundation jQuery method.\n   * @param {String|Array} method - An action to perform on the current jQuery object.\n   */\n  var foundation = function foundation(method) {\n    var type = typeof method === 'undefined' ? 'undefined' : _typeof(method),\n        $meta = $('meta.foundation-mq'),\n        $noJS = $('.no-js');\n\n    if (!$meta.length) {\n      $('<meta class=\"foundation-mq\">').appendTo(document.head);\n    }\n    if ($noJS.length) {\n      $noJS.removeClass('no-js');\n    }\n\n    if (type === 'undefined') {\n      //needs to initialize the Foundation object, or an individual plugin.\n      Foundation.MediaQuery._init();\n      Foundation.reflow(this);\n    } else if (type === 'string') {\n      //an individual method to invoke on a plugin or group of plugins\n      var args = Array.prototype.slice.call(arguments, 1); //collect all the arguments, if necessary\n      var plugClass = this.data('zfPlugin'); //determine the class of plugin\n\n      if (plugClass !== undefined && plugClass[method] !== undefined) {\n        //make sure both the class and method exist\n        if (this.length === 1) {\n          //if there's only one, call it directly.\n          plugClass[method].apply(plugClass, args);\n        } else {\n          this.each(function (i, el) {\n            //otherwise loop through the jQuery collection and invoke the method on each\n            plugClass[method].apply($(el).data('zfPlugin'), args);\n          });\n        }\n      } else {\n        //error for no class or no method\n        throw new ReferenceError(\"We're sorry, '\" + method + \"' is not an available method for \" + (plugClass ? functionName(plugClass) : 'this element') + '.');\n      }\n    } else {\n      //error for invalid argument type\n      throw new TypeError('We\\'re sorry, ' + type + ' is not a valid parameter. You must use a string representing the method you wish to invoke.');\n    }\n    return this;\n  };\n\n  window.Foundation = Foundation;\n  $.fn.foundation = foundation;\n\n  // Polyfill for requestAnimationFrame\n  (function () {\n    if (!Date.now || !window.Date.now) window.Date.now = Date.now = function () {\n      return new Date().getTime();\n    };\n\n    var vendors = ['webkit', 'moz'];\n    for (var i = 0; i < vendors.length && !window.requestAnimationFrame; ++i) {\n      var vp = vendors[i];\n      window.requestAnimationFrame = window[vp + 'RequestAnimationFrame'];\n      window.cancelAnimationFrame = window[vp + 'CancelAnimationFrame'] || window[vp + 'CancelRequestAnimationFrame'];\n    }\n    if (/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent) || !window.requestAnimationFrame || !window.cancelAnimationFrame) {\n      var lastTime = 0;\n      window.requestAnimationFrame = function (callback) {\n        var now = Date.now();\n        var nextTime = Math.max(lastTime + 16, now);\n        return setTimeout(function () {\n          callback(lastTime = nextTime);\n        }, nextTime - now);\n      };\n      window.cancelAnimationFrame = clearTimeout;\n    }\n    /**\n     * Polyfill for performance.now, required by rAF\n     */\n    if (!window.performance || !window.performance.now) {\n      window.performance = {\n        start: Date.now(),\n        now: function now() {\n          return Date.now() - this.start;\n        }\n      };\n    }\n  })();\n  if (!Function.prototype.bind) {\n    Function.prototype.bind = function (oThis) {\n      if (typeof this !== 'function') {\n        // closest thing possible to the ECMAScript 5\n        // internal IsCallable function\n        throw new TypeError('Function.prototype.bind - what is trying to be bound is not callable');\n      }\n\n      var aArgs = Array.prototype.slice.call(arguments, 1),\n          fToBind = this,\n          fNOP = function fNOP() {},\n          fBound = function fBound() {\n        return fToBind.apply(this instanceof fNOP ? this : oThis, aArgs.concat(Array.prototype.slice.call(arguments)));\n      };\n\n      if (this.prototype) {\n        // native functions don't have a prototype\n        fNOP.prototype = this.prototype;\n      }\n      fBound.prototype = new fNOP();\n\n      return fBound;\n    };\n  }\n  // Polyfill to get the name of a function in IE9\n  function functionName(fn) {\n    if (Function.prototype.name === undefined) {\n      var funcNameRegex = /function\\s([^(]{1,})\\(/;\n      var results = funcNameRegex.exec(fn.toString());\n      return results && results.length > 1 ? results[1].trim() : \"\";\n    } else if (fn.prototype === undefined) {\n      return fn.constructor.name;\n    } else {\n      return fn.prototype.constructor.name;\n    }\n  }\n  function parseValue(str) {\n    if ('true' === str) return true;else if ('false' === str) return false;else if (!isNaN(str * 1)) return parseFloat(str);\n    return str;\n  }\n  // Convert PascalCase to kebab-case\n  // Thank you: http://stackoverflow.com/a/8955580\n  function hyphenate(str) {\n    return str.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n  }\n}(jQuery);\n'use strict';\n\n!function ($) {\n\n  Foundation.Box = {\n    ImNotTouchingYou: ImNotTouchingYou,\n    GetDimensions: GetDimensions,\n    GetOffsets: GetOffsets\n\n    /**\n     * Compares the dimensions of an element to a container and determines collision events with container.\n     * @function\n     * @param {jQuery} element - jQuery object to test for collisions.\n     * @param {jQuery} parent - jQuery object to use as bounding container.\n     * @param {Boolean} lrOnly - set to true to check left and right values only.\n     * @param {Boolean} tbOnly - set to true to check top and bottom values only.\n     * @default if no parent object passed, detects collisions with `window`.\n     * @returns {Boolean} - true if collision free, false if a collision in any direction.\n     */\n  };function ImNotTouchingYou(element, parent, lrOnly, tbOnly) {\n    var eleDims = GetDimensions(element),\n        top,\n        bottom,\n        left,\n        right;\n\n    if (parent) {\n      var parDims = GetDimensions(parent);\n\n      bottom = eleDims.offset.top + eleDims.height <= parDims.height + parDims.offset.top;\n      top = eleDims.offset.top >= parDims.offset.top;\n      left = eleDims.offset.left >= parDims.offset.left;\n      right = eleDims.offset.left + eleDims.width <= parDims.width + parDims.offset.left;\n    } else {\n      bottom = eleDims.offset.top + eleDims.height <= eleDims.windowDims.height + eleDims.windowDims.offset.top;\n      top = eleDims.offset.top >= eleDims.windowDims.offset.top;\n      left = eleDims.offset.left >= eleDims.windowDims.offset.left;\n      right = eleDims.offset.left + eleDims.width <= eleDims.windowDims.width;\n    }\n\n    var allDirs = [bottom, top, left, right];\n\n    if (lrOnly) {\n      return left === right === true;\n    }\n\n    if (tbOnly) {\n      return top === bottom === true;\n    }\n\n    return allDirs.indexOf(false) === -1;\n  };\n\n  /**\n   * Uses native methods to return an object of dimension values.\n   * @function\n   * @param {jQuery || HTML} element - jQuery object or DOM element for which to get the dimensions. Can be any element other that document or window.\n   * @returns {Object} - nested object of integer pixel values\n   * TODO - if element is window, return only those values.\n   */\n  function GetDimensions(elem, test) {\n    elem = elem.length ? elem[0] : elem;\n\n    if (elem === window || elem === document) {\n      throw new Error(\"I'm sorry, Dave. I'm afraid I can't do that.\");\n    }\n\n    var rect = elem.getBoundingClientRect(),\n        parRect = elem.parentNode.getBoundingClientRect(),\n        winRect = document.body.getBoundingClientRect(),\n        winY = window.pageYOffset,\n        winX = window.pageXOffset;\n\n    return {\n      width: rect.width,\n      height: rect.height,\n      offset: {\n        top: rect.top + winY,\n        left: rect.left + winX\n      },\n      parentDims: {\n        width: parRect.width,\n        height: parRect.height,\n        offset: {\n          top: parRect.top + winY,\n          left: parRect.left + winX\n        }\n      },\n      windowDims: {\n        width: winRect.width,\n        height: winRect.height,\n        offset: {\n          top: winY,\n          left: winX\n        }\n      }\n    };\n  }\n\n  /**\n   * Returns an object of top and left integer pixel values for dynamically rendered elements,\n   * such as: Tooltip, Reveal, and Dropdown\n   * @function\n   * @param {jQuery} element - jQuery object for the element being positioned.\n   * @param {jQuery} anchor - jQuery object for the element's anchor point.\n   * @param {String} position - a string relating to the desired position of the element, relative to it's anchor\n   * @param {Number} vOffset - integer pixel value of desired vertical separation between anchor and element.\n   * @param {Number} hOffset - integer pixel value of desired horizontal separation between anchor and element.\n   * @param {Boolean} isOverflow - if a collision event is detected, sets to true to default the element to full width - any desired offset.\n   * TODO alter/rewrite to work with `em` values as well/instead of pixels\n   */\n  function GetOffsets(element, anchor, position, vOffset, hOffset, isOverflow) {\n    var $eleDims = GetDimensions(element),\n        $anchorDims = anchor ? GetDimensions(anchor) : null;\n\n    switch (position) {\n      case 'top':\n        return {\n          left: Foundation.rtl() ? $anchorDims.offset.left - $eleDims.width + $anchorDims.width : $anchorDims.offset.left,\n          top: $anchorDims.offset.top - ($eleDims.height + vOffset)\n        };\n        break;\n      case 'left':\n        return {\n          left: $anchorDims.offset.left - ($eleDims.width + hOffset),\n          top: $anchorDims.offset.top\n        };\n        break;\n      case 'right':\n        return {\n          left: $anchorDims.offset.left + $anchorDims.width + hOffset,\n          top: $anchorDims.offset.top\n        };\n        break;\n      case 'center top':\n        return {\n          left: $anchorDims.offset.left + $anchorDims.width / 2 - $eleDims.width / 2,\n          top: $anchorDims.offset.top - ($eleDims.height + vOffset)\n        };\n        break;\n      case 'center bottom':\n        return {\n          left: isOverflow ? hOffset : $anchorDims.offset.left + $anchorDims.width / 2 - $eleDims.width / 2,\n          top: $anchorDims.offset.top + $anchorDims.height + vOffset\n        };\n        break;\n      case 'center left':\n        return {\n          left: $anchorDims.offset.left - ($eleDims.width + hOffset),\n          top: $anchorDims.offset.top + $anchorDims.height / 2 - $eleDims.height / 2\n        };\n        break;\n      case 'center right':\n        return {\n          left: $anchorDims.offset.left + $anchorDims.width + hOffset + 1,\n          top: $anchorDims.offset.top + $anchorDims.height / 2 - $eleDims.height / 2\n        };\n        break;\n      case 'center':\n        return {\n          left: $eleDims.windowDims.offset.left + $eleDims.windowDims.width / 2 - $eleDims.width / 2,\n          top: $eleDims.windowDims.offset.top + $eleDims.windowDims.height / 2 - $eleDims.height / 2\n        };\n        break;\n      case 'reveal':\n        return {\n          left: ($eleDims.windowDims.width - $eleDims.width) / 2,\n          top: $eleDims.windowDims.offset.top + vOffset\n        };\n      case 'reveal full':\n        return {\n          left: $eleDims.windowDims.offset.left,\n          top: $eleDims.windowDims.offset.top\n        };\n        break;\n      case 'left bottom':\n        return {\n          left: $anchorDims.offset.left,\n          top: $anchorDims.offset.top + $anchorDims.height + vOffset\n        };\n        break;\n      case 'right bottom':\n        return {\n          left: $anchorDims.offset.left + $anchorDims.width + hOffset - $eleDims.width,\n          top: $anchorDims.offset.top + $anchorDims.height + vOffset\n        };\n        break;\n      default:\n        return {\n          left: Foundation.rtl() ? $anchorDims.offset.left - $eleDims.width + $anchorDims.width : $anchorDims.offset.left + hOffset,\n          top: $anchorDims.offset.top + $anchorDims.height + vOffset\n        };\n    }\n  }\n}(jQuery);\n/*******************************************\n *                                         *\n * This util was created by Marius Olbertz *\n * Please thank Marius on GitHub /owlbertz *\n * or the web http://www.mariusolbertz.de/ *\n *                                         *\n ******************************************/\n\n'use strict';\n\n!function ($) {\n\n  var keyCodes = {\n    9: 'TAB',\n    13: 'ENTER',\n    27: 'ESCAPE',\n    32: 'SPACE',\n    37: 'ARROW_LEFT',\n    38: 'ARROW_UP',\n    39: 'ARROW_RIGHT',\n    40: 'ARROW_DOWN'\n  };\n\n  var commands = {};\n\n  var Keyboard = {\n    keys: getKeyCodes(keyCodes),\n\n    /**\n     * Parses the (keyboard) event and returns a String that represents its key\n     * Can be used like Foundation.parseKey(event) === Foundation.keys.SPACE\n     * @param {Event} event - the event generated by the event handler\n     * @return String key - String that represents the key pressed\n     */\n    parseKey: function parseKey(event) {\n      var key = keyCodes[event.which || event.keyCode] || String.fromCharCode(event.which).toUpperCase();\n\n      // Remove un-printable characters, e.g. for `fromCharCode` calls for CTRL only events\n      key = key.replace(/\\W+/, '');\n\n      if (event.shiftKey) key = 'SHIFT_' + key;\n      if (event.ctrlKey) key = 'CTRL_' + key;\n      if (event.altKey) key = 'ALT_' + key;\n\n      // Remove trailing underscore, in case only modifiers were used (e.g. only `CTRL_ALT`)\n      key = key.replace(/_$/, '');\n\n      return key;\n    },\n\n\n    /**\n     * Handles the given (keyboard) event\n     * @param {Event} event - the event generated by the event handler\n     * @param {String} component - Foundation component's name, e.g. Slider or Reveal\n     * @param {Objects} functions - collection of functions that are to be executed\n     */\n    handleKey: function handleKey(event, component, functions) {\n      var commandList = commands[component],\n          keyCode = this.parseKey(event),\n          cmds,\n          command,\n          fn;\n\n      if (!commandList) return console.warn('Component not defined!');\n\n      if (typeof commandList.ltr === 'undefined') {\n        // this component does not differentiate between ltr and rtl\n        cmds = commandList; // use plain list\n      } else {\n        // merge ltr and rtl: if document is rtl, rtl overwrites ltr and vice versa\n        if (Foundation.rtl()) cmds = $.extend({}, commandList.ltr, commandList.rtl);else cmds = $.extend({}, commandList.rtl, commandList.ltr);\n      }\n      command = cmds[keyCode];\n\n      fn = functions[command];\n      if (fn && typeof fn === 'function') {\n        // execute function  if exists\n        var returnValue = fn.apply();\n        if (functions.handled || typeof functions.handled === 'function') {\n          // execute function when event was handled\n          functions.handled(returnValue);\n        }\n      } else {\n        if (functions.unhandled || typeof functions.unhandled === 'function') {\n          // execute function when event was not handled\n          functions.unhandled();\n        }\n      }\n    },\n\n\n    /**\n     * Finds all focusable elements within the given `$element`\n     * @param {jQuery} $element - jQuery object to search within\n     * @return {jQuery} $focusable - all focusable elements within `$element`\n     */\n    findFocusable: function findFocusable($element) {\n      if (!$element) {\n        return false;\n      }\n      return $element.find('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]').filter(function () {\n        if (!$(this).is(':visible') || $(this).attr('tabindex') < 0) {\n          return false;\n        } //only have visible elements and those that have a tabindex greater or equal 0\n        return true;\n      });\n    },\n\n\n    /**\n     * Returns the component name name\n     * @param {Object} component - Foundation component, e.g. Slider or Reveal\n     * @return String componentName\n     */\n\n    register: function register(componentName, cmds) {\n      commands[componentName] = cmds;\n    },\n\n\n    /**\n     * Traps the focus in the given element.\n     * @param  {jQuery} $element  jQuery object to trap the foucs into.\n     */\n    trapFocus: function trapFocus($element) {\n      var $focusable = Foundation.Keyboard.findFocusable($element),\n          $firstFocusable = $focusable.eq(0),\n          $lastFocusable = $focusable.eq(-1);\n\n      $element.on('keydown.zf.trapfocus', function (event) {\n        if (event.target === $lastFocusable[0] && Foundation.Keyboard.parseKey(event) === 'TAB') {\n          event.preventDefault();\n          $firstFocusable.focus();\n        } else if (event.target === $firstFocusable[0] && Foundation.Keyboard.parseKey(event) === 'SHIFT_TAB') {\n          event.preventDefault();\n          $lastFocusable.focus();\n        }\n      });\n    },\n\n    /**\n     * Releases the trapped focus from the given element.\n     * @param  {jQuery} $element  jQuery object to release the focus for.\n     */\n    releaseFocus: function releaseFocus($element) {\n      $element.off('keydown.zf.trapfocus');\n    }\n  };\n\n  /*\n   * Constants for easier comparing.\n   * Can be used like Foundation.parseKey(event) === Foundation.keys.SPACE\n   */\n  function getKeyCodes(kcs) {\n    var k = {};\n    for (var kc in kcs) {\n      k[kcs[kc]] = kcs[kc];\n    }return k;\n  }\n\n  Foundation.Keyboard = Keyboard;\n}(jQuery);\n'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n!function ($) {\n\n  // Default set of media queries\n  var defaultQueries = {\n    'default': 'only screen',\n    landscape: 'only screen and (orientation: landscape)',\n    portrait: 'only screen and (orientation: portrait)',\n    retina: 'only screen and (-webkit-min-device-pixel-ratio: 2),' + 'only screen and (min--moz-device-pixel-ratio: 2),' + 'only screen and (-o-min-device-pixel-ratio: 2/1),' + 'only screen and (min-device-pixel-ratio: 2),' + 'only screen and (min-resolution: 192dpi),' + 'only screen and (min-resolution: 2dppx)'\n  };\n\n  var MediaQuery = {\n    queries: [],\n\n    current: '',\n\n    /**\n     * Initializes the media query helper, by extracting the breakpoint list from the CSS and activating the breakpoint watcher.\n     * @function\n     * @private\n     */\n    _init: function _init() {\n      var self = this;\n      var extractedStyles = $('.foundation-mq').css('font-family');\n      var namedQueries;\n\n      namedQueries = parseStyleToObject(extractedStyles);\n\n      for (var key in namedQueries) {\n        if (namedQueries.hasOwnProperty(key)) {\n          self.queries.push({\n            name: key,\n            value: 'only screen and (min-width: ' + namedQueries[key] + ')'\n          });\n        }\n      }\n\n      this.current = this._getCurrentSize();\n\n      this._watcher();\n    },\n\n\n    /**\n     * Checks if the screen is at least as wide as a breakpoint.\n     * @function\n     * @param {String} size - Name of the breakpoint to check.\n     * @returns {Boolean} `true` if the breakpoint matches, `false` if it's smaller.\n     */\n    atLeast: function atLeast(size) {\n      var query = this.get(size);\n\n      if (query) {\n        return window.matchMedia(query).matches;\n      }\n\n      return false;\n    },\n\n\n    /**\n     * Checks if the screen matches to a breakpoint.\n     * @function\n     * @param {String} size - Name of the breakpoint to check, either 'small only' or 'small'. Omitting 'only' falls back to using atLeast() method.\n     * @returns {Boolean} `true` if the breakpoint matches, `false` if it does not.\n     */\n    is: function is(size) {\n      size = size.trim().split(' ');\n      if (size.length > 1 && size[1] === 'only') {\n        if (size[0] === this._getCurrentSize()) return true;\n      } else {\n        return this.atLeast(size[0]);\n      }\n      return false;\n    },\n\n\n    /**\n     * Gets the media query of a breakpoint.\n     * @function\n     * @param {String} size - Name of the breakpoint to get.\n     * @returns {String|null} - The media query of the breakpoint, or `null` if the breakpoint doesn't exist.\n     */\n    get: function get(size) {\n      for (var i in this.queries) {\n        if (this.queries.hasOwnProperty(i)) {\n          var query = this.queries[i];\n          if (size === query.name) return query.value;\n        }\n      }\n\n      return null;\n    },\n\n\n    /**\n     * Gets the current breakpoint name by testing every breakpoint and returning the last one to match (the biggest one).\n     * @function\n     * @private\n     * @returns {String} Name of the current breakpoint.\n     */\n    _getCurrentSize: function _getCurrentSize() {\n      var matched;\n\n      for (var i = 0; i < this.queries.length; i++) {\n        var query = this.queries[i];\n\n        if (window.matchMedia(query.value).matches) {\n          matched = query;\n        }\n      }\n\n      if ((typeof matched === 'undefined' ? 'undefined' : _typeof(matched)) === 'object') {\n        return matched.name;\n      } else {\n        return matched;\n      }\n    },\n\n\n    /**\n     * Activates the breakpoint watcher, which fires an event on the window whenever the breakpoint changes.\n     * @function\n     * @private\n     */\n    _watcher: function _watcher() {\n      var _this = this;\n\n      $(window).on('resize.zf.mediaquery', function () {\n        var newSize = _this._getCurrentSize(),\n            currentSize = _this.current;\n\n        if (newSize !== currentSize) {\n          // Change the current media query\n          _this.current = newSize;\n\n          // Broadcast the media query change on the window\n          $(window).trigger('changed.zf.mediaquery', [newSize, currentSize]);\n        }\n      });\n    }\n  };\n\n  Foundation.MediaQuery = MediaQuery;\n\n  // matchMedia() polyfill - Test a CSS media type/query in JS.\n  // Authors & copyright (c) 2012: Scott Jehl, Paul Irish, Nicholas Zakas, David Knight. Dual MIT/BSD license\n  window.matchMedia || (window.matchMedia = function () {\n    'use strict';\n\n    // For browsers that support matchMedium api such as IE 9 and webkit\n\n    var styleMedia = window.styleMedia || window.media;\n\n    // For those that don't support matchMedium\n    if (!styleMedia) {\n      var style = document.createElement('style'),\n          script = document.getElementsByTagName('script')[0],\n          info = null;\n\n      style.type = 'text/css';\n      style.id = 'matchmediajs-test';\n\n      script && script.parentNode && script.parentNode.insertBefore(style, script);\n\n      // 'style.currentStyle' is used by IE <= 8 and 'window.getComputedStyle' for all other browsers\n      info = 'getComputedStyle' in window && window.getComputedStyle(style, null) || style.currentStyle;\n\n      styleMedia = {\n        matchMedium: function matchMedium(media) {\n          var text = '@media ' + media + '{ #matchmediajs-test { width: 1px; } }';\n\n          // 'style.styleSheet' is used by IE <= 8 and 'style.textContent' for all other browsers\n          if (style.styleSheet) {\n            style.styleSheet.cssText = text;\n          } else {\n            style.textContent = text;\n          }\n\n          // Test if media query is true or false\n          return info.width === '1px';\n        }\n      };\n    }\n\n    return function (media) {\n      return {\n        matches: styleMedia.matchMedium(media || 'all'),\n        media: media || 'all'\n      };\n    };\n  }());\n\n  // Thank you: https://github.com/sindresorhus/query-string\n  function parseStyleToObject(str) {\n    var styleObject = {};\n\n    if (typeof str !== 'string') {\n      return styleObject;\n    }\n\n    str = str.trim().slice(1, -1); // browsers re-quote string style values\n\n    if (!str) {\n      return styleObject;\n    }\n\n    styleObject = str.split('&').reduce(function (ret, param) {\n      var parts = param.replace(/\\+/g, ' ').split('=');\n      var key = parts[0];\n      var val = parts[1];\n      key = decodeURIComponent(key);\n\n      // missing `=` should be `null`:\n      // http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n      val = val === undefined ? null : decodeURIComponent(val);\n\n      if (!ret.hasOwnProperty(key)) {\n        ret[key] = val;\n      } else if (Array.isArray(ret[key])) {\n        ret[key].push(val);\n      } else {\n        ret[key] = [ret[key], val];\n      }\n      return ret;\n    }, {});\n\n    return styleObject;\n  }\n\n  Foundation.MediaQuery = MediaQuery;\n}(jQuery);\n'use strict';\n\n!function ($) {\n\n  /**\n   * Motion module.\n   * @module foundation.motion\n   */\n\n  var initClasses = ['mui-enter', 'mui-leave'];\n  var activeClasses = ['mui-enter-active', 'mui-leave-active'];\n\n  var Motion = {\n    animateIn: function animateIn(element, animation, cb) {\n      animate(true, element, animation, cb);\n    },\n\n    animateOut: function animateOut(element, animation, cb) {\n      animate(false, element, animation, cb);\n    }\n  };\n\n  function Move(duration, elem, fn) {\n    var anim,\n        prog,\n        start = null;\n    // console.log('called');\n\n    if (duration === 0) {\n      fn.apply(elem);\n      elem.trigger('finished.zf.animate', [elem]).triggerHandler('finished.zf.animate', [elem]);\n      return;\n    }\n\n    function move(ts) {\n      if (!start) start = ts;\n      // console.log(start, ts);\n      prog = ts - start;\n      fn.apply(elem);\n\n      if (prog < duration) {\n        anim = window.requestAnimationFrame(move, elem);\n      } else {\n        window.cancelAnimationFrame(anim);\n        elem.trigger('finished.zf.animate', [elem]).triggerHandler('finished.zf.animate', [elem]);\n      }\n    }\n    anim = window.requestAnimationFrame(move);\n  }\n\n  /**\n   * Animates an element in or out using a CSS transition class.\n   * @function\n   * @private\n   * @param {Boolean} isIn - Defines if the animation is in or out.\n   * @param {Object} element - jQuery or HTML object to animate.\n   * @param {String} animation - CSS class to use.\n   * @param {Function} cb - Callback to run when animation is finished.\n   */\n  function animate(isIn, element, animation, cb) {\n    element = $(element).eq(0);\n\n    if (!element.length) return;\n\n    var initClass = isIn ? initClasses[0] : initClasses[1];\n    var activeClass = isIn ? activeClasses[0] : activeClasses[1];\n\n    // Set up the animation\n    reset();\n\n    element.addClass(animation).css('transition', 'none');\n\n    requestAnimationFrame(function () {\n      element.addClass(initClass);\n      if (isIn) element.show();\n    });\n\n    // Start the animation\n    requestAnimationFrame(function () {\n      element[0].offsetWidth;\n      element.css('transition', '').addClass(activeClass);\n    });\n\n    // Clean up the animation when it finishes\n    element.one(Foundation.transitionend(element), finish);\n\n    // Hides the element (for out animations), resets the element, and runs a callback\n    function finish() {\n      if (!isIn) element.hide();\n      reset();\n      if (cb) cb.apply(element);\n    }\n\n    // Resets transitions and removes motion-specific classes\n    function reset() {\n      element[0].style.transitionDuration = 0;\n      element.removeClass(initClass + ' ' + activeClass + ' ' + animation);\n    }\n  }\n\n  Foundation.Move = Move;\n  Foundation.Motion = Motion;\n}(jQuery);\n'use strict';\n\n!function ($) {\n\n  var Nest = {\n    Feather: function Feather(menu) {\n      var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'zf';\n\n      menu.attr('role', 'menubar');\n\n      var items = menu.find('li').attr({ 'role': 'menuitem' }),\n          subMenuClass = 'is-' + type + '-submenu',\n          subItemClass = subMenuClass + '-item',\n          hasSubClass = 'is-' + type + '-submenu-parent';\n\n      items.each(function () {\n        var $item = $(this),\n            $sub = $item.children('ul');\n\n        if ($sub.length) {\n          $item.addClass(hasSubClass).attr({\n            'aria-haspopup': true,\n            'aria-label': $item.children('a:first').text()\n          });\n          // Note:  Drilldowns behave differently in how they hide, and so need\n          // additional attributes.  We should look if this possibly over-generalized\n          // utility (Nest) is appropriate when we rework menus in 6.4\n          if (type === 'drilldown') {\n            $item.attr({ 'aria-expanded': false });\n          }\n\n          $sub.addClass('submenu ' + subMenuClass).attr({\n            'data-submenu': '',\n            'role': 'menu'\n          });\n          if (type === 'drilldown') {\n            $sub.attr({ 'aria-hidden': true });\n          }\n        }\n\n        if ($item.parent('[data-submenu]').length) {\n          $item.addClass('is-submenu-item ' + subItemClass);\n        }\n      });\n\n      return;\n    },\n    Burn: function Burn(menu, type) {\n      var //items = menu.find('li'),\n      subMenuClass = 'is-' + type + '-submenu',\n          subItemClass = subMenuClass + '-item',\n          hasSubClass = 'is-' + type + '-submenu-parent';\n\n      menu.find('>li, .menu, .menu > li').removeClass(subMenuClass + ' ' + subItemClass + ' ' + hasSubClass + ' is-submenu-item submenu is-active').removeAttr('data-submenu').css('display', '');\n\n      // console.log(      menu.find('.' + subMenuClass + ', .' + subItemClass + ', .has-submenu, .is-submenu-item, .submenu, [data-submenu]')\n      //           .removeClass(subMenuClass + ' ' + subItemClass + ' has-submenu is-submenu-item submenu')\n      //           .removeAttr('data-submenu'));\n      // items.each(function(){\n      //   var $item = $(this),\n      //       $sub = $item.children('ul');\n      //   if($item.parent('[data-submenu]').length){\n      //     $item.removeClass('is-submenu-item ' + subItemClass);\n      //   }\n      //   if($sub.length){\n      //     $item.removeClass('has-submenu');\n      //     $sub.removeClass('submenu ' + subMenuClass).removeAttr('data-submenu');\n      //   }\n      // });\n    }\n  };\n\n  Foundation.Nest = Nest;\n}(jQuery);\n'use strict';\n\n!function ($) {\n\n  function Timer(elem, options, cb) {\n    var _this = this,\n        duration = options.duration,\n        //options is an object for easily adding features later.\n    nameSpace = Object.keys(elem.data())[0] || 'timer',\n        remain = -1,\n        start,\n        timer;\n\n    this.isPaused = false;\n\n    this.restart = function () {\n      remain = -1;\n      clearTimeout(timer);\n      this.start();\n    };\n\n    this.start = function () {\n      this.isPaused = false;\n      // if(!elem.data('paused')){ return false; }//maybe implement this sanity check if used for other things.\n      clearTimeout(timer);\n      remain = remain <= 0 ? duration : remain;\n      elem.data('paused', false);\n      start = Date.now();\n      timer = setTimeout(function () {\n        if (options.infinite) {\n          _this.restart(); //rerun the timer.\n        }\n        if (cb && typeof cb === 'function') {\n          cb();\n        }\n      }, remain);\n      elem.trigger('timerstart.zf.' + nameSpace);\n    };\n\n    this.pause = function () {\n      this.isPaused = true;\n      //if(elem.data('paused')){ return false; }//maybe implement this sanity check if used for other things.\n      clearTimeout(timer);\n      elem.data('paused', true);\n      var end = Date.now();\n      remain = remain - (end - start);\n      elem.trigger('timerpaused.zf.' + nameSpace);\n    };\n  }\n\n  /**\n   * Runs a callback function when images are fully loaded.\n   * @param {Object} images - Image(s) to check if loaded.\n   * @param {Func} callback - Function to execute when image is fully loaded.\n   */\n  function onImagesLoaded(images, callback) {\n    var self = this,\n        unloaded = images.length;\n\n    if (unloaded === 0) {\n      callback();\n    }\n\n    images.each(function () {\n      // Check if image is loaded\n      if (this.complete || this.readyState === 4 || this.readyState === 'complete') {\n        singleImageLoaded();\n      }\n      // Force load the image\n      else {\n          // fix for IE. See https://css-tricks.com/snippets/jquery/fixing-load-in-ie-for-cached-images/\n          var src = $(this).attr('src');\n          $(this).attr('src', src + (src.indexOf('?') >= 0 ? '&' : '?') + new Date().getTime());\n          $(this).one('load', function () {\n            singleImageLoaded();\n          });\n        }\n    });\n\n    function singleImageLoaded() {\n      unloaded--;\n      if (unloaded === 0) {\n        callback();\n      }\n    }\n  }\n\n  Foundation.Timer = Timer;\n  Foundation.onImagesLoaded = onImagesLoaded;\n}(jQuery);\n'use strict';\n\n//**************************************************\n//**Work inspired by multiple jquery swipe plugins**\n//**Done by Yohai Ararat ***************************\n//**************************************************\n(function ($) {\n\n\t$.spotSwipe = {\n\t\tversion: '1.0.0',\n\t\tenabled: 'ontouchstart' in document.documentElement,\n\t\tpreventDefault: false,\n\t\tmoveThreshold: 75,\n\t\ttimeThreshold: 200\n\t};\n\n\tvar startPosX,\n\t    startPosY,\n\t    startTime,\n\t    elapsedTime,\n\t    isMoving = false;\n\n\tfunction onTouchEnd() {\n\t\t//  alert(this);\n\t\tthis.removeEventListener('touchmove', onTouchMove);\n\t\tthis.removeEventListener('touchend', onTouchEnd);\n\t\tisMoving = false;\n\t}\n\n\tfunction onTouchMove(e) {\n\t\tif ($.spotSwipe.preventDefault) {\n\t\t\te.preventDefault();\n\t\t}\n\t\tif (isMoving) {\n\t\t\tvar x = e.touches[0].pageX;\n\t\t\tvar y = e.touches[0].pageY;\n\t\t\tvar dx = startPosX - x;\n\t\t\tvar dy = startPosY - y;\n\t\t\tvar dir;\n\t\t\telapsedTime = new Date().getTime() - startTime;\n\t\t\tif (Math.abs(dx) >= $.spotSwipe.moveThreshold && elapsedTime <= $.spotSwipe.timeThreshold) {\n\t\t\t\tdir = dx > 0 ? 'left' : 'right';\n\t\t\t}\n\t\t\t// else if(Math.abs(dy) >= $.spotSwipe.moveThreshold && elapsedTime <= $.spotSwipe.timeThreshold) {\n\t\t\t//   dir = dy > 0 ? 'down' : 'up';\n\t\t\t// }\n\t\t\tif (dir) {\n\t\t\t\te.preventDefault();\n\t\t\t\tonTouchEnd.call(this);\n\t\t\t\t$(this).trigger('swipe', dir).trigger('swipe' + dir);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction onTouchStart(e) {\n\t\tif (e.touches.length == 1) {\n\t\t\tstartPosX = e.touches[0].pageX;\n\t\t\tstartPosY = e.touches[0].pageY;\n\t\t\tisMoving = true;\n\t\t\tstartTime = new Date().getTime();\n\t\t\tthis.addEventListener('touchmove', onTouchMove, false);\n\t\t\tthis.addEventListener('touchend', onTouchEnd, false);\n\t\t}\n\t}\n\n\tfunction init() {\n\t\tthis.addEventListener && this.addEventListener('touchstart', onTouchStart, false);\n\t}\n\n\tfunction teardown() {\n\t\tthis.removeEventListener('touchstart', onTouchStart);\n\t}\n\n\t$.event.special.swipe = { setup: init };\n\n\t$.each(['left', 'up', 'down', 'right'], function () {\n\t\t$.event.special['swipe' + this] = { setup: function setup() {\n\t\t\t\t$(this).on('swipe', $.noop);\n\t\t\t} };\n\t});\n})(jQuery);\n/****************************************************\n * Method for adding psuedo drag events to elements *\n ***************************************************/\n!function ($) {\n\t$.fn.addTouch = function () {\n\t\tthis.each(function (i, el) {\n\t\t\t$(el).bind('touchstart touchmove touchend touchcancel', function () {\n\t\t\t\t//we pass the original event object because the jQuery event\n\t\t\t\t//object is normalized to w3c specs and does not provide the TouchList\n\t\t\t\thandleTouch(event);\n\t\t\t});\n\t\t});\n\n\t\tvar handleTouch = function handleTouch(event) {\n\t\t\tvar touches = event.changedTouches,\n\t\t\t    first = touches[0],\n\t\t\t    eventTypes = {\n\t\t\t\ttouchstart: 'mousedown',\n\t\t\t\ttouchmove: 'mousemove',\n\t\t\t\ttouchend: 'mouseup'\n\t\t\t},\n\t\t\t    type = eventTypes[event.type],\n\t\t\t    simulatedEvent;\n\n\t\t\tif ('MouseEvent' in window && typeof window.MouseEvent === 'function') {\n\t\t\t\tsimulatedEvent = new window.MouseEvent(type, {\n\t\t\t\t\t'bubbles': true,\n\t\t\t\t\t'cancelable': true,\n\t\t\t\t\t'screenX': first.screenX,\n\t\t\t\t\t'screenY': first.screenY,\n\t\t\t\t\t'clientX': first.clientX,\n\t\t\t\t\t'clientY': first.clientY\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tsimulatedEvent = document.createEvent('MouseEvent');\n\t\t\t\tsimulatedEvent.initMouseEvent(type, true, true, window, 1, first.screenX, first.screenY, first.clientX, first.clientY, false, false, false, false, 0 /*left*/, null);\n\t\t\t}\n\t\t\tfirst.target.dispatchEvent(simulatedEvent);\n\t\t};\n\t};\n}(jQuery);\n\n//**********************************\n//**From the jQuery Mobile Library**\n//**need to recreate functionality**\n//**and try to improve if possible**\n//**********************************\n\n/* Removing the jQuery function ****\n************************************\n\n(function( $, window, undefined ) {\n\n\tvar $document = $( document ),\n\t\t// supportTouch = $.mobile.support.touch,\n\t\ttouchStartEvent = 'touchstart'//supportTouch ? \"touchstart\" : \"mousedown\",\n\t\ttouchStopEvent = 'touchend'//supportTouch ? \"touchend\" : \"mouseup\",\n\t\ttouchMoveEvent = 'touchmove'//supportTouch ? \"touchmove\" : \"mousemove\";\n\n\t// setup new event shortcuts\n\t$.each( ( \"touchstart touchmove touchend \" +\n\t\t\"swipe swipeleft swiperight\" ).split( \" \" ), function( i, name ) {\n\n\t\t$.fn[ name ] = function( fn ) {\n\t\t\treturn fn ? this.bind( name, fn ) : this.trigger( name );\n\t\t};\n\n\t\t// jQuery < 1.8\n\t\tif ( $.attrFn ) {\n\t\t\t$.attrFn[ name ] = true;\n\t\t}\n\t});\n\n\tfunction triggerCustomEvent( obj, eventType, event, bubble ) {\n\t\tvar originalType = event.type;\n\t\tevent.type = eventType;\n\t\tif ( bubble ) {\n\t\t\t$.event.trigger( event, undefined, obj );\n\t\t} else {\n\t\t\t$.event.dispatch.call( obj, event );\n\t\t}\n\t\tevent.type = originalType;\n\t}\n\n\t// also handles taphold\n\n\t// Also handles swipeleft, swiperight\n\t$.event.special.swipe = {\n\n\t\t// More than this horizontal displacement, and we will suppress scrolling.\n\t\tscrollSupressionThreshold: 30,\n\n\t\t// More time than this, and it isn't a swipe.\n\t\tdurationThreshold: 1000,\n\n\t\t// Swipe horizontal displacement must be more than this.\n\t\thorizontalDistanceThreshold: window.devicePixelRatio >= 2 ? 15 : 30,\n\n\t\t// Swipe vertical displacement must be less than this.\n\t\tverticalDistanceThreshold: window.devicePixelRatio >= 2 ? 15 : 30,\n\n\t\tgetLocation: function ( event ) {\n\t\t\tvar winPageX = window.pageXOffset,\n\t\t\t\twinPageY = window.pageYOffset,\n\t\t\t\tx = event.clientX,\n\t\t\t\ty = event.clientY;\n\n\t\t\tif ( event.pageY === 0 && Math.floor( y ) > Math.floor( event.pageY ) ||\n\t\t\t\tevent.pageX === 0 && Math.floor( x ) > Math.floor( event.pageX ) ) {\n\n\t\t\t\t// iOS4 clientX/clientY have the value that should have been\n\t\t\t\t// in pageX/pageY. While pageX/page/ have the value 0\n\t\t\t\tx = x - winPageX;\n\t\t\t\ty = y - winPageY;\n\t\t\t} else if ( y < ( event.pageY - winPageY) || x < ( event.pageX - winPageX ) ) {\n\n\t\t\t\t// Some Android browsers have totally bogus values for clientX/Y\n\t\t\t\t// when scrolling/zooming a page. Detectable since clientX/clientY\n\t\t\t\t// should never be smaller than pageX/pageY minus page scroll\n\t\t\t\tx = event.pageX - winPageX;\n\t\t\t\ty = event.pageY - winPageY;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tx: x,\n\t\t\t\ty: y\n\t\t\t};\n\t\t},\n\n\t\tstart: function( event ) {\n\t\t\tvar data = event.originalEvent.touches ?\n\t\t\t\t\tevent.originalEvent.touches[ 0 ] : event,\n\t\t\t\tlocation = $.event.special.swipe.getLocation( data );\n\t\t\treturn {\n\t\t\t\t\t\ttime: ( new Date() ).getTime(),\n\t\t\t\t\t\tcoords: [ location.x, location.y ],\n\t\t\t\t\t\torigin: $( event.target )\n\t\t\t\t\t};\n\t\t},\n\n\t\tstop: function( event ) {\n\t\t\tvar data = event.originalEvent.touches ?\n\t\t\t\t\tevent.originalEvent.touches[ 0 ] : event,\n\t\t\t\tlocation = $.event.special.swipe.getLocation( data );\n\t\t\treturn {\n\t\t\t\t\t\ttime: ( new Date() ).getTime(),\n\t\t\t\t\t\tcoords: [ location.x, location.y ]\n\t\t\t\t\t};\n\t\t},\n\n\t\thandleSwipe: function( start, stop, thisObject, origTarget ) {\n\t\t\tif ( stop.time - start.time < $.event.special.swipe.durationThreshold &&\n\t\t\t\tMath.abs( start.coords[ 0 ] - stop.coords[ 0 ] ) > $.event.special.swipe.horizontalDistanceThreshold &&\n\t\t\t\tMath.abs( start.coords[ 1 ] - stop.coords[ 1 ] ) < $.event.special.swipe.verticalDistanceThreshold ) {\n\t\t\t\tvar direction = start.coords[0] > stop.coords[ 0 ] ? \"swipeleft\" : \"swiperight\";\n\n\t\t\t\ttriggerCustomEvent( thisObject, \"swipe\", $.Event( \"swipe\", { target: origTarget, swipestart: start, swipestop: stop }), true );\n\t\t\t\ttriggerCustomEvent( thisObject, direction,$.Event( direction, { target: origTarget, swipestart: start, swipestop: stop } ), true );\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\n\t\t},\n\n\t\t// This serves as a flag to ensure that at most one swipe event event is\n\t\t// in work at any given time\n\t\teventInProgress: false,\n\n\t\tsetup: function() {\n\t\t\tvar events,\n\t\t\t\tthisObject = this,\n\t\t\t\t$this = $( thisObject ),\n\t\t\t\tcontext = {};\n\n\t\t\t// Retrieve the events data for this element and add the swipe context\n\t\t\tevents = $.data( this, \"mobile-events\" );\n\t\t\tif ( !events ) {\n\t\t\t\tevents = { length: 0 };\n\t\t\t\t$.data( this, \"mobile-events\", events );\n\t\t\t}\n\t\t\tevents.length++;\n\t\t\tevents.swipe = context;\n\n\t\t\tcontext.start = function( event ) {\n\n\t\t\t\t// Bail if we're already working on a swipe event\n\t\t\t\tif ( $.event.special.swipe.eventInProgress ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t$.event.special.swipe.eventInProgress = true;\n\n\t\t\t\tvar stop,\n\t\t\t\t\tstart = $.event.special.swipe.start( event ),\n\t\t\t\t\torigTarget = event.target,\n\t\t\t\t\temitted = false;\n\n\t\t\t\tcontext.move = function( event ) {\n\t\t\t\t\tif ( !start || event.isDefaultPrevented() ) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tstop = $.event.special.swipe.stop( event );\n\t\t\t\t\tif ( !emitted ) {\n\t\t\t\t\t\temitted = $.event.special.swipe.handleSwipe( start, stop, thisObject, origTarget );\n\t\t\t\t\t\tif ( emitted ) {\n\n\t\t\t\t\t\t\t// Reset the context to make way for the next swipe event\n\t\t\t\t\t\t\t$.event.special.swipe.eventInProgress = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// prevent scrolling\n\t\t\t\t\tif ( Math.abs( start.coords[ 0 ] - stop.coords[ 0 ] ) > $.event.special.swipe.scrollSupressionThreshold ) {\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tcontext.stop = function() {\n\t\t\t\t\t\temitted = true;\n\n\t\t\t\t\t\t// Reset the context to make way for the next swipe event\n\t\t\t\t\t\t$.event.special.swipe.eventInProgress = false;\n\t\t\t\t\t\t$document.off( touchMoveEvent, context.move );\n\t\t\t\t\t\tcontext.move = null;\n\t\t\t\t};\n\n\t\t\t\t$document.on( touchMoveEvent, context.move )\n\t\t\t\t\t.one( touchStopEvent, context.stop );\n\t\t\t};\n\t\t\t$this.on( touchStartEvent, context.start );\n\t\t},\n\n\t\tteardown: function() {\n\t\t\tvar events, context;\n\n\t\t\tevents = $.data( this, \"mobile-events\" );\n\t\t\tif ( events ) {\n\t\t\t\tcontext = events.swipe;\n\t\t\t\tdelete events.swipe;\n\t\t\t\tevents.length--;\n\t\t\t\tif ( events.length === 0 ) {\n\t\t\t\t\t$.removeData( this, \"mobile-events\" );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( context ) {\n\t\t\t\tif ( context.start ) {\n\t\t\t\t\t$( this ).off( touchStartEvent, context.start );\n\t\t\t\t}\n\t\t\t\tif ( context.move ) {\n\t\t\t\t\t$document.off( touchMoveEvent, context.move );\n\t\t\t\t}\n\t\t\t\tif ( context.stop ) {\n\t\t\t\t\t$document.off( touchStopEvent, context.stop );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\t$.each({\n\t\tswipeleft: \"swipe.left\",\n\t\tswiperight: \"swipe.right\"\n\t}, function( event, sourceEvent ) {\n\n\t\t$.event.special[ event ] = {\n\t\t\tsetup: function() {\n\t\t\t\t$( this ).bind( sourceEvent, $.noop );\n\t\t\t},\n\t\t\tteardown: function() {\n\t\t\t\t$( this ).unbind( sourceEvent );\n\t\t\t}\n\t\t};\n\t});\n})( jQuery, this );\n*/\n'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n!function ($) {\n\n  var MutationObserver = function () {\n    var prefixes = ['WebKit', 'Moz', 'O', 'Ms', ''];\n    for (var i = 0; i < prefixes.length; i++) {\n      if (prefixes[i] + 'MutationObserver' in window) {\n        return window[prefixes[i] + 'MutationObserver'];\n      }\n    }\n    return false;\n  }();\n\n  var triggers = function triggers(el, type) {\n    el.data(type).split(' ').forEach(function (id) {\n      $('#' + id)[type === 'close' ? 'trigger' : 'triggerHandler'](type + '.zf.trigger', [el]);\n    });\n  };\n  // Elements with [data-open] will reveal a plugin that supports it when clicked.\n  $(document).on('click.zf.trigger', '[data-open]', function () {\n    triggers($(this), 'open');\n  });\n\n  // Elements with [data-close] will close a plugin that supports it when clicked.\n  // If used without a value on [data-close], the event will bubble, allowing it to close a parent component.\n  $(document).on('click.zf.trigger', '[data-close]', function () {\n    var id = $(this).data('close');\n    if (id) {\n      triggers($(this), 'close');\n    } else {\n      $(this).trigger('close.zf.trigger');\n    }\n  });\n\n  // Elements with [data-toggle] will toggle a plugin that supports it when clicked.\n  $(document).on('click.zf.trigger', '[data-toggle]', function () {\n    var id = $(this).data('toggle');\n    if (id) {\n      triggers($(this), 'toggle');\n    } else {\n      $(this).trigger('toggle.zf.trigger');\n    }\n  });\n\n  // Elements with [data-closable] will respond to close.zf.trigger events.\n  $(document).on('close.zf.trigger', '[data-closable]', function (e) {\n    e.stopPropagation();\n    var animation = $(this).data('closable');\n\n    if (animation !== '') {\n      Foundation.Motion.animateOut($(this), animation, function () {\n        $(this).trigger('closed.zf');\n      });\n    } else {\n      $(this).fadeOut().trigger('closed.zf');\n    }\n  });\n\n  $(document).on('focus.zf.trigger blur.zf.trigger', '[data-toggle-focus]', function () {\n    var id = $(this).data('toggle-focus');\n    $('#' + id).triggerHandler('toggle.zf.trigger', [$(this)]);\n  });\n\n  /**\n  * Fires once after all other scripts have loaded\n  * @function\n  * @private\n  */\n  $(window).on('load', function () {\n    checkListeners();\n  });\n\n  function checkListeners() {\n    eventsListener();\n    resizeListener();\n    scrollListener();\n    closemeListener();\n  }\n\n  //******** only fires this function once on load, if there's something to watch ********\n  function closemeListener(pluginName) {\n    var yetiBoxes = $('[data-yeti-box]'),\n        plugNames = ['dropdown', 'tooltip', 'reveal'];\n\n    if (pluginName) {\n      if (typeof pluginName === 'string') {\n        plugNames.push(pluginName);\n      } else if ((typeof pluginName === 'undefined' ? 'undefined' : _typeof(pluginName)) === 'object' && typeof pluginName[0] === 'string') {\n        plugNames.concat(pluginName);\n      } else {\n        console.error('Plugin names must be strings');\n      }\n    }\n    if (yetiBoxes.length) {\n      var listeners = plugNames.map(function (name) {\n        return 'closeme.zf.' + name;\n      }).join(' ');\n\n      $(window).off(listeners).on(listeners, function (e, pluginId) {\n        var plugin = e.namespace.split('.')[0];\n        var plugins = $('[data-' + plugin + ']').not('[data-yeti-box=\"' + pluginId + '\"]');\n\n        plugins.each(function () {\n          var _this = $(this);\n\n          _this.triggerHandler('close.zf.trigger', [_this]);\n        });\n      });\n    }\n  }\n\n  function resizeListener(debounce) {\n    var timer = void 0,\n        $nodes = $('[data-resize]');\n    if ($nodes.length) {\n      $(window).off('resize.zf.trigger').on('resize.zf.trigger', function (e) {\n        if (timer) {\n          clearTimeout(timer);\n        }\n\n        timer = setTimeout(function () {\n\n          if (!MutationObserver) {\n            //fallback for IE 9\n            $nodes.each(function () {\n              $(this).triggerHandler('resizeme.zf.trigger');\n            });\n          }\n          //trigger all listening elements and signal a resize event\n          $nodes.attr('data-events', \"resize\");\n        }, debounce || 10); //default time to emit resize event\n      });\n    }\n  }\n\n  function scrollListener(debounce) {\n    var timer = void 0,\n        $nodes = $('[data-scroll]');\n    if ($nodes.length) {\n      $(window).off('scroll.zf.trigger').on('scroll.zf.trigger', function (e) {\n        if (timer) {\n          clearTimeout(timer);\n        }\n\n        timer = setTimeout(function () {\n\n          if (!MutationObserver) {\n            //fallback for IE 9\n            $nodes.each(function () {\n              $(this).triggerHandler('scrollme.zf.trigger');\n            });\n          }\n          //trigger all listening elements and signal a scroll event\n          $nodes.attr('data-events', \"scroll\");\n        }, debounce || 10); //default time to emit scroll event\n      });\n    }\n  }\n\n  function eventsListener() {\n    if (!MutationObserver) {\n      return false;\n    }\n    var nodes = document.querySelectorAll('[data-resize], [data-scroll], [data-mutate]');\n\n    //element callback\n    var listeningElementsMutation = function listeningElementsMutation(mutationRecordsList) {\n      var $target = $(mutationRecordsList[0].target);\n\n      //trigger the event handler for the element depending on type\n      switch (mutationRecordsList[0].type) {\n\n        case \"attributes\":\n          if ($target.attr(\"data-events\") === \"scroll\" && mutationRecordsList[0].attributeName === \"data-events\") {\n            $target.triggerHandler('scrollme.zf.trigger', [$target, window.pageYOffset]);\n          }\n          if ($target.attr(\"data-events\") === \"resize\" && mutationRecordsList[0].attributeName === \"data-events\") {\n            $target.triggerHandler('resizeme.zf.trigger', [$target]);\n          }\n          if (mutationRecordsList[0].attributeName === \"style\") {\n            $target.closest(\"[data-mutate]\").attr(\"data-events\", \"mutate\");\n            $target.closest(\"[data-mutate]\").triggerHandler('mutateme.zf.trigger', [$target.closest(\"[data-mutate]\")]);\n          }\n          break;\n\n        case \"childList\":\n          $target.closest(\"[data-mutate]\").attr(\"data-events\", \"mutate\");\n          $target.closest(\"[data-mutate]\").triggerHandler('mutateme.zf.trigger', [$target.closest(\"[data-mutate]\")]);\n          break;\n\n        default:\n          return false;\n        //nothing\n      }\n    };\n\n    if (nodes.length) {\n      //for each element that needs to listen for resizing, scrolling, or mutation add a single observer\n      for (var i = 0; i <= nodes.length - 1; i++) {\n        var elementObserver = new MutationObserver(listeningElementsMutation);\n        elementObserver.observe(nodes[i], { attributes: true, childList: true, characterData: false, subtree: true, attributeFilter: [\"data-events\", \"style\"] });\n      }\n    }\n  }\n\n  // ------------------------------------\n\n  // [PH]\n  // Foundation.CheckWatchers = checkWatchers;\n  Foundation.IHearYou = checkListeners;\n  // Foundation.ISeeYou = scrollListener;\n  // Foundation.IFeelYou = closemeListener;\n}(jQuery);\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n!function ($) {\n\n  /**\n   * Accordion module.\n   * @module foundation.accordion\n   * @requires foundation.util.keyboard\n   * @requires foundation.util.motion\n   */\n\n  var Accordion = function () {\n    /**\n     * Creates a new instance of an accordion.\n     * @class\n     * @fires Accordion#init\n     * @param {jQuery} element - jQuery object to make into an accordion.\n     * @param {Object} options - a plain object with settings to override the default options.\n     */\n    function Accordion(element, options) {\n      _classCallCheck(this, Accordion);\n\n      this.$element = element;\n      this.options = $.extend({}, Accordion.defaults, this.$element.data(), options);\n\n      this._init();\n\n      Foundation.registerPlugin(this, 'Accordion');\n      Foundation.Keyboard.register('Accordion', {\n        'ENTER': 'toggle',\n        'SPACE': 'toggle',\n        'ARROW_DOWN': 'next',\n        'ARROW_UP': 'previous'\n      });\n    }\n\n    /**\n     * Initializes the accordion by animating the preset active pane(s).\n     * @private\n     */\n\n\n    _createClass(Accordion, [{\n      key: '_init',\n      value: function _init() {\n        var _this2 = this;\n\n        this.$element.attr('role', 'tablist');\n        this.$tabs = this.$element.children('[data-accordion-item]');\n\n        this.$tabs.each(function (idx, el) {\n          var $el = $(el),\n              $content = $el.children('[data-tab-content]'),\n              id = $content[0].id || Foundation.GetYoDigits(6, 'accordion'),\n              linkId = el.id || id + '-label';\n\n          $el.find('a:first').attr({\n            'aria-controls': id,\n            'role': 'tab',\n            'id': linkId,\n            'aria-expanded': false,\n            'aria-selected': false\n          });\n\n          $content.attr({ 'role': 'tabpanel', 'aria-labelledby': linkId, 'aria-hidden': true, 'id': id });\n        });\n        var $initActive = this.$element.find('.is-active').children('[data-tab-content]');\n        this.firstTimeInit = true;\n        if ($initActive.length) {\n          this.down($initActive, this.firstTimeInit);\n          this.firstTimeInit = false;\n        }\n\n        this._checkDeepLink = function () {\n          var anchor = window.location.hash;\n          //need a hash and a relevant anchor in this tabset\n          if (anchor.length) {\n            var $link = _this2.$element.find('[href$=\"' + anchor + '\"]'),\n                $anchor = $(anchor);\n\n            if ($link.length && $anchor) {\n              if (!$link.parent('[data-accordion-item]').hasClass('is-active')) {\n                _this2.down($anchor, _this2.firstTimeInit);\n                _this2.firstTimeInit = false;\n              };\n\n              //roll up a little to show the titles\n              if (_this2.options.deepLinkSmudge) {\n                var _this = _this2;\n                $(window).load(function () {\n                  var offset = _this.$element.offset();\n                  $('html, body').animate({ scrollTop: offset.top }, _this.options.deepLinkSmudgeDelay);\n                });\n              }\n\n              /**\n                * Fires when the zplugin has deeplinked at pageload\n                * @event Accordion#deeplink\n                */\n              _this2.$element.trigger('deeplink.zf.accordion', [$link, $anchor]);\n            }\n          }\n        };\n\n        //use browser to open a tab, if it exists in this tabset\n        if (this.options.deepLink) {\n          this._checkDeepLink();\n        }\n\n        this._events();\n      }\n\n      /**\n       * Adds event handlers for items within the accordion.\n       * @private\n       */\n\n    }, {\n      key: '_events',\n      value: function _events() {\n        var _this = this;\n\n        this.$tabs.each(function () {\n          var $elem = $(this);\n          var $tabContent = $elem.children('[data-tab-content]');\n          if ($tabContent.length) {\n            $elem.children('a').off('click.zf.accordion keydown.zf.accordion').on('click.zf.accordion', function (e) {\n              e.preventDefault();\n              _this.toggle($tabContent);\n            }).on('keydown.zf.accordion', function (e) {\n              Foundation.Keyboard.handleKey(e, 'Accordion', {\n                toggle: function toggle() {\n                  _this.toggle($tabContent);\n                },\n                next: function next() {\n                  var $a = $elem.next().find('a').focus();\n                  if (!_this.options.multiExpand) {\n                    $a.trigger('click.zf.accordion');\n                  }\n                },\n                previous: function previous() {\n                  var $a = $elem.prev().find('a').focus();\n                  if (!_this.options.multiExpand) {\n                    $a.trigger('click.zf.accordion');\n                  }\n                },\n                handled: function handled() {\n                  e.preventDefault();\n                  e.stopPropagation();\n                }\n              });\n            });\n          }\n        });\n        if (this.options.deepLink) {\n          $(window).on('popstate', this._checkDeepLink);\n        }\n      }\n\n      /**\n       * Toggles the selected content pane's open/close state.\n       * @param {jQuery} $target - jQuery object of the pane to toggle (`.accordion-content`).\n       * @function\n       */\n\n    }, {\n      key: 'toggle',\n      value: function toggle($target) {\n        if ($target.parent().hasClass('is-active')) {\n          this.up($target);\n        } else {\n          this.down($target);\n        }\n        //either replace or update browser history\n        if (this.options.deepLink) {\n          var anchor = $target.prev('a').attr('href');\n\n          if (this.options.updateHistory) {\n            history.pushState({}, '', anchor);\n          } else {\n            history.replaceState({}, '', anchor);\n          }\n        }\n      }\n\n      /**\n       * Opens the accordion tab defined by `$target`.\n       * @param {jQuery} $target - Accordion pane to open (`.accordion-content`).\n       * @param {Boolean} firstTime - flag to determine if reflow should happen.\n       * @fires Accordion#down\n       * @function\n       */\n\n    }, {\n      key: 'down',\n      value: function down($target, firstTime) {\n        var _this3 = this;\n\n        $target.attr('aria-hidden', false).parent('[data-tab-content]').addBack().parent().addClass('is-active');\n\n        if (!this.options.multiExpand && !firstTime) {\n          var $currentActive = this.$element.children('.is-active').children('[data-tab-content]');\n          if ($currentActive.length) {\n            this.up($currentActive.not($target));\n          }\n        }\n\n        $target.slideDown(this.options.slideSpeed, function () {\n          /**\n           * Fires when the tab is done opening.\n           * @event Accordion#down\n           */\n          _this3.$element.trigger('down.zf.accordion', [$target]);\n        });\n\n        $('#' + $target.attr('aria-labelledby')).attr({\n          'aria-expanded': true,\n          'aria-selected': true\n        });\n      }\n\n      /**\n       * Closes the tab defined by `$target`.\n       * @param {jQuery} $target - Accordion tab to close (`.accordion-content`).\n       * @fires Accordion#up\n       * @function\n       */\n\n    }, {\n      key: 'up',\n      value: function up($target) {\n        var $aunts = $target.parent().siblings(),\n            _this = this;\n\n        if (!this.options.allowAllClosed && !$aunts.hasClass('is-active') || !$target.parent().hasClass('is-active')) {\n          return;\n        }\n\n        // Foundation.Move(this.options.slideSpeed, $target, function(){\n        $target.slideUp(_this.options.slideSpeed, function () {\n          /**\n           * Fires when the tab is done collapsing up.\n           * @event Accordion#up\n           */\n          _this.$element.trigger('up.zf.accordion', [$target]);\n        });\n        // });\n\n        $target.attr('aria-hidden', true).parent().removeClass('is-active');\n\n        $('#' + $target.attr('aria-labelledby')).attr({\n          'aria-expanded': false,\n          'aria-selected': false\n        });\n      }\n\n      /**\n       * Destroys an instance of an accordion.\n       * @fires Accordion#destroyed\n       * @function\n       */\n\n    }, {\n      key: 'destroy',\n      value: function destroy() {\n        this.$element.find('[data-tab-content]').stop(true).slideUp(0).css('display', '');\n        this.$element.find('a').off('.zf.accordion');\n        if (this.options.deepLink) {\n          $(window).off('popstate', this._checkDeepLink);\n        }\n\n        Foundation.unregisterPlugin(this);\n      }\n    }]);\n\n    return Accordion;\n  }();\n\n  Accordion.defaults = {\n    /**\n     * Amount of time to animate the opening of an accordion pane.\n     * @option\n     * @type {number}\n     * @default 250\n     */\n    slideSpeed: 250,\n    /**\n     * Allow the accordion to have multiple open panes.\n     * @option\n     * @type {boolean}\n     * @default false\n     */\n    multiExpand: false,\n    /**\n     * Allow the accordion to close all panes.\n     * @option\n     * @type {boolean}\n     * @default false\n     */\n    allowAllClosed: false,\n    /**\n     * Allows the window to scroll to content of pane specified by hash anchor\n     * @option\n     * @type {boolean}\n     * @default false\n     */\n    deepLink: false,\n\n    /**\n     * Adjust the deep link scroll to make sure the top of the accordion panel is visible\n     * @option\n     * @type {boolean}\n     * @default false\n     */\n    deepLinkSmudge: false,\n\n    /**\n     * Animation time (ms) for the deep link adjustment\n     * @option\n     * @type {number}\n     * @default 300\n     */\n    deepLinkSmudgeDelay: 300,\n\n    /**\n     * Update the browser history with the open accordion\n     * @option\n     * @type {boolean}\n     * @default false\n     */\n    updateHistory: false\n  };\n\n  // Window exports\n  Foundation.plugin(Accordion, 'Accordion');\n}(jQuery);\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n!function ($) {\n\n  /**\n   * Interchange module.\n   * @module foundation.interchange\n   * @requires foundation.util.mediaQuery\n   * @requires foundation.util.timerAndImageLoader\n   */\n\n  var Interchange = function () {\n    /**\n     * Creates a new instance of Interchange.\n     * @class\n     * @fires Interchange#init\n     * @param {Object} element - jQuery object to add the trigger to.\n     * @param {Object} options - Overrides to the default plugin settings.\n     */\n    function Interchange(element, options) {\n      _classCallCheck(this, Interchange);\n\n      this.$element = element;\n      this.options = $.extend({}, Interchange.defaults, options);\n      this.rules = [];\n      this.currentPath = '';\n\n      this._init();\n      this._events();\n\n      Foundation.registerPlugin(this, 'Interchange');\n    }\n\n    /**\n     * Initializes the Interchange plugin and calls functions to get interchange functioning on load.\n     * @function\n     * @private\n     */\n\n\n    _createClass(Interchange, [{\n      key: '_init',\n      value: function _init() {\n        this._addBreakpoints();\n        this._generateRules();\n        this._reflow();\n      }\n\n      /**\n       * Initializes events for Interchange.\n       * @function\n       * @private\n       */\n\n    }, {\n      key: '_events',\n      value: function _events() {\n        var _this2 = this;\n\n        $(window).on('resize.zf.interchange', Foundation.util.throttle(function () {\n          _this2._reflow();\n        }, 50));\n      }\n\n      /**\n       * Calls necessary functions to update Interchange upon DOM change\n       * @function\n       * @private\n       */\n\n    }, {\n      key: '_reflow',\n      value: function _reflow() {\n        var match;\n\n        // Iterate through each rule, but only save the last match\n        for (var i in this.rules) {\n          if (this.rules.hasOwnProperty(i)) {\n            var rule = this.rules[i];\n            if (window.matchMedia(rule.query).matches) {\n              match = rule;\n            }\n          }\n        }\n\n        if (match) {\n          this.replace(match.path);\n        }\n      }\n\n      /**\n       * Gets the Foundation breakpoints and adds them to the Interchange.SPECIAL_QUERIES object.\n       * @function\n       * @private\n       */\n\n    }, {\n      key: '_addBreakpoints',\n      value: function _addBreakpoints() {\n        for (var i in Foundation.MediaQuery.queries) {\n          if (Foundation.MediaQuery.queries.hasOwnProperty(i)) {\n            var query = Foundation.MediaQuery.queries[i];\n            Interchange.SPECIAL_QUERIES[query.name] = query.value;\n          }\n        }\n      }\n\n      /**\n       * Checks the Interchange element for the provided media query + content pairings\n       * @function\n       * @private\n       * @param {Object} element - jQuery object that is an Interchange instance\n       * @returns {Array} scenarios - Array of objects that have 'mq' and 'path' keys with corresponding keys\n       */\n\n    }, {\n      key: '_generateRules',\n      value: function _generateRules(element) {\n        var rulesList = [];\n        var rules;\n\n        if (this.options.rules) {\n          rules = this.options.rules;\n        } else {\n          rules = this.$element.data('interchange');\n        }\n\n        rules = typeof rules === 'string' ? rules.match(/\\[.*?\\]/g) : rules;\n\n        for (var i in rules) {\n          if (rules.hasOwnProperty(i)) {\n            var rule = rules[i].slice(1, -1).split(', ');\n            var path = rule.slice(0, -1).join('');\n            var query = rule[rule.length - 1];\n\n            if (Interchange.SPECIAL_QUERIES[query]) {\n              query = Interchange.SPECIAL_QUERIES[query];\n            }\n\n            rulesList.push({\n              path: path,\n              query: query\n            });\n          }\n        }\n\n        this.rules = rulesList;\n      }\n\n      /**\n       * Update the `src` property of an image, or change the HTML of a container, to the specified path.\n       * @function\n       * @param {String} path - Path to the image or HTML partial.\n       * @fires Interchange#replaced\n       */\n\n    }, {\n      key: 'replace',\n      value: function replace(path) {\n        if (this.currentPath === path) return;\n\n        var _this = this,\n            trigger = 'replaced.zf.interchange';\n\n        // Replacing images\n        if (this.$element[0].nodeName === 'IMG') {\n          this.$element.attr('src', path).on('load', function () {\n            _this.currentPath = path;\n          }).trigger(trigger);\n        }\n        // Replacing background images\n        else if (path.match(/\\.(gif|jpg|jpeg|png|svg|tiff)([?#].*)?/i)) {\n            this.$element.css({ 'background-image': 'url(' + path + ')' }).trigger(trigger);\n          }\n          // Replacing HTML\n          else {\n              $.get(path, function (response) {\n                _this.$element.html(response).trigger(trigger);\n                $(response).foundation();\n                _this.currentPath = path;\n              });\n            }\n\n        /**\n         * Fires when content in an Interchange element is done being loaded.\n         * @event Interchange#replaced\n         */\n        // this.$element.trigger('replaced.zf.interchange');\n      }\n\n      /**\n       * Destroys an instance of interchange.\n       * @function\n       */\n\n    }, {\n      key: 'destroy',\n      value: function destroy() {\n        //TODO this.\n      }\n    }]);\n\n    return Interchange;\n  }();\n\n  /**\n   * Default settings for plugin\n   */\n\n\n  Interchange.defaults = {\n    /**\n     * Rules to be applied to Interchange elements. Set with the `data-interchange` array notation.\n     * @option\n     * @type {?array}\n     * @default null\n     */\n    rules: null\n  };\n\n  Interchange.SPECIAL_QUERIES = {\n    'landscape': 'screen and (orientation: landscape)',\n    'portrait': 'screen and (orientation: portrait)',\n    'retina': 'only screen and (-webkit-min-device-pixel-ratio: 2), only screen and (min--moz-device-pixel-ratio: 2), only screen and (-o-min-device-pixel-ratio: 2/1), only screen and (min-device-pixel-ratio: 2), only screen and (min-resolution: 192dpi), only screen and (min-resolution: 2dppx)'\n  };\n\n  // Window exports\n  Foundation.plugin(Interchange, 'Interchange');\n}(jQuery);\n'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n!function ($) {\n\n  /**\n   * Tabs module.\n   * @module foundation.tabs\n   * @requires foundation.util.keyboard\n   * @requires foundation.util.timerAndImageLoader if tabs contain images\n   */\n\n  var Tabs = function () {\n    /**\n     * Creates a new instance of tabs.\n     * @class\n     * @fires Tabs#init\n     * @param {jQuery} element - jQuery object to make into tabs.\n     * @param {Object} options - Overrides to the default plugin settings.\n     */\n    function Tabs(element, options) {\n      _classCallCheck(this, Tabs);\n\n      this.$element = element;\n      this.options = $.extend({}, Tabs.defaults, this.$element.data(), options);\n\n      this._init();\n      Foundation.registerPlugin(this, 'Tabs');\n      Foundation.Keyboard.register('Tabs', {\n        'ENTER': 'open',\n        'SPACE': 'open',\n        'ARROW_RIGHT': 'next',\n        'ARROW_UP': 'previous',\n        'ARROW_DOWN': 'next',\n        'ARROW_LEFT': 'previous'\n        // 'TAB': 'next',\n        // 'SHIFT_TAB': 'previous'\n      });\n    }\n\n    /**\n     * Initializes the tabs by showing and focusing (if autoFocus=true) the preset active tab.\n     * @private\n     */\n\n\n    _createClass(Tabs, [{\n      key: '_init',\n      value: function _init() {\n        var _this2 = this;\n\n        var _this = this;\n\n        this.$element.attr({ 'role': 'tablist' });\n        this.$tabTitles = this.$element.find('.' + this.options.linkClass);\n        this.$tabContent = $('[data-tabs-content=\"' + this.$element[0].id + '\"]');\n\n        this.$tabTitles.each(function () {\n          var $elem = $(this),\n              $link = $elem.find('a'),\n              isActive = $elem.hasClass('' + _this.options.linkActiveClass),\n              hash = $link[0].hash.slice(1),\n              linkId = $link[0].id ? $link[0].id : hash + '-label',\n              $tabContent = $('#' + hash);\n\n          $elem.attr({ 'role': 'presentation' });\n\n          $link.attr({\n            'role': 'tab',\n            'aria-controls': hash,\n            'aria-selected': isActive,\n            'id': linkId\n          });\n\n          $tabContent.attr({\n            'role': 'tabpanel',\n            'aria-hidden': !isActive,\n            'aria-labelledby': linkId\n          });\n\n          if (isActive && _this.options.autoFocus) {\n            $(window).load(function () {\n              $('html, body').animate({ scrollTop: $elem.offset().top }, _this.options.deepLinkSmudgeDelay, function () {\n                $link.focus();\n              });\n            });\n          }\n        });\n        if (this.options.matchHeight) {\n          var $images = this.$tabContent.find('img');\n\n          if ($images.length) {\n            Foundation.onImagesLoaded($images, this._setHeight.bind(this));\n          } else {\n            this._setHeight();\n          }\n        }\n\n        //current context-bound function to open tabs on page load or history popstate\n        this._checkDeepLink = function () {\n          var anchor = window.location.hash;\n          //need a hash and a relevant anchor in this tabset\n          if (anchor.length) {\n            var $link = _this2.$element.find('[href$=\"' + anchor + '\"]');\n            if ($link.length) {\n              _this2.selectTab($(anchor), true);\n\n              //roll up a little to show the titles\n              if (_this2.options.deepLinkSmudge) {\n                var offset = _this2.$element.offset();\n                $('html, body').animate({ scrollTop: offset.top }, _this2.options.deepLinkSmudgeDelay);\n              }\n\n              /**\n                * Fires when the zplugin has deeplinked at pageload\n                * @event Tabs#deeplink\n                */\n              _this2.$element.trigger('deeplink.zf.tabs', [$link, $(anchor)]);\n            }\n          }\n        };\n\n        //use browser to open a tab, if it exists in this tabset\n        if (this.options.deepLink) {\n          this._checkDeepLink();\n        }\n\n        this._events();\n      }\n\n      /**\n       * Adds event handlers for items within the tabs.\n       * @private\n       */\n\n    }, {\n      key: '_events',\n      value: function _events() {\n        this._addKeyHandler();\n        this._addClickHandler();\n        this._setHeightMqHandler = null;\n\n        if (this.options.matchHeight) {\n          this._setHeightMqHandler = this._setHeight.bind(this);\n\n          $(window).on('changed.zf.mediaquery', this._setHeightMqHandler);\n        }\n\n        if (this.options.deepLink) {\n          $(window).on('popstate', this._checkDeepLink);\n        }\n      }\n\n      /**\n       * Adds click handlers for items within the tabs.\n       * @private\n       */\n\n    }, {\n      key: '_addClickHandler',\n      value: function _addClickHandler() {\n        var _this = this;\n\n        this.$element.off('click.zf.tabs').on('click.zf.tabs', '.' + this.options.linkClass, function (e) {\n          e.preventDefault();\n          e.stopPropagation();\n          _this._handleTabChange($(this));\n        });\n      }\n\n      /**\n       * Adds keyboard event handlers for items within the tabs.\n       * @private\n       */\n\n    }, {\n      key: '_addKeyHandler',\n      value: function _addKeyHandler() {\n        var _this = this;\n\n        this.$tabTitles.off('keydown.zf.tabs').on('keydown.zf.tabs', function (e) {\n          if (e.which === 9) return;\n\n          var $element = $(this),\n              $elements = $element.parent('ul').children('li'),\n              $prevElement,\n              $nextElement;\n\n          $elements.each(function (i) {\n            if ($(this).is($element)) {\n              if (_this.options.wrapOnKeys) {\n                $prevElement = i === 0 ? $elements.last() : $elements.eq(i - 1);\n                $nextElement = i === $elements.length - 1 ? $elements.first() : $elements.eq(i + 1);\n              } else {\n                $prevElement = $elements.eq(Math.max(0, i - 1));\n                $nextElement = $elements.eq(Math.min(i + 1, $elements.length - 1));\n              }\n              return;\n            }\n          });\n\n          // handle keyboard event with keyboard util\n          Foundation.Keyboard.handleKey(e, 'Tabs', {\n            open: function open() {\n              $element.find('[role=\"tab\"]').focus();\n              _this._handleTabChange($element);\n            },\n            previous: function previous() {\n              $prevElement.find('[role=\"tab\"]').focus();\n              _this._handleTabChange($prevElement);\n            },\n            next: function next() {\n              $nextElement.find('[role=\"tab\"]').focus();\n              _this._handleTabChange($nextElement);\n            },\n            handled: function handled() {\n              e.stopPropagation();\n              e.preventDefault();\n            }\n          });\n        });\n      }\n\n      /**\n       * Opens the tab `$targetContent` defined by `$target`. Collapses active tab.\n       * @param {jQuery} $target - Tab to open.\n       * @param {boolean} historyHandled - browser has already handled a history update\n       * @fires Tabs#change\n       * @function\n       */\n\n    }, {\n      key: '_handleTabChange',\n      value: function _handleTabChange($target, historyHandled) {\n\n        /**\n         * Check for active class on target. Collapse if exists.\n         */\n        if ($target.hasClass('' + this.options.linkActiveClass)) {\n          if (this.options.activeCollapse) {\n            this._collapseTab($target);\n\n            /**\n             * Fires when the zplugin has successfully collapsed tabs.\n             * @event Tabs#collapse\n             */\n            this.$element.trigger('collapse.zf.tabs', [$target]);\n          }\n          return;\n        }\n\n        var $oldTab = this.$element.find('.' + this.options.linkClass + '.' + this.options.linkActiveClass),\n            $tabLink = $target.find('[role=\"tab\"]'),\n            hash = $tabLink[0].hash,\n            $targetContent = this.$tabContent.find(hash);\n\n        //close old tab\n        this._collapseTab($oldTab);\n\n        //open new tab\n        this._openTab($target);\n\n        //either replace or update browser history\n        if (this.options.deepLink && !historyHandled) {\n          var anchor = $target.find('a').attr('href');\n\n          if (this.options.updateHistory) {\n            history.pushState({}, '', anchor);\n          } else {\n            history.replaceState({}, '', anchor);\n          }\n        }\n\n        /**\n         * Fires when the plugin has successfully changed tabs.\n         * @event Tabs#change\n         */\n        this.$element.trigger('change.zf.tabs', [$target, $targetContent]);\n\n        //fire to children a mutation event\n        $targetContent.find(\"[data-mutate]\").trigger(\"mutateme.zf.trigger\");\n      }\n\n      /**\n       * Opens the tab `$targetContent` defined by `$target`.\n       * @param {jQuery} $target - Tab to Open.\n       * @function\n       */\n\n    }, {\n      key: '_openTab',\n      value: function _openTab($target) {\n        var $tabLink = $target.find('[role=\"tab\"]'),\n            hash = $tabLink[0].hash,\n            $targetContent = this.$tabContent.find(hash);\n\n        $target.addClass('' + this.options.linkActiveClass);\n\n        $tabLink.attr({ 'aria-selected': 'true' });\n\n        $targetContent.addClass('' + this.options.panelActiveClass).attr({ 'aria-hidden': 'false' });\n      }\n\n      /**\n       * Collapses `$targetContent` defined by `$target`.\n       * @param {jQuery} $target - Tab to Open.\n       * @function\n       */\n\n    }, {\n      key: '_collapseTab',\n      value: function _collapseTab($target) {\n        var $target_anchor = $target.removeClass('' + this.options.linkActiveClass).find('[role=\"tab\"]').attr({ 'aria-selected': 'false' });\n\n        $('#' + $target_anchor.attr('aria-controls')).removeClass('' + this.options.panelActiveClass).attr({ 'aria-hidden': 'true' });\n      }\n\n      /**\n       * Public method for selecting a content pane to display.\n       * @param {jQuery | String} elem - jQuery object or string of the id of the pane to display.\n       * @param {boolean} historyHandled - browser has already handled a history update\n       * @function\n       */\n\n    }, {\n      key: 'selectTab',\n      value: function selectTab(elem, historyHandled) {\n        var idStr;\n\n        if ((typeof elem === 'undefined' ? 'undefined' : _typeof(elem)) === 'object') {\n          idStr = elem[0].id;\n        } else {\n          idStr = elem;\n        }\n\n        if (idStr.indexOf('#') < 0) {\n          idStr = '#' + idStr;\n        }\n\n        var $target = this.$tabTitles.find('[href$=\"' + idStr + '\"]').parent('.' + this.options.linkClass);\n\n        this._handleTabChange($target, historyHandled);\n      }\n    }, {\n      key: '_setHeight',\n\n      /**\n       * Sets the height of each panel to the height of the tallest panel.\n       * If enabled in options, gets called on media query change.\n       * If loading content via external source, can be called directly or with _reflow.\n       * If enabled with `data-match-height=\"true\"`, tabs sets to equal height\n       * @function\n       * @private\n       */\n      value: function _setHeight() {\n        var max = 0,\n            _this = this; // Lock down the `this` value for the root tabs object\n\n        this.$tabContent.find('.' + this.options.panelClass).css('height', '').each(function () {\n\n          var panel = $(this),\n              isActive = panel.hasClass('' + _this.options.panelActiveClass); // get the options from the parent instead of trying to get them from the child\n\n          if (!isActive) {\n            panel.css({ 'visibility': 'hidden', 'display': 'block' });\n          }\n\n          var temp = this.getBoundingClientRect().height;\n\n          if (!isActive) {\n            panel.css({\n              'visibility': '',\n              'display': ''\n            });\n          }\n\n          max = temp > max ? temp : max;\n        }).css('height', max + 'px');\n      }\n\n      /**\n       * Destroys an instance of an tabs.\n       * @fires Tabs#destroyed\n       */\n\n    }, {\n      key: 'destroy',\n      value: function destroy() {\n        this.$element.find('.' + this.options.linkClass).off('.zf.tabs').hide().end().find('.' + this.options.panelClass).hide();\n\n        if (this.options.matchHeight) {\n          if (this._setHeightMqHandler != null) {\n            $(window).off('changed.zf.mediaquery', this._setHeightMqHandler);\n          }\n        }\n\n        if (this.options.deepLink) {\n          $(window).off('popstate', this._checkDeepLink);\n        }\n\n        Foundation.unregisterPlugin(this);\n      }\n    }]);\n\n    return Tabs;\n  }();\n\n  Tabs.defaults = {\n    /**\n     * Allows the window to scroll to content of pane specified by hash anchor\n     * @option\n     * @type {boolean}\n     * @default false\n     */\n    deepLink: false,\n\n    /**\n     * Adjust the deep link scroll to make sure the top of the tab panel is visible\n     * @option\n     * @type {boolean}\n     * @default false\n     */\n    deepLinkSmudge: false,\n\n    /**\n     * Animation time (ms) for the deep link adjustment\n     * @option\n     * @type {number}\n     * @default 300\n     */\n    deepLinkSmudgeDelay: 300,\n\n    /**\n     * Update the browser history with the open tab\n     * @option\n     * @type {boolean}\n     * @default false\n     */\n    updateHistory: false,\n\n    /**\n     * Allows the window to scroll to content of active pane on load if set to true.\n     * Not recommended if more than one tab panel per page.\n     * @option\n     * @type {boolean}\n     * @default false\n     */\n    autoFocus: false,\n\n    /**\n     * Allows keyboard input to 'wrap' around the tab links.\n     * @option\n     * @type {boolean}\n     * @default true\n     */\n    wrapOnKeys: true,\n\n    /**\n     * Allows the tab content panes to match heights if set to true.\n     * @option\n     * @type {boolean}\n     * @default false\n     */\n    matchHeight: false,\n\n    /**\n     * Allows active tabs to collapse when clicked.\n     * @option\n     * @type {boolean}\n     * @default false\n     */\n    activeCollapse: false,\n\n    /**\n     * Class applied to `li`'s in tab link list.\n     * @option\n     * @type {string}\n     * @default 'tabs-title'\n     */\n    linkClass: 'tabs-title',\n\n    /**\n     * Class applied to the active `li` in tab link list.\n     * @option\n     * @type {string}\n     * @default 'is-active'\n     */\n    linkActiveClass: 'is-active',\n\n    /**\n     * Class applied to the content containers.\n     * @option\n     * @type {string}\n     * @default 'tabs-panel'\n     */\n    panelClass: 'tabs-panel',\n\n    /**\n     * Class applied to the active content container.\n     * @option\n     * @type {string}\n     * @default 'is-active'\n     */\n    panelActiveClass: 'is-active'\n  };\n\n  // Window exports\n  Foundation.plugin(Tabs, 'Tabs');\n}(jQuery);\n/*\n * File: iframeResizer.contentWindow.js\n * Desc: Include this file in any page being loaded into an iframe\n *       to force the iframe to resize to the content size.\n * Requires: iframeResizer.js on host page.\n * Doc: https://github.com/davidjbradshaw/iframe-resizer\n * Author: David J. Bradshaw - dave@bradshaw.net\n *\n */\n\n// eslint-disable-next-line sonarjs/cognitive-complexity, no-shadow-restricted-names\n;(function (undefined) {\n  if (typeof window === 'undefined') return; // don't run for server side render\n\n  var autoResize = true,\n      base = 10,\n      bodyBackground = '',\n      bodyMargin = 0,\n      bodyMarginStr = '',\n      bodyObserver = null,\n      bodyPadding = '',\n      calculateWidth = false,\n      doubleEventList = { resize: 1, click: 1 },\n      eventCancelTimer = 128,\n      firstRun = true,\n      height = 1,\n      heightCalcModeDefault = 'bodyOffset',\n      heightCalcMode = heightCalcModeDefault,\n      initLock = true,\n      initMsg = '',\n      inPageLinks = {},\n      interval = 32,\n      intervalTimer = null,\n      logging = false,\n      msgID = '[iFrameSizer]',\n      // Must match host page msg ID\n  msgIdLen = msgID.length,\n      myID = '',\n      resetRequiredMethods = {\n    max: 1,\n    min: 1,\n    bodyScroll: 1,\n    documentElementScroll: 1\n  },\n      resizeFrom = 'child',\n      sendPermit = true,\n      target = window.parent,\n      targetOriginDefault = '*',\n      tolerance = 0,\n      triggerLocked = false,\n      triggerLockedTimer = null,\n      throttledTimer = 16,\n      width = 1,\n      widthCalcModeDefault = 'scroll',\n      widthCalcMode = widthCalcModeDefault,\n      win = window,\n      onMessage = function () {\n    warn('onMessage function not defined');\n  },\n      onReady = function () {},\n      onPageInfo = function () {},\n      customCalcMethods = {\n    height: function () {\n      warn('Custom height calculation function not defined');\n      return document.documentElement.offsetHeight;\n    },\n    width: function () {\n      warn('Custom width calculation function not defined');\n      return document.body.scrollWidth;\n    }\n  },\n      eventHandlersByName = {},\n      passiveSupported = false;\n\n  function noop() {}\n\n  try {\n    var options = Object.create({}, {\n      passive: {\n        get: function () {\n          passiveSupported = true;\n        }\n      }\n    });\n    window.addEventListener('test', noop, options);\n    window.removeEventListener('test', noop, options);\n  } catch (error) {\n    /* */\n  }\n\n  function addEventListener(el, evt, func, options) {\n    el.addEventListener(evt, func, passiveSupported ? options || {} : false);\n  }\n\n  function removeEventListener(el, evt, func) {\n    el.removeEventListener(evt, func, false);\n  }\n\n  function capitalizeFirstLetter(string) {\n    return string.charAt(0).toUpperCase() + string.slice(1);\n  }\n\n  // Based on underscore.js\n  function throttle(func) {\n    var context,\n        args,\n        result,\n        timeout = null,\n        previous = 0,\n        later = function () {\n      previous = getNow();\n      timeout = null;\n      result = func.apply(context, args);\n      if (!timeout) {\n        // eslint-disable-next-line no-multi-assign\n        context = args = null;\n      }\n    };\n\n    return function () {\n      var now = getNow();\n\n      if (!previous) {\n        previous = now;\n      }\n\n      var remaining = throttledTimer - (now - previous);\n\n      context = this;\n      args = arguments;\n\n      if (remaining <= 0 || remaining > throttledTimer) {\n        if (timeout) {\n          clearTimeout(timeout);\n          timeout = null;\n        }\n\n        previous = now;\n        result = func.apply(context, args);\n\n        if (!timeout) {\n          // eslint-disable-next-line no-multi-assign\n          context = args = null;\n        }\n      } else if (!timeout) {\n        timeout = setTimeout(later, remaining);\n      }\n\n      return result;\n    };\n  }\n\n  var getNow = Date.now || function () {\n    /* istanbul ignore next */ // Not testable in PhantonJS\n    return new Date().getTime();\n  };\n\n  function formatLogMsg(msg) {\n    return msgID + '[' + myID + '] ' + msg;\n  }\n\n  function log(msg) {\n    if (logging && 'object' === typeof window.console) {\n      // eslint-disable-next-line no-console\n      console.log(formatLogMsg(msg));\n    }\n  }\n\n  function warn(msg) {\n    if ('object' === typeof window.console) {\n      // eslint-disable-next-line no-console\n      console.warn(formatLogMsg(msg));\n    }\n  }\n\n  function init() {\n    readDataFromParent();\n    log('Initialising iFrame (' + location.href + ')');\n    readDataFromPage();\n    setMargin();\n    setBodyStyle('background', bodyBackground);\n    setBodyStyle('padding', bodyPadding);\n    injectClearFixIntoBodyElement();\n    checkHeightMode();\n    checkWidthMode();\n    stopInfiniteResizingOfIFrame();\n    setupPublicMethods();\n    startEventListeners();\n    inPageLinks = setupInPageLinks();\n    sendSize('init', 'Init message from host page');\n    onReady();\n  }\n\n  function readDataFromParent() {\n    function strBool(str) {\n      return 'true' === str;\n    }\n\n    var data = initMsg.substr(msgIdLen).split(':');\n\n    myID = data[0];\n    bodyMargin = undefined !== data[1] ? Number(data[1]) : bodyMargin; // For V1 compatibility\n    calculateWidth = undefined !== data[2] ? strBool(data[2]) : calculateWidth;\n    logging = undefined !== data[3] ? strBool(data[3]) : logging;\n    interval = undefined !== data[4] ? Number(data[4]) : interval;\n    autoResize = undefined !== data[6] ? strBool(data[6]) : autoResize;\n    bodyMarginStr = data[7];\n    heightCalcMode = undefined !== data[8] ? data[8] : heightCalcMode;\n    bodyBackground = data[9];\n    bodyPadding = data[10];\n    tolerance = undefined !== data[11] ? Number(data[11]) : tolerance;\n    inPageLinks.enable = undefined !== data[12] ? strBool(data[12]) : false;\n    resizeFrom = undefined !== data[13] ? data[13] : resizeFrom;\n    widthCalcMode = undefined !== data[14] ? data[14] : widthCalcMode;\n  }\n\n  function depricate(key) {\n    var splitName = key.split('Callback');\n\n    if (splitName.length === 2) {\n      var name = 'on' + splitName[0].charAt(0).toUpperCase() + splitName[0].slice(1);\n      this[name] = this[key];\n      delete this[key];\n      warn(\"Deprecated: '\" + key + \"' has been renamed '\" + name + \"'. The old method will be removed in the next major version.\");\n    }\n  }\n\n  function readDataFromPage() {\n    function readData() {\n      var data = window.iFrameResizer;\n\n      log('Reading data from page: ' + JSON.stringify(data));\n      Object.keys(data).forEach(depricate, data);\n\n      onMessage = 'onMessage' in data ? data.onMessage : onMessage;\n      onReady = 'onReady' in data ? data.onReady : onReady;\n      targetOriginDefault = 'targetOrigin' in data ? data.targetOrigin : targetOriginDefault;\n      heightCalcMode = 'heightCalculationMethod' in data ? data.heightCalculationMethod : heightCalcMode;\n      widthCalcMode = 'widthCalculationMethod' in data ? data.widthCalculationMethod : widthCalcMode;\n    }\n\n    function setupCustomCalcMethods(calcMode, calcFunc) {\n      if ('function' === typeof calcMode) {\n        log('Setup custom ' + calcFunc + 'CalcMethod');\n        customCalcMethods[calcFunc] = calcMode;\n        calcMode = 'custom';\n      }\n\n      return calcMode;\n    }\n\n    if ('iFrameResizer' in window && Object === window.iFrameResizer.constructor) {\n      readData();\n      heightCalcMode = setupCustomCalcMethods(heightCalcMode, 'height');\n      widthCalcMode = setupCustomCalcMethods(widthCalcMode, 'width');\n    }\n\n    log('TargetOrigin for parent set to: ' + targetOriginDefault);\n  }\n\n  function chkCSS(attr, value) {\n    if (-1 !== value.indexOf('-')) {\n      warn('Negative CSS value ignored for ' + attr);\n      value = '';\n    }\n    return value;\n  }\n\n  function setBodyStyle(attr, value) {\n    if (undefined !== value && '' !== value && 'null' !== value) {\n      document.body.style[attr] = value;\n      log('Body ' + attr + ' set to \"' + value + '\"');\n    }\n  }\n\n  function setMargin() {\n    // If called via V1 script, convert bodyMargin from int to str\n    if (undefined === bodyMarginStr) {\n      bodyMarginStr = bodyMargin + 'px';\n    }\n\n    setBodyStyle('margin', chkCSS('margin', bodyMarginStr));\n  }\n\n  function stopInfiniteResizingOfIFrame() {\n    document.documentElement.style.height = '';\n    document.body.style.height = '';\n    log('HTML & body height set to \"auto\"');\n  }\n\n  function manageTriggerEvent(options) {\n    var listener = {\n      add: function (eventName) {\n        function handleEvent() {\n          sendSize(options.eventName, options.eventType);\n        }\n\n        eventHandlersByName[eventName] = handleEvent;\n\n        addEventListener(window, eventName, handleEvent, { passive: true });\n      },\n      remove: function (eventName) {\n        var handleEvent = eventHandlersByName[eventName];\n        delete eventHandlersByName[eventName];\n\n        removeEventListener(window, eventName, handleEvent);\n      }\n    };\n\n    if (options.eventNames && Array.prototype.map) {\n      options.eventName = options.eventNames[0];\n      options.eventNames.map(listener[options.method]);\n    } else {\n      listener[options.method](options.eventName);\n    }\n\n    log(capitalizeFirstLetter(options.method) + ' event listener: ' + options.eventType);\n  }\n\n  function manageEventListeners(method) {\n    manageTriggerEvent({\n      method: method,\n      eventType: 'Animation Start',\n      eventNames: ['animationstart', 'webkitAnimationStart']\n    });\n    manageTriggerEvent({\n      method: method,\n      eventType: 'Animation Iteration',\n      eventNames: ['animationiteration', 'webkitAnimationIteration']\n    });\n    manageTriggerEvent({\n      method: method,\n      eventType: 'Animation End',\n      eventNames: ['animationend', 'webkitAnimationEnd']\n    });\n    manageTriggerEvent({\n      method: method,\n      eventType: 'Input',\n      eventName: 'input'\n    });\n    manageTriggerEvent({\n      method: method,\n      eventType: 'Mouse Up',\n      eventName: 'mouseup'\n    });\n    manageTriggerEvent({\n      method: method,\n      eventType: 'Mouse Down',\n      eventName: 'mousedown'\n    });\n    manageTriggerEvent({\n      method: method,\n      eventType: 'Orientation Change',\n      eventName: 'orientationchange'\n    });\n    manageTriggerEvent({\n      method: method,\n      eventType: 'Print',\n      eventName: ['afterprint', 'beforeprint']\n    });\n    manageTriggerEvent({\n      method: method,\n      eventType: 'Ready State Change',\n      eventName: 'readystatechange'\n    });\n    manageTriggerEvent({\n      method: method,\n      eventType: 'Touch Start',\n      eventName: 'touchstart'\n    });\n    manageTriggerEvent({\n      method: method,\n      eventType: 'Touch End',\n      eventName: 'touchend'\n    });\n    manageTriggerEvent({\n      method: method,\n      eventType: 'Touch Cancel',\n      eventName: 'touchcancel'\n    });\n    manageTriggerEvent({\n      method: method,\n      eventType: 'Transition Start',\n      eventNames: ['transitionstart', 'webkitTransitionStart', 'MSTransitionStart', 'oTransitionStart', 'otransitionstart']\n    });\n    manageTriggerEvent({\n      method: method,\n      eventType: 'Transition Iteration',\n      eventNames: ['transitioniteration', 'webkitTransitionIteration', 'MSTransitionIteration', 'oTransitionIteration', 'otransitioniteration']\n    });\n    manageTriggerEvent({\n      method: method,\n      eventType: 'Transition End',\n      eventNames: ['transitionend', 'webkitTransitionEnd', 'MSTransitionEnd', 'oTransitionEnd', 'otransitionend']\n    });\n    if ('child' === resizeFrom) {\n      manageTriggerEvent({\n        method: method,\n        eventType: 'IFrame Resized',\n        eventName: 'resize'\n      });\n    }\n  }\n\n  function checkCalcMode(calcMode, calcModeDefault, modes, type) {\n    if (calcModeDefault !== calcMode) {\n      if (!(calcMode in modes)) {\n        warn(calcMode + ' is not a valid option for ' + type + 'CalculationMethod.');\n        calcMode = calcModeDefault;\n      }\n      log(type + ' calculation method set to \"' + calcMode + '\"');\n    }\n\n    return calcMode;\n  }\n\n  function checkHeightMode() {\n    heightCalcMode = checkCalcMode(heightCalcMode, heightCalcModeDefault, getHeight, 'height');\n  }\n\n  function checkWidthMode() {\n    widthCalcMode = checkCalcMode(widthCalcMode, widthCalcModeDefault, getWidth, 'width');\n  }\n\n  function startEventListeners() {\n    if (true === autoResize) {\n      manageEventListeners('add');\n      setupMutationObserver();\n    } else {\n      log('Auto Resize disabled');\n    }\n  }\n\n  function stopMsgsToParent() {\n    log('Disable outgoing messages');\n    sendPermit = false;\n  }\n\n  function removeMsgListener() {\n    log('Remove event listener: Message');\n    removeEventListener(window, 'message', receiver);\n  }\n\n  function disconnectMutationObserver() {\n    if (null !== bodyObserver) {\n      /* istanbul ignore next */ // Not testable in PhantonJS\n      bodyObserver.disconnect();\n    }\n  }\n\n  function stopEventListeners() {\n    manageEventListeners('remove');\n    disconnectMutationObserver();\n    clearInterval(intervalTimer);\n  }\n\n  function teardown() {\n    stopMsgsToParent();\n    removeMsgListener();\n    if (true === autoResize) stopEventListeners();\n  }\n\n  function injectClearFixIntoBodyElement() {\n    var clearFix = document.createElement('div');\n    clearFix.style.clear = 'both';\n    // Guard against the following having been globally redefined in CSS.\n    clearFix.style.display = 'block';\n    clearFix.style.height = '0';\n    document.body.appendChild(clearFix);\n  }\n\n  function setupInPageLinks() {\n    function getPagePosition() {\n      return {\n        x: window.pageXOffset !== undefined ? window.pageXOffset : document.documentElement.scrollLeft,\n        y: window.pageYOffset !== undefined ? window.pageYOffset : document.documentElement.scrollTop\n      };\n    }\n\n    function getElementPosition(el) {\n      var elPosition = el.getBoundingClientRect(),\n          pagePosition = getPagePosition();\n\n      return {\n        x: parseInt(elPosition.left, 10) + parseInt(pagePosition.x, 10),\n        y: parseInt(elPosition.top, 10) + parseInt(pagePosition.y, 10)\n      };\n    }\n\n    function findTarget(location) {\n      function jumpToTarget(target) {\n        var jumpPosition = getElementPosition(target);\n\n        log('Moving to in page link (#' + hash + ') at x: ' + jumpPosition.x + ' y: ' + jumpPosition.y);\n        sendMsg(jumpPosition.y, jumpPosition.x, 'scrollToOffset'); // X&Y reversed at sendMsg uses height/width\n      }\n\n      var hash = location.split('#')[1] || location,\n          // Remove # if present\n      hashData = decodeURIComponent(hash),\n          target = document.getElementById(hashData) || document.getElementsByName(hashData)[0];\n\n      if (undefined !== target) {\n        jumpToTarget(target);\n      } else {\n        log('In page link (#' + hash + ') not found in iFrame, so sending to parent');\n        sendMsg(0, 0, 'inPageLink', '#' + hash);\n      }\n    }\n\n    function checkLocationHash() {\n      if ('' !== location.hash && '#' !== location.hash) {\n        findTarget(location.href);\n      }\n    }\n\n    function bindAnchors() {\n      function setupLink(el) {\n        function linkClicked(e) {\n          e.preventDefault();\n\n          /* jshint validthis:true */\n          findTarget(this.getAttribute('href'));\n        }\n\n        if ('#' !== el.getAttribute('href')) {\n          addEventListener(el, 'click', linkClicked);\n        }\n      }\n\n      Array.prototype.forEach.call(document.querySelectorAll('a[href^=\"#\"]'), setupLink);\n    }\n\n    function bindLocationHash() {\n      addEventListener(window, 'hashchange', checkLocationHash);\n    }\n\n    function initCheck() {\n      // Check if page loaded with location hash after init resize\n      setTimeout(checkLocationHash, eventCancelTimer);\n    }\n\n    function enableInPageLinks() {\n      /* istanbul ignore else */ // Not testable in phantonJS\n      if (Array.prototype.forEach && document.querySelectorAll) {\n        log('Setting up location.hash handlers');\n        bindAnchors();\n        bindLocationHash();\n        initCheck();\n      } else {\n        warn('In page linking not fully supported in this browser! (See README.md for IE8 workaround)');\n      }\n    }\n\n    if (inPageLinks.enable) {\n      enableInPageLinks();\n    } else {\n      log('In page linking not enabled');\n    }\n\n    return {\n      findTarget: findTarget\n    };\n  }\n\n  function setupPublicMethods() {\n    log('Enable public methods');\n\n    win.parentIFrame = {\n      autoResize: function autoResizeF(resize) {\n        if (true === resize && false === autoResize) {\n          autoResize = true;\n          startEventListeners();\n        } else if (false === resize && true === autoResize) {\n          autoResize = false;\n          stopEventListeners();\n        }\n\n        return autoResize;\n      },\n\n      close: function closeF() {\n        sendMsg(0, 0, 'close');\n        teardown();\n      },\n\n      getId: function getIdF() {\n        return myID;\n      },\n\n      getPageInfo: function getPageInfoF(callback) {\n        if ('function' === typeof callback) {\n          onPageInfo = callback;\n          sendMsg(0, 0, 'pageInfo');\n        } else {\n          onPageInfo = function () {};\n          sendMsg(0, 0, 'pageInfoStop');\n        }\n      },\n\n      moveToAnchor: function moveToAnchorF(hash) {\n        inPageLinks.findTarget(hash);\n      },\n\n      reset: function resetF() {\n        resetIFrame('parentIFrame.reset');\n      },\n\n      scrollTo: function scrollToF(x, y) {\n        sendMsg(y, x, 'scrollTo'); // X&Y reversed at sendMsg uses height/width\n      },\n\n      scrollToOffset: function scrollToF(x, y) {\n        sendMsg(y, x, 'scrollToOffset'); // X&Y reversed at sendMsg uses height/width\n      },\n\n      sendMessage: function sendMessageF(msg, targetOrigin) {\n        sendMsg(0, 0, 'message', JSON.stringify(msg), targetOrigin);\n      },\n\n      setHeightCalculationMethod: function setHeightCalculationMethodF(heightCalculationMethod) {\n        heightCalcMode = heightCalculationMethod;\n        checkHeightMode();\n      },\n\n      setWidthCalculationMethod: function setWidthCalculationMethodF(widthCalculationMethod) {\n        widthCalcMode = widthCalculationMethod;\n        checkWidthMode();\n      },\n\n      setTargetOrigin: function setTargetOriginF(targetOrigin) {\n        log('Set targetOrigin: ' + targetOrigin);\n        targetOriginDefault = targetOrigin;\n      },\n\n      size: function sizeF(customHeight, customWidth) {\n        var valString = '' + (customHeight || '') + (customWidth ? ',' + customWidth : '');\n        sendSize('size', 'parentIFrame.size(' + valString + ')', customHeight, customWidth);\n      }\n    };\n  }\n\n  function initInterval() {\n    if (0 !== interval) {\n      log('setInterval: ' + interval + 'ms');\n      intervalTimer = setInterval(function () {\n        sendSize('interval', 'setInterval: ' + interval);\n      }, Math.abs(interval));\n    }\n  }\n\n  // Not testable in PhantomJS\n  /* istanbul ignore next */\n  function setupBodyMutationObserver() {\n    function addImageLoadListners(mutation) {\n      function addImageLoadListener(element) {\n        if (false === element.complete) {\n          log('Attach listeners to ' + element.src);\n          element.addEventListener('load', imageLoaded, false);\n          element.addEventListener('error', imageError, false);\n          elements.push(element);\n        }\n      }\n\n      if (mutation.type === 'attributes' && mutation.attributeName === 'src') {\n        addImageLoadListener(mutation.target);\n      } else if (mutation.type === 'childList') {\n        Array.prototype.forEach.call(mutation.target.querySelectorAll('img'), addImageLoadListener);\n      }\n    }\n\n    function removeFromArray(element) {\n      elements.splice(elements.indexOf(element), 1);\n    }\n\n    function removeImageLoadListener(element) {\n      log('Remove listeners from ' + element.src);\n      element.removeEventListener('load', imageLoaded, false);\n      element.removeEventListener('error', imageError, false);\n      removeFromArray(element);\n    }\n\n    function imageEventTriggered(event, type, typeDesc) {\n      removeImageLoadListener(event.target);\n      sendSize(type, typeDesc + ': ' + event.target.src, undefined, undefined);\n    }\n\n    function imageLoaded(event) {\n      imageEventTriggered(event, 'imageLoad', 'Image loaded');\n    }\n\n    function imageError(event) {\n      imageEventTriggered(event, 'imageLoadFailed', 'Image load failed');\n    }\n\n    function mutationObserved(mutations) {\n      sendSize('mutationObserver', 'mutationObserver: ' + mutations[0].target + ' ' + mutations[0].type);\n\n      // Deal with WebKit / Blink asyncing image loading when tags are injected into the page\n      mutations.forEach(addImageLoadListners);\n    }\n\n    function createMutationObserver() {\n      var target = document.querySelector('body'),\n          config = {\n        attributes: true,\n        attributeOldValue: false,\n        characterData: true,\n        characterDataOldValue: false,\n        childList: true,\n        subtree: true\n      };\n\n      observer = new MutationObserver(mutationObserved);\n\n      log('Create body MutationObserver');\n      observer.observe(target, config);\n\n      return observer;\n    }\n\n    var elements = [],\n        MutationObserver = window.MutationObserver || window.WebKitMutationObserver,\n        observer = createMutationObserver();\n\n    return {\n      disconnect: function () {\n        if ('disconnect' in observer) {\n          log('Disconnect body MutationObserver');\n          observer.disconnect();\n          elements.forEach(removeImageLoadListener);\n        }\n      }\n    };\n  }\n\n  function setupMutationObserver() {\n    var forceIntervalTimer = 0 > interval;\n\n    // Not testable in PhantomJS\n    /* istanbul ignore if */if (window.MutationObserver || window.WebKitMutationObserver) {\n      if (forceIntervalTimer) {\n        initInterval();\n      } else {\n        bodyObserver = setupBodyMutationObserver();\n      }\n    } else {\n      log('MutationObserver not supported in this browser!');\n      initInterval();\n    }\n  }\n\n  // document.documentElement.offsetHeight is not reliable, so\n  // we have to jump through hoops to get a better value.\n  function getComputedStyle(prop, el) {\n    var retVal = 0;\n    el = el || document.body; // Not testable in phantonJS\n\n    retVal = document.defaultView.getComputedStyle(el, null);\n    retVal = null !== retVal ? retVal[prop] : 0;\n\n    return parseInt(retVal, base);\n  }\n\n  function chkEventThottle(timer) {\n    if (timer > throttledTimer / 2) {\n      throttledTimer = 2 * timer;\n      log('Event throttle increased to ' + throttledTimer + 'ms');\n    }\n  }\n\n  // Idea from https://github.com/guardian/iframe-messenger\n  function getMaxElement(side, elements) {\n    var elementsLength = elements.length,\n        elVal = 0,\n        maxVal = 0,\n        Side = capitalizeFirstLetter(side),\n        timer = getNow();\n\n    for (var i = 0; i < elementsLength; i++) {\n      elVal = elements[i].getBoundingClientRect()[side] + getComputedStyle('margin' + Side, elements[i]);\n      if (elVal > maxVal) {\n        maxVal = elVal;\n      }\n    }\n\n    timer = getNow() - timer;\n\n    log('Parsed ' + elementsLength + ' HTML elements');\n    log('Element position calculated in ' + timer + 'ms');\n\n    chkEventThottle(timer);\n\n    return maxVal;\n  }\n\n  function getAllMeasurements(dimention) {\n    return [dimention.bodyOffset(), dimention.bodyScroll(), dimention.documentElementOffset(), dimention.documentElementScroll()];\n  }\n\n  function getTaggedElements(side, tag) {\n    function noTaggedElementsFound() {\n      warn('No tagged elements (' + tag + ') found on page');\n      return document.querySelectorAll('body *');\n    }\n\n    var elements = document.querySelectorAll('[' + tag + ']');\n\n    if (0 === elements.length) noTaggedElementsFound();\n\n    return getMaxElement(side, elements);\n  }\n\n  function getAllElements() {\n    return document.querySelectorAll('body *');\n  }\n\n  var getHeight = {\n    bodyOffset: function getBodyOffsetHeight() {\n      return document.body.offsetHeight + getComputedStyle('marginTop') + getComputedStyle('marginBottom');\n    },\n\n    offset: function () {\n      return getHeight.bodyOffset(); // Backwards compatability\n    },\n\n    bodyScroll: function getBodyScrollHeight() {\n      return document.body.scrollHeight;\n    },\n\n    custom: function getCustomWidth() {\n      return customCalcMethods.height();\n    },\n\n    documentElementOffset: function getDEOffsetHeight() {\n      return document.documentElement.offsetHeight;\n    },\n\n    documentElementScroll: function getDEScrollHeight() {\n      return document.documentElement.scrollHeight;\n    },\n\n    max: function getMaxHeight() {\n      return Math.max.apply(null, getAllMeasurements(getHeight));\n    },\n\n    min: function getMinHeight() {\n      return Math.min.apply(null, getAllMeasurements(getHeight));\n    },\n\n    grow: function growHeight() {\n      return getHeight.max(); // Run max without the forced downsizing\n    },\n\n    lowestElement: function getBestHeight() {\n      return Math.max(getHeight.bodyOffset() || getHeight.documentElementOffset(), getMaxElement('bottom', getAllElements()));\n    },\n\n    taggedElement: function getTaggedElementsHeight() {\n      return getTaggedElements('bottom', 'data-iframe-height');\n    }\n  },\n      getWidth = {\n    bodyScroll: function getBodyScrollWidth() {\n      return document.body.scrollWidth;\n    },\n\n    bodyOffset: function getBodyOffsetWidth() {\n      return document.body.offsetWidth;\n    },\n\n    custom: function getCustomWidth() {\n      return customCalcMethods.width();\n    },\n\n    documentElementScroll: function getDEScrollWidth() {\n      return document.documentElement.scrollWidth;\n    },\n\n    documentElementOffset: function getDEOffsetWidth() {\n      return document.documentElement.offsetWidth;\n    },\n\n    scroll: function getMaxWidth() {\n      return Math.max(getWidth.bodyScroll(), getWidth.documentElementScroll());\n    },\n\n    max: function getMaxWidth() {\n      return Math.max.apply(null, getAllMeasurements(getWidth));\n    },\n\n    min: function getMinWidth() {\n      return Math.min.apply(null, getAllMeasurements(getWidth));\n    },\n\n    rightMostElement: function rightMostElement() {\n      return getMaxElement('right', getAllElements());\n    },\n\n    taggedElement: function getTaggedElementsWidth() {\n      return getTaggedElements('right', 'data-iframe-width');\n    }\n  };\n\n  function sizeIFrame(triggerEvent, triggerEventDesc, customHeight, customWidth) {\n    function resizeIFrame() {\n      height = currentHeight;\n      width = currentWidth;\n\n      sendMsg(height, width, triggerEvent);\n    }\n\n    function isSizeChangeDetected() {\n      function checkTolarance(a, b) {\n        var retVal = Math.abs(a - b) <= tolerance;\n        return !retVal;\n      }\n\n      currentHeight = undefined !== customHeight ? customHeight : getHeight[heightCalcMode]();\n      currentWidth = undefined !== customWidth ? customWidth : getWidth[widthCalcMode]();\n\n      return checkTolarance(height, currentHeight) || calculateWidth && checkTolarance(width, currentWidth);\n    }\n\n    function isForceResizableEvent() {\n      return !(triggerEvent in { init: 1, interval: 1, size: 1 });\n    }\n\n    function isForceResizableCalcMode() {\n      return heightCalcMode in resetRequiredMethods || calculateWidth && widthCalcMode in resetRequiredMethods;\n    }\n\n    function logIgnored() {\n      log('No change in size detected');\n    }\n\n    function checkDownSizing() {\n      if (isForceResizableEvent() && isForceResizableCalcMode()) {\n        resetIFrame(triggerEventDesc);\n      } else if (!(triggerEvent in { interval: 1 })) {\n        logIgnored();\n      }\n    }\n\n    var currentHeight, currentWidth;\n\n    if (isSizeChangeDetected() || 'init' === triggerEvent) {\n      lockTrigger();\n      resizeIFrame();\n    } else {\n      checkDownSizing();\n    }\n  }\n\n  var sizeIFrameThrottled = throttle(sizeIFrame);\n\n  function sendSize(triggerEvent, triggerEventDesc, customHeight, customWidth) {\n    function recordTrigger() {\n      if (!(triggerEvent in { reset: 1, resetPage: 1, init: 1 })) {\n        log('Trigger event: ' + triggerEventDesc);\n      }\n    }\n\n    function isDoubleFiredEvent() {\n      return triggerLocked && triggerEvent in doubleEventList;\n    }\n\n    if (!isDoubleFiredEvent()) {\n      recordTrigger();\n      if (triggerEvent === 'init') {\n        sizeIFrame(triggerEvent, triggerEventDesc, customHeight, customWidth);\n      } else {\n        sizeIFrameThrottled(triggerEvent, triggerEventDesc, customHeight, customWidth);\n      }\n    } else {\n      log('Trigger event cancelled: ' + triggerEvent);\n    }\n  }\n\n  function lockTrigger() {\n    if (!triggerLocked) {\n      triggerLocked = true;\n      log('Trigger event lock on');\n    }\n    clearTimeout(triggerLockedTimer);\n    triggerLockedTimer = setTimeout(function () {\n      triggerLocked = false;\n      log('Trigger event lock off');\n      log('--');\n    }, eventCancelTimer);\n  }\n\n  function triggerReset(triggerEvent) {\n    height = getHeight[heightCalcMode]();\n    width = getWidth[widthCalcMode]();\n\n    sendMsg(height, width, triggerEvent);\n  }\n\n  function resetIFrame(triggerEventDesc) {\n    var hcm = heightCalcMode;\n    heightCalcMode = heightCalcModeDefault;\n\n    log('Reset trigger event: ' + triggerEventDesc);\n    lockTrigger();\n    triggerReset('reset');\n\n    heightCalcMode = hcm;\n  }\n\n  function sendMsg(height, width, triggerEvent, msg, targetOrigin) {\n    function setTargetOrigin() {\n      if (undefined === targetOrigin) {\n        targetOrigin = targetOriginDefault;\n      } else {\n        log('Message targetOrigin: ' + targetOrigin);\n      }\n    }\n\n    function sendToParent() {\n      var size = height + ':' + width,\n          message = myID + ':' + size + ':' + triggerEvent + (undefined !== msg ? ':' + msg : '');\n\n      log('Sending message to host page (' + message + ')');\n      target.postMessage(msgID + message, targetOrigin);\n    }\n\n    if (true === sendPermit) {\n      setTargetOrigin();\n      sendToParent();\n    }\n  }\n\n  function receiver(event) {\n    var processRequestFromParent = {\n      init: function initFromParent() {\n        initMsg = event.data;\n        target = event.source;\n\n        init();\n        firstRun = false;\n        setTimeout(function () {\n          initLock = false;\n        }, eventCancelTimer);\n      },\n\n      reset: function resetFromParent() {\n        if (!initLock) {\n          log('Page size reset by host page');\n          triggerReset('resetPage');\n        } else {\n          log('Page reset ignored by init');\n        }\n      },\n\n      resize: function resizeFromParent() {\n        sendSize('resizeParent', 'Parent window requested size check');\n      },\n\n      moveToAnchor: function moveToAnchorF() {\n        inPageLinks.findTarget(getData());\n      },\n      inPageLink: function inPageLinkF() {\n        this.moveToAnchor();\n      }, // Backward compatability\n\n      pageInfo: function pageInfoFromParent() {\n        var msgBody = getData();\n        log('PageInfoFromParent called from parent: ' + msgBody);\n        onPageInfo(JSON.parse(msgBody));\n        log(' --');\n      },\n\n      message: function messageFromParent() {\n        var msgBody = getData();\n\n        log('onMessage called from parent: ' + msgBody);\n        // eslint-disable-next-line sonarjs/no-extra-arguments\n        onMessage(JSON.parse(msgBody));\n        log(' --');\n      }\n    };\n\n    function isMessageForUs() {\n      return msgID === ('' + event.data).substr(0, msgIdLen); // ''+ Protects against non-string messages\n    }\n\n    function getMessageType() {\n      return event.data.split(']')[1].split(':')[0];\n    }\n\n    function getData() {\n      return event.data.substr(event.data.indexOf(':') + 1);\n    }\n\n    function isMiddleTier() {\n      return !(typeof module !== 'undefined' && module.exports) && 'iFrameResize' in window || 'jQuery' in window && 'iFrameResize' in window.jQuery.prototype;\n    }\n\n    function isInitMsg() {\n      // Test if this message is from a child below us. This is an ugly test, however, updating\n      // the message format would break backwards compatibity.\n      return event.data.split(':')[2] in { true: 1, false: 1 };\n    }\n\n    function callFromParent() {\n      var messageType = getMessageType();\n\n      if (messageType in processRequestFromParent) {\n        processRequestFromParent[messageType]();\n      } else if (!isMiddleTier() && !isInitMsg()) {\n        warn('Unexpected message (' + event.data + ')');\n      }\n    }\n\n    function processMessage() {\n      if (false === firstRun) {\n        callFromParent();\n      } else if (isInitMsg()) {\n        processRequestFromParent.init();\n      } else {\n        log('Ignored message of type \"' + getMessageType() + '\". Received before initialization.');\n      }\n    }\n\n    if (isMessageForUs()) {\n      processMessage();\n    }\n  }\n\n  // Normally the parent kicks things off when it detects the iFrame has loaded.\n  // If this script is async-loaded, then tell parent page to retry init.\n  function chkLateLoaded() {\n    if ('loading' !== document.readyState) {\n      window.parent.postMessage('[iFrameResizerChild]Ready', '*');\n    }\n  }\n\n  addEventListener(window, 'message', receiver);\n  addEventListener(window, 'readystatechange', chkLateLoaded);\n  chkLateLoaded();\n})();\n/*! iFrame Resizer (iframeSizer.contentWindow.min.js) - v4.0.4 - 2019-03-04\n *  Desc: Include this file in any page being loaded into an iframe\n *        to force the iframe to resize to the content size.\n *  Requires: iframeResizer.min.js on host page.\n *  Copyright: (c) 2019 David J. Bradshaw - dave@bradshaw.net\n *  License: MIT\n */\n\n!function (l) {\n  if (\"undefined\" != typeof window) {\n    var n = !0,\n        o = 10,\n        i = \"\",\n        r = 0,\n        a = \"\",\n        t = null,\n        u = \"\",\n        c = !1,\n        s = { resize: 1, click: 1 },\n        d = 128,\n        f = !0,\n        m = 1,\n        h = \"bodyOffset\",\n        g = h,\n        p = !0,\n        v = \"\",\n        y = {},\n        b = 32,\n        e = null,\n        w = !1,\n        T = \"[iFrameSizer]\",\n        E = T.length,\n        O = \"\",\n        S = { max: 1, min: 1, bodyScroll: 1, documentElementScroll: 1 },\n        M = \"child\",\n        I = !0,\n        N = window.parent,\n        A = \"*\",\n        C = 0,\n        k = !1,\n        z = null,\n        R = 16,\n        x = 1,\n        L = \"scroll\",\n        F = L,\n        P = window,\n        D = function () {\n      ue(\"onMessage function not defined\");\n    },\n        j = function () {},\n        q = function () {},\n        H = { height: function () {\n        return ue(\"Custom height calculation function not defined\"), document.documentElement.offsetHeight;\n      }, width: function () {\n        return ue(\"Custom width calculation function not defined\"), document.body.scrollWidth;\n      } },\n        W = {},\n        B = !1;try {\n      var U = Object.create({}, { passive: { get: function () {\n            B = !0;\n          } } });window.addEventListener(\"test\", te, U), window.removeEventListener(\"test\", te, U);\n    } catch (e) {}var J,\n        V,\n        K,\n        Q,\n        X,\n        Y,\n        G,\n        Z = Date.now || function () {\n      return new Date().getTime();\n    },\n        $ = { bodyOffset: function () {\n        return document.body.offsetHeight + be(\"marginTop\") + be(\"marginBottom\");\n      }, offset: function () {\n        return $.bodyOffset();\n      }, bodyScroll: function () {\n        return document.body.scrollHeight;\n      }, custom: function () {\n        return H.height();\n      }, documentElementOffset: function () {\n        return document.documentElement.offsetHeight;\n      }, documentElementScroll: function () {\n        return document.documentElement.scrollHeight;\n      }, max: function () {\n        return Math.max.apply(null, Te($));\n      }, min: function () {\n        return Math.min.apply(null, Te($));\n      }, grow: function () {\n        return $.max();\n      }, lowestElement: function () {\n        return Math.max($.bodyOffset() || $.documentElementOffset(), we(\"bottom\", Oe()));\n      }, taggedElement: function () {\n        return Ee(\"bottom\", \"data-iframe-height\");\n      } },\n        _ = { bodyScroll: function () {\n        return document.body.scrollWidth;\n      }, bodyOffset: function () {\n        return document.body.offsetWidth;\n      }, custom: function () {\n        return H.width();\n      }, documentElementScroll: function () {\n        return document.documentElement.scrollWidth;\n      }, documentElementOffset: function () {\n        return document.documentElement.offsetWidth;\n      }, scroll: function () {\n        return Math.max(_.bodyScroll(), _.documentElementScroll());\n      }, max: function () {\n        return Math.max.apply(null, Te(_));\n      }, min: function () {\n        return Math.min.apply(null, Te(_));\n      }, rightMostElement: function () {\n        return we(\"right\", Oe());\n      }, taggedElement: function () {\n        return Ee(\"right\", \"data-iframe-width\");\n      } },\n        ee = (J = Se, X = null, Y = 0, G = function () {\n      Y = Z(), X = null, Q = J.apply(V, K), X || (V = K = null);\n    }, function () {\n      var e = Z();Y || (Y = e);var t = R - (e - Y);return V = this, K = arguments, t <= 0 || R < t ? (X && (clearTimeout(X), X = null), Y = e, Q = J.apply(V, K), X || (V = K = null)) : X || (X = setTimeout(G, t)), Q;\n    });ne(window, \"message\", ke), ne(window, \"readystatechange\", ze), ze();\n  }function te() {}function ne(e, t, n, o) {\n    e.addEventListener(t, n, !!B && (o || {}));\n  }function oe(e, t, n) {\n    e.removeEventListener(t, n, !1);\n  }function ie(e) {\n    return e.charAt(0).toUpperCase() + e.slice(1);\n  }function re(e) {\n    return T + \"[\" + O + \"] \" + e;\n  }function ae(e) {\n    w && \"object\" == typeof window.console && console.log(re(e));\n  }function ue(e) {\n    \"object\" == typeof window.console && console.warn(re(e));\n  }function ce() {\n    var e;!function () {\n      function e(e) {\n        return \"true\" === e;\n      }var t = v.substr(E).split(\":\");O = t[0], r = l !== t[1] ? Number(t[1]) : r, c = l !== t[2] ? e(t[2]) : c, w = l !== t[3] ? e(t[3]) : w, b = l !== t[4] ? Number(t[4]) : b, n = l !== t[6] ? e(t[6]) : n, a = t[7], g = l !== t[8] ? t[8] : g, i = t[9], u = t[10], C = l !== t[11] ? Number(t[11]) : C, y.enable = l !== t[12] && e(t[12]), M = l !== t[13] ? t[13] : M, F = l !== t[14] ? t[14] : F;\n    }(), ae(\"Initialising iFrame (\" + location.href + \")\"), function () {\n      function e(e, t) {\n        return \"function\" == typeof e && (ae(\"Setup custom \" + t + \"CalcMethod\"), H[t] = e, e = \"custom\"), e;\n      }\"iFrameResizer\" in window && Object === window.iFrameResizer.constructor && (t = window.iFrameResizer, ae(\"Reading data from page: \" + JSON.stringify(t)), Object.keys(t).forEach(se, t), D = \"onMessage\" in t ? t.onMessage : D, j = \"onReady\" in t ? t.onReady : j, A = \"targetOrigin\" in t ? t.targetOrigin : A, g = \"heightCalculationMethod\" in t ? t.heightCalculationMethod : g, F = \"widthCalculationMethod\" in t ? t.widthCalculationMethod : F, g = e(g, \"height\"), F = e(F, \"width\"));var t;ae(\"TargetOrigin for parent set to: \" + A);\n    }(), function () {\n      l === a && (a = r + \"px\");de(\"margin\", function (e, t) {\n        -1 !== t.indexOf(\"-\") && (ue(\"Negative CSS value ignored for \" + e), t = \"\");return t;\n      }(\"margin\", a));\n    }(), de(\"background\", i), de(\"padding\", u), (e = document.createElement(\"div\")).style.clear = \"both\", e.style.display = \"block\", e.style.height = \"0\", document.body.appendChild(e), he(), ge(), document.documentElement.style.height = \"\", document.body.style.height = \"\", ae('HTML & body height set to \"auto\"'), ae(\"Enable public methods\"), P.parentIFrame = { autoResize: function (e) {\n        return !0 === e && !1 === n ? (n = !0, pe()) : !1 === e && !0 === n && (n = !1, ve()), n;\n      }, close: function () {\n        Ce(0, 0, \"close\"), ae(\"Disable outgoing messages\"), I = !1, ae(\"Remove event listener: Message\"), oe(window, \"message\", ke), !0 === n && ve();\n      }, getId: function () {\n        return O;\n      }, getPageInfo: function (e) {\n        \"function\" == typeof e ? (q = e, Ce(0, 0, \"pageInfo\")) : (q = function () {}, Ce(0, 0, \"pageInfoStop\"));\n      }, moveToAnchor: function (e) {\n        y.findTarget(e);\n      }, reset: function () {\n        Ae(\"parentIFrame.reset\");\n      }, scrollTo: function (e, t) {\n        Ce(t, e, \"scrollTo\");\n      }, scrollToOffset: function (e, t) {\n        Ce(t, e, \"scrollToOffset\");\n      }, sendMessage: function (e, t) {\n        Ce(0, 0, \"message\", JSON.stringify(e), t);\n      }, setHeightCalculationMethod: function (e) {\n        g = e, he();\n      }, setWidthCalculationMethod: function (e) {\n        F = e, ge();\n      }, setTargetOrigin: function (e) {\n        ae(\"Set targetOrigin: \" + e), A = e;\n      }, size: function (e, t) {\n        var n = (e || \"\") + (t ? \",\" + t : \"\");Me(\"size\", \"parentIFrame.size(\" + n + \")\", e, t);\n      } }, pe(), y = function () {\n      function r(e) {\n        var t = e.getBoundingClientRect(),\n            n = { x: window.pageXOffset !== l ? window.pageXOffset : document.documentElement.scrollLeft, y: window.pageYOffset !== l ? window.pageYOffset : document.documentElement.scrollTop };return { x: parseInt(t.left, 10) + parseInt(n.x, 10), y: parseInt(t.top, 10) + parseInt(n.y, 10) };\n      }function n(e) {\n        var t,\n            n = e.split(\"#\")[1] || e,\n            o = decodeURIComponent(n),\n            i = document.getElementById(o) || document.getElementsByName(o)[0];l !== i ? (t = r(i), ae(\"Moving to in page link (#\" + n + \") at x: \" + t.x + \" y: \" + t.y), Ce(t.y, t.x, \"scrollToOffset\")) : (ae(\"In page link (#\" + n + \") not found in iFrame, so sending to parent\"), Ce(0, 0, \"inPageLink\", \"#\" + n));\n      }function e() {\n        \"\" !== location.hash && \"#\" !== location.hash && n(location.href);\n      }function t() {\n        Array.prototype.forEach.call(document.querySelectorAll('a[href^=\"#\"]'), function (e) {\n          function t(e) {\n            e.preventDefault(), n(this.getAttribute(\"href\"));\n          }\"#\" !== e.getAttribute(\"href\") && ne(e, \"click\", t);\n        });\n      }y.enable ? Array.prototype.forEach && document.querySelectorAll ? (ae(\"Setting up location.hash handlers\"), t(), ne(window, \"hashchange\", e), setTimeout(e, d)) : ue(\"In page linking not fully supported in this browser! (See README.md for IE8 workaround)\") : ae(\"In page linking not enabled\");return { findTarget: n };\n    }(), Me(\"init\", \"Init message from host page\"), j();\n  }function se(e) {\n    var t = e.split(\"Callback\");if (2 === t.length) {\n      var n = \"on\" + t[0].charAt(0).toUpperCase() + t[0].slice(1);this[n] = this[e], delete this[e], ue(\"Deprecated: '\" + e + \"' has been renamed '\" + n + \"'. The old method will be removed in the next major version.\");\n    }\n  }function de(e, t) {\n    l !== t && \"\" !== t && \"null\" !== t && ae(\"Body \" + e + ' set to \"' + (document.body.style[e] = t) + '\"');\n  }function le(n) {\n    var e = { add: function (e) {\n        function t() {\n          Me(n.eventName, n.eventType);\n        }W[e] = t, ne(window, e, t, { passive: !0 });\n      }, remove: function (e) {\n        var t = W[e];delete W[e], oe(window, e, t);\n      } };n.eventNames && Array.prototype.map ? (n.eventName = n.eventNames[0], n.eventNames.map(e[n.method])) : e[n.method](n.eventName), ae(ie(n.method) + \" event listener: \" + n.eventType);\n  }function fe(e) {\n    le({ method: e, eventType: \"Animation Start\", eventNames: [\"animationstart\", \"webkitAnimationStart\"] }), le({ method: e, eventType: \"Animation Iteration\", eventNames: [\"animationiteration\", \"webkitAnimationIteration\"] }), le({ method: e, eventType: \"Animation End\", eventNames: [\"animationend\", \"webkitAnimationEnd\"] }), le({ method: e, eventType: \"Input\", eventName: \"input\" }), le({ method: e, eventType: \"Mouse Up\", eventName: \"mouseup\" }), le({ method: e, eventType: \"Mouse Down\", eventName: \"mousedown\" }), le({ method: e, eventType: \"Orientation Change\", eventName: \"orientationchange\" }), le({ method: e, eventType: \"Print\", eventName: [\"afterprint\", \"beforeprint\"] }), le({ method: e, eventType: \"Ready State Change\", eventName: \"readystatechange\" }), le({ method: e, eventType: \"Touch Start\", eventName: \"touchstart\" }), le({ method: e, eventType: \"Touch End\", eventName: \"touchend\" }), le({ method: e, eventType: \"Touch Cancel\", eventName: \"touchcancel\" }), le({ method: e, eventType: \"Transition Start\", eventNames: [\"transitionstart\", \"webkitTransitionStart\", \"MSTransitionStart\", \"oTransitionStart\", \"otransitionstart\"] }), le({ method: e, eventType: \"Transition Iteration\", eventNames: [\"transitioniteration\", \"webkitTransitionIteration\", \"MSTransitionIteration\", \"oTransitionIteration\", \"otransitioniteration\"] }), le({ method: e, eventType: \"Transition End\", eventNames: [\"transitionend\", \"webkitTransitionEnd\", \"MSTransitionEnd\", \"oTransitionEnd\", \"otransitionend\"] }), \"child\" === M && le({ method: e, eventType: \"IFrame Resized\", eventName: \"resize\" });\n  }function me(e, t, n, o) {\n    return t !== e && (e in n || (ue(e + \" is not a valid option for \" + o + \"CalculationMethod.\"), e = t), ae(o + ' calculation method set to \"' + e + '\"')), e;\n  }function he() {\n    g = me(g, h, $, \"height\");\n  }function ge() {\n    F = me(F, L, _, \"width\");\n  }function pe() {\n    var e;!0 === n ? (fe(\"add\"), e = b < 0, window.MutationObserver || window.WebKitMutationObserver ? e ? ye() : t = function () {\n      function t(e) {\n        function t(e) {\n          !1 === e.complete && (ae(\"Attach listeners to \" + e.src), e.addEventListener(\"load\", i, !1), e.addEventListener(\"error\", r, !1), c.push(e));\n        }\"attributes\" === e.type && \"src\" === e.attributeName ? t(e.target) : \"childList\" === e.type && Array.prototype.forEach.call(e.target.querySelectorAll(\"img\"), t);\n      }function o(e) {\n        var t;ae(\"Remove listeners from \" + e.src), e.removeEventListener(\"load\", i, !1), e.removeEventListener(\"error\", r, !1), t = e, c.splice(c.indexOf(t), 1);\n      }function n(e, t, n) {\n        o(e.target), Me(t, n + \": \" + e.target.src, l, l);\n      }function i(e) {\n        n(e, \"imageLoad\", \"Image loaded\");\n      }function r(e) {\n        n(e, \"imageLoadFailed\", \"Image load failed\");\n      }function e(e) {\n        Me(\"mutationObserver\", \"mutationObserver: \" + e[0].target + \" \" + e[0].type), e.forEach(t);\n      }var a,\n          u,\n          c = [],\n          s = window.MutationObserver || window.WebKitMutationObserver,\n          d = (a = document.querySelector(\"body\"), u = { attributes: !0, attributeOldValue: !1, characterData: !0, characterDataOldValue: !1, childList: !0, subtree: !0 }, d = new s(e), ae(\"Create body MutationObserver\"), d.observe(a, u), d);return { disconnect: function () {\n          \"disconnect\" in d && (ae(\"Disconnect body MutationObserver\"), d.disconnect(), c.forEach(o));\n        } };\n    }() : (ae(\"MutationObserver not supported in this browser!\"), ye())) : ae(\"Auto Resize disabled\");\n  }function ve() {\n    fe(\"remove\"), null !== t && t.disconnect(), clearInterval(e);\n  }function ye() {\n    0 !== b && (ae(\"setInterval: \" + b + \"ms\"), e = setInterval(function () {\n      Me(\"interval\", \"setInterval: \" + b);\n    }, Math.abs(b)));\n  }function be(e, t) {\n    var n = 0;return t = t || document.body, n = null !== (n = document.defaultView.getComputedStyle(t, null)) ? n[e] : 0, parseInt(n, o);\n  }function we(e, t) {\n    for (var n, o = t.length, i = 0, r = 0, a = ie(e), u = Z(), c = 0; c < o; c++) r < (i = t[c].getBoundingClientRect()[e] + be(\"margin\" + a, t[c])) && (r = i);return u = Z() - u, ae(\"Parsed \" + o + \" HTML elements\"), ae(\"Element position calculated in \" + u + \"ms\"), R / 2 < (n = u) && ae(\"Event throttle increased to \" + (R = 2 * n) + \"ms\"), r;\n  }function Te(e) {\n    return [e.bodyOffset(), e.bodyScroll(), e.documentElementOffset(), e.documentElementScroll()];\n  }function Ee(e, t) {\n    var n = document.querySelectorAll(\"[\" + t + \"]\");return 0 === n.length && (ue(\"No tagged elements (\" + t + \") found on page\"), document.querySelectorAll(\"body *\")), we(e, n);\n  }function Oe() {\n    return document.querySelectorAll(\"body *\");\n  }function Se(e, t, n, o) {\n    var i, r;!function () {\n      function e(e, t) {\n        return !(Math.abs(e - t) <= C);\n      }return i = l !== n ? n : $[g](), r = l !== o ? o : _[F](), e(m, i) || c && e(x, r);\n    }() && \"init\" !== e ? e in { init: 1, interval: 1, size: 1 } || !(g in S || c && F in S) ? e in { interval: 1 } || ae(\"No change in size detected\") : Ae(t) : (Ie(), Ce(m = i, x = r, e));\n  }function Me(e, t, n, o) {\n    k && e in s ? ae(\"Trigger event cancelled: \" + e) : (e in { reset: 1, resetPage: 1, init: 1 } || ae(\"Trigger event: \" + t), \"init\" === e ? Se(e, t, n, o) : ee(e, t, n, o));\n  }function Ie() {\n    k || (k = !0, ae(\"Trigger event lock on\")), clearTimeout(z), z = setTimeout(function () {\n      k = !1, ae(\"Trigger event lock off\"), ae(\"--\");\n    }, d);\n  }function Ne(e) {\n    m = $[g](), x = _[F](), Ce(m, x, e);\n  }function Ae(e) {\n    var t = g;g = h, ae(\"Reset trigger event: \" + e), Ie(), Ne(\"reset\"), g = t;\n  }function Ce(e, t, n, o, i) {\n    var r;!0 === I && (l === i ? i = A : ae(\"Message targetOrigin: \" + i), ae(\"Sending message to host page (\" + (r = O + \":\" + e + \":\" + t + \":\" + n + (l !== o ? \":\" + o : \"\")) + \")\"), N.postMessage(T + r, i));\n  }function ke(t) {\n    var n = { init: function () {\n        v = t.data, N = t.source, ce(), f = !1, setTimeout(function () {\n          p = !1;\n        }, d);\n      }, reset: function () {\n        p ? ae(\"Page reset ignored by init\") : (ae(\"Page size reset by host page\"), Ne(\"resetPage\"));\n      }, resize: function () {\n        Me(\"resizeParent\", \"Parent window requested size check\");\n      }, moveToAnchor: function () {\n        y.findTarget(i());\n      }, inPageLink: function () {\n        this.moveToAnchor();\n      }, pageInfo: function () {\n        var e = i();ae(\"PageInfoFromParent called from parent: \" + e), q(JSON.parse(e)), ae(\" --\");\n      }, message: function () {\n        var e = i();ae(\"onMessage called from parent: \" + e), D(JSON.parse(e)), ae(\" --\");\n      } };function o() {\n      return t.data.split(\"]\")[1].split(\":\")[0];\n    }function i() {\n      return t.data.substr(t.data.indexOf(\":\") + 1);\n    }function r() {\n      return t.data.split(\":\")[2] in { true: 1, false: 1 };\n    }function e() {\n      var e = o();e in n ? n[e]() : (\"undefined\" == typeof module || !module.exports) && \"iFrameResize\" in window || \"jQuery\" in window && \"iFrameResize\" in window.jQuery.prototype || r() || ue(\"Unexpected message (\" + t.data + \")\");\n    }T === (\"\" + t.data).substr(0, E) && (!1 === f ? e() : r() ? n.init() : ae('Ignored message of type \"' + o() + '\". Received before initialization.'));\n  }function ze() {\n    \"loading\" !== document.readyState && window.parent.postMessage(\"[iFrameResizerChild]Ready\", \"*\");\n  }\n}();\n//# sourceMappingURL=iframeResizer.contentWindow.map\n/*\n * File: iframeResizer.js\n * Desc: Force iframes to size to content.\n * Requires: iframeResizer.contentWindow.js to be loaded into the target frame.\n * Doc: https://github.com/davidjbradshaw/iframe-resizer\n * Author: David J. Bradshaw - dave@bradshaw.net\n * Contributor: Jure Mav - jure.mav@gmail.com\n * Contributor: Reed Dadoune - reed@dadoune.com\n */\n\n// eslint-disable-next-line sonarjs/cognitive-complexity, no-shadow-restricted-names\n;(function (undefined) {\n  if (typeof window === 'undefined') return; // don't run for server side render\n\n  var count = 0,\n      logEnabled = false,\n      hiddenCheckEnabled = false,\n      msgHeader = 'message',\n      msgHeaderLen = msgHeader.length,\n      msgId = '[iFrameSizer]',\n      // Must match iframe msg ID\n  msgIdLen = msgId.length,\n      pagePosition = null,\n      requestAnimationFrame = window.requestAnimationFrame,\n      resetRequiredMethods = {\n    max: 1,\n    scroll: 1,\n    bodyScroll: 1,\n    documentElementScroll: 1\n  },\n      settings = {},\n      timer = null,\n      defaults = {\n    autoResize: true,\n    bodyBackground: null,\n    bodyMargin: null,\n    bodyMarginV1: 8,\n    bodyPadding: null,\n    checkOrigin: true,\n    inPageLinks: false,\n    enablePublicMethods: true,\n    heightCalculationMethod: 'bodyOffset',\n    id: 'iFrameResizer',\n    interval: 32,\n    log: false,\n    maxHeight: Infinity,\n    maxWidth: Infinity,\n    minHeight: 0,\n    minWidth: 0,\n    resizeFrom: 'parent',\n    scrolling: false,\n    sizeHeight: true,\n    sizeWidth: false,\n    warningTimeout: 5000,\n    tolerance: 0,\n    widthCalculationMethod: 'scroll',\n    onClosed: function () {},\n    onInit: function () {},\n    onMessage: function () {\n      warn('onMessage function not defined');\n    },\n    onResized: function () {},\n    onScroll: function () {\n      return true;\n    }\n  };\n\n  function getMutationObserver() {\n    return window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver;\n  }\n\n  function addEventListener(el, evt, func) {\n    el.addEventListener(evt, func, false);\n  }\n\n  function removeEventListener(el, evt, func) {\n    el.removeEventListener(evt, func, false);\n  }\n\n  function setupRequestAnimationFrame() {\n    var vendors = ['moz', 'webkit', 'o', 'ms'];\n    var x;\n\n    // Remove vendor prefixing if prefixed and break early if not\n    for (x = 0; x < vendors.length && !requestAnimationFrame; x += 1) {\n      requestAnimationFrame = window[vendors[x] + 'RequestAnimationFrame'];\n    }\n\n    if (!requestAnimationFrame) {\n      log('setup', 'RequestAnimationFrame not supported');\n    }\n  }\n\n  function getMyID(iframeId) {\n    var retStr = 'Host page: ' + iframeId;\n\n    if (window.top !== window.self) {\n      if (window.parentIFrame && window.parentIFrame.getId) {\n        retStr = window.parentIFrame.getId() + ': ' + iframeId;\n      } else {\n        retStr = 'Nested host page: ' + iframeId;\n      }\n    }\n\n    return retStr;\n  }\n\n  function formatLogHeader(iframeId) {\n    return msgId + '[' + getMyID(iframeId) + ']';\n  }\n\n  function isLogEnabled(iframeId) {\n    return settings[iframeId] ? settings[iframeId].log : logEnabled;\n  }\n\n  function log(iframeId, msg) {\n    output('log', iframeId, msg, isLogEnabled(iframeId));\n  }\n\n  function info(iframeId, msg) {\n    output('info', iframeId, msg, isLogEnabled(iframeId));\n  }\n\n  function warn(iframeId, msg) {\n    output('warn', iframeId, msg, true);\n  }\n\n  function output(type, iframeId, msg, enabled) {\n    if (true === enabled && 'object' === typeof window.console) {\n      // eslint-disable-next-line no-console\n      console[type](formatLogHeader(iframeId), msg);\n    }\n  }\n\n  function iFrameListener(event) {\n    function resizeIFrame() {\n      function resize() {\n        setSize(messageData);\n        setPagePosition(iframeId);\n        on('onResized', messageData);\n      }\n\n      ensureInRange('Height');\n      ensureInRange('Width');\n\n      syncResize(resize, messageData, 'init');\n    }\n\n    function processMsg() {\n      var data = msg.substr(msgIdLen).split(':');\n\n      return {\n        iframe: settings[data[0]] && settings[data[0]].iframe,\n        id: data[0],\n        height: data[1],\n        width: data[2],\n        type: data[3]\n      };\n    }\n\n    function ensureInRange(Dimension) {\n      var max = Number(settings[iframeId]['max' + Dimension]),\n          min = Number(settings[iframeId]['min' + Dimension]),\n          dimension = Dimension.toLowerCase(),\n          size = Number(messageData[dimension]);\n\n      log(iframeId, 'Checking ' + dimension + ' is in range ' + min + '-' + max);\n\n      if (size < min) {\n        size = min;\n        log(iframeId, 'Set ' + dimension + ' to min value');\n      }\n\n      if (size > max) {\n        size = max;\n        log(iframeId, 'Set ' + dimension + ' to max value');\n      }\n\n      messageData[dimension] = '' + size;\n    }\n\n    function isMessageFromIFrame() {\n      function checkAllowedOrigin() {\n        function checkList() {\n          var i = 0,\n              retCode = false;\n\n          log(iframeId, 'Checking connection is from allowed list of origins: ' + checkOrigin);\n\n          for (; i < checkOrigin.length; i++) {\n            if (checkOrigin[i] === origin) {\n              retCode = true;\n              break;\n            }\n          }\n          return retCode;\n        }\n\n        function checkSingle() {\n          var remoteHost = settings[iframeId] && settings[iframeId].remoteHost;\n          log(iframeId, 'Checking connection is from: ' + remoteHost);\n          return origin === remoteHost;\n        }\n\n        return checkOrigin.constructor === Array ? checkList() : checkSingle();\n      }\n\n      var origin = event.origin,\n          checkOrigin = settings[iframeId] && settings[iframeId].checkOrigin;\n\n      if (checkOrigin && '' + origin !== 'null' && !checkAllowedOrigin()) {\n        throw new Error('Unexpected message received from: ' + origin + ' for ' + messageData.iframe.id + '. Message was: ' + event.data + '. This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains.');\n      }\n\n      return true;\n    }\n\n    function isMessageForUs() {\n      return msgId === ('' + msg).substr(0, msgIdLen) && msg.substr(msgIdLen).split(':')[0] in settings; // ''+Protects against non-string msg\n    }\n\n    function isMessageFromMetaParent() {\n      // Test if this message is from a parent above us. This is an ugly test, however, updating\n      // the message format would break backwards compatibity.\n      var retCode = messageData.type in { true: 1, false: 1, undefined: 1 };\n\n      if (retCode) {\n        log(iframeId, 'Ignoring init message from meta parent page');\n      }\n\n      return retCode;\n    }\n\n    function getMsgBody(offset) {\n      return msg.substr(msg.indexOf(':') + msgHeaderLen + offset);\n    }\n\n    function forwardMsgFromIFrame(msgBody) {\n      log(iframeId, 'onMessage passed: {iframe: ' + messageData.iframe.id + ', message: ' + msgBody + '}');\n      on('onMessage', {\n        iframe: messageData.iframe,\n        message: JSON.parse(msgBody)\n      });\n      log(iframeId, '--');\n    }\n\n    function getPageInfo() {\n      var bodyPosition = document.body.getBoundingClientRect(),\n          iFramePosition = messageData.iframe.getBoundingClientRect();\n\n      return JSON.stringify({\n        iframeHeight: iFramePosition.height,\n        iframeWidth: iFramePosition.width,\n        clientHeight: Math.max(document.documentElement.clientHeight, window.innerHeight || 0),\n        clientWidth: Math.max(document.documentElement.clientWidth, window.innerWidth || 0),\n        offsetTop: parseInt(iFramePosition.top - bodyPosition.top, 10),\n        offsetLeft: parseInt(iFramePosition.left - bodyPosition.left, 10),\n        scrollTop: window.pageYOffset,\n        scrollLeft: window.pageXOffset\n      });\n    }\n\n    function sendPageInfoToIframe(iframe, iframeId) {\n      function debouncedTrigger() {\n        trigger('Send Page Info', 'pageInfo:' + getPageInfo(), iframe, iframeId);\n      }\n      debounceFrameEvents(debouncedTrigger, 32, iframeId);\n    }\n\n    function startPageInfoMonitor() {\n      function setListener(type, func) {\n        function sendPageInfo() {\n          if (settings[id]) {\n            sendPageInfoToIframe(settings[id].iframe, id);\n          } else {\n            stop();\n          }\n        }\n\n        ;['scroll', 'resize'].forEach(function (evt) {\n          log(id, type + evt + ' listener for sendPageInfo');\n          func(window, evt, sendPageInfo);\n        });\n      }\n\n      function stop() {\n        setListener('Remove ', removeEventListener);\n      }\n\n      function start() {\n        setListener('Add ', addEventListener);\n      }\n\n      var id = iframeId; // Create locally scoped copy of iFrame ID\n\n      start();\n\n      if (settings[id]) {\n        settings[id].stopPageInfo = stop;\n      }\n    }\n\n    function stopPageInfoMonitor() {\n      if (settings[iframeId] && settings[iframeId].stopPageInfo) {\n        settings[iframeId].stopPageInfo();\n        delete settings[iframeId].stopPageInfo;\n      }\n    }\n\n    function checkIFrameExists() {\n      var retBool = true;\n\n      if (null === messageData.iframe) {\n        warn(iframeId, 'IFrame (' + messageData.id + ') not found');\n        retBool = false;\n      }\n      return retBool;\n    }\n\n    function getElementPosition(target) {\n      var iFramePosition = target.getBoundingClientRect();\n\n      getPagePosition(iframeId);\n\n      return {\n        x: Math.floor(Number(iFramePosition.left) + Number(pagePosition.x)),\n        y: Math.floor(Number(iFramePosition.top) + Number(pagePosition.y))\n      };\n    }\n\n    function scrollRequestFromChild(addOffset) {\n      /* istanbul ignore next */ // Not testable in Karma\n      function reposition() {\n        pagePosition = newPosition;\n        scrollTo();\n        log(iframeId, '--');\n      }\n\n      function calcOffset() {\n        return {\n          x: Number(messageData.width) + offset.x,\n          y: Number(messageData.height) + offset.y\n        };\n      }\n\n      function scrollParent() {\n        if (window.parentIFrame) {\n          window.parentIFrame['scrollTo' + (addOffset ? 'Offset' : '')](newPosition.x, newPosition.y);\n        } else {\n          warn(iframeId, 'Unable to scroll to requested position, window.parentIFrame not found');\n        }\n      }\n\n      var offset = addOffset ? getElementPosition(messageData.iframe) : { x: 0, y: 0 },\n          newPosition = calcOffset();\n\n      log(iframeId, 'Reposition requested from iFrame (offset x:' + offset.x + ' y:' + offset.y + ')');\n\n      if (window.top !== window.self) {\n        scrollParent();\n      } else {\n        reposition();\n      }\n    }\n\n    function scrollTo() {\n      if (false !== on('onScroll', pagePosition)) {\n        setPagePosition(iframeId);\n      } else {\n        unsetPagePosition();\n      }\n    }\n\n    function findTarget(location) {\n      function jumpToTarget() {\n        var jumpPosition = getElementPosition(target);\n\n        log(iframeId, 'Moving to in page link (#' + hash + ') at x: ' + jumpPosition.x + ' y: ' + jumpPosition.y);\n        pagePosition = {\n          x: jumpPosition.x,\n          y: jumpPosition.y\n        };\n\n        scrollTo();\n        log(iframeId, '--');\n      }\n\n      function jumpToParent() {\n        if (window.parentIFrame) {\n          window.parentIFrame.moveToAnchor(hash);\n        } else {\n          log(iframeId, 'In page link #' + hash + ' not found and window.parentIFrame not found');\n        }\n      }\n\n      var hash = location.split('#')[1] || '',\n          hashData = decodeURIComponent(hash),\n          target = document.getElementById(hashData) || document.getElementsByName(hashData)[0];\n\n      if (target) {\n        jumpToTarget();\n      } else if (window.top !== window.self) {\n        jumpToParent();\n      } else {\n        log(iframeId, 'In page link #' + hash + ' not found');\n      }\n    }\n\n    function on(funcName, val) {\n      return chkEvent(iframeId, funcName, val);\n    }\n\n    function actionMsg() {\n      if (settings[iframeId] && settings[iframeId].firstRun) firstRun();\n\n      switch (messageData.type) {\n        case 'close':\n          if (settings[iframeId].closeRequeston) chkEvent(iframeId, 'onCloseRequest', settings[iframeId].iframe);else closeIFrame(messageData.iframe);\n          break;\n\n        case 'message':\n          forwardMsgFromIFrame(getMsgBody(6));\n          break;\n\n        case 'scrollTo':\n          scrollRequestFromChild(false);\n          break;\n\n        case 'scrollToOffset':\n          scrollRequestFromChild(true);\n          break;\n\n        case 'pageInfo':\n          sendPageInfoToIframe(settings[iframeId] && settings[iframeId].iframe, iframeId);\n          startPageInfoMonitor();\n          break;\n\n        case 'pageInfoStop':\n          stopPageInfoMonitor();\n          break;\n\n        case 'inPageLink':\n          findTarget(getMsgBody(9));\n          break;\n\n        case 'reset':\n          resetIFrame(messageData);\n          break;\n\n        case 'init':\n          resizeIFrame();\n          on('onInit', messageData.iframe);\n          break;\n\n        default:\n          resizeIFrame();\n      }\n    }\n\n    function hasSettings(iframeId) {\n      var retBool = true;\n\n      if (!settings[iframeId]) {\n        retBool = false;\n        warn(messageData.type + ' No settings for ' + iframeId + '. Message was: ' + msg);\n      }\n\n      return retBool;\n    }\n\n    function iFrameReadyMsgReceived() {\n      // eslint-disable-next-line no-restricted-syntax, guard-for-in\n      for (var iframeId in settings) {\n        trigger('iFrame requested init', createOutgoingMsg(iframeId), document.getElementById(iframeId), iframeId);\n      }\n    }\n\n    function firstRun() {\n      if (settings[iframeId]) {\n        settings[iframeId].firstRun = false;\n      }\n    }\n\n    var msg = event.data,\n        messageData = {},\n        iframeId = null;\n\n    if ('[iFrameResizerChild]Ready' === msg) {\n      iFrameReadyMsgReceived();\n    } else if (isMessageForUs()) {\n      messageData = processMsg();\n      iframeId = messageData.id;\n      if (settings[iframeId]) {\n        settings[iframeId].loaded = true;\n      }\n\n      if (!isMessageFromMetaParent() && hasSettings(iframeId)) {\n        log(iframeId, 'Received: ' + msg);\n\n        if (checkIFrameExists() && isMessageFromIFrame()) {\n          actionMsg();\n        }\n      }\n    } else {\n      info(iframeId, 'Ignored: ' + msg);\n    }\n  }\n\n  function chkEvent(iframeId, funcName, val) {\n    var func = null,\n        retVal = null;\n\n    if (settings[iframeId]) {\n      func = settings[iframeId][funcName];\n\n      if ('function' === typeof func) {\n        retVal = func(val);\n      } else {\n        throw new TypeError(funcName + ' on iFrame[' + iframeId + '] is not a function');\n      }\n    }\n\n    return retVal;\n  }\n\n  function removeIframeListeners(iframe) {\n    var iframeId = iframe.id;\n    delete settings[iframeId];\n  }\n\n  function closeIFrame(iframe) {\n    var iframeId = iframe.id;\n    log(iframeId, 'Removing iFrame: ' + iframeId);\n\n    try {\n      // Catch race condition error with React\n      if (iframe.parentNode) {\n        iframe.parentNode.removeChild(iframe);\n      }\n    } catch (error) {\n      warn(error);\n    }\n\n    chkEvent(iframeId, 'onClosed', iframeId);\n    log(iframeId, '--');\n    removeIframeListeners(iframe);\n  }\n\n  function getPagePosition(iframeId) {\n    if (null === pagePosition) {\n      pagePosition = {\n        x: window.pageXOffset !== undefined ? window.pageXOffset : document.documentElement.scrollLeft,\n        y: window.pageYOffset !== undefined ? window.pageYOffset : document.documentElement.scrollTop\n      };\n      log(iframeId, 'Get page position: ' + pagePosition.x + ',' + pagePosition.y);\n    }\n  }\n\n  function setPagePosition(iframeId) {\n    if (null !== pagePosition) {\n      window.scrollTo(pagePosition.x, pagePosition.y);\n      log(iframeId, 'Set page position: ' + pagePosition.x + ',' + pagePosition.y);\n      unsetPagePosition();\n    }\n  }\n\n  function unsetPagePosition() {\n    pagePosition = null;\n  }\n\n  function resetIFrame(messageData) {\n    function reset() {\n      setSize(messageData);\n      trigger('reset', 'reset', messageData.iframe, messageData.id);\n    }\n\n    log(messageData.id, 'Size reset requested by ' + ('init' === messageData.type ? 'host page' : 'iFrame'));\n    getPagePosition(messageData.id);\n    syncResize(reset, messageData, 'reset');\n  }\n\n  function setSize(messageData) {\n    function setDimension(dimension) {\n      if (!messageData.id) {\n        log('undefined', 'messageData id not set');\n        return;\n      }\n      messageData.iframe.style[dimension] = messageData[dimension] + 'px';\n      log(messageData.id, 'IFrame (' + iframeId + ') ' + dimension + ' set to ' + messageData[dimension] + 'px');\n    }\n\n    function chkZero(dimension) {\n      // FireFox sets dimension of hidden iFrames to zero.\n      // So if we detect that set up an event to check for\n      // when iFrame becomes visible.\n\n      /* istanbul ignore next */ // Not testable in PhantomJS\n      if (!hiddenCheckEnabled && '0' === messageData[dimension]) {\n        hiddenCheckEnabled = true;\n        log(iframeId, 'Hidden iFrame detected, creating visibility listener');\n        fixHiddenIFrames();\n      }\n    }\n\n    function processDimension(dimension) {\n      setDimension(dimension);\n      chkZero(dimension);\n    }\n\n    var iframeId = messageData.iframe.id;\n\n    if (settings[iframeId]) {\n      if (settings[iframeId].sizeHeight) {\n        processDimension('height');\n      }\n      if (settings[iframeId].sizeWidth) {\n        processDimension('width');\n      }\n    }\n  }\n\n  function syncResize(func, messageData, doNotSync) {\n    /* istanbul ignore if */ // Not testable in PhantomJS\n    if (doNotSync !== messageData.type && requestAnimationFrame) {\n      log(messageData.id, 'Requesting animation frame');\n      requestAnimationFrame(func);\n    } else {\n      func();\n    }\n  }\n\n  function trigger(calleeMsg, msg, iframe, id, noResponseWarning) {\n    function postMessageToIFrame() {\n      var target = settings[id] && settings[id].targetOrigin;\n      log(id, '[' + calleeMsg + '] Sending msg to iframe[' + id + '] (' + msg + ') targetOrigin: ' + target);\n      iframe.contentWindow.postMessage(msgId + msg, target);\n    }\n\n    function iFrameNotFound() {\n      warn(id, '[' + calleeMsg + '] IFrame(' + id + ') not found');\n    }\n\n    function chkAndSend() {\n      if (iframe && 'contentWindow' in iframe && null !== iframe.contentWindow) {\n        // Null test for PhantomJS\n        postMessageToIFrame();\n      } else {\n        iFrameNotFound();\n      }\n    }\n\n    function warnOnNoResponse() {\n      function warning() {\n        if (settings[id] && !settings[id].loaded && !errorShown) {\n          errorShown = true;\n          warn(id, 'IFrame has not responded within ' + settings[id].warningTimeout / 1000 + ' seconds. Check iFrameResizer.contentWindow.js has been loaded in iFrame. This message can be ignored if everything is working, or you can set the warningTimeout option to a higher value or zero to suppress this warning.');\n        }\n      }\n\n      if (!!noResponseWarning && settings[id] && !!settings[id].warningTimeout) {\n        settings[id].msgTimeout = setTimeout(warning, settings[id].warningTimeout);\n      }\n    }\n\n    var errorShown = false;\n\n    id = id || iframe.id;\n\n    if (settings[id]) {\n      chkAndSend();\n      warnOnNoResponse();\n    }\n  }\n\n  function createOutgoingMsg(iframeId) {\n    return iframeId + ':' + settings[iframeId].bodyMarginV1 + ':' + settings[iframeId].sizeWidth + ':' + settings[iframeId].log + ':' + settings[iframeId].interval + ':' + settings[iframeId].enablePublicMethods + ':' + settings[iframeId].autoResize + ':' + settings[iframeId].bodyMargin + ':' + settings[iframeId].heightCalculationMethod + ':' + settings[iframeId].bodyBackground + ':' + settings[iframeId].bodyPadding + ':' + settings[iframeId].tolerance + ':' + settings[iframeId].inPageLinks + ':' + settings[iframeId].resizeFrom + ':' + settings[iframeId].widthCalculationMethod;\n  }\n\n  function setupIFrame(iframe, options) {\n    function setLimits() {\n      function addStyle(style) {\n        if (Infinity !== settings[iframeId][style] && 0 !== settings[iframeId][style]) {\n          iframe.style[style] = settings[iframeId][style] + 'px';\n          log(iframeId, 'Set ' + style + ' = ' + settings[iframeId][style] + 'px');\n        }\n      }\n\n      function chkMinMax(dimension) {\n        if (settings[iframeId]['min' + dimension] > settings[iframeId]['max' + dimension]) {\n          throw new Error('Value for min' + dimension + ' can not be greater than max' + dimension);\n        }\n      }\n\n      chkMinMax('Height');\n      chkMinMax('Width');\n\n      addStyle('maxHeight');\n      addStyle('minHeight');\n      addStyle('maxWidth');\n      addStyle('minWidth');\n    }\n\n    function newId() {\n      var id = options && options.id || defaults.id + count++;\n      if (null !== document.getElementById(id)) {\n        id += count++;\n      }\n      return id;\n    }\n\n    function ensureHasId(iframeId) {\n      if ('' === iframeId) {\n        // eslint-disable-next-line no-multi-assign\n        iframe.id = iframeId = newId();\n        logEnabled = (options || {}).log;\n        log(iframeId, 'Added missing iframe ID: ' + iframeId + ' (' + iframe.src + ')');\n      }\n\n      return iframeId;\n    }\n\n    function setScrolling() {\n      log(iframeId, 'IFrame scrolling ' + (settings[iframeId] && settings[iframeId].scrolling ? 'enabled' : 'disabled') + ' for ' + iframeId);\n      iframe.style.overflow = false === (settings[iframeId] && settings[iframeId].scrolling) ? 'hidden' : 'auto';\n      switch (settings[iframeId] && settings[iframeId].scrolling) {\n        case 'omit':\n          break;\n\n        case true:\n          iframe.scrolling = 'yes';\n          break;\n\n        case false:\n          iframe.scrolling = 'no';\n          break;\n\n        default:\n          iframe.scrolling = settings[iframeId] ? settings[iframeId].scrolling : 'no';\n      }\n    }\n\n    // The V1 iFrame script expects an int, where as in V2 expects a CSS\n    // string value such as '1px 3em', so if we have an int for V2, set V1=V2\n    // and then convert V2 to a string PX value.\n    function setupBodyMarginValues() {\n      if ('number' === typeof (settings[iframeId] && settings[iframeId].bodyMargin) || '0' === (settings[iframeId] && settings[iframeId].bodyMargin)) {\n        settings[iframeId].bodyMarginV1 = settings[iframeId].bodyMargin;\n        settings[iframeId].bodyMargin = '' + settings[iframeId].bodyMargin + 'px';\n      }\n    }\n\n    function checkReset() {\n      // Reduce scope of firstRun to function, because IE8's JS execution\n      // context stack is borked and this value gets externally\n      // changed midway through running this function!!!\n      var firstRun = settings[iframeId] && settings[iframeId].firstRun,\n          resetRequertMethod = settings[iframeId] && settings[iframeId].heightCalculationMethod in resetRequiredMethods;\n\n      if (!firstRun && resetRequertMethod) {\n        resetIFrame({ iframe: iframe, height: 0, width: 0, type: 'init' });\n      }\n    }\n\n    function setupIFrameObject() {\n      if (settings[iframeId]) {\n        settings[iframeId].iframe.iFrameResizer = {\n          close: closeIFrame.bind(null, settings[iframeId].iframe),\n\n          removeListeners: removeIframeListeners.bind(null, settings[iframeId].iframe),\n\n          resize: trigger.bind(null, 'Window resize', 'resize', settings[iframeId].iframe),\n\n          moveToAnchor: function (anchor) {\n            trigger('Move to anchor', 'moveToAnchor:' + anchor, settings[iframeId].iframe, iframeId);\n          },\n\n          sendMessage: function (message) {\n            message = JSON.stringify(message);\n            trigger('Send Message', 'message:' + message, settings[iframeId].iframe, iframeId);\n          }\n        };\n      }\n    }\n\n    // We have to call trigger twice, as we can not be sure if all\n    // iframes have completed loading when this code runs. The\n    // event listener also catches the page changing in the iFrame.\n    function init(msg) {\n      function iFrameLoaded() {\n        trigger('iFrame.onload', msg, iframe, undefined, true);\n        checkReset();\n      }\n\n      function createDestroyObserver(MutationObserver) {\n        if (!iframe.parentNode) {\n          return;\n        }\n\n        var destroyObserver = new MutationObserver(function (mutations) {\n          mutations.forEach(function (mutation) {\n            var removedNodes = Array.prototype.slice.call(mutation.removedNodes); // Transform NodeList into an Array\n            removedNodes.forEach(function (removedNode) {\n              if (removedNode === iframe) {\n                closeIFrame(iframe);\n              }\n            });\n          });\n        });\n        destroyObserver.observe(iframe.parentNode, {\n          childList: true\n        });\n      }\n\n      var MutationObserver = getMutationObserver();\n      if (MutationObserver) {\n        createDestroyObserver(MutationObserver);\n      }\n\n      addEventListener(iframe, 'load', iFrameLoaded);\n      trigger('init', msg, iframe, undefined, true);\n    }\n\n    function checkOptions(options) {\n      if ('object' !== typeof options) {\n        throw new TypeError('Options is not an object');\n      }\n    }\n\n    function copyOptions(options) {\n      // eslint-disable-next-line no-restricted-syntax\n      for (var option in defaults) {\n        if (Object.prototype.hasOwnProperty.call(defaults, option)) {\n          settings[iframeId][option] = Object.prototype.hasOwnProperty.call(options, option) ? options[option] : defaults[option];\n        }\n      }\n    }\n\n    function getTargetOrigin(remoteHost) {\n      return '' === remoteHost || 'file://' === remoteHost ? '*' : remoteHost;\n    }\n\n    function depricate(key) {\n      var splitName = key.split('Callback');\n\n      if (splitName.length === 2) {\n        var name = 'on' + splitName[0].charAt(0).toUpperCase() + splitName[0].slice(1);\n        this[name] = this[key];\n        delete this[key];\n        warn(iframeId, \"Deprecated: '\" + key + \"' has been renamed '\" + name + \"'. The old method will be removed in the next major version.\");\n      }\n    }\n\n    function processOptions(options) {\n      options = options || {};\n      settings[iframeId] = {\n        firstRun: true,\n        iframe: iframe,\n        remoteHost: iframe.src.split('/').slice(0, 3).join('/')\n      };\n\n      checkOptions(options);\n      Object.keys(options).forEach(depricate, options);\n      copyOptions(options);\n\n      if (settings[iframeId]) {\n        settings[iframeId].targetOrigin = true === settings[iframeId].checkOrigin ? getTargetOrigin(settings[iframeId].remoteHost) : '*';\n      }\n    }\n\n    function beenHere() {\n      return iframeId in settings && 'iFrameResizer' in iframe;\n    }\n\n    var iframeId = ensureHasId(iframe.id);\n\n    if (!beenHere()) {\n      processOptions(options);\n      setScrolling();\n      setLimits();\n      setupBodyMarginValues();\n      init(createOutgoingMsg(iframeId));\n      setupIFrameObject();\n    } else {\n      warn(iframeId, 'Ignored iFrame, already setup.');\n    }\n  }\n\n  function debouce(fn, time) {\n    if (null === timer) {\n      timer = setTimeout(function () {\n        timer = null;\n        fn();\n      }, time);\n    }\n  }\n\n  var frameTimer = {};\n  function debounceFrameEvents(fn, time, frameId) {\n    if (!frameTimer[frameId]) {\n      frameTimer[frameId] = setTimeout(function () {\n        frameTimer[frameId] = null;\n        fn();\n      }, time);\n    }\n  }\n\n  // Not testable in PhantomJS\n  /* istanbul ignore next */\n\n  function fixHiddenIFrames() {\n    function checkIFrames() {\n      function checkIFrame(settingId) {\n        function chkDimension(dimension) {\n          return '0px' === (settings[settingId] && settings[settingId].iframe.style[dimension]);\n        }\n\n        function isVisible(el) {\n          return null !== el.offsetParent;\n        }\n\n        if (settings[settingId] && isVisible(settings[settingId].iframe) && (chkDimension('height') || chkDimension('width'))) {\n          trigger('Visibility change', 'resize', settings[settingId].iframe, settingId);\n        }\n      }\n\n      Object.values(settings).forEach(checkIFrame);\n    }\n\n    function mutationObserved(mutations) {\n      log('window', 'Mutation observed: ' + mutations[0].target + ' ' + mutations[0].type);\n      debouce(checkIFrames, 16);\n    }\n\n    function createMutationObserver() {\n      var target = document.querySelector('body'),\n          config = {\n        attributes: true,\n        attributeOldValue: false,\n        characterData: true,\n        characterDataOldValue: false,\n        childList: true,\n        subtree: true\n      },\n          observer = new MutationObserver(mutationObserved);\n\n      observer.observe(target, config);\n    }\n\n    var MutationObserver = getMutationObserver();\n    if (MutationObserver) {\n      createMutationObserver();\n    }\n  }\n\n  function resizeIFrames(event) {\n    function resize() {\n      sendTriggerMsg('Window ' + event, 'resize');\n    }\n\n    log('window', 'Trigger event: ' + event);\n    debouce(resize, 16);\n  }\n\n  // Not testable in PhantomJS\n  /* istanbul ignore next */\n  function tabVisible() {\n    function resize() {\n      sendTriggerMsg('Tab Visable', 'resize');\n    }\n\n    if ('hidden' !== document.visibilityState) {\n      log('document', 'Trigger event: Visiblity change');\n      debouce(resize, 16);\n    }\n  }\n\n  function sendTriggerMsg(eventName, event) {\n    function isIFrameResizeEnabled(iframeId) {\n      return settings[iframeId] && 'parent' === settings[iframeId].resizeFrom && settings[iframeId].autoResize && !settings[iframeId].firstRun;\n    }\n\n    Object.keys(settings).forEach(function (iframeId) {\n      if (isIFrameResizeEnabled(iframeId)) {\n        trigger(eventName, event, document.getElementById(iframeId), iframeId);\n      }\n    });\n  }\n\n  function setupEventListeners() {\n    addEventListener(window, 'message', iFrameListener);\n\n    addEventListener(window, 'resize', function () {\n      resizeIFrames('resize');\n    });\n\n    addEventListener(document, 'visibilitychange', tabVisible);\n\n    addEventListener(document, '-webkit-visibilitychange', tabVisible);\n  }\n\n  function factory() {\n    function init(options, element) {\n      function chkType() {\n        if (!element.tagName) {\n          throw new TypeError('Object is not a valid DOM element');\n        } else if ('IFRAME' !== element.tagName.toUpperCase()) {\n          throw new TypeError('Expected <IFRAME> tag, found <' + element.tagName + '>');\n        }\n      }\n\n      if (element) {\n        chkType();\n        setupIFrame(element, options);\n        iFrames.push(element);\n      }\n    }\n\n    function warnDeprecatedOptions(options) {\n      if (options && options.enablePublicMethods) {\n        warn('enablePublicMethods option has been removed, public methods are now always available in the iFrame');\n      }\n    }\n\n    var iFrames;\n\n    setupRequestAnimationFrame();\n    setupEventListeners();\n\n    return function iFrameResizeF(options, target) {\n      iFrames = []; // Only return iFrames past in on this call\n\n      warnDeprecatedOptions(options);\n\n      switch (typeof target) {\n        case 'undefined':\n        case 'string':\n          Array.prototype.forEach.call(document.querySelectorAll(target || 'iframe'), init.bind(undefined, options));\n          break;\n\n        case 'object':\n          init(options, target);\n          break;\n\n        default:\n          throw new TypeError('Unexpected data type (' + typeof target + ')');\n      }\n\n      return iFrames;\n    };\n  }\n\n  function createJQueryPublicMethod($) {\n    if (!$.fn) {\n      info('', 'Unable to bind to jQuery, it is not fully loaded.');\n    } else if (!$.fn.iFrameResize) {\n      $.fn.iFrameResize = function $iFrameResizeF(options) {\n        function init(index, element) {\n          setupIFrame(element, options);\n        }\n\n        return this.filter('iframe').each(init).end();\n      };\n    }\n  }\n\n  if (window.jQuery) {\n    createJQueryPublicMethod(window.jQuery);\n  }\n\n  if (typeof define === 'function' && define.amd) {\n    define([], factory);\n  } else if (typeof module === 'object' && typeof module.exports === 'object') {\n    // Node for browserfy\n    module.exports = factory();\n  }\n  window.iFrameResize = window.iFrameResize || factory();\n})();\n/*! iFrame Resizer (iframeSizer.min.js ) - v4.0.4 - 2019-03-04\n *  Desc: Force cross domain iframes to size to content.\n *  Requires: iframeResizer.contentWindow.min.js to be loaded into the target frame.\n *  Copyright: (c) 2019 David J. Bradshaw - dave@bradshaw.net\n *  License: MIT\n */\n\n!function (u) {\n  if (\"undefined\" != typeof window) {\n    var e,\n        l = 0,\n        m = !1,\n        n = !1,\n        p = \"message\".length,\n        b = \"[iFrameSizer]\",\n        y = b.length,\n        v = null,\n        r = window.requestAnimationFrame,\n        g = { max: 1, scroll: 1, bodyScroll: 1, documentElementScroll: 1 },\n        F = {},\n        i = null,\n        h = { autoResize: !0, bodyBackground: null, bodyMargin: null, bodyMarginV1: 8, bodyPadding: null, checkOrigin: !0, inPageLinks: !1, enablePublicMethods: !0, heightCalculationMethod: \"bodyOffset\", id: \"iFrameResizer\", interval: 32, log: !1, maxHeight: 1 / 0, maxWidth: 1 / 0, minHeight: 0, minWidth: 0, resizeFrom: \"parent\", scrolling: !1, sizeHeight: !0, sizeWidth: !1, warningTimeout: 5e3, tolerance: 0, widthCalculationMethod: \"scroll\", onClosed: function () {}, onInit: function () {}, onMessage: function () {\n        O(\"onMessage function not defined\");\n      }, onResized: function () {}, onScroll: function () {\n        return !0;\n      } },\n        I = {};window.jQuery && ((e = window.jQuery).fn ? e.fn.iFrameResize || (e.fn.iFrameResize = function (i) {\n      return this.filter(\"iframe\").each(function (e, n) {\n        d(n, i);\n      }).end();\n    }) : z(\"\", \"Unable to bind to jQuery, it is not fully loaded.\")), \"function\" == typeof define && define.amd ? define([], B) : \"object\" == typeof module && \"object\" == typeof module.exports && (module.exports = B()), window.iFrameResize = window.iFrameResize || B();\n  }function w() {\n    return window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver;\n  }function M(e, n, i) {\n    e.addEventListener(n, i, !1);\n  }function x(e, n, i) {\n    e.removeEventListener(n, i, !1);\n  }function o(e) {\n    return b + \"[\" + (i = \"Host page: \" + (n = e), window.top !== window.self && (i = window.parentIFrame && window.parentIFrame.getId ? window.parentIFrame.getId() + \": \" + n : \"Nested host page: \" + n), i) + \"]\";var n, i;\n  }function t(e) {\n    return F[e] ? F[e].log : m;\n  }function k(e, n) {\n    a(\"log\", e, n, t(e));\n  }function z(e, n) {\n    a(\"info\", e, n, t(e));\n  }function O(e, n) {\n    a(\"warn\", e, n, !0);\n  }function a(e, n, i, t) {\n    !0 === t && \"object\" == typeof window.console && console[e](o(n), i);\n  }function s(n) {\n    function a() {\n      e(\"Height\"), e(\"Width\"), P(function () {\n        j(h), C(w), l(\"onResized\", h);\n      }, h, \"init\");\n    }function e(e) {\n      var n = Number(F[w][\"max\" + e]),\n          i = Number(F[w][\"min\" + e]),\n          t = e.toLowerCase(),\n          o = Number(h[t]);k(w, \"Checking \" + t + \" is in range \" + i + \"-\" + n), o < i && (o = i, k(w, \"Set \" + t + \" to min value\")), n < o && (o = n, k(w, \"Set \" + t + \" to max value\")), h[t] = \"\" + o;\n    }function s(e) {\n      return g.substr(g.indexOf(\":\") + p + e);\n    }function d(i, t) {\n      var e, n, o;e = function () {\n        var e, n;H(\"Send Page Info\", \"pageInfo:\" + (e = document.body.getBoundingClientRect(), n = h.iframe.getBoundingClientRect(), JSON.stringify({ iframeHeight: n.height, iframeWidth: n.width, clientHeight: Math.max(document.documentElement.clientHeight, window.innerHeight || 0), clientWidth: Math.max(document.documentElement.clientWidth, window.innerWidth || 0), offsetTop: parseInt(n.top - e.top, 10), offsetLeft: parseInt(n.left - e.left, 10), scrollTop: window.pageYOffset, scrollLeft: window.pageXOffset })), i, t);\n      }, n = 32, I[o = t] || (I[o] = setTimeout(function () {\n        I[o] = null, e();\n      }, n));\n    }function c(e) {\n      var n = e.getBoundingClientRect();return N(w), { x: Math.floor(Number(n.left) + Number(v.x)), y: Math.floor(Number(n.top) + Number(v.y)) };\n    }function f(e) {\n      var n = e ? c(h.iframe) : { x: 0, y: 0 },\n          i = { x: Number(h.width) + n.x, y: Number(h.height) + n.y };k(w, \"Reposition requested from iFrame (offset x:\" + n.x + \" y:\" + n.y + \")\"), window.top !== window.self ? window.parentIFrame ? window.parentIFrame[\"scrollTo\" + (e ? \"Offset\" : \"\")](i.x, i.y) : O(w, \"Unable to scroll to requested position, window.parentIFrame not found\") : (v = i, u(), k(w, \"--\"));\n    }function u() {\n      !1 !== l(\"onScroll\", v) ? C(w) : S();\n    }function l(e, n) {\n      return R(w, e, n);\n    }var i,\n        t,\n        o,\n        r,\n        m,\n        g = n.data,\n        h = {},\n        w = null;\"[iFrameResizerChild]Ready\" === g ? function () {\n      for (var e in F) H(\"iFrame requested init\", A(e), document.getElementById(e), e);\n    }() : b === (\"\" + g).substr(0, y) && g.substr(y).split(\":\")[0] in F ? (m = g.substr(y).split(\":\"), h = { iframe: F[m[0]] && F[m[0]].iframe, id: m[0], height: m[1], width: m[2], type: m[3] }, w = h.id, F[w] && (F[w].loaded = !0), (r = h.type in { true: 1, false: 1, undefined: 1 }) && k(w, \"Ignoring init message from meta parent page\"), !r && (o = !0, F[t = w] || (o = !1, O(h.type + \" No settings for \" + t + \". Message was: \" + g)), o) && (k(w, \"Received: \" + g), i = !0, null === h.iframe && (O(w, \"IFrame (\" + h.id + \") not found\"), i = !1), i && function () {\n      var e,\n          i = n.origin,\n          t = F[w] && F[w].checkOrigin;if (t && \"\" + i != \"null\" && !(t.constructor === Array ? function () {\n        var e = 0,\n            n = !1;for (k(w, \"Checking connection is from allowed list of origins: \" + t); e < t.length; e++) if (t[e] === i) {\n          n = !0;break;\n        }return n;\n      }() : (e = F[w] && F[w].remoteHost, k(w, \"Checking connection is from: \" + e), i === e))) throw new Error(\"Unexpected message received from: \" + i + \" for \" + h.iframe.id + \". Message was: \" + n.data + \". This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains.\");return !0;\n    }() && function () {\n      switch (F[w] && F[w].firstRun && F[w] && (F[w].firstRun = !1), h.type) {case \"close\":\n          F[w].closeRequeston ? R(w, \"onCloseRequest\", F[w].iframe) : E(h.iframe);break;case \"message\":\n          r = s(6), k(w, \"onMessage passed: {iframe: \" + h.iframe.id + \", message: \" + r + \"}\"), l(\"onMessage\", { iframe: h.iframe, message: JSON.parse(r) }), k(w, \"--\");break;case \"scrollTo\":\n          f(!1);break;case \"scrollToOffset\":\n          f(!0);break;case \"pageInfo\":\n          d(F[w] && F[w].iframe, w), function () {\n            function e(n, i) {\n              function t() {\n                F[r] ? d(F[r].iframe, r) : o();\n              }[\"scroll\", \"resize\"].forEach(function (e) {\n                k(r, n + e + \" listener for sendPageInfo\"), i(window, e, t);\n              });\n            }function o() {\n              e(\"Remove \", x);\n            }var r = w;e(\"Add \", M), F[r] && (F[r].stopPageInfo = o);\n          }();break;case \"pageInfoStop\":\n          F[w] && F[w].stopPageInfo && (F[w].stopPageInfo(), delete F[w].stopPageInfo);break;case \"inPageLink\":\n          e = s(9), i = e.split(\"#\")[1] || \"\", t = decodeURIComponent(i), (o = document.getElementById(t) || document.getElementsByName(t)[0]) ? (n = c(o), k(w, \"Moving to in page link (#\" + i + \") at x: \" + n.x + \" y: \" + n.y), v = { x: n.x, y: n.y }, u(), k(w, \"--\")) : window.top !== window.self ? window.parentIFrame ? window.parentIFrame.moveToAnchor(i) : k(w, \"In page link #\" + i + \" not found and window.parentIFrame not found\") : k(w, \"In page link #\" + i + \" not found\");break;case \"reset\":\n          W(h);break;case \"init\":\n          a(), l(\"onInit\", h.iframe);break;default:\n          a();}var e, n, i, t, o, r;\n    }())) : z(w, \"Ignored: \" + g);\n  }function R(e, n, i) {\n    var t = null,\n        o = null;if (F[e]) {\n      if (\"function\" != typeof (t = F[e][n])) throw new TypeError(n + \" on iFrame[\" + e + \"] is not a function\");o = t(i);\n    }return o;\n  }function T(e) {\n    var n = e.id;delete F[n];\n  }function E(e) {\n    var n = e.id;k(n, \"Removing iFrame: \" + n);try {\n      e.parentNode && e.parentNode.removeChild(e);\n    } catch (e) {\n      O(e);\n    }R(n, \"onClosed\", n), k(n, \"--\"), T(e);\n  }function N(e) {\n    null === v && k(e, \"Get page position: \" + (v = { x: window.pageXOffset !== u ? window.pageXOffset : document.documentElement.scrollLeft, y: window.pageYOffset !== u ? window.pageYOffset : document.documentElement.scrollTop }).x + \",\" + v.y);\n  }function C(e) {\n    null !== v && (window.scrollTo(v.x, v.y), k(e, \"Set page position: \" + v.x + \",\" + v.y), S());\n  }function S() {\n    v = null;\n  }function W(e) {\n    k(e.id, \"Size reset requested by \" + (\"init\" === e.type ? \"host page\" : \"iFrame\")), N(e.id), P(function () {\n      j(e), H(\"reset\", \"reset\", e.iframe, e.id);\n    }, e, \"reset\");\n  }function j(i) {\n    function t(e) {\n      n || \"0\" !== i[e] || (n = !0, k(o, \"Hidden iFrame detected, creating visibility listener\"), function () {\n        function n() {\n          Object.values(F).forEach(function (n) {\n            function e(e) {\n              return \"0px\" === (F[n] && F[n].iframe.style[e]);\n            }F[n] && (i = F[n].iframe, null !== i.offsetParent) && (e(\"height\") || e(\"width\")) && H(\"Visibility change\", \"resize\", F[n].iframe, n);var i;\n          });\n        }function e(e) {\n          k(\"window\", \"Mutation observed: \" + e[0].target + \" \" + e[0].type), c(n, 16);\n        }var i = w();i && (t = document.querySelector(\"body\"), o = { attributes: !0, attributeOldValue: !1, characterData: !0, characterDataOldValue: !1, childList: !0, subtree: !0 }, new i(e).observe(t, o));var t, o;\n      }());\n    }function e(e) {\n      var n;n = e, i.id ? (i.iframe.style[n] = i[n] + \"px\", k(i.id, \"IFrame (\" + o + \") \" + n + \" set to \" + i[n] + \"px\")) : k(\"undefined\", \"messageData id not set\"), t(e);\n    }var o = i.iframe.id;F[o] && (F[o].sizeHeight && e(\"height\"), F[o].sizeWidth && e(\"width\"));\n  }function P(e, n, i) {\n    i !== n.type && r ? (k(n.id, \"Requesting animation frame\"), r(e)) : e();\n  }function H(e, n, i, t, o) {\n    var r,\n        a = !1;t = t || i.id, F[t] && (i && \"contentWindow\" in i && null !== i.contentWindow ? (r = F[t] && F[t].targetOrigin, k(t, \"[\" + e + \"] Sending msg to iframe[\" + t + \"] (\" + n + \") targetOrigin: \" + r), i.contentWindow.postMessage(b + n, r)) : O(t, \"[\" + e + \"] IFrame(\" + t + \") not found\"), o && F[t] && F[t].warningTimeout && (F[t].msgTimeout = setTimeout(function () {\n      !F[t] || F[t].loaded || a || (a = !0, O(t, \"IFrame has not responded within \" + F[t].warningTimeout / 1e3 + \" seconds. Check iFrameResizer.contentWindow.js has been loaded in iFrame. This message can be ignored if everything is working, or you can set the warningTimeout option to a higher value or zero to suppress this warning.\"));\n    }, F[t].warningTimeout)));\n  }function A(e) {\n    return e + \":\" + F[e].bodyMarginV1 + \":\" + F[e].sizeWidth + \":\" + F[e].log + \":\" + F[e].interval + \":\" + F[e].enablePublicMethods + \":\" + F[e].autoResize + \":\" + F[e].bodyMargin + \":\" + F[e].heightCalculationMethod + \":\" + F[e].bodyBackground + \":\" + F[e].bodyPadding + \":\" + F[e].tolerance + \":\" + F[e].inPageLinks + \":\" + F[e].resizeFrom + \":\" + F[e].widthCalculationMethod;\n  }function d(i, e) {\n    function n(e) {\n      var n = e.split(\"Callback\");if (2 === n.length) {\n        var i = \"on\" + n[0].charAt(0).toUpperCase() + n[0].slice(1);this[i] = this[e], delete this[e], O(f, \"Deprecated: '\" + e + \"' has been renamed '\" + i + \"'. The old method will be removed in the next major version.\");\n      }\n    }var t,\n        o,\n        r,\n        a,\n        s,\n        d,\n        c,\n        f = (\"\" === (t = i.id) && (i.id = (o = e && e.id || h.id + l++, null !== document.getElementById(o) && (o += l++), t = o), m = (e || {}).log, k(t, \"Added missing iframe ID: \" + t + \" (\" + i.src + \")\")), t);f in F && \"iFrameResizer\" in i ? O(f, \"Ignored iFrame, already setup.\") : (d = (d = e) || {}, F[f] = { firstRun: !0, iframe: i, remoteHost: i.src.split(\"/\").slice(0, 3).join(\"/\") }, function (e) {\n      if (\"object\" != typeof e) throw new TypeError(\"Options is not an object\");\n    }(d), Object.keys(d).forEach(n, d), function (e) {\n      for (var n in h) Object.prototype.hasOwnProperty.call(h, n) && (F[f][n] = Object.prototype.hasOwnProperty.call(e, n) ? e[n] : h[n]);\n    }(d), F[f] && (F[f].targetOrigin = !0 === F[f].checkOrigin ? \"\" === (c = F[f].remoteHost) || \"file://\" === c ? \"*\" : c : \"*\"), function () {\n      switch (k(f, \"IFrame scrolling \" + (F[f] && F[f].scrolling ? \"enabled\" : \"disabled\") + \" for \" + f), i.style.overflow = !1 === (F[f] && F[f].scrolling) ? \"hidden\" : \"auto\", F[f] && F[f].scrolling) {case \"omit\":\n          break;case !0:\n          i.scrolling = \"yes\";break;case !1:\n          i.scrolling = \"no\";break;default:\n          i.scrolling = F[f] ? F[f].scrolling : \"no\";}\n    }(), function () {\n      function e(e) {\n        1 / 0 !== F[f][e] && 0 !== F[f][e] && (i.style[e] = F[f][e] + \"px\", k(f, \"Set \" + e + \" = \" + F[f][e] + \"px\"));\n      }function n(e) {\n        if (F[f][\"min\" + e] > F[f][\"max\" + e]) throw new Error(\"Value for min\" + e + \" can not be greater than max\" + e);\n      }n(\"Height\"), n(\"Width\"), e(\"maxHeight\"), e(\"minHeight\"), e(\"maxWidth\"), e(\"minWidth\");\n    }(), \"number\" != typeof (F[f] && F[f].bodyMargin) && \"0\" !== (F[f] && F[f].bodyMargin) || (F[f].bodyMarginV1 = F[f].bodyMargin, F[f].bodyMargin = F[f].bodyMargin + \"px\"), r = A(f), (s = w()) && (a = s, i.parentNode && new a(function (e) {\n      e.forEach(function (e) {\n        Array.prototype.slice.call(e.removedNodes).forEach(function (e) {\n          e === i && E(i);\n        });\n      });\n    }).observe(i.parentNode, { childList: !0 })), M(i, \"load\", function () {\n      var e, n;H(\"iFrame.onload\", r, i, u, !0), e = F[f] && F[f].firstRun, n = F[f] && F[f].heightCalculationMethod in g, !e && n && W({ iframe: i, height: 0, width: 0, type: \"init\" });\n    }), H(\"init\", r, i, u, !0), F[f] && (F[f].iframe.iFrameResizer = { close: E.bind(null, F[f].iframe), removeListeners: T.bind(null, F[f].iframe), resize: H.bind(null, \"Window resize\", \"resize\", F[f].iframe), moveToAnchor: function (e) {\n        H(\"Move to anchor\", \"moveToAnchor:\" + e, F[f].iframe, f);\n      }, sendMessage: function (e) {\n        H(\"Send Message\", \"message:\" + (e = JSON.stringify(e)), F[f].iframe, f);\n      } }));\n  }function c(e, n) {\n    null === i && (i = setTimeout(function () {\n      i = null, e();\n    }, n));\n  }function f() {\n    \"hidden\" !== document.visibilityState && (k(\"document\", \"Trigger event: Visiblity change\"), c(function () {\n      q(\"Tab Visable\", \"resize\");\n    }, 16));\n  }function q(i, t) {\n    Object.keys(F).forEach(function (e) {\n      var n;F[n = e] && \"parent\" === F[n].resizeFrom && F[n].autoResize && !F[n].firstRun && H(i, t, document.getElementById(e), e);\n    });\n  }function L() {\n    M(window, \"message\", s), M(window, \"resize\", function () {\n      var e;k(\"window\", \"Trigger event: \" + (e = \"resize\")), c(function () {\n        q(\"Window \" + e, \"resize\");\n      }, 16);\n    }), M(document, \"visibilitychange\", f), M(document, \"-webkit-visibilitychange\", f);\n  }function B() {\n    function t(e, n) {\n      n && (!function () {\n        if (!n.tagName) throw new TypeError(\"Object is not a valid DOM element\");if (\"IFRAME\" !== n.tagName.toUpperCase()) throw new TypeError(\"Expected <IFRAME> tag, found <\" + n.tagName + \">\");\n      }(), d(n, e), o.push(n));\n    }var o;return function () {\n      var e,\n          n = [\"moz\", \"webkit\", \"o\", \"ms\"];for (e = 0; e < n.length && !r; e += 1) r = window[n[e] + \"RequestAnimationFrame\"];r || k(\"setup\", \"RequestAnimationFrame not supported\");\n    }(), L(), function (e, n) {\n      var i;switch (o = [], (i = e) && i.enablePublicMethods && O(\"enablePublicMethods option has been removed, public methods are now always available in the iFrame\"), typeof n) {case \"undefined\":case \"string\":\n          Array.prototype.forEach.call(document.querySelectorAll(n || \"iframe\"), t.bind(u, e));break;case \"object\":\n          t(e, n);break;default:\n          throw new TypeError(\"Unexpected data type (\" + typeof n + \")\");}return o;\n    };\n  }\n}();\n//# sourceMappingURL=iframeResizer.map\n// exports.iframeResizer = require('./iframeResizer')\n// exports.iframeResizerContentWindow = require('./iframeResizer.contentWindow')\nvar iframe = iFrameResize({ log: true, checkOrigin: false, heightCalculationMethod: 'lowestElement' }, '#elearning-quiz-iframe');\n'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n/*!\n * Flickity PACKAGED v2.1.1\n * Touch, responsive, flickable carousels\n *\n * Licensed GPLv3 for open source use\n * or Flickity Commercial License for commercial use\n *\n * https://flickity.metafizzy.co\n * Copyright 2015-2018 Metafizzy\n */\n\n/**\n * Bridget makes jQuery widgets\n * v2.0.1\n * MIT license\n */\n\n/* jshint browser: true, strict: true, undef: true, unused: true */\n\n(function (window, factory) {\n  // universal module definition\n  /*jshint strict: false */ /* globals define, module, require */\n  if (typeof define == 'function' && define.amd) {\n    // AMD\n    define('jquery-bridget/jquery-bridget', ['jquery'], function (jQuery) {\n      return factory(window, jQuery);\n    });\n  } else if ((typeof module === 'undefined' ? 'undefined' : _typeof(module)) == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory(window, require('jquery'));\n  } else {\n    // browser global\n    window.jQueryBridget = factory(window, window.jQuery);\n  }\n})(window, function factory(window, jQuery) {\n  'use strict';\n\n  // ----- utils ----- //\n\n  var arraySlice = Array.prototype.slice;\n\n  // helper function for logging errors\n  // $.error breaks jQuery chaining\n  var console = window.console;\n  var logError = typeof console == 'undefined' ? function () {} : function (message) {\n    console.error(message);\n  };\n\n  // ----- jQueryBridget ----- //\n\n  function jQueryBridget(namespace, PluginClass, $) {\n    $ = $ || jQuery || window.jQuery;\n    if (!$) {\n      return;\n    }\n\n    // add option method -> $().plugin('option', {...})\n    if (!PluginClass.prototype.option) {\n      // option setter\n      PluginClass.prototype.option = function (opts) {\n        // bail out if not an object\n        if (!$.isPlainObject(opts)) {\n          return;\n        }\n        this.options = $.extend(true, this.options, opts);\n      };\n    }\n\n    // make jQuery plugin\n    $.fn[namespace] = function (arg0 /*, arg1 */) {\n      if (typeof arg0 == 'string') {\n        // method call $().plugin( 'methodName', { options } )\n        // shift arguments by 1\n        var args = arraySlice.call(arguments, 1);\n        return methodCall(this, arg0, args);\n      }\n      // just $().plugin({ options })\n      plainCall(this, arg0);\n      return this;\n    };\n\n    // $().plugin('methodName')\n    function methodCall($elems, methodName, args) {\n      var returnValue;\n      var pluginMethodStr = '$().' + namespace + '(\"' + methodName + '\")';\n\n      $elems.each(function (i, elem) {\n        // get instance\n        var instance = $.data(elem, namespace);\n        if (!instance) {\n          logError(namespace + ' not initialized. Cannot call methods, i.e. ' + pluginMethodStr);\n          return;\n        }\n\n        var method = instance[methodName];\n        if (!method || methodName.charAt(0) == '_') {\n          logError(pluginMethodStr + ' is not a valid method');\n          return;\n        }\n\n        // apply method, get return value\n        var value = method.apply(instance, args);\n        // set return value if value is returned, use only first value\n        returnValue = returnValue === undefined ? value : returnValue;\n      });\n\n      return returnValue !== undefined ? returnValue : $elems;\n    }\n\n    function plainCall($elems, options) {\n      $elems.each(function (i, elem) {\n        var instance = $.data(elem, namespace);\n        if (instance) {\n          // set options & init\n          instance.option(options);\n          instance._init();\n        } else {\n          // initialize new instance\n          instance = new PluginClass(elem, options);\n          $.data(elem, namespace, instance);\n        }\n      });\n    }\n\n    updateJQuery($);\n  }\n\n  // ----- updateJQuery ----- //\n\n  // set $.bridget for v1 backwards compatibility\n  function updateJQuery($) {\n    if (!$ || $ && $.bridget) {\n      return;\n    }\n    $.bridget = jQueryBridget;\n  }\n\n  updateJQuery(jQuery || window.jQuery);\n\n  // -----  ----- //\n\n  return jQueryBridget;\n});\n\n/**\n * EvEmitter v1.1.0\n * Lil' event emitter\n * MIT License\n */\n\n/* jshint unused: true, undef: true, strict: true */\n\n(function (global, factory) {\n  // universal module definition\n  /* jshint strict: false */ /* globals define, module, window */\n  if (typeof define == 'function' && define.amd) {\n    // AMD - RequireJS\n    define('ev-emitter/ev-emitter', factory);\n  } else if ((typeof module === 'undefined' ? 'undefined' : _typeof(module)) == 'object' && module.exports) {\n    // CommonJS - Browserify, Webpack\n    module.exports = factory();\n  } else {\n    // Browser globals\n    global.EvEmitter = factory();\n  }\n})(typeof window != 'undefined' ? window : undefined, function () {\n\n  function EvEmitter() {}\n\n  var proto = EvEmitter.prototype;\n\n  proto.on = function (eventName, listener) {\n    if (!eventName || !listener) {\n      return;\n    }\n    // set events hash\n    var events = this._events = this._events || {};\n    // set listeners array\n    var listeners = events[eventName] = events[eventName] || [];\n    // only add once\n    if (listeners.indexOf(listener) == -1) {\n      listeners.push(listener);\n    }\n\n    return this;\n  };\n\n  proto.once = function (eventName, listener) {\n    if (!eventName || !listener) {\n      return;\n    }\n    // add event\n    this.on(eventName, listener);\n    // set once flag\n    // set onceEvents hash\n    var onceEvents = this._onceEvents = this._onceEvents || {};\n    // set onceListeners object\n    var onceListeners = onceEvents[eventName] = onceEvents[eventName] || {};\n    // set flag\n    onceListeners[listener] = true;\n\n    return this;\n  };\n\n  proto.off = function (eventName, listener) {\n    var listeners = this._events && this._events[eventName];\n    if (!listeners || !listeners.length) {\n      return;\n    }\n    var index = listeners.indexOf(listener);\n    if (index != -1) {\n      listeners.splice(index, 1);\n    }\n\n    return this;\n  };\n\n  proto.emitEvent = function (eventName, args) {\n    var listeners = this._events && this._events[eventName];\n    if (!listeners || !listeners.length) {\n      return;\n    }\n    // copy over to avoid interference if .off() in listener\n    listeners = listeners.slice(0);\n    args = args || [];\n    // once stuff\n    var onceListeners = this._onceEvents && this._onceEvents[eventName];\n\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      var isOnce = onceListeners && onceListeners[listener];\n      if (isOnce) {\n        // remove listener\n        // remove before trigger to prevent recursion\n        this.off(eventName, listener);\n        // unset once flag\n        delete onceListeners[listener];\n      }\n      // trigger listener\n      listener.apply(this, args);\n    }\n\n    return this;\n  };\n\n  proto.allOff = function () {\n    delete this._events;\n    delete this._onceEvents;\n  };\n\n  return EvEmitter;\n});\n\n/*!\n * getSize v2.0.2\n * measure size of elements\n * MIT license\n */\n\n/*jshint browser: true, strict: true, undef: true, unused: true */\n/*global define: false, module: false, console: false */\n\n(function (window, factory) {\n  'use strict';\n\n  if (typeof define == 'function' && define.amd) {\n    // AMD\n    define('get-size/get-size', [], function () {\n      return factory();\n    });\n  } else if ((typeof module === 'undefined' ? 'undefined' : _typeof(module)) == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory();\n  } else {\n    // browser global\n    window.getSize = factory();\n  }\n})(window, function factory() {\n  'use strict';\n\n  // -------------------------- helpers -------------------------- //\n\n  // get a number from a string, not a percentage\n\n  function getStyleSize(value) {\n    var num = parseFloat(value);\n    // not a percent like '100%', and a number\n    var isValid = value.indexOf('%') == -1 && !isNaN(num);\n    return isValid && num;\n  }\n\n  function noop() {}\n\n  var logError = typeof console == 'undefined' ? noop : function (message) {\n    console.error(message);\n  };\n\n  // -------------------------- measurements -------------------------- //\n\n  var measurements = ['paddingLeft', 'paddingRight', 'paddingTop', 'paddingBottom', 'marginLeft', 'marginRight', 'marginTop', 'marginBottom', 'borderLeftWidth', 'borderRightWidth', 'borderTopWidth', 'borderBottomWidth'];\n\n  var measurementsLength = measurements.length;\n\n  function getZeroSize() {\n    var size = {\n      width: 0,\n      height: 0,\n      innerWidth: 0,\n      innerHeight: 0,\n      outerWidth: 0,\n      outerHeight: 0\n    };\n    for (var i = 0; i < measurementsLength; i++) {\n      var measurement = measurements[i];\n      size[measurement] = 0;\n    }\n    return size;\n  }\n\n  // -------------------------- getStyle -------------------------- //\n\n  /**\n   * getStyle, get style of element, check for Firefox bug\n   * https://bugzilla.mozilla.org/show_bug.cgi?id=548397\n   */\n  function getStyle(elem) {\n    var style = getComputedStyle(elem);\n    if (!style) {\n      logError('Style returned ' + style + '. Are you running this code in a hidden iframe on Firefox? ' + 'See http://bit.ly/getsizebug1');\n    }\n    return style;\n  }\n\n  // -------------------------- setup -------------------------- //\n\n  var isSetup = false;\n\n  var isBoxSizeOuter;\n\n  /**\n   * setup\n   * check isBoxSizerOuter\n   * do on first getSize() rather than on page load for Firefox bug\n   */\n  function setup() {\n    // setup once\n    if (isSetup) {\n      return;\n    }\n    isSetup = true;\n\n    // -------------------------- box sizing -------------------------- //\n\n    /**\n     * WebKit measures the outer-width on style.width on border-box elems\n     * IE & Firefox<29 measures the inner-width\n     */\n    var div = document.createElement('div');\n    div.style.width = '200px';\n    div.style.padding = '1px 2px 3px 4px';\n    div.style.borderStyle = 'solid';\n    div.style.borderWidth = '1px 2px 3px 4px';\n    div.style.boxSizing = 'border-box';\n\n    var body = document.body || document.documentElement;\n    body.appendChild(div);\n    var style = getStyle(div);\n\n    getSize.isBoxSizeOuter = isBoxSizeOuter = getStyleSize(style.width) == 200;\n    body.removeChild(div);\n  }\n\n  // -------------------------- getSize -------------------------- //\n\n  function getSize(elem) {\n    setup();\n\n    // use querySeletor if elem is string\n    if (typeof elem == 'string') {\n      elem = document.querySelector(elem);\n    }\n\n    // do not proceed on non-objects\n    if (!elem || (typeof elem === 'undefined' ? 'undefined' : _typeof(elem)) != 'object' || !elem.nodeType) {\n      return;\n    }\n\n    var style = getStyle(elem);\n\n    // if hidden, everything is 0\n    if (style.display == 'none') {\n      return getZeroSize();\n    }\n\n    var size = {};\n    size.width = elem.offsetWidth;\n    size.height = elem.offsetHeight;\n\n    var isBorderBox = size.isBorderBox = style.boxSizing == 'border-box';\n\n    // get all measurements\n    for (var i = 0; i < measurementsLength; i++) {\n      var measurement = measurements[i];\n      var value = style[measurement];\n      var num = parseFloat(value);\n      // any 'auto', 'medium' value will be 0\n      size[measurement] = !isNaN(num) ? num : 0;\n    }\n\n    var paddingWidth = size.paddingLeft + size.paddingRight;\n    var paddingHeight = size.paddingTop + size.paddingBottom;\n    var marginWidth = size.marginLeft + size.marginRight;\n    var marginHeight = size.marginTop + size.marginBottom;\n    var borderWidth = size.borderLeftWidth + size.borderRightWidth;\n    var borderHeight = size.borderTopWidth + size.borderBottomWidth;\n\n    var isBorderBoxSizeOuter = isBorderBox && isBoxSizeOuter;\n\n    // overwrite width and height if we can get it from style\n    var styleWidth = getStyleSize(style.width);\n    if (styleWidth !== false) {\n      size.width = styleWidth + (\n      // add padding and border unless it's already including it\n      isBorderBoxSizeOuter ? 0 : paddingWidth + borderWidth);\n    }\n\n    var styleHeight = getStyleSize(style.height);\n    if (styleHeight !== false) {\n      size.height = styleHeight + (\n      // add padding and border unless it's already including it\n      isBorderBoxSizeOuter ? 0 : paddingHeight + borderHeight);\n    }\n\n    size.innerWidth = size.width - (paddingWidth + borderWidth);\n    size.innerHeight = size.height - (paddingHeight + borderHeight);\n\n    size.outerWidth = size.width + marginWidth;\n    size.outerHeight = size.height + marginHeight;\n\n    return size;\n  }\n\n  return getSize;\n});\n\n/**\n * matchesSelector v2.0.2\n * matchesSelector( element, '.selector' )\n * MIT license\n */\n\n/*jshint browser: true, strict: true, undef: true, unused: true */\n\n(function (window, factory) {\n  /*global define: false, module: false */\n  'use strict';\n  // universal module definition\n\n  if (typeof define == 'function' && define.amd) {\n    // AMD\n    define('desandro-matches-selector/matches-selector', factory);\n  } else if ((typeof module === 'undefined' ? 'undefined' : _typeof(module)) == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory();\n  } else {\n    // browser global\n    window.matchesSelector = factory();\n  }\n})(window, function factory() {\n  'use strict';\n\n  var matchesMethod = function () {\n    var ElemProto = window.Element.prototype;\n    // check for the standard method name first\n    if (ElemProto.matches) {\n      return 'matches';\n    }\n    // check un-prefixed\n    if (ElemProto.matchesSelector) {\n      return 'matchesSelector';\n    }\n    // check vendor prefixes\n    var prefixes = ['webkit', 'moz', 'ms', 'o'];\n\n    for (var i = 0; i < prefixes.length; i++) {\n      var prefix = prefixes[i];\n      var method = prefix + 'MatchesSelector';\n      if (ElemProto[method]) {\n        return method;\n      }\n    }\n  }();\n\n  return function matchesSelector(elem, selector) {\n    return elem[matchesMethod](selector);\n  };\n});\n\n/**\n * Fizzy UI utils v2.0.7\n * MIT license\n */\n\n/*jshint browser: true, undef: true, unused: true, strict: true */\n\n(function (window, factory) {\n  // universal module definition\n  /*jshint strict: false */ /*globals define, module, require */\n\n  if (typeof define == 'function' && define.amd) {\n    // AMD\n    define('fizzy-ui-utils/utils', ['desandro-matches-selector/matches-selector'], function (matchesSelector) {\n      return factory(window, matchesSelector);\n    });\n  } else if ((typeof module === 'undefined' ? 'undefined' : _typeof(module)) == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory(window, require('desandro-matches-selector'));\n  } else {\n    // browser global\n    window.fizzyUIUtils = factory(window, window.matchesSelector);\n  }\n})(window, function factory(window, matchesSelector) {\n\n  var utils = {};\n\n  // ----- extend ----- //\n\n  // extends objects\n  utils.extend = function (a, b) {\n    for (var prop in b) {\n      a[prop] = b[prop];\n    }\n    return a;\n  };\n\n  // ----- modulo ----- //\n\n  utils.modulo = function (num, div) {\n    return (num % div + div) % div;\n  };\n\n  // ----- makeArray ----- //\n\n  var arraySlice = Array.prototype.slice;\n\n  // turn element or nodeList into an array\n  utils.makeArray = function (obj) {\n    if (Array.isArray(obj)) {\n      // use object if already an array\n      return obj;\n    }\n    // return empty array if undefined or null. #6\n    if (obj === null || obj === undefined) {\n      return [];\n    }\n\n    var isArrayLike = (typeof obj === 'undefined' ? 'undefined' : _typeof(obj)) == 'object' && typeof obj.length == 'number';\n    if (isArrayLike) {\n      // convert nodeList to array\n      return arraySlice.call(obj);\n    }\n\n    // array of single index\n    return [obj];\n  };\n\n  // ----- removeFrom ----- //\n\n  utils.removeFrom = function (ary, obj) {\n    var index = ary.indexOf(obj);\n    if (index != -1) {\n      ary.splice(index, 1);\n    }\n  };\n\n  // ----- getParent ----- //\n\n  utils.getParent = function (elem, selector) {\n    while (elem.parentNode && elem != document.body) {\n      elem = elem.parentNode;\n      if (matchesSelector(elem, selector)) {\n        return elem;\n      }\n    }\n  };\n\n  // ----- getQueryElement ----- //\n\n  // use element as selector string\n  utils.getQueryElement = function (elem) {\n    if (typeof elem == 'string') {\n      return document.querySelector(elem);\n    }\n    return elem;\n  };\n\n  // ----- handleEvent ----- //\n\n  // enable .ontype to trigger from .addEventListener( elem, 'type' )\n  utils.handleEvent = function (event) {\n    var method = 'on' + event.type;\n    if (this[method]) {\n      this[method](event);\n    }\n  };\n\n  // ----- filterFindElements ----- //\n\n  utils.filterFindElements = function (elems, selector) {\n    // make array of elems\n    elems = utils.makeArray(elems);\n    var ffElems = [];\n\n    elems.forEach(function (elem) {\n      // check that elem is an actual element\n      if (!(elem instanceof HTMLElement)) {\n        return;\n      }\n      // add elem if no selector\n      if (!selector) {\n        ffElems.push(elem);\n        return;\n      }\n      // filter & find items if we have a selector\n      // filter\n      if (matchesSelector(elem, selector)) {\n        ffElems.push(elem);\n      }\n      // find children\n      var childElems = elem.querySelectorAll(selector);\n      // concat childElems to filterFound array\n      for (var i = 0; i < childElems.length; i++) {\n        ffElems.push(childElems[i]);\n      }\n    });\n\n    return ffElems;\n  };\n\n  // ----- debounceMethod ----- //\n\n  utils.debounceMethod = function (_class, methodName, threshold) {\n    threshold = threshold || 100;\n    // original method\n    var method = _class.prototype[methodName];\n    var timeoutName = methodName + 'Timeout';\n\n    _class.prototype[methodName] = function () {\n      var timeout = this[timeoutName];\n      clearTimeout(timeout);\n\n      var args = arguments;\n      var _this = this;\n      this[timeoutName] = setTimeout(function () {\n        method.apply(_this, args);\n        delete _this[timeoutName];\n      }, threshold);\n    };\n  };\n\n  // ----- docReady ----- //\n\n  utils.docReady = function (callback) {\n    var readyState = document.readyState;\n    if (readyState == 'complete' || readyState == 'interactive') {\n      // do async to allow for other scripts to run. metafizzy/flickity#441\n      setTimeout(callback);\n    } else {\n      document.addEventListener('DOMContentLoaded', callback);\n    }\n  };\n\n  // ----- htmlInit ----- //\n\n  // http://jamesroberts.name/blog/2010/02/22/string-functions-for-javascript-trim-to-camel-case-to-dashed-and-to-underscore/\n  utils.toDashed = function (str) {\n    return str.replace(/(.)([A-Z])/g, function (match, $1, $2) {\n      return $1 + '-' + $2;\n    }).toLowerCase();\n  };\n\n  var console = window.console;\n  /**\n   * allow user to initialize classes via [data-namespace] or .js-namespace class\n   * htmlInit( Widget, 'widgetName' )\n   * options are parsed from data-namespace-options\n   */\n  utils.htmlInit = function (WidgetClass, namespace) {\n    utils.docReady(function () {\n      var dashedNamespace = utils.toDashed(namespace);\n      var dataAttr = 'data-' + dashedNamespace;\n      var dataAttrElems = document.querySelectorAll('[' + dataAttr + ']');\n      var jsDashElems = document.querySelectorAll('.js-' + dashedNamespace);\n      var elems = utils.makeArray(dataAttrElems).concat(utils.makeArray(jsDashElems));\n      var dataOptionsAttr = dataAttr + '-options';\n      var jQuery = window.jQuery;\n\n      elems.forEach(function (elem) {\n        var attr = elem.getAttribute(dataAttr) || elem.getAttribute(dataOptionsAttr);\n        var options;\n        try {\n          options = attr && JSON.parse(attr);\n        } catch (error) {\n          // log error, do not initialize\n          if (console) {\n            console.error('Error parsing ' + dataAttr + ' on ' + elem.className + ': ' + error);\n          }\n          return;\n        }\n        // initialize\n        var instance = new WidgetClass(elem, options);\n        // make available via $().data('namespace')\n        if (jQuery) {\n          jQuery.data(elem, namespace, instance);\n        }\n      });\n    });\n  };\n\n  // -----  ----- //\n\n  return utils;\n});\n\n// Flickity.Cell\n(function (window, factory) {\n  // universal module definition\n  /* jshint strict: false */\n  if (typeof define == 'function' && define.amd) {\n    // AMD\n    define('flickity/js/cell', ['get-size/get-size'], function (getSize) {\n      return factory(window, getSize);\n    });\n  } else if ((typeof module === 'undefined' ? 'undefined' : _typeof(module)) == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory(window, require('get-size'));\n  } else {\n    // browser global\n    window.Flickity = window.Flickity || {};\n    window.Flickity.Cell = factory(window, window.getSize);\n  }\n})(window, function factory(window, getSize) {\n\n  function Cell(elem, parent) {\n    this.element = elem;\n    this.parent = parent;\n\n    this.create();\n  }\n\n  var proto = Cell.prototype;\n\n  proto.create = function () {\n    this.element.style.position = 'absolute';\n    this.element.setAttribute('aria-selected', 'false');\n    this.x = 0;\n    this.shift = 0;\n  };\n\n  proto.destroy = function () {\n    // reset style\n    this.element.style.position = '';\n    var side = this.parent.originSide;\n    this.element.removeAttribute('aria-selected');\n    this.element.style[side] = '';\n  };\n\n  proto.getSize = function () {\n    this.size = getSize(this.element);\n  };\n\n  proto.setPosition = function (x) {\n    this.x = x;\n    this.updateTarget();\n    this.renderPosition(x);\n  };\n\n  // setDefaultTarget v1 method, backwards compatibility, remove in v3\n  proto.updateTarget = proto.setDefaultTarget = function () {\n    var marginProperty = this.parent.originSide == 'left' ? 'marginLeft' : 'marginRight';\n    this.target = this.x + this.size[marginProperty] + this.size.width * this.parent.cellAlign;\n  };\n\n  proto.renderPosition = function (x) {\n    // render position of cell with in slider\n    var side = this.parent.originSide;\n    this.element.style[side] = this.parent.getPositionValue(x);\n  };\n\n  /**\n   * @param {Integer} factor - 0, 1, or -1\n  **/\n  proto.wrapShift = function (shift) {\n    this.shift = shift;\n    this.renderPosition(this.x + this.parent.slideableWidth * shift);\n  };\n\n  proto.remove = function () {\n    this.element.parentNode.removeChild(this.element);\n  };\n\n  return Cell;\n});\n\n// slide\n(function (window, factory) {\n  // universal module definition\n  /* jshint strict: false */\n  if (typeof define == 'function' && define.amd) {\n    // AMD\n    define('flickity/js/slide', factory);\n  } else if ((typeof module === 'undefined' ? 'undefined' : _typeof(module)) == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory();\n  } else {\n    // browser global\n    window.Flickity = window.Flickity || {};\n    window.Flickity.Slide = factory();\n  }\n})(window, function factory() {\n  'use strict';\n\n  function Slide(parent) {\n    this.parent = parent;\n    this.isOriginLeft = parent.originSide == 'left';\n    this.cells = [];\n    this.outerWidth = 0;\n    this.height = 0;\n  }\n\n  var proto = Slide.prototype;\n\n  proto.addCell = function (cell) {\n    this.cells.push(cell);\n    this.outerWidth += cell.size.outerWidth;\n    this.height = Math.max(cell.size.outerHeight, this.height);\n    // first cell stuff\n    if (this.cells.length == 1) {\n      this.x = cell.x; // x comes from first cell\n      var beginMargin = this.isOriginLeft ? 'marginLeft' : 'marginRight';\n      this.firstMargin = cell.size[beginMargin];\n    }\n  };\n\n  proto.updateTarget = function () {\n    var endMargin = this.isOriginLeft ? 'marginRight' : 'marginLeft';\n    var lastCell = this.getLastCell();\n    var lastMargin = lastCell ? lastCell.size[endMargin] : 0;\n    var slideWidth = this.outerWidth - (this.firstMargin + lastMargin);\n    this.target = this.x + this.firstMargin + slideWidth * this.parent.cellAlign;\n  };\n\n  proto.getLastCell = function () {\n    return this.cells[this.cells.length - 1];\n  };\n\n  proto.select = function () {\n    this.changeSelected(true);\n  };\n\n  proto.unselect = function () {\n    this.changeSelected(false);\n  };\n\n  proto.changeSelected = function (isSelected) {\n    var classMethod = isSelected ? 'add' : 'remove';\n    this.cells.forEach(function (cell) {\n      cell.element.classList[classMethod]('is-selected');\n      cell.element.setAttribute('aria-selected', isSelected.toString());\n    });\n  };\n\n  proto.getCellElements = function () {\n    return this.cells.map(function (cell) {\n      return cell.element;\n    });\n  };\n\n  return Slide;\n});\n\n// animate\n(function (window, factory) {\n  // universal module definition\n  /* jshint strict: false */\n  if (typeof define == 'function' && define.amd) {\n    // AMD\n    define('flickity/js/animate', ['fizzy-ui-utils/utils'], function (utils) {\n      return factory(window, utils);\n    });\n  } else if ((typeof module === 'undefined' ? 'undefined' : _typeof(module)) == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory(window, require('fizzy-ui-utils'));\n  } else {\n    // browser global\n    window.Flickity = window.Flickity || {};\n    window.Flickity.animatePrototype = factory(window, window.fizzyUIUtils);\n  }\n})(window, function factory(window, utils) {\n\n  // -------------------------- animate -------------------------- //\n\n  var proto = {};\n\n  proto.startAnimation = function () {\n    if (this.isAnimating) {\n      return;\n    }\n\n    this.isAnimating = true;\n    this.restingFrames = 0;\n    this.animate();\n  };\n\n  proto.animate = function () {\n    this.applyDragForce();\n    this.applySelectedAttraction();\n\n    var previousX = this.x;\n\n    this.integratePhysics();\n    this.positionSlider();\n    this.settle(previousX);\n    // animate next frame\n    if (this.isAnimating) {\n      var _this = this;\n      requestAnimationFrame(function animateFrame() {\n        _this.animate();\n      });\n    }\n  };\n\n  proto.positionSlider = function () {\n    var x = this.x;\n    // wrap position around\n    if (this.options.wrapAround && this.cells.length > 1) {\n      x = utils.modulo(x, this.slideableWidth);\n      x = x - this.slideableWidth;\n      this.shiftWrapCells(x);\n    }\n\n    x = x + this.cursorPosition;\n    // reverse if right-to-left and using transform\n    x = this.options.rightToLeft ? -x : x;\n    var value = this.getPositionValue(x);\n    // use 3D tranforms for hardware acceleration on iOS\n    // but use 2D when settled, for better font-rendering\n    this.slider.style.transform = this.isAnimating ? 'translate3d(' + value + ',0,0)' : 'translateX(' + value + ')';\n\n    // scroll event\n    var firstSlide = this.slides[0];\n    if (firstSlide) {\n      var positionX = -this.x - firstSlide.target;\n      var progress = positionX / this.slidesWidth;\n      this.dispatchEvent('scroll', null, [progress, positionX]);\n    }\n  };\n\n  proto.positionSliderAtSelected = function () {\n    if (!this.cells.length) {\n      return;\n    }\n    this.x = -this.selectedSlide.target;\n    this.velocity = 0; // stop wobble\n    this.positionSlider();\n  };\n\n  proto.getPositionValue = function (position) {\n    if (this.options.percentPosition) {\n      // percent position, round to 2 digits, like 12.34%\n      return Math.round(position / this.size.innerWidth * 10000) * 0.01 + '%';\n    } else {\n      // pixel positioning\n      return Math.round(position) + 'px';\n    }\n  };\n\n  proto.settle = function (previousX) {\n    // keep track of frames where x hasn't moved\n    if (!this.isPointerDown && Math.round(this.x * 100) == Math.round(previousX * 100)) {\n      this.restingFrames++;\n    }\n    // stop animating if resting for 3 or more frames\n    if (this.restingFrames > 2) {\n      this.isAnimating = false;\n      delete this.isFreeScrolling;\n      // render position with translateX when settled\n      this.positionSlider();\n      this.dispatchEvent('settle', null, [this.selectedIndex]);\n    }\n  };\n\n  proto.shiftWrapCells = function (x) {\n    // shift before cells\n    var beforeGap = this.cursorPosition + x;\n    this._shiftCells(this.beforeShiftCells, beforeGap, -1);\n    // shift after cells\n    var afterGap = this.size.innerWidth - (x + this.slideableWidth + this.cursorPosition);\n    this._shiftCells(this.afterShiftCells, afterGap, 1);\n  };\n\n  proto._shiftCells = function (cells, gap, shift) {\n    for (var i = 0; i < cells.length; i++) {\n      var cell = cells[i];\n      var cellShift = gap > 0 ? shift : 0;\n      cell.wrapShift(cellShift);\n      gap -= cell.size.outerWidth;\n    }\n  };\n\n  proto._unshiftCells = function (cells) {\n    if (!cells || !cells.length) {\n      return;\n    }\n    for (var i = 0; i < cells.length; i++) {\n      cells[i].wrapShift(0);\n    }\n  };\n\n  // -------------------------- physics -------------------------- //\n\n  proto.integratePhysics = function () {\n    this.x += this.velocity;\n    this.velocity *= this.getFrictionFactor();\n  };\n\n  proto.applyForce = function (force) {\n    this.velocity += force;\n  };\n\n  proto.getFrictionFactor = function () {\n    return 1 - this.options[this.isFreeScrolling ? 'freeScrollFriction' : 'friction'];\n  };\n\n  proto.getRestingPosition = function () {\n    // my thanks to Steven Wittens, who simplified this math greatly\n    return this.x + this.velocity / (1 - this.getFrictionFactor());\n  };\n\n  proto.applyDragForce = function () {\n    if (!this.isDraggable || !this.isPointerDown) {\n      return;\n    }\n    // change the position to drag position by applying force\n    var dragVelocity = this.dragX - this.x;\n    var dragForce = dragVelocity - this.velocity;\n    this.applyForce(dragForce);\n  };\n\n  proto.applySelectedAttraction = function () {\n    // do not attract if pointer down or no slides\n    var dragDown = this.isDraggable && this.isPointerDown;\n    if (dragDown || this.isFreeScrolling || !this.slides.length) {\n      return;\n    }\n    var distance = this.selectedSlide.target * -1 - this.x;\n    var force = distance * this.options.selectedAttraction;\n    this.applyForce(force);\n  };\n\n  return proto;\n});\n\n// Flickity main\n(function (window, factory) {\n  // universal module definition\n  /* jshint strict: false */\n  if (typeof define == 'function' && define.amd) {\n    // AMD\n    define('flickity/js/flickity', ['ev-emitter/ev-emitter', 'get-size/get-size', 'fizzy-ui-utils/utils', './cell', './slide', './animate'], function (EvEmitter, getSize, utils, Cell, Slide, animatePrototype) {\n      return factory(window, EvEmitter, getSize, utils, Cell, Slide, animatePrototype);\n    });\n  } else if ((typeof module === 'undefined' ? 'undefined' : _typeof(module)) == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory(window, require('ev-emitter'), require('get-size'), require('fizzy-ui-utils'), require('./cell'), require('./slide'), require('./animate'));\n  } else {\n    // browser global\n    var _Flickity = window.Flickity;\n\n    window.Flickity = factory(window, window.EvEmitter, window.getSize, window.fizzyUIUtils, _Flickity.Cell, _Flickity.Slide, _Flickity.animatePrototype);\n  }\n})(window, function factory(window, EvEmitter, getSize, utils, Cell, Slide, animatePrototype) {\n\n  // vars\n  var jQuery = window.jQuery;\n  var getComputedStyle = window.getComputedStyle;\n  var console = window.console;\n\n  function moveElements(elems, toElem) {\n    elems = utils.makeArray(elems);\n    while (elems.length) {\n      toElem.appendChild(elems.shift());\n    }\n  }\n\n  // -------------------------- Flickity -------------------------- //\n\n  // globally unique identifiers\n  var GUID = 0;\n  // internal store of all Flickity intances\n  var instances = {};\n\n  function Flickity(element, options) {\n    var queryElement = utils.getQueryElement(element);\n    if (!queryElement) {\n      if (console) {\n        console.error('Bad element for Flickity: ' + (queryElement || element));\n      }\n      return;\n    }\n    this.element = queryElement;\n    // do not initialize twice on same element\n    if (this.element.flickityGUID) {\n      var instance = instances[this.element.flickityGUID];\n      instance.option(options);\n      return instance;\n    }\n\n    // add jQuery\n    if (jQuery) {\n      this.$element = jQuery(this.element);\n    }\n    // options\n    this.options = utils.extend({}, this.constructor.defaults);\n    this.option(options);\n\n    // kick things off\n    this._create();\n  }\n\n  Flickity.defaults = {\n    accessibility: true,\n    // adaptiveHeight: false,\n    cellAlign: 'center',\n    // cellSelector: undefined,\n    // contain: false,\n    freeScrollFriction: 0.075, // friction when free-scrolling\n    friction: 0.28, // friction when selecting\n    namespaceJQueryEvents: true,\n    // initialIndex: 0,\n    percentPosition: true,\n    resize: true,\n    selectedAttraction: 0.025,\n    setGallerySize: true\n    // watchCSS: false,\n    // wrapAround: false\n  };\n\n  // hash of methods triggered on _create()\n  Flickity.createMethods = [];\n\n  var proto = Flickity.prototype;\n  // inherit EventEmitter\n  utils.extend(proto, EvEmitter.prototype);\n\n  proto._create = function () {\n    // add id for Flickity.data\n    var id = this.guid = ++GUID;\n    this.element.flickityGUID = id; // expando\n    instances[id] = this; // associate via id\n    // initial properties\n    this.selectedIndex = 0;\n    // how many frames slider has been in same position\n    this.restingFrames = 0;\n    // initial physics properties\n    this.x = 0;\n    this.velocity = 0;\n    this.originSide = this.options.rightToLeft ? 'right' : 'left';\n    // create viewport & slider\n    this.viewport = document.createElement('div');\n    this.viewport.className = 'flickity-viewport';\n    this._createSlider();\n\n    if (this.options.resize || this.options.watchCSS) {\n      window.addEventListener('resize', this);\n    }\n\n    // add listeners from on option\n    for (var eventName in this.options.on) {\n      var listener = this.options.on[eventName];\n      this.on(eventName, listener);\n    }\n\n    Flickity.createMethods.forEach(function (method) {\n      this[method]();\n    }, this);\n\n    if (this.options.watchCSS) {\n      this.watchCSS();\n    } else {\n      this.activate();\n    }\n  };\n\n  /**\n   * set options\n   * @param {Object} opts\n   */\n  proto.option = function (opts) {\n    utils.extend(this.options, opts);\n  };\n\n  proto.activate = function () {\n    if (this.isActive) {\n      return;\n    }\n    this.isActive = true;\n    this.element.classList.add('flickity-enabled');\n    if (this.options.rightToLeft) {\n      this.element.classList.add('flickity-rtl');\n    }\n\n    this.getSize();\n    // move initial cell elements so they can be loaded as cells\n    var cellElems = this._filterFindCellElements(this.element.children);\n    moveElements(cellElems, this.slider);\n    this.viewport.appendChild(this.slider);\n    this.element.appendChild(this.viewport);\n    // get cells from children\n    this.reloadCells();\n\n    if (this.options.accessibility) {\n      // allow element to focusable\n      this.element.tabIndex = 0;\n      // listen for key presses\n      this.element.addEventListener('keydown', this);\n    }\n\n    this.emitEvent('activate');\n\n    var index;\n    var initialIndex = this.options.initialIndex;\n    if (this.isInitActivated) {\n      index = this.selectedIndex;\n    } else if (initialIndex !== undefined) {\n      index = this.cells[initialIndex] ? initialIndex : 0;\n    } else {\n      index = 0;\n    }\n    // select instantly\n    this.select(index, false, true);\n    // flag for initial activation, for using initialIndex\n    this.isInitActivated = true;\n    // ready event. #493\n    this.dispatchEvent('ready');\n  };\n\n  // slider positions the cells\n  proto._createSlider = function () {\n    // slider element does all the positioning\n    var slider = document.createElement('div');\n    slider.className = 'flickity-slider';\n    slider.style[this.originSide] = 0;\n    this.slider = slider;\n  };\n\n  proto._filterFindCellElements = function (elems) {\n    return utils.filterFindElements(elems, this.options.cellSelector);\n  };\n\n  // goes through all children\n  proto.reloadCells = function () {\n    // collection of item elements\n    this.cells = this._makeCells(this.slider.children);\n    this.positionCells();\n    this._getWrapShiftCells();\n    this.setGallerySize();\n  };\n\n  /**\n   * turn elements into Flickity.Cells\n   * @param {Array or NodeList or HTMLElement} elems\n   * @returns {Array} items - collection of new Flickity Cells\n   */\n  proto._makeCells = function (elems) {\n    var cellElems = this._filterFindCellElements(elems);\n\n    // create new Flickity for collection\n    var cells = cellElems.map(function (cellElem) {\n      return new Cell(cellElem, this);\n    }, this);\n\n    return cells;\n  };\n\n  proto.getLastCell = function () {\n    return this.cells[this.cells.length - 1];\n  };\n\n  proto.getLastSlide = function () {\n    return this.slides[this.slides.length - 1];\n  };\n\n  // positions all cells\n  proto.positionCells = function () {\n    // size all cells\n    this._sizeCells(this.cells);\n    // position all cells\n    this._positionCells(0);\n  };\n\n  /**\n   * position certain cells\n   * @param {Integer} index - which cell to start with\n   */\n  proto._positionCells = function (index) {\n    index = index || 0;\n    // also measure maxCellHeight\n    // start 0 if positioning all cells\n    this.maxCellHeight = index ? this.maxCellHeight || 0 : 0;\n    var cellX = 0;\n    // get cellX\n    if (index > 0) {\n      var startCell = this.cells[index - 1];\n      cellX = startCell.x + startCell.size.outerWidth;\n    }\n    var len = this.cells.length;\n    for (var i = index; i < len; i++) {\n      var cell = this.cells[i];\n      cell.setPosition(cellX);\n      cellX += cell.size.outerWidth;\n      this.maxCellHeight = Math.max(cell.size.outerHeight, this.maxCellHeight);\n    }\n    // keep track of cellX for wrap-around\n    this.slideableWidth = cellX;\n    // slides\n    this.updateSlides();\n    // contain slides target\n    this._containSlides();\n    // update slidesWidth\n    this.slidesWidth = len ? this.getLastSlide().target - this.slides[0].target : 0;\n  };\n\n  /**\n   * cell.getSize() on multiple cells\n   * @param {Array} cells\n   */\n  proto._sizeCells = function (cells) {\n    cells.forEach(function (cell) {\n      cell.getSize();\n    });\n  };\n\n  // --------------------------  -------------------------- //\n\n  proto.updateSlides = function () {\n    this.slides = [];\n    if (!this.cells.length) {\n      return;\n    }\n\n    var slide = new Slide(this);\n    this.slides.push(slide);\n    var isOriginLeft = this.originSide == 'left';\n    var nextMargin = isOriginLeft ? 'marginRight' : 'marginLeft';\n\n    var canCellFit = this._getCanCellFit();\n\n    this.cells.forEach(function (cell, i) {\n      // just add cell if first cell in slide\n      if (!slide.cells.length) {\n        slide.addCell(cell);\n        return;\n      }\n\n      var slideWidth = slide.outerWidth - slide.firstMargin + (cell.size.outerWidth - cell.size[nextMargin]);\n\n      if (canCellFit.call(this, i, slideWidth)) {\n        slide.addCell(cell);\n      } else {\n        // doesn't fit, new slide\n        slide.updateTarget();\n\n        slide = new Slide(this);\n        this.slides.push(slide);\n        slide.addCell(cell);\n      }\n    }, this);\n    // last slide\n    slide.updateTarget();\n    // update .selectedSlide\n    this.updateSelectedSlide();\n  };\n\n  proto._getCanCellFit = function () {\n    var groupCells = this.options.groupCells;\n    if (!groupCells) {\n      return function () {\n        return false;\n      };\n    } else if (typeof groupCells == 'number') {\n      // group by number. 3 -> [0,1,2], [3,4,5], ...\n      var number = parseInt(groupCells, 10);\n      return function (i) {\n        return i % number !== 0;\n      };\n    }\n    // default, group by width of slide\n    // parse '75%\n    var percentMatch = typeof groupCells == 'string' && groupCells.match(/^(\\d+)%$/);\n    var percent = percentMatch ? parseInt(percentMatch[1], 10) / 100 : 1;\n    return function (i, slideWidth) {\n      return slideWidth <= (this.size.innerWidth + 1) * percent;\n    };\n  };\n\n  // alias _init for jQuery plugin .flickity()\n  proto._init = proto.reposition = function () {\n    this.positionCells();\n    this.positionSliderAtSelected();\n  };\n\n  proto.getSize = function () {\n    this.size = getSize(this.element);\n    this.setCellAlign();\n    this.cursorPosition = this.size.innerWidth * this.cellAlign;\n  };\n\n  var cellAlignShorthands = {\n    // cell align, then based on origin side\n    center: {\n      left: 0.5,\n      right: 0.5\n    },\n    left: {\n      left: 0,\n      right: 1\n    },\n    right: {\n      right: 0,\n      left: 1\n    }\n  };\n\n  proto.setCellAlign = function () {\n    var shorthand = cellAlignShorthands[this.options.cellAlign];\n    this.cellAlign = shorthand ? shorthand[this.originSide] : this.options.cellAlign;\n  };\n\n  proto.setGallerySize = function () {\n    if (this.options.setGallerySize) {\n      var height = this.options.adaptiveHeight && this.selectedSlide ? this.selectedSlide.height : this.maxCellHeight;\n      this.viewport.style.height = height + 'px';\n    }\n  };\n\n  proto._getWrapShiftCells = function () {\n    // only for wrap-around\n    if (!this.options.wrapAround) {\n      return;\n    }\n    // unshift previous cells\n    this._unshiftCells(this.beforeShiftCells);\n    this._unshiftCells(this.afterShiftCells);\n    // get before cells\n    // initial gap\n    var gapX = this.cursorPosition;\n    var cellIndex = this.cells.length - 1;\n    this.beforeShiftCells = this._getGapCells(gapX, cellIndex, -1);\n    // get after cells\n    // ending gap between last cell and end of gallery viewport\n    gapX = this.size.innerWidth - this.cursorPosition;\n    // start cloning at first cell, working forwards\n    this.afterShiftCells = this._getGapCells(gapX, 0, 1);\n  };\n\n  proto._getGapCells = function (gapX, cellIndex, increment) {\n    // keep adding cells until the cover the initial gap\n    var cells = [];\n    while (gapX > 0) {\n      var cell = this.cells[cellIndex];\n      if (!cell) {\n        break;\n      }\n      cells.push(cell);\n      cellIndex += increment;\n      gapX -= cell.size.outerWidth;\n    }\n    return cells;\n  };\n\n  // ----- contain ----- //\n\n  // contain cell targets so no excess sliding\n  proto._containSlides = function () {\n    if (!this.options.contain || this.options.wrapAround || !this.cells.length) {\n      return;\n    }\n    var isRightToLeft = this.options.rightToLeft;\n    var beginMargin = isRightToLeft ? 'marginRight' : 'marginLeft';\n    var endMargin = isRightToLeft ? 'marginLeft' : 'marginRight';\n    var contentWidth = this.slideableWidth - this.getLastCell().size[endMargin];\n    // content is less than gallery size\n    var isContentSmaller = contentWidth < this.size.innerWidth;\n    // bounds\n    var beginBound = this.cursorPosition + this.cells[0].size[beginMargin];\n    var endBound = contentWidth - this.size.innerWidth * (1 - this.cellAlign);\n    // contain each cell target\n    this.slides.forEach(function (slide) {\n      if (isContentSmaller) {\n        // all cells fit inside gallery\n        slide.target = contentWidth * this.cellAlign;\n      } else {\n        // contain to bounds\n        slide.target = Math.max(slide.target, beginBound);\n        slide.target = Math.min(slide.target, endBound);\n      }\n    }, this);\n  };\n\n  // -----  ----- //\n\n  /**\n   * emits events via eventEmitter and jQuery events\n   * @param {String} type - name of event\n   * @param {Event} event - original event\n   * @param {Array} args - extra arguments\n   */\n  proto.dispatchEvent = function (type, event, args) {\n    var emitArgs = event ? [event].concat(args) : args;\n    this.emitEvent(type, emitArgs);\n\n    if (jQuery && this.$element) {\n      // default trigger with type if no event\n      type += this.options.namespaceJQueryEvents ? '.flickity' : '';\n      var $event = type;\n      if (event) {\n        // create jQuery event\n        var jQEvent = jQuery.Event(event);\n        jQEvent.type = type;\n        $event = jQEvent;\n      }\n      this.$element.trigger($event, args);\n    }\n  };\n\n  // -------------------------- select -------------------------- //\n\n  /**\n   * @param {Integer} index - index of the slide\n   * @param {Boolean} isWrap - will wrap-around to last/first if at the end\n   * @param {Boolean} isInstant - will immediately set position at selected cell\n   */\n  proto.select = function (index, isWrap, isInstant) {\n    if (!this.isActive) {\n      return;\n    }\n    index = parseInt(index, 10);\n    this._wrapSelect(index);\n\n    if (this.options.wrapAround || isWrap) {\n      index = utils.modulo(index, this.slides.length);\n    }\n    // bail if invalid index\n    if (!this.slides[index]) {\n      return;\n    }\n    var prevIndex = this.selectedIndex;\n    this.selectedIndex = index;\n    this.updateSelectedSlide();\n    if (isInstant) {\n      this.positionSliderAtSelected();\n    } else {\n      this.startAnimation();\n    }\n    if (this.options.adaptiveHeight) {\n      this.setGallerySize();\n    }\n    // events\n    this.dispatchEvent('select', null, [index]);\n    // change event if new index\n    if (index != prevIndex) {\n      this.dispatchEvent('change', null, [index]);\n    }\n    // old v1 event name, remove in v3\n    this.dispatchEvent('cellSelect');\n  };\n\n  // wraps position for wrapAround, to move to closest slide. #113\n  proto._wrapSelect = function (index) {\n    var len = this.slides.length;\n    var isWrapping = this.options.wrapAround && len > 1;\n    if (!isWrapping) {\n      return index;\n    }\n    var wrapIndex = utils.modulo(index, len);\n    // go to shortest\n    var delta = Math.abs(wrapIndex - this.selectedIndex);\n    var backWrapDelta = Math.abs(wrapIndex + len - this.selectedIndex);\n    var forewardWrapDelta = Math.abs(wrapIndex - len - this.selectedIndex);\n    if (!this.isDragSelect && backWrapDelta < delta) {\n      index += len;\n    } else if (!this.isDragSelect && forewardWrapDelta < delta) {\n      index -= len;\n    }\n    // wrap position so slider is within normal area\n    if (index < 0) {\n      this.x -= this.slideableWidth;\n    } else if (index >= len) {\n      this.x += this.slideableWidth;\n    }\n  };\n\n  proto.previous = function (isWrap, isInstant) {\n    this.select(this.selectedIndex - 1, isWrap, isInstant);\n  };\n\n  proto.next = function (isWrap, isInstant) {\n    this.select(this.selectedIndex + 1, isWrap, isInstant);\n  };\n\n  proto.updateSelectedSlide = function () {\n    var slide = this.slides[this.selectedIndex];\n    // selectedIndex could be outside of slides, if triggered before resize()\n    if (!slide) {\n      return;\n    }\n    // unselect previous selected slide\n    this.unselectSelectedSlide();\n    // update new selected slide\n    this.selectedSlide = slide;\n    slide.select();\n    this.selectedCells = slide.cells;\n    this.selectedElements = slide.getCellElements();\n    // HACK: selectedCell & selectedElement is first cell in slide, backwards compatibility\n    // Remove in v3?\n    this.selectedCell = slide.cells[0];\n    this.selectedElement = this.selectedElements[0];\n  };\n\n  proto.unselectSelectedSlide = function () {\n    if (this.selectedSlide) {\n      this.selectedSlide.unselect();\n    }\n  };\n\n  /**\n   * select slide from number or cell element\n   * @param {Element or Number} elem\n   */\n  proto.selectCell = function (value, isWrap, isInstant) {\n    // get cell\n    var cell = this.queryCell(value);\n    if (!cell) {\n      return;\n    }\n\n    var index = this.getCellSlideIndex(cell);\n    this.select(index, isWrap, isInstant);\n  };\n\n  proto.getCellSlideIndex = function (cell) {\n    // get index of slides that has cell\n    for (var i = 0; i < this.slides.length; i++) {\n      var slide = this.slides[i];\n      var index = slide.cells.indexOf(cell);\n      if (index != -1) {\n        return i;\n      }\n    }\n  };\n\n  // -------------------------- get cells -------------------------- //\n\n  /**\n   * get Flickity.Cell, given an Element\n   * @param {Element} elem\n   * @returns {Flickity.Cell} item\n   */\n  proto.getCell = function (elem) {\n    // loop through cells to get the one that matches\n    for (var i = 0; i < this.cells.length; i++) {\n      var cell = this.cells[i];\n      if (cell.element == elem) {\n        return cell;\n      }\n    }\n  };\n\n  /**\n   * get collection of Flickity.Cells, given Elements\n   * @param {Element, Array, NodeList} elems\n   * @returns {Array} cells - Flickity.Cells\n   */\n  proto.getCells = function (elems) {\n    elems = utils.makeArray(elems);\n    var cells = [];\n    elems.forEach(function (elem) {\n      var cell = this.getCell(elem);\n      if (cell) {\n        cells.push(cell);\n      }\n    }, this);\n    return cells;\n  };\n\n  /**\n   * get cell elements\n   * @returns {Array} cellElems\n   */\n  proto.getCellElements = function () {\n    return this.cells.map(function (cell) {\n      return cell.element;\n    });\n  };\n\n  /**\n   * get parent cell from an element\n   * @param {Element} elem\n   * @returns {Flickit.Cell} cell\n   */\n  proto.getParentCell = function (elem) {\n    // first check if elem is cell\n    var cell = this.getCell(elem);\n    if (cell) {\n      return cell;\n    }\n    // try to get parent cell elem\n    elem = utils.getParent(elem, '.flickity-slider > *');\n    return this.getCell(elem);\n  };\n\n  /**\n   * get cells adjacent to a slide\n   * @param {Integer} adjCount - number of adjacent slides\n   * @param {Integer} index - index of slide to start\n   * @returns {Array} cells - array of Flickity.Cells\n   */\n  proto.getAdjacentCellElements = function (adjCount, index) {\n    if (!adjCount) {\n      return this.selectedSlide.getCellElements();\n    }\n    index = index === undefined ? this.selectedIndex : index;\n\n    var len = this.slides.length;\n    if (1 + adjCount * 2 >= len) {\n      return this.getCellElements();\n    }\n\n    var cellElems = [];\n    for (var i = index - adjCount; i <= index + adjCount; i++) {\n      var slideIndex = this.options.wrapAround ? utils.modulo(i, len) : i;\n      var slide = this.slides[slideIndex];\n      if (slide) {\n        cellElems = cellElems.concat(slide.getCellElements());\n      }\n    }\n    return cellElems;\n  };\n\n  /**\n   * select slide from number or cell element\n   * @param {Element, Selector String, or Number} selector\n   */\n  proto.queryCell = function (selector) {\n    if (typeof selector == 'number') {\n      // use number as index\n      return this.cells[selector];\n    }\n    if (typeof selector == 'string') {\n      // use string as selector, get element\n      selector = this.element.querySelector(selector);\n    }\n    // get cell from element\n    return this.getCell(selector);\n  };\n\n  // -------------------------- events -------------------------- //\n\n  proto.uiChange = function () {\n    this.emitEvent('uiChange');\n  };\n\n  proto.childUIPointerDown = function (event) {\n    this.emitEvent('childUIPointerDown', [event]);\n  };\n\n  // ----- resize ----- //\n\n  proto.onresize = function () {\n    this.watchCSS();\n    this.resize();\n  };\n\n  utils.debounceMethod(Flickity, 'onresize', 150);\n\n  proto.resize = function () {\n    if (!this.isActive) {\n      return;\n    }\n    this.getSize();\n    // wrap values\n    if (this.options.wrapAround) {\n      this.x = utils.modulo(this.x, this.slideableWidth);\n    }\n    this.positionCells();\n    this._getWrapShiftCells();\n    this.setGallerySize();\n    this.emitEvent('resize');\n    // update selected index for group slides, instant\n    // TODO: position can be lost between groups of various numbers\n    var selectedElement = this.selectedElements && this.selectedElements[0];\n    this.selectCell(selectedElement, false, true);\n  };\n\n  // watches the :after property, activates/deactivates\n  proto.watchCSS = function () {\n    var watchOption = this.options.watchCSS;\n    if (!watchOption) {\n      return;\n    }\n\n    var afterContent = getComputedStyle(this.element, ':after').content;\n    // activate if :after { content: 'flickity' }\n    if (afterContent.indexOf('flickity') != -1) {\n      this.activate();\n    } else {\n      this.deactivate();\n    }\n  };\n\n  // ----- keydown ----- //\n\n  // go previous/next if left/right keys pressed\n  proto.onkeydown = function (event) {\n    // only work if element is in focus\n    var isNotFocused = document.activeElement && document.activeElement != this.element;\n    if (!this.options.accessibility || isNotFocused) {\n      return;\n    }\n\n    var handler = Flickity.keyboardHandlers[event.keyCode];\n    if (handler) {\n      handler.call(this);\n    }\n  };\n\n  Flickity.keyboardHandlers = {\n    // left arrow\n    37: function _() {\n      var leftMethod = this.options.rightToLeft ? 'next' : 'previous';\n      this.uiChange();\n      this[leftMethod]();\n    },\n    // right arrow\n    39: function _() {\n      var rightMethod = this.options.rightToLeft ? 'previous' : 'next';\n      this.uiChange();\n      this[rightMethod]();\n    }\n  };\n\n  // ----- focus ----- //\n\n  proto.focus = function () {\n    var prevScrollY = window.pageYOffset;\n    this.element.focus();\n    // hack to fix scroll jump after focus, #76\n    if (window.pageYOffset != prevScrollY) {\n      window.scrollTo(window.pageXOffset, prevScrollY);\n    }\n  };\n\n  // -------------------------- destroy -------------------------- //\n\n  // deactivate all Flickity functionality, but keep stuff available\n  proto.deactivate = function () {\n    if (!this.isActive) {\n      return;\n    }\n    this.element.classList.remove('flickity-enabled');\n    this.element.classList.remove('flickity-rtl');\n    this.unselectSelectedSlide();\n    // destroy cells\n    this.cells.forEach(function (cell) {\n      cell.destroy();\n    });\n    this.element.removeChild(this.viewport);\n    // move child elements back into element\n    moveElements(this.slider.children, this.element);\n    if (this.options.accessibility) {\n      this.element.removeAttribute('tabIndex');\n      this.element.removeEventListener('keydown', this);\n    }\n    // set flags\n    this.isActive = false;\n    this.emitEvent('deactivate');\n  };\n\n  proto.destroy = function () {\n    this.deactivate();\n    window.removeEventListener('resize', this);\n    this.emitEvent('destroy');\n    if (jQuery && this.$element) {\n      jQuery.removeData(this.element, 'flickity');\n    }\n    delete this.element.flickityGUID;\n    delete instances[this.guid];\n  };\n\n  // -------------------------- prototype -------------------------- //\n\n  utils.extend(proto, animatePrototype);\n\n  // -------------------------- extras -------------------------- //\n\n  /**\n   * get Flickity instance from element\n   * @param {Element} elem\n   * @returns {Flickity}\n   */\n  Flickity.data = function (elem) {\n    elem = utils.getQueryElement(elem);\n    var id = elem && elem.flickityGUID;\n    return id && instances[id];\n  };\n\n  utils.htmlInit(Flickity, 'flickity');\n\n  if (jQuery && jQuery.bridget) {\n    jQuery.bridget('flickity', Flickity);\n  }\n\n  // set internal jQuery, for Webpack + jQuery v3, #478\n  Flickity.setJQuery = function (jq) {\n    jQuery = jq;\n  };\n\n  Flickity.Cell = Cell;\n\n  return Flickity;\n});\n\n/*!\n * Unipointer v2.3.0\n * base class for doing one thing with pointer event\n * MIT license\n */\n\n/*jshint browser: true, undef: true, unused: true, strict: true */\n\n(function (window, factory) {\n  // universal module definition\n  /* jshint strict: false */ /*global define, module, require */\n  if (typeof define == 'function' && define.amd) {\n    // AMD\n    define('unipointer/unipointer', ['ev-emitter/ev-emitter'], function (EvEmitter) {\n      return factory(window, EvEmitter);\n    });\n  } else if ((typeof module === 'undefined' ? 'undefined' : _typeof(module)) == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory(window, require('ev-emitter'));\n  } else {\n    // browser global\n    window.Unipointer = factory(window, window.EvEmitter);\n  }\n})(window, function factory(window, EvEmitter) {\n\n  function noop() {}\n\n  function Unipointer() {}\n\n  // inherit EvEmitter\n  var proto = Unipointer.prototype = Object.create(EvEmitter.prototype);\n\n  proto.bindStartEvent = function (elem) {\n    this._bindStartEvent(elem, true);\n  };\n\n  proto.unbindStartEvent = function (elem) {\n    this._bindStartEvent(elem, false);\n  };\n\n  /**\n   * Add or remove start event\n   * @param {Boolean} isAdd - remove if falsey\n   */\n  proto._bindStartEvent = function (elem, isAdd) {\n    // munge isAdd, default to true\n    isAdd = isAdd === undefined ? true : isAdd;\n    var bindMethod = isAdd ? 'addEventListener' : 'removeEventListener';\n\n    // default to mouse events\n    var startEvent = 'mousedown';\n    if (window.PointerEvent) {\n      // Pointer Events\n      startEvent = 'pointerdown';\n    } else if ('ontouchstart' in window) {\n      // Touch Events. iOS Safari\n      startEvent = 'touchstart';\n    }\n    elem[bindMethod](startEvent, this);\n  };\n\n  // trigger handler methods for events\n  proto.handleEvent = function (event) {\n    var method = 'on' + event.type;\n    if (this[method]) {\n      this[method](event);\n    }\n  };\n\n  // returns the touch that we're keeping track of\n  proto.getTouch = function (touches) {\n    for (var i = 0; i < touches.length; i++) {\n      var touch = touches[i];\n      if (touch.identifier == this.pointerIdentifier) {\n        return touch;\n      }\n    }\n  };\n\n  // ----- start event ----- //\n\n  proto.onmousedown = function (event) {\n    // dismiss clicks from right or middle buttons\n    var button = event.button;\n    if (button && button !== 0 && button !== 1) {\n      return;\n    }\n    this._pointerDown(event, event);\n  };\n\n  proto.ontouchstart = function (event) {\n    this._pointerDown(event, event.changedTouches[0]);\n  };\n\n  proto.onpointerdown = function (event) {\n    this._pointerDown(event, event);\n  };\n\n  /**\n   * pointer start\n   * @param {Event} event\n   * @param {Event or Touch} pointer\n   */\n  proto._pointerDown = function (event, pointer) {\n    // dismiss right click and other pointers\n    // button = 0 is okay, 1-4 not\n    if (event.button || this.isPointerDown) {\n      return;\n    }\n\n    this.isPointerDown = true;\n    // save pointer identifier to match up touch events\n    this.pointerIdentifier = pointer.pointerId !== undefined ?\n    // pointerId for pointer events, touch.indentifier for touch events\n    pointer.pointerId : pointer.identifier;\n\n    this.pointerDown(event, pointer);\n  };\n\n  proto.pointerDown = function (event, pointer) {\n    this._bindPostStartEvents(event);\n    this.emitEvent('pointerDown', [event, pointer]);\n  };\n\n  // hash of events to be bound after start event\n  var postStartEvents = {\n    mousedown: ['mousemove', 'mouseup'],\n    touchstart: ['touchmove', 'touchend', 'touchcancel'],\n    pointerdown: ['pointermove', 'pointerup', 'pointercancel']\n  };\n\n  proto._bindPostStartEvents = function (event) {\n    if (!event) {\n      return;\n    }\n    // get proper events to match start event\n    var events = postStartEvents[event.type];\n    // bind events to node\n    events.forEach(function (eventName) {\n      window.addEventListener(eventName, this);\n    }, this);\n    // save these arguments\n    this._boundPointerEvents = events;\n  };\n\n  proto._unbindPostStartEvents = function () {\n    // check for _boundEvents, in case dragEnd triggered twice (old IE8 bug)\n    if (!this._boundPointerEvents) {\n      return;\n    }\n    this._boundPointerEvents.forEach(function (eventName) {\n      window.removeEventListener(eventName, this);\n    }, this);\n\n    delete this._boundPointerEvents;\n  };\n\n  // ----- move event ----- //\n\n  proto.onmousemove = function (event) {\n    this._pointerMove(event, event);\n  };\n\n  proto.onpointermove = function (event) {\n    if (event.pointerId == this.pointerIdentifier) {\n      this._pointerMove(event, event);\n    }\n  };\n\n  proto.ontouchmove = function (event) {\n    var touch = this.getTouch(event.changedTouches);\n    if (touch) {\n      this._pointerMove(event, touch);\n    }\n  };\n\n  /**\n   * pointer move\n   * @param {Event} event\n   * @param {Event or Touch} pointer\n   * @private\n   */\n  proto._pointerMove = function (event, pointer) {\n    this.pointerMove(event, pointer);\n  };\n\n  // public\n  proto.pointerMove = function (event, pointer) {\n    this.emitEvent('pointerMove', [event, pointer]);\n  };\n\n  // ----- end event ----- //\n\n\n  proto.onmouseup = function (event) {\n    this._pointerUp(event, event);\n  };\n\n  proto.onpointerup = function (event) {\n    if (event.pointerId == this.pointerIdentifier) {\n      this._pointerUp(event, event);\n    }\n  };\n\n  proto.ontouchend = function (event) {\n    var touch = this.getTouch(event.changedTouches);\n    if (touch) {\n      this._pointerUp(event, touch);\n    }\n  };\n\n  /**\n   * pointer up\n   * @param {Event} event\n   * @param {Event or Touch} pointer\n   * @private\n   */\n  proto._pointerUp = function (event, pointer) {\n    this._pointerDone();\n    this.pointerUp(event, pointer);\n  };\n\n  // public\n  proto.pointerUp = function (event, pointer) {\n    this.emitEvent('pointerUp', [event, pointer]);\n  };\n\n  // ----- pointer done ----- //\n\n  // triggered on pointer up & pointer cancel\n  proto._pointerDone = function () {\n    this._pointerReset();\n    this._unbindPostStartEvents();\n    this.pointerDone();\n  };\n\n  proto._pointerReset = function () {\n    // reset properties\n    this.isPointerDown = false;\n    delete this.pointerIdentifier;\n  };\n\n  proto.pointerDone = noop;\n\n  // ----- pointer cancel ----- //\n\n  proto.onpointercancel = function (event) {\n    if (event.pointerId == this.pointerIdentifier) {\n      this._pointerCancel(event, event);\n    }\n  };\n\n  proto.ontouchcancel = function (event) {\n    var touch = this.getTouch(event.changedTouches);\n    if (touch) {\n      this._pointerCancel(event, touch);\n    }\n  };\n\n  /**\n   * pointer cancel\n   * @param {Event} event\n   * @param {Event or Touch} pointer\n   * @private\n   */\n  proto._pointerCancel = function (event, pointer) {\n    this._pointerDone();\n    this.pointerCancel(event, pointer);\n  };\n\n  // public\n  proto.pointerCancel = function (event, pointer) {\n    this.emitEvent('pointerCancel', [event, pointer]);\n  };\n\n  // -----  ----- //\n\n  // utility function for getting x/y coords from event\n  Unipointer.getPointerPoint = function (pointer) {\n    return {\n      x: pointer.pageX,\n      y: pointer.pageY\n    };\n  };\n\n  // -----  ----- //\n\n  return Unipointer;\n});\n\n/*!\n * Unidragger v2.3.0\n * Draggable base class\n * MIT license\n */\n\n/*jshint browser: true, unused: true, undef: true, strict: true */\n\n(function (window, factory) {\n  // universal module definition\n  /*jshint strict: false */ /*globals define, module, require */\n\n  if (typeof define == 'function' && define.amd) {\n    // AMD\n    define('unidragger/unidragger', ['unipointer/unipointer'], function (Unipointer) {\n      return factory(window, Unipointer);\n    });\n  } else if ((typeof module === 'undefined' ? 'undefined' : _typeof(module)) == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory(window, require('unipointer'));\n  } else {\n    // browser global\n    window.Unidragger = factory(window, window.Unipointer);\n  }\n})(window, function factory(window, Unipointer) {\n\n  // -------------------------- Unidragger -------------------------- //\n\n  function Unidragger() {}\n\n  // inherit Unipointer & EvEmitter\n  var proto = Unidragger.prototype = Object.create(Unipointer.prototype);\n\n  // ----- bind start ----- //\n\n  proto.bindHandles = function () {\n    this._bindHandles(true);\n  };\n\n  proto.unbindHandles = function () {\n    this._bindHandles(false);\n  };\n\n  /**\n   * Add or remove start event\n   * @param {Boolean} isAdd\n   */\n  proto._bindHandles = function (isAdd) {\n    // munge isAdd, default to true\n    isAdd = isAdd === undefined ? true : isAdd;\n    // bind each handle\n    var bindMethod = isAdd ? 'addEventListener' : 'removeEventListener';\n    var touchAction = isAdd ? this._touchActionValue : '';\n    for (var i = 0; i < this.handles.length; i++) {\n      var handle = this.handles[i];\n      this._bindStartEvent(handle, isAdd);\n      handle[bindMethod]('click', this);\n      // touch-action: none to override browser touch gestures. metafizzy/flickity#540\n      if (window.PointerEvent) {\n        handle.style.touchAction = touchAction;\n      }\n    }\n  };\n\n  // prototype so it can be overwriteable by Flickity\n  proto._touchActionValue = 'none';\n\n  // ----- start event ----- //\n\n  /**\n   * pointer start\n   * @param {Event} event\n   * @param {Event or Touch} pointer\n   */\n  proto.pointerDown = function (event, pointer) {\n    var isOkay = this.okayPointerDown(event);\n    if (!isOkay) {\n      return;\n    }\n    // track start event position\n    this.pointerDownPointer = pointer;\n\n    event.preventDefault();\n    this.pointerDownBlur();\n    // bind move and end events\n    this._bindPostStartEvents(event);\n    this.emitEvent('pointerDown', [event, pointer]);\n  };\n\n  // nodes that have text fields\n  var cursorNodes = {\n    TEXTAREA: true,\n    INPUT: true,\n    SELECT: true,\n    OPTION: true\n  };\n\n  // input types that do not have text fields\n  var clickTypes = {\n    radio: true,\n    checkbox: true,\n    button: true,\n    submit: true,\n    image: true,\n    file: true\n  };\n\n  // dismiss inputs with text fields. flickity#403, flickity#404\n  proto.okayPointerDown = function (event) {\n    var isCursorNode = cursorNodes[event.target.nodeName];\n    var isClickType = clickTypes[event.target.type];\n    var isOkay = !isCursorNode || isClickType;\n    if (!isOkay) {\n      this._pointerReset();\n    }\n    return isOkay;\n  };\n\n  // kludge to blur previously focused input\n  proto.pointerDownBlur = function () {\n    var focused = document.activeElement;\n    // do not blur body for IE10, metafizzy/flickity#117\n    var canBlur = focused && focused.blur && focused != document.body;\n    if (canBlur) {\n      focused.blur();\n    }\n  };\n\n  // ----- move event ----- //\n\n  /**\n   * drag move\n   * @param {Event} event\n   * @param {Event or Touch} pointer\n   */\n  proto.pointerMove = function (event, pointer) {\n    var moveVector = this._dragPointerMove(event, pointer);\n    this.emitEvent('pointerMove', [event, pointer, moveVector]);\n    this._dragMove(event, pointer, moveVector);\n  };\n\n  // base pointer move logic\n  proto._dragPointerMove = function (event, pointer) {\n    var moveVector = {\n      x: pointer.pageX - this.pointerDownPointer.pageX,\n      y: pointer.pageY - this.pointerDownPointer.pageY\n    };\n    // start drag if pointer has moved far enough to start drag\n    if (!this.isDragging && this.hasDragStarted(moveVector)) {\n      this._dragStart(event, pointer);\n    }\n    return moveVector;\n  };\n\n  // condition if pointer has moved far enough to start drag\n  proto.hasDragStarted = function (moveVector) {\n    return Math.abs(moveVector.x) > 3 || Math.abs(moveVector.y) > 3;\n  };\n\n  // ----- end event ----- //\n\n  /**\n   * pointer up\n   * @param {Event} event\n   * @param {Event or Touch} pointer\n   */\n  proto.pointerUp = function (event, pointer) {\n    this.emitEvent('pointerUp', [event, pointer]);\n    this._dragPointerUp(event, pointer);\n  };\n\n  proto._dragPointerUp = function (event, pointer) {\n    if (this.isDragging) {\n      this._dragEnd(event, pointer);\n    } else {\n      // pointer didn't move enough for drag to start\n      this._staticClick(event, pointer);\n    }\n  };\n\n  // -------------------------- drag -------------------------- //\n\n  // dragStart\n  proto._dragStart = function (event, pointer) {\n    this.isDragging = true;\n    // prevent clicks\n    this.isPreventingClicks = true;\n    this.dragStart(event, pointer);\n  };\n\n  proto.dragStart = function (event, pointer) {\n    this.emitEvent('dragStart', [event, pointer]);\n  };\n\n  // dragMove\n  proto._dragMove = function (event, pointer, moveVector) {\n    // do not drag if not dragging yet\n    if (!this.isDragging) {\n      return;\n    }\n\n    this.dragMove(event, pointer, moveVector);\n  };\n\n  proto.dragMove = function (event, pointer, moveVector) {\n    event.preventDefault();\n    this.emitEvent('dragMove', [event, pointer, moveVector]);\n  };\n\n  // dragEnd\n  proto._dragEnd = function (event, pointer) {\n    // set flags\n    this.isDragging = false;\n    // re-enable clicking async\n    setTimeout(function () {\n      delete this.isPreventingClicks;\n    }.bind(this));\n\n    this.dragEnd(event, pointer);\n  };\n\n  proto.dragEnd = function (event, pointer) {\n    this.emitEvent('dragEnd', [event, pointer]);\n  };\n\n  // ----- onclick ----- //\n\n  // handle all clicks and prevent clicks when dragging\n  proto.onclick = function (event) {\n    if (this.isPreventingClicks) {\n      event.preventDefault();\n    }\n  };\n\n  // ----- staticClick ----- //\n\n  // triggered after pointer down & up with no/tiny movement\n  proto._staticClick = function (event, pointer) {\n    // ignore emulated mouse up clicks\n    if (this.isIgnoringMouseUp && event.type == 'mouseup') {\n      return;\n    }\n\n    this.staticClick(event, pointer);\n\n    // set flag for emulated clicks 300ms after touchend\n    if (event.type != 'mouseup') {\n      this.isIgnoringMouseUp = true;\n      // reset flag after 300ms\n      setTimeout(function () {\n        delete this.isIgnoringMouseUp;\n      }.bind(this), 400);\n    }\n  };\n\n  proto.staticClick = function (event, pointer) {\n    this.emitEvent('staticClick', [event, pointer]);\n  };\n\n  // ----- utils ----- //\n\n  Unidragger.getPointerPoint = Unipointer.getPointerPoint;\n\n  // -----  ----- //\n\n  return Unidragger;\n});\n\n// drag\n(function (window, factory) {\n  // universal module definition\n  /* jshint strict: false */\n  if (typeof define == 'function' && define.amd) {\n    // AMD\n    define('flickity/js/drag', ['./flickity', 'unidragger/unidragger', 'fizzy-ui-utils/utils'], function (Flickity, Unidragger, utils) {\n      return factory(window, Flickity, Unidragger, utils);\n    });\n  } else if ((typeof module === 'undefined' ? 'undefined' : _typeof(module)) == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory(window, require('./flickity'), require('unidragger'), require('fizzy-ui-utils'));\n  } else {\n    // browser global\n    window.Flickity = factory(window, window.Flickity, window.Unidragger, window.fizzyUIUtils);\n  }\n})(window, function factory(window, Flickity, Unidragger, utils) {\n\n  // ----- defaults ----- //\n\n  utils.extend(Flickity.defaults, {\n    draggable: '>1',\n    dragThreshold: 3\n  });\n\n  // ----- create ----- //\n\n  Flickity.createMethods.push('_createDrag');\n\n  // -------------------------- drag prototype -------------------------- //\n\n  var proto = Flickity.prototype;\n  utils.extend(proto, Unidragger.prototype);\n  proto._touchActionValue = 'pan-y';\n\n  // --------------------------  -------------------------- //\n\n  var isTouch = 'createTouch' in document;\n  var isTouchmoveScrollCanceled = false;\n\n  proto._createDrag = function () {\n    this.on('activate', this.onActivateDrag);\n    this.on('uiChange', this._uiChangeDrag);\n    this.on('childUIPointerDown', this._childUIPointerDownDrag);\n    this.on('deactivate', this.unbindDrag);\n    this.on('cellChange', this.updateDraggable);\n    // TODO updateDraggable on resize? if groupCells & slides change\n    // HACK - add seemingly innocuous handler to fix iOS 10 scroll behavior\n    // #457, RubaXa/Sortable#973\n    if (isTouch && !isTouchmoveScrollCanceled) {\n      window.addEventListener('touchmove', function () {});\n      isTouchmoveScrollCanceled = true;\n    }\n  };\n\n  proto.onActivateDrag = function () {\n    this.handles = [this.viewport];\n    this.bindHandles();\n    this.updateDraggable();\n  };\n\n  proto.onDeactivateDrag = function () {\n    this.unbindHandles();\n    this.element.classList.remove('is-draggable');\n  };\n\n  proto.updateDraggable = function () {\n    // disable dragging if less than 2 slides. #278\n    if (this.options.draggable == '>1') {\n      this.isDraggable = this.slides.length > 1;\n    } else {\n      this.isDraggable = this.options.draggable;\n    }\n    if (this.isDraggable) {\n      this.element.classList.add('is-draggable');\n    } else {\n      this.element.classList.remove('is-draggable');\n    }\n  };\n\n  // backwards compatibility\n  proto.bindDrag = function () {\n    this.options.draggable = true;\n    this.updateDraggable();\n  };\n\n  proto.unbindDrag = function () {\n    this.options.draggable = false;\n    this.updateDraggable();\n  };\n\n  proto._uiChangeDrag = function () {\n    delete this.isFreeScrolling;\n  };\n\n  proto._childUIPointerDownDrag = function (event) {\n    // allow focus & preventDefault even when not draggable\n    // so child UI elements keep focus on carousel. #721\n    event.preventDefault();\n    this.pointerDownFocus(event);\n  };\n\n  // -------------------------- pointer events -------------------------- //\n\n  proto.pointerDown = function (event, pointer) {\n    if (!this.isDraggable) {\n      this._pointerDownDefault(event, pointer);\n      return;\n    }\n    var isOkay = this.okayPointerDown(event);\n    if (!isOkay) {\n      return;\n    }\n\n    this._pointerDownPreventDefault(event);\n    this.pointerDownFocus(event);\n    // blur\n    if (document.activeElement != this.element) {\n      // do not blur if already focused\n      this.pointerDownBlur();\n    }\n\n    // stop if it was moving\n    this.dragX = this.x;\n    this.viewport.classList.add('is-pointer-down');\n    // track scrolling\n    this.pointerDownScroll = getScrollPosition();\n    window.addEventListener('scroll', this);\n\n    this._pointerDownDefault(event, pointer);\n  };\n\n  // default pointerDown logic, used for staticClick\n  proto._pointerDownDefault = function (event, pointer) {\n    // track start event position\n    this.pointerDownPointer = pointer;\n    // bind move and end events\n    this._bindPostStartEvents(event);\n    this.dispatchEvent('pointerDown', event, [pointer]);\n  };\n\n  var focusNodes = {\n    INPUT: true,\n    TEXTAREA: true,\n    SELECT: true\n  };\n\n  proto.pointerDownFocus = function (event) {\n    var isFocusNode = focusNodes[event.target.nodeName];\n    if (!isFocusNode) {\n      this.focus();\n    }\n  };\n\n  proto._pointerDownPreventDefault = function (event) {\n    var isTouchStart = event.type == 'touchstart';\n    var isTouchPointer = event.pointerType == 'touch';\n    var isFocusNode = focusNodes[event.target.nodeName];\n    if (!isTouchStart && !isTouchPointer && !isFocusNode) {\n      event.preventDefault();\n    }\n  };\n\n  // ----- move ----- //\n\n  proto.hasDragStarted = function (moveVector) {\n    return Math.abs(moveVector.x) > this.options.dragThreshold;\n  };\n\n  // ----- up ----- //\n\n  proto.pointerUp = function (event, pointer) {\n    delete this.isTouchScrolling;\n    this.viewport.classList.remove('is-pointer-down');\n    this.dispatchEvent('pointerUp', event, [pointer]);\n    this._dragPointerUp(event, pointer);\n  };\n\n  proto.pointerDone = function () {\n    window.removeEventListener('scroll', this);\n    delete this.pointerDownScroll;\n  };\n\n  // -------------------------- dragging -------------------------- //\n\n  proto.dragStart = function (event, pointer) {\n    if (!this.isDraggable) {\n      return;\n    }\n    this.dragStartPosition = this.x;\n    this.startAnimation();\n    window.removeEventListener('scroll', this);\n    this.dispatchEvent('dragStart', event, [pointer]);\n  };\n\n  proto.pointerMove = function (event, pointer) {\n    var moveVector = this._dragPointerMove(event, pointer);\n    this.dispatchEvent('pointerMove', event, [pointer, moveVector]);\n    this._dragMove(event, pointer, moveVector);\n  };\n\n  proto.dragMove = function (event, pointer, moveVector) {\n    if (!this.isDraggable) {\n      return;\n    }\n    event.preventDefault();\n\n    this.previousDragX = this.dragX;\n    // reverse if right-to-left\n    var direction = this.options.rightToLeft ? -1 : 1;\n    if (this.options.wrapAround) {\n      // wrap around move. #589\n      moveVector.x = moveVector.x % this.slideableWidth;\n    }\n    var dragX = this.dragStartPosition + moveVector.x * direction;\n\n    if (!this.options.wrapAround && this.slides.length) {\n      // slow drag\n      var originBound = Math.max(-this.slides[0].target, this.dragStartPosition);\n      dragX = dragX > originBound ? (dragX + originBound) * 0.5 : dragX;\n      var endBound = Math.min(-this.getLastSlide().target, this.dragStartPosition);\n      dragX = dragX < endBound ? (dragX + endBound) * 0.5 : dragX;\n    }\n\n    this.dragX = dragX;\n\n    this.dragMoveTime = new Date();\n    this.dispatchEvent('dragMove', event, [pointer, moveVector]);\n  };\n\n  proto.dragEnd = function (event, pointer) {\n    if (!this.isDraggable) {\n      return;\n    }\n    if (this.options.freeScroll) {\n      this.isFreeScrolling = true;\n    }\n    // set selectedIndex based on where flick will end up\n    var index = this.dragEndRestingSelect();\n\n    if (this.options.freeScroll && !this.options.wrapAround) {\n      // if free-scroll & not wrap around\n      // do not free-scroll if going outside of bounding slides\n      // so bounding slides can attract slider, and keep it in bounds\n      var restingX = this.getRestingPosition();\n      this.isFreeScrolling = -restingX > this.slides[0].target && -restingX < this.getLastSlide().target;\n    } else if (!this.options.freeScroll && index == this.selectedIndex) {\n      // boost selection if selected index has not changed\n      index += this.dragEndBoostSelect();\n    }\n    delete this.previousDragX;\n    // apply selection\n    // TODO refactor this, selecting here feels weird\n    // HACK, set flag so dragging stays in correct direction\n    this.isDragSelect = this.options.wrapAround;\n    this.select(index);\n    delete this.isDragSelect;\n    this.dispatchEvent('dragEnd', event, [pointer]);\n  };\n\n  proto.dragEndRestingSelect = function () {\n    var restingX = this.getRestingPosition();\n    // how far away from selected slide\n    var distance = Math.abs(this.getSlideDistance(-restingX, this.selectedIndex));\n    // get closet resting going up and going down\n    var positiveResting = this._getClosestResting(restingX, distance, 1);\n    var negativeResting = this._getClosestResting(restingX, distance, -1);\n    // use closer resting for wrap-around\n    var index = positiveResting.distance < negativeResting.distance ? positiveResting.index : negativeResting.index;\n    return index;\n  };\n\n  /**\n   * given resting X and distance to selected cell\n   * get the distance and index of the closest cell\n   * @param {Number} restingX - estimated post-flick resting position\n   * @param {Number} distance - distance to selected cell\n   * @param {Integer} increment - +1 or -1, going up or down\n   * @returns {Object} - { distance: {Number}, index: {Integer} }\n   */\n  proto._getClosestResting = function (restingX, distance, increment) {\n    var index = this.selectedIndex;\n    var minDistance = Infinity;\n    var condition = this.options.contain && !this.options.wrapAround ?\n    // if contain, keep going if distance is equal to minDistance\n    function (d, md) {\n      return d <= md;\n    } : function (d, md) {\n      return d < md;\n    };\n    while (condition(distance, minDistance)) {\n      // measure distance to next cell\n      index += increment;\n      minDistance = distance;\n      distance = this.getSlideDistance(-restingX, index);\n      if (distance === null) {\n        break;\n      }\n      distance = Math.abs(distance);\n    }\n    return {\n      distance: minDistance,\n      // selected was previous index\n      index: index - increment\n    };\n  };\n\n  /**\n   * measure distance between x and a slide target\n   * @param {Number} x\n   * @param {Integer} index - slide index\n   */\n  proto.getSlideDistance = function (x, index) {\n    var len = this.slides.length;\n    // wrap around if at least 2 slides\n    var isWrapAround = this.options.wrapAround && len > 1;\n    var slideIndex = isWrapAround ? utils.modulo(index, len) : index;\n    var slide = this.slides[slideIndex];\n    if (!slide) {\n      return null;\n    }\n    // add distance for wrap-around slides\n    var wrap = isWrapAround ? this.slideableWidth * Math.floor(index / len) : 0;\n    return x - (slide.target + wrap);\n  };\n\n  proto.dragEndBoostSelect = function () {\n    // do not boost if no previousDragX or dragMoveTime\n    if (this.previousDragX === undefined || !this.dragMoveTime ||\n    // or if drag was held for 100 ms\n    new Date() - this.dragMoveTime > 100) {\n      return 0;\n    }\n\n    var distance = this.getSlideDistance(-this.dragX, this.selectedIndex);\n    var delta = this.previousDragX - this.dragX;\n    if (distance > 0 && delta > 0) {\n      // boost to next if moving towards the right, and positive velocity\n      return 1;\n    } else if (distance < 0 && delta < 0) {\n      // boost to previous if moving towards the left, and negative velocity\n      return -1;\n    }\n    return 0;\n  };\n\n  // ----- staticClick ----- //\n\n  proto.staticClick = function (event, pointer) {\n    // get clickedCell, if cell was clicked\n    var clickedCell = this.getParentCell(event.target);\n    var cellElem = clickedCell && clickedCell.element;\n    var cellIndex = clickedCell && this.cells.indexOf(clickedCell);\n    this.dispatchEvent('staticClick', event, [pointer, cellElem, cellIndex]);\n  };\n\n  // ----- scroll ----- //\n\n  proto.onscroll = function () {\n    var scroll = getScrollPosition();\n    var scrollMoveX = this.pointerDownScroll.x - scroll.x;\n    var scrollMoveY = this.pointerDownScroll.y - scroll.y;\n    // cancel click/tap if scroll is too much\n    if (Math.abs(scrollMoveX) > 3 || Math.abs(scrollMoveY) > 3) {\n      this._pointerDone();\n    }\n  };\n\n  // ----- utils ----- //\n\n  function getScrollPosition() {\n    return {\n      x: window.pageXOffset,\n      y: window.pageYOffset\n    };\n  }\n\n  // -----  ----- //\n\n  return Flickity;\n});\n\n/*!\n * Tap listener v2.0.0\n * listens to taps\n * MIT license\n */\n\n/*jshint browser: true, unused: true, undef: true, strict: true */\n\n(function (window, factory) {\n  // universal module definition\n  /*jshint strict: false*/ /*globals define, module, require */\n\n  if (typeof define == 'function' && define.amd) {\n    // AMD\n    define('tap-listener/tap-listener', ['unipointer/unipointer'], function (Unipointer) {\n      return factory(window, Unipointer);\n    });\n  } else if ((typeof module === 'undefined' ? 'undefined' : _typeof(module)) == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory(window, require('unipointer'));\n  } else {\n    // browser global\n    window.TapListener = factory(window, window.Unipointer);\n  }\n})(window, function factory(window, Unipointer) {\n\n  // --------------------------  TapListener -------------------------- //\n\n  function TapListener(elem) {\n    this.bindTap(elem);\n  }\n\n  // inherit Unipointer & EventEmitter\n  var proto = TapListener.prototype = Object.create(Unipointer.prototype);\n\n  /**\n   * bind tap event to element\n   * @param {Element} elem\n   */\n  proto.bindTap = function (elem) {\n    if (!elem) {\n      return;\n    }\n    this.unbindTap();\n    this.tapElement = elem;\n    this._bindStartEvent(elem, true);\n  };\n\n  proto.unbindTap = function () {\n    if (!this.tapElement) {\n      return;\n    }\n    this._bindStartEvent(this.tapElement, true);\n    delete this.tapElement;\n  };\n\n  /**\n   * pointer up\n   * @param {Event} event\n   * @param {Event or Touch} pointer\n   */\n  proto.pointerUp = function (event, pointer) {\n    // ignore emulated mouse up clicks\n    if (this.isIgnoringMouseUp && event.type == 'mouseup') {\n      return;\n    }\n\n    var pointerPoint = Unipointer.getPointerPoint(pointer);\n    var boundingRect = this.tapElement.getBoundingClientRect();\n    var scrollX = window.pageXOffset;\n    var scrollY = window.pageYOffset;\n    // calculate if pointer is inside tapElement\n    var isInside = pointerPoint.x >= boundingRect.left + scrollX && pointerPoint.x <= boundingRect.right + scrollX && pointerPoint.y >= boundingRect.top + scrollY && pointerPoint.y <= boundingRect.bottom + scrollY;\n    // trigger callback if pointer is inside element\n    if (isInside) {\n      this.emitEvent('tap', [event, pointer]);\n    }\n\n    // set flag for emulated clicks 300ms after touchend\n    if (event.type != 'mouseup') {\n      this.isIgnoringMouseUp = true;\n      // reset flag after 300ms\n      var _this = this;\n      setTimeout(function () {\n        delete _this.isIgnoringMouseUp;\n      }, 400);\n    }\n  };\n\n  proto.destroy = function () {\n    this.pointerDone();\n    this.unbindTap();\n  };\n\n  // -----  ----- //\n\n  return TapListener;\n});\n\n// prev/next buttons\n(function (window, factory) {\n  // universal module definition\n  /* jshint strict: false */\n  if (typeof define == 'function' && define.amd) {\n    // AMD\n    define('flickity/js/prev-next-button', ['./flickity', 'tap-listener/tap-listener', 'fizzy-ui-utils/utils'], function (Flickity, TapListener, utils) {\n      return factory(window, Flickity, TapListener, utils);\n    });\n  } else if ((typeof module === 'undefined' ? 'undefined' : _typeof(module)) == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory(window, require('./flickity'), require('tap-listener'), require('fizzy-ui-utils'));\n  } else {\n    // browser global\n    factory(window, window.Flickity, window.TapListener, window.fizzyUIUtils);\n  }\n})(window, function factory(window, Flickity, TapListener, utils) {\n  'use strict';\n\n  var svgURI = 'http://www.w3.org/2000/svg';\n\n  // -------------------------- PrevNextButton -------------------------- //\n\n  function PrevNextButton(direction, parent) {\n    this.direction = direction;\n    this.parent = parent;\n    this._create();\n  }\n\n  PrevNextButton.prototype = Object.create(TapListener.prototype);\n\n  PrevNextButton.prototype._create = function () {\n    // properties\n    this.isEnabled = true;\n    this.isPrevious = this.direction == -1;\n    var leftDirection = this.parent.options.rightToLeft ? 1 : -1;\n    this.isLeft = this.direction == leftDirection;\n\n    var element = this.element = document.createElement('button');\n    element.className = 'flickity-button flickity-prev-next-button';\n    element.className += this.isPrevious ? ' previous' : ' next';\n    // prevent button from submitting form http://stackoverflow.com/a/10836076/182183\n    element.setAttribute('type', 'button');\n    // init as disabled\n    this.disable();\n\n    element.setAttribute('aria-label', this.isPrevious ? 'Previous' : 'Next');\n\n    // create arrow\n    var svg = this.createSVG();\n    element.appendChild(svg);\n    // events\n    this.on('tap', this.onTap);\n    this.parent.on('select', this.update.bind(this));\n    this.on('pointerDown', this.parent.childUIPointerDown.bind(this.parent));\n  };\n\n  PrevNextButton.prototype.activate = function () {\n    this.bindTap(this.element);\n    // click events from keyboard\n    this.element.addEventListener('click', this);\n    // add to DOM\n    this.parent.element.appendChild(this.element);\n  };\n\n  PrevNextButton.prototype.deactivate = function () {\n    // remove from DOM\n    this.parent.element.removeChild(this.element);\n    // do regular TapListener destroy\n    TapListener.prototype.destroy.call(this);\n    // click events from keyboard\n    this.element.removeEventListener('click', this);\n  };\n\n  PrevNextButton.prototype.createSVG = function () {\n    var svg = document.createElementNS(svgURI, 'svg');\n    svg.setAttribute('class', 'flickity-button-icon');\n    svg.setAttribute('viewBox', '0 0 100 100');\n    var path = document.createElementNS(svgURI, 'path');\n    var pathMovements = getArrowMovements(this.parent.options.arrowShape);\n    path.setAttribute('d', pathMovements);\n    path.setAttribute('class', 'arrow');\n    // rotate arrow\n    if (!this.isLeft) {\n      path.setAttribute('transform', 'translate(100, 100) rotate(180) ');\n    }\n    svg.appendChild(path);\n    return svg;\n  };\n\n  // get SVG path movmement\n  function getArrowMovements(shape) {\n    // use shape as movement if string\n    if (typeof shape == 'string') {\n      return shape;\n    }\n    // create movement string\n    return 'M ' + shape.x0 + ',50' + ' L ' + shape.x1 + ',' + (shape.y1 + 50) + ' L ' + shape.x2 + ',' + (shape.y2 + 50) + ' L ' + shape.x3 + ',50 ' + ' L ' + shape.x2 + ',' + (50 - shape.y2) + ' L ' + shape.x1 + ',' + (50 - shape.y1) + ' Z';\n  }\n\n  PrevNextButton.prototype.onTap = function () {\n    if (!this.isEnabled) {\n      return;\n    }\n    this.parent.uiChange();\n    var method = this.isPrevious ? 'previous' : 'next';\n    this.parent[method]();\n  };\n\n  PrevNextButton.prototype.handleEvent = utils.handleEvent;\n\n  PrevNextButton.prototype.onclick = function (event) {\n    // only allow clicks from keyboard\n    var focused = document.activeElement;\n    if (focused && focused == this.element) {\n      this.onTap(event, event);\n    }\n  };\n\n  // -----  ----- //\n\n  PrevNextButton.prototype.enable = function () {\n    if (this.isEnabled) {\n      return;\n    }\n    this.element.disabled = false;\n    this.isEnabled = true;\n  };\n\n  PrevNextButton.prototype.disable = function () {\n    if (!this.isEnabled) {\n      return;\n    }\n    this.element.disabled = true;\n    this.isEnabled = false;\n  };\n\n  PrevNextButton.prototype.update = function () {\n    // index of first or last slide, if previous or next\n    var slides = this.parent.slides;\n    // enable is wrapAround and at least 2 slides\n    if (this.parent.options.wrapAround && slides.length > 1) {\n      this.enable();\n      return;\n    }\n    var lastIndex = slides.length ? slides.length - 1 : 0;\n    var boundIndex = this.isPrevious ? 0 : lastIndex;\n    var method = this.parent.selectedIndex == boundIndex ? 'disable' : 'enable';\n    this[method]();\n  };\n\n  PrevNextButton.prototype.destroy = function () {\n    this.deactivate();\n  };\n\n  // -------------------------- Flickity prototype -------------------------- //\n\n  utils.extend(Flickity.defaults, {\n    prevNextButtons: true,\n    arrowShape: {\n      x0: 10,\n      x1: 60, y1: 50,\n      x2: 70, y2: 40,\n      x3: 30\n    }\n  });\n\n  Flickity.createMethods.push('_createPrevNextButtons');\n  var proto = Flickity.prototype;\n\n  proto._createPrevNextButtons = function () {\n    if (!this.options.prevNextButtons) {\n      return;\n    }\n\n    this.prevButton = new PrevNextButton(-1, this);\n    this.nextButton = new PrevNextButton(1, this);\n\n    this.on('activate', this.activatePrevNextButtons);\n  };\n\n  proto.activatePrevNextButtons = function () {\n    this.prevButton.activate();\n    this.nextButton.activate();\n    this.on('deactivate', this.deactivatePrevNextButtons);\n  };\n\n  proto.deactivatePrevNextButtons = function () {\n    this.prevButton.deactivate();\n    this.nextButton.deactivate();\n    this.off('deactivate', this.deactivatePrevNextButtons);\n  };\n\n  // --------------------------  -------------------------- //\n\n  Flickity.PrevNextButton = PrevNextButton;\n\n  return Flickity;\n});\n\n// page dots\n(function (window, factory) {\n  // universal module definition\n  /* jshint strict: false */\n  if (typeof define == 'function' && define.amd) {\n    // AMD\n    define('flickity/js/page-dots', ['./flickity', 'tap-listener/tap-listener', 'fizzy-ui-utils/utils'], function (Flickity, TapListener, utils) {\n      return factory(window, Flickity, TapListener, utils);\n    });\n  } else if ((typeof module === 'undefined' ? 'undefined' : _typeof(module)) == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory(window, require('./flickity'), require('tap-listener'), require('fizzy-ui-utils'));\n  } else {\n    // browser global\n    factory(window, window.Flickity, window.TapListener, window.fizzyUIUtils);\n  }\n})(window, function factory(window, Flickity, TapListener, utils) {\n\n  // -------------------------- PageDots -------------------------- //\n\n\n  function PageDots(parent) {\n    this.parent = parent;\n    this._create();\n  }\n\n  PageDots.prototype = new TapListener();\n\n  PageDots.prototype._create = function () {\n    // create holder element\n    this.holder = document.createElement('ol');\n    this.holder.className = 'flickity-page-dots';\n    // create dots, array of elements\n    this.dots = [];\n    // events\n    this.on('tap', this.onTap);\n    this.on('pointerDown', this.parent.childUIPointerDown.bind(this.parent));\n  };\n\n  PageDots.prototype.activate = function () {\n    this.setDots();\n    this.bindTap(this.holder);\n    // add to DOM\n    this.parent.element.appendChild(this.holder);\n  };\n\n  PageDots.prototype.deactivate = function () {\n    // remove from DOM\n    this.parent.element.removeChild(this.holder);\n    TapListener.prototype.destroy.call(this);\n  };\n\n  PageDots.prototype.setDots = function () {\n    // get difference between number of slides and number of dots\n    var delta = this.parent.slides.length - this.dots.length;\n    if (delta > 0) {\n      this.addDots(delta);\n    } else if (delta < 0) {\n      this.removeDots(-delta);\n    }\n  };\n\n  PageDots.prototype.addDots = function (count) {\n    var fragment = document.createDocumentFragment();\n    var newDots = [];\n    var length = this.dots.length;\n    var max = length + count;\n\n    for (var i = length; i < max; i++) {\n      var dot = document.createElement('li');\n      dot.className = 'dot';\n      dot.setAttribute('aria-label', 'Page dot ' + (i + 1));\n      fragment.appendChild(dot);\n      newDots.push(dot);\n    }\n\n    this.holder.appendChild(fragment);\n    this.dots = this.dots.concat(newDots);\n  };\n\n  PageDots.prototype.removeDots = function (count) {\n    // remove from this.dots collection\n    var removeDots = this.dots.splice(this.dots.length - count, count);\n    // remove from DOM\n    removeDots.forEach(function (dot) {\n      this.holder.removeChild(dot);\n    }, this);\n  };\n\n  PageDots.prototype.updateSelected = function () {\n    // remove selected class on previous\n    if (this.selectedDot) {\n      this.selectedDot.className = 'dot';\n      this.selectedDot.removeAttribute('aria-current');\n    }\n    // don't proceed if no dots\n    if (!this.dots.length) {\n      return;\n    }\n    this.selectedDot = this.dots[this.parent.selectedIndex];\n    this.selectedDot.className = 'dot is-selected';\n    this.selectedDot.setAttribute('aria-current', 'step');\n  };\n\n  PageDots.prototype.onTap = function (event) {\n    var target = event.target;\n    // only care about dot clicks\n    if (target.nodeName != 'LI') {\n      return;\n    }\n\n    this.parent.uiChange();\n    var index = this.dots.indexOf(target);\n    this.parent.select(index);\n  };\n\n  PageDots.prototype.destroy = function () {\n    this.deactivate();\n  };\n\n  Flickity.PageDots = PageDots;\n\n  // -------------------------- Flickity -------------------------- //\n\n  utils.extend(Flickity.defaults, {\n    pageDots: true\n  });\n\n  Flickity.createMethods.push('_createPageDots');\n\n  var proto = Flickity.prototype;\n\n  proto._createPageDots = function () {\n    if (!this.options.pageDots) {\n      return;\n    }\n    this.pageDots = new PageDots(this);\n    // events\n    this.on('activate', this.activatePageDots);\n    this.on('select', this.updateSelectedPageDots);\n    this.on('cellChange', this.updatePageDots);\n    this.on('resize', this.updatePageDots);\n    this.on('deactivate', this.deactivatePageDots);\n  };\n\n  proto.activatePageDots = function () {\n    this.pageDots.activate();\n  };\n\n  proto.updateSelectedPageDots = function () {\n    this.pageDots.updateSelected();\n  };\n\n  proto.updatePageDots = function () {\n    this.pageDots.setDots();\n  };\n\n  proto.deactivatePageDots = function () {\n    this.pageDots.deactivate();\n  };\n\n  // -----  ----- //\n\n  Flickity.PageDots = PageDots;\n\n  return Flickity;\n});\n\n// player & autoPlay\n(function (window, factory) {\n  // universal module definition\n  /* jshint strict: false */\n  if (typeof define == 'function' && define.amd) {\n    // AMD\n    define('flickity/js/player', ['ev-emitter/ev-emitter', 'fizzy-ui-utils/utils', './flickity'], function (EvEmitter, utils, Flickity) {\n      return factory(EvEmitter, utils, Flickity);\n    });\n  } else if ((typeof module === 'undefined' ? 'undefined' : _typeof(module)) == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory(require('ev-emitter'), require('fizzy-ui-utils'), require('./flickity'));\n  } else {\n    // browser global\n    factory(window.EvEmitter, window.fizzyUIUtils, window.Flickity);\n  }\n})(window, function factory(EvEmitter, utils, Flickity) {\n\n  // -------------------------- Player -------------------------- //\n\n  function Player(parent) {\n    this.parent = parent;\n    this.state = 'stopped';\n    // visibility change event handler\n    this.onVisibilityChange = this.visibilityChange.bind(this);\n    this.onVisibilityPlay = this.visibilityPlay.bind(this);\n  }\n\n  Player.prototype = Object.create(EvEmitter.prototype);\n\n  // start play\n  Player.prototype.play = function () {\n    if (this.state == 'playing') {\n      return;\n    }\n    // do not play if page is hidden, start playing when page is visible\n    var isPageHidden = document.hidden;\n    if (isPageHidden) {\n      document.addEventListener('visibilitychange', this.onVisibilityPlay);\n      return;\n    }\n\n    this.state = 'playing';\n    // listen to visibility change\n    document.addEventListener('visibilitychange', this.onVisibilityChange);\n    // start ticking\n    this.tick();\n  };\n\n  Player.prototype.tick = function () {\n    // do not tick if not playing\n    if (this.state != 'playing') {\n      return;\n    }\n\n    var time = this.parent.options.autoPlay;\n    // default to 3 seconds\n    time = typeof time == 'number' ? time : 3000;\n    var _this = this;\n    // HACK: reset ticks if stopped and started within interval\n    this.clear();\n    this.timeout = setTimeout(function () {\n      _this.parent.next(true);\n      _this.tick();\n    }, time);\n  };\n\n  Player.prototype.stop = function () {\n    this.state = 'stopped';\n    this.clear();\n    // remove visibility change event\n    document.removeEventListener('visibilitychange', this.onVisibilityChange);\n  };\n\n  Player.prototype.clear = function () {\n    clearTimeout(this.timeout);\n  };\n\n  Player.prototype.pause = function () {\n    if (this.state == 'playing') {\n      this.state = 'paused';\n      this.clear();\n    }\n  };\n\n  Player.prototype.unpause = function () {\n    // re-start play if paused\n    if (this.state == 'paused') {\n      this.play();\n    }\n  };\n\n  // pause if page visibility is hidden, unpause if visible\n  Player.prototype.visibilityChange = function () {\n    var isPageHidden = document.hidden;\n    this[isPageHidden ? 'pause' : 'unpause']();\n  };\n\n  Player.prototype.visibilityPlay = function () {\n    this.play();\n    document.removeEventListener('visibilitychange', this.onVisibilityPlay);\n  };\n\n  // -------------------------- Flickity -------------------------- //\n\n  utils.extend(Flickity.defaults, {\n    pauseAutoPlayOnHover: true\n  });\n\n  Flickity.createMethods.push('_createPlayer');\n  var proto = Flickity.prototype;\n\n  proto._createPlayer = function () {\n    this.player = new Player(this);\n\n    this.on('activate', this.activatePlayer);\n    this.on('uiChange', this.stopPlayer);\n    this.on('pointerDown', this.stopPlayer);\n    this.on('deactivate', this.deactivatePlayer);\n  };\n\n  proto.activatePlayer = function () {\n    if (!this.options.autoPlay) {\n      return;\n    }\n    this.player.play();\n    this.element.addEventListener('mouseenter', this);\n  };\n\n  // Player API, don't hate the ... thanks I know where the door is\n\n  proto.playPlayer = function () {\n    this.player.play();\n  };\n\n  proto.stopPlayer = function () {\n    this.player.stop();\n  };\n\n  proto.pausePlayer = function () {\n    this.player.pause();\n  };\n\n  proto.unpausePlayer = function () {\n    this.player.unpause();\n  };\n\n  proto.deactivatePlayer = function () {\n    this.player.stop();\n    this.element.removeEventListener('mouseenter', this);\n  };\n\n  // ----- mouseenter/leave ----- //\n\n  // pause auto-play on hover\n  proto.onmouseenter = function () {\n    if (!this.options.pauseAutoPlayOnHover) {\n      return;\n    }\n    this.player.pause();\n    this.element.addEventListener('mouseleave', this);\n  };\n\n  // resume auto-play on hover off\n  proto.onmouseleave = function () {\n    this.player.unpause();\n    this.element.removeEventListener('mouseleave', this);\n  };\n\n  // -----  ----- //\n\n  Flickity.Player = Player;\n\n  return Flickity;\n});\n\n// add, remove cell\n(function (window, factory) {\n  // universal module definition\n  /* jshint strict: false */\n  if (typeof define == 'function' && define.amd) {\n    // AMD\n    define('flickity/js/add-remove-cell', ['./flickity', 'fizzy-ui-utils/utils'], function (Flickity, utils) {\n      return factory(window, Flickity, utils);\n    });\n  } else if ((typeof module === 'undefined' ? 'undefined' : _typeof(module)) == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory(window, require('./flickity'), require('fizzy-ui-utils'));\n  } else {\n    // browser global\n    factory(window, window.Flickity, window.fizzyUIUtils);\n  }\n})(window, function factory(window, Flickity, utils) {\n\n  // append cells to a document fragment\n  function getCellsFragment(cells) {\n    var fragment = document.createDocumentFragment();\n    cells.forEach(function (cell) {\n      fragment.appendChild(cell.element);\n    });\n    return fragment;\n  }\n\n  // -------------------------- add/remove cell prototype -------------------------- //\n\n  var proto = Flickity.prototype;\n\n  /**\n   * Insert, prepend, or append cells\n   * @param {Element, Array, NodeList} elems\n   * @param {Integer} index\n   */\n  proto.insert = function (elems, index) {\n    var cells = this._makeCells(elems);\n    if (!cells || !cells.length) {\n      return;\n    }\n    var len = this.cells.length;\n    // default to append\n    index = index === undefined ? len : index;\n    // add cells with document fragment\n    var fragment = getCellsFragment(cells);\n    // append to slider\n    var isAppend = index == len;\n    if (isAppend) {\n      this.slider.appendChild(fragment);\n    } else {\n      var insertCellElement = this.cells[index].element;\n      this.slider.insertBefore(fragment, insertCellElement);\n    }\n    // add to this.cells\n    if (index === 0) {\n      // prepend, add to start\n      this.cells = cells.concat(this.cells);\n    } else if (isAppend) {\n      // append, add to end\n      this.cells = this.cells.concat(cells);\n    } else {\n      // insert in this.cells\n      var endCells = this.cells.splice(index, len - index);\n      this.cells = this.cells.concat(cells).concat(endCells);\n    }\n\n    this._sizeCells(cells);\n    this.cellChange(index, true);\n  };\n\n  proto.append = function (elems) {\n    this.insert(elems, this.cells.length);\n  };\n\n  proto.prepend = function (elems) {\n    this.insert(elems, 0);\n  };\n\n  /**\n   * Remove cells\n   * @param {Element, Array, NodeList} elems\n   */\n  proto.remove = function (elems) {\n    var cells = this.getCells(elems);\n    if (!cells || !cells.length) {\n      return;\n    }\n\n    var minCellIndex = this.cells.length - 1;\n    // remove cells from collection & DOM\n    cells.forEach(function (cell) {\n      cell.remove();\n      var index = this.cells.indexOf(cell);\n      minCellIndex = Math.min(index, minCellIndex);\n      utils.removeFrom(this.cells, cell);\n    }, this);\n\n    this.cellChange(minCellIndex, true);\n  };\n\n  /**\n   * logic to be run after a cell's size changes\n   * @param {Element} elem - cell's element\n   */\n  proto.cellSizeChange = function (elem) {\n    var cell = this.getCell(elem);\n    if (!cell) {\n      return;\n    }\n    cell.getSize();\n\n    var index = this.cells.indexOf(cell);\n    this.cellChange(index);\n  };\n\n  /**\n   * logic any time a cell is changed: added, removed, or size changed\n   * @param {Integer} changedCellIndex - index of the changed cell, optional\n   */\n  proto.cellChange = function (changedCellIndex, isPositioningSlider) {\n    var prevSelectedElem = this.selectedElement;\n    this._positionCells(changedCellIndex);\n    this._getWrapShiftCells();\n    this.setGallerySize();\n    // update selectedIndex\n    // try to maintain position & select previous selected element\n    var cell = this.getCell(prevSelectedElem);\n    if (cell) {\n      this.selectedIndex = this.getCellSlideIndex(cell);\n    }\n    this.selectedIndex = Math.min(this.slides.length - 1, this.selectedIndex);\n\n    this.emitEvent('cellChange', [changedCellIndex]);\n    // position slider\n    this.select(this.selectedIndex);\n    // do not position slider after lazy load\n    if (isPositioningSlider) {\n      this.positionSliderAtSelected();\n    }\n  };\n\n  // -----  ----- //\n\n  return Flickity;\n});\n\n// lazyload\n(function (window, factory) {\n  // universal module definition\n  /* jshint strict: false */\n  if (typeof define == 'function' && define.amd) {\n    // AMD\n    define('flickity/js/lazyload', ['./flickity', 'fizzy-ui-utils/utils'], function (Flickity, utils) {\n      return factory(window, Flickity, utils);\n    });\n  } else if ((typeof module === 'undefined' ? 'undefined' : _typeof(module)) == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory(window, require('./flickity'), require('fizzy-ui-utils'));\n  } else {\n    // browser global\n    factory(window, window.Flickity, window.fizzyUIUtils);\n  }\n})(window, function factory(window, Flickity, utils) {\n  'use strict';\n\n  Flickity.createMethods.push('_createLazyload');\n  var proto = Flickity.prototype;\n\n  proto._createLazyload = function () {\n    this.on('select', this.lazyLoad);\n  };\n\n  proto.lazyLoad = function () {\n    var lazyLoad = this.options.lazyLoad;\n    if (!lazyLoad) {\n      return;\n    }\n    // get adjacent cells, use lazyLoad option for adjacent count\n    var adjCount = typeof lazyLoad == 'number' ? lazyLoad : 0;\n    var cellElems = this.getAdjacentCellElements(adjCount);\n    // get lazy images in those cells\n    var lazyImages = [];\n    cellElems.forEach(function (cellElem) {\n      var lazyCellImages = getCellLazyImages(cellElem);\n      lazyImages = lazyImages.concat(lazyCellImages);\n    });\n    // load lazy images\n    lazyImages.forEach(function (img) {\n      new LazyLoader(img, this);\n    }, this);\n  };\n\n  function getCellLazyImages(cellElem) {\n    // check if cell element is lazy image\n    if (cellElem.nodeName == 'IMG') {\n      var lazyloadAttr = cellElem.getAttribute('data-flickity-lazyload');\n      var srcAttr = cellElem.getAttribute('data-flickity-lazyload-src');\n      var srcsetAttr = cellElem.getAttribute('data-flickity-lazyload-srcset');\n      if (lazyloadAttr || srcAttr || srcsetAttr) {\n        return [cellElem];\n      }\n    }\n    // select lazy images in cell\n    var lazySelector = 'img[data-flickity-lazyload], ' + 'img[data-flickity-lazyload-src], img[data-flickity-lazyload-srcset]';\n    var imgs = cellElem.querySelectorAll(lazySelector);\n    return utils.makeArray(imgs);\n  }\n\n  // -------------------------- LazyLoader -------------------------- //\n\n  /**\n   * class to handle loading images\n   */\n  function LazyLoader(img, flickity) {\n    this.img = img;\n    this.flickity = flickity;\n    this.load();\n  }\n\n  LazyLoader.prototype.handleEvent = utils.handleEvent;\n\n  LazyLoader.prototype.load = function () {\n    this.img.addEventListener('load', this);\n    this.img.addEventListener('error', this);\n    // get src & srcset\n    var src = this.img.getAttribute('data-flickity-lazyload') || this.img.getAttribute('data-flickity-lazyload-src');\n    var srcset = this.img.getAttribute('data-flickity-lazyload-srcset');\n    // set src & serset\n    this.img.src = src;\n    if (srcset) {\n      this.img.setAttribute('srcset', srcset);\n    }\n    // remove attr\n    this.img.removeAttribute('data-flickity-lazyload');\n    this.img.removeAttribute('data-flickity-lazyload-src');\n    this.img.removeAttribute('data-flickity-lazyload-srcset');\n  };\n\n  LazyLoader.prototype.onload = function (event) {\n    this.complete(event, 'flickity-lazyloaded');\n  };\n\n  LazyLoader.prototype.onerror = function (event) {\n    this.complete(event, 'flickity-lazyerror');\n  };\n\n  LazyLoader.prototype.complete = function (event, className) {\n    // unbind events\n    this.img.removeEventListener('load', this);\n    this.img.removeEventListener('error', this);\n\n    var cell = this.flickity.getParentCell(this.img);\n    var cellElem = cell && cell.element;\n    this.flickity.cellSizeChange(cellElem);\n\n    this.img.classList.add(className);\n    this.flickity.dispatchEvent('lazyLoad', event, cellElem);\n  };\n\n  // -----  ----- //\n\n  Flickity.LazyLoader = LazyLoader;\n\n  return Flickity;\n});\n\n/*!\n * Flickity v2.1.1\n * Touch, responsive, flickable carousels\n *\n * Licensed GPLv3 for open source use\n * or Flickity Commercial License for commercial use\n *\n * https://flickity.metafizzy.co\n * Copyright 2015-2018 Metafizzy\n */\n\n(function (window, factory) {\n  // universal module definition\n  /* jshint strict: false */\n  if (typeof define == 'function' && define.amd) {\n    // AMD\n    define('flickity/js/index', ['./flickity', './drag', './prev-next-button', './page-dots', './player', './add-remove-cell', './lazyload'], factory);\n  } else if ((typeof module === 'undefined' ? 'undefined' : _typeof(module)) == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory(require('./flickity'), require('./drag'), require('./prev-next-button'), require('./page-dots'), require('./player'), require('./add-remove-cell'), require('./lazyload'));\n  }\n})(window, function factory(Flickity) {\n  /*jshint strict: false*/\n  return Flickity;\n});\n\n/*!\n * Flickity asNavFor v2.0.1\n * enable asNavFor for Flickity\n */\n\n/*jshint browser: true, undef: true, unused: true, strict: true*/\n\n(function (window, factory) {\n  // universal module definition\n  /*jshint strict: false */ /*globals define, module, require */\n  if (typeof define == 'function' && define.amd) {\n    // AMD\n    define('flickity-as-nav-for/as-nav-for', ['flickity/js/index', 'fizzy-ui-utils/utils'], factory);\n  } else if ((typeof module === 'undefined' ? 'undefined' : _typeof(module)) == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory(require('flickity'), require('fizzy-ui-utils'));\n  } else {\n    // browser global\n    window.Flickity = factory(window.Flickity, window.fizzyUIUtils);\n  }\n})(window, function factory(Flickity, utils) {\n\n  // -------------------------- asNavFor prototype -------------------------- //\n\n  // Flickity.defaults.asNavFor = null;\n\n  Flickity.createMethods.push('_createAsNavFor');\n\n  var proto = Flickity.prototype;\n\n  proto._createAsNavFor = function () {\n    this.on('activate', this.activateAsNavFor);\n    this.on('deactivate', this.deactivateAsNavFor);\n    this.on('destroy', this.destroyAsNavFor);\n\n    var asNavForOption = this.options.asNavFor;\n    if (!asNavForOption) {\n      return;\n    }\n    // HACK do async, give time for other flickity to be initalized\n    var _this = this;\n    setTimeout(function initNavCompanion() {\n      _this.setNavCompanion(asNavForOption);\n    });\n  };\n\n  proto.setNavCompanion = function (elem) {\n    elem = utils.getQueryElement(elem);\n    var companion = Flickity.data(elem);\n    // stop if no companion or companion is self\n    if (!companion || companion == this) {\n      return;\n    }\n\n    this.navCompanion = companion;\n    // companion select\n    var _this = this;\n    this.onNavCompanionSelect = function () {\n      _this.navCompanionSelect();\n    };\n    companion.on('select', this.onNavCompanionSelect);\n    // click\n    this.on('staticClick', this.onNavStaticClick);\n\n    this.navCompanionSelect(true);\n  };\n\n  proto.navCompanionSelect = function (isInstant) {\n    if (!this.navCompanion) {\n      return;\n    }\n    // select slide that matches first cell of slide\n    var selectedCell = this.navCompanion.selectedCells[0];\n    var firstIndex = this.navCompanion.cells.indexOf(selectedCell);\n    var lastIndex = firstIndex + this.navCompanion.selectedCells.length - 1;\n    var selectIndex = Math.floor(lerp(firstIndex, lastIndex, this.navCompanion.cellAlign));\n    this.selectCell(selectIndex, false, isInstant);\n    // set nav selected class\n    this.removeNavSelectedElements();\n    // stop if companion has more cells than this one\n    if (selectIndex >= this.cells.length) {\n      return;\n    }\n\n    var selectedCells = this.cells.slice(firstIndex, lastIndex + 1);\n    this.navSelectedElements = selectedCells.map(function (cell) {\n      return cell.element;\n    });\n    this.changeNavSelectedClass('add');\n  };\n\n  function lerp(a, b, t) {\n    return (b - a) * t + a;\n  }\n\n  proto.changeNavSelectedClass = function (method) {\n    this.navSelectedElements.forEach(function (navElem) {\n      navElem.classList[method]('is-nav-selected');\n    });\n  };\n\n  proto.activateAsNavFor = function () {\n    this.navCompanionSelect(true);\n  };\n\n  proto.removeNavSelectedElements = function () {\n    if (!this.navSelectedElements) {\n      return;\n    }\n    this.changeNavSelectedClass('remove');\n    delete this.navSelectedElements;\n  };\n\n  proto.onNavStaticClick = function (event, pointer, cellElement, cellIndex) {\n    if (typeof cellIndex == 'number') {\n      this.navCompanion.selectCell(cellIndex);\n    }\n  };\n\n  proto.deactivateAsNavFor = function () {\n    this.removeNavSelectedElements();\n  };\n\n  proto.destroyAsNavFor = function () {\n    if (!this.navCompanion) {\n      return;\n    }\n    this.navCompanion.off('select', this.onNavCompanionSelect);\n    this.off('staticClick', this.onNavStaticClick);\n    delete this.navCompanion;\n  };\n\n  // -----  ----- //\n\n  return Flickity;\n});\n\n/*!\n * imagesLoaded v4.1.4\n * JavaScript is all like \"You images are done yet or what?\"\n * MIT License\n */\n\n(function (window, factory) {\n  'use strict';\n  // universal module definition\n\n  /*global define: false, module: false, require: false */\n\n  if (typeof define == 'function' && define.amd) {\n    // AMD\n    define('imagesloaded/imagesloaded', ['ev-emitter/ev-emitter'], function (EvEmitter) {\n      return factory(window, EvEmitter);\n    });\n  } else if ((typeof module === 'undefined' ? 'undefined' : _typeof(module)) == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory(window, require('ev-emitter'));\n  } else {\n    // browser global\n    window.imagesLoaded = factory(window, window.EvEmitter);\n  }\n})(typeof window !== 'undefined' ? window : undefined,\n\n// --------------------------  factory -------------------------- //\n\nfunction factory(window, EvEmitter) {\n\n  var $ = window.jQuery;\n  var console = window.console;\n\n  // -------------------------- helpers -------------------------- //\n\n  // extend objects\n  function extend(a, b) {\n    for (var prop in b) {\n      a[prop] = b[prop];\n    }\n    return a;\n  }\n\n  var arraySlice = Array.prototype.slice;\n\n  // turn element or nodeList into an array\n  function makeArray(obj) {\n    if (Array.isArray(obj)) {\n      // use object if already an array\n      return obj;\n    }\n\n    var isArrayLike = (typeof obj === 'undefined' ? 'undefined' : _typeof(obj)) == 'object' && typeof obj.length == 'number';\n    if (isArrayLike) {\n      // convert nodeList to array\n      return arraySlice.call(obj);\n    }\n\n    // array of single index\n    return [obj];\n  }\n\n  // -------------------------- imagesLoaded -------------------------- //\n\n  /**\n   * @param {Array, Element, NodeList, String} elem\n   * @param {Object or Function} options - if function, use as callback\n   * @param {Function} onAlways - callback function\n   */\n  function ImagesLoaded(elem, options, onAlways) {\n    // coerce ImagesLoaded() without new, to be new ImagesLoaded()\n    if (!(this instanceof ImagesLoaded)) {\n      return new ImagesLoaded(elem, options, onAlways);\n    }\n    // use elem as selector string\n    var queryElem = elem;\n    if (typeof elem == 'string') {\n      queryElem = document.querySelectorAll(elem);\n    }\n    // bail if bad element\n    if (!queryElem) {\n      console.error('Bad element for imagesLoaded ' + (queryElem || elem));\n      return;\n    }\n\n    this.elements = makeArray(queryElem);\n    this.options = extend({}, this.options);\n    // shift arguments if no options set\n    if (typeof options == 'function') {\n      onAlways = options;\n    } else {\n      extend(this.options, options);\n    }\n\n    if (onAlways) {\n      this.on('always', onAlways);\n    }\n\n    this.getImages();\n\n    if ($) {\n      // add jQuery Deferred object\n      this.jqDeferred = new $.Deferred();\n    }\n\n    // HACK check async to allow time to bind listeners\n    setTimeout(this.check.bind(this));\n  }\n\n  ImagesLoaded.prototype = Object.create(EvEmitter.prototype);\n\n  ImagesLoaded.prototype.options = {};\n\n  ImagesLoaded.prototype.getImages = function () {\n    this.images = [];\n\n    // filter & find items if we have an item selector\n    this.elements.forEach(this.addElementImages, this);\n  };\n\n  /**\n   * @param {Node} element\n   */\n  ImagesLoaded.prototype.addElementImages = function (elem) {\n    // filter siblings\n    if (elem.nodeName == 'IMG') {\n      this.addImage(elem);\n    }\n    // get background image on element\n    if (this.options.background === true) {\n      this.addElementBackgroundImages(elem);\n    }\n\n    // find children\n    // no non-element nodes, #143\n    var nodeType = elem.nodeType;\n    if (!nodeType || !elementNodeTypes[nodeType]) {\n      return;\n    }\n    var childImgs = elem.querySelectorAll('img');\n    // concat childElems to filterFound array\n    for (var i = 0; i < childImgs.length; i++) {\n      var img = childImgs[i];\n      this.addImage(img);\n    }\n\n    // get child background images\n    if (typeof this.options.background == 'string') {\n      var children = elem.querySelectorAll(this.options.background);\n      for (i = 0; i < children.length; i++) {\n        var child = children[i];\n        this.addElementBackgroundImages(child);\n      }\n    }\n  };\n\n  var elementNodeTypes = {\n    1: true,\n    9: true,\n    11: true\n  };\n\n  ImagesLoaded.prototype.addElementBackgroundImages = function (elem) {\n    var style = getComputedStyle(elem);\n    if (!style) {\n      // Firefox returns null if in a hidden iframe https://bugzil.la/548397\n      return;\n    }\n    // get url inside url(\"...\")\n    var reURL = /url\\((['\"])?(.*?)\\1\\)/gi;\n    var matches = reURL.exec(style.backgroundImage);\n    while (matches !== null) {\n      var url = matches && matches[2];\n      if (url) {\n        this.addBackground(url, elem);\n      }\n      matches = reURL.exec(style.backgroundImage);\n    }\n  };\n\n  /**\n   * @param {Image} img\n   */\n  ImagesLoaded.prototype.addImage = function (img) {\n    var loadingImage = new LoadingImage(img);\n    this.images.push(loadingImage);\n  };\n\n  ImagesLoaded.prototype.addBackground = function (url, elem) {\n    var background = new Background(url, elem);\n    this.images.push(background);\n  };\n\n  ImagesLoaded.prototype.check = function () {\n    var _this = this;\n    this.progressedCount = 0;\n    this.hasAnyBroken = false;\n    // complete if no images\n    if (!this.images.length) {\n      this.complete();\n      return;\n    }\n\n    function onProgress(image, elem, message) {\n      // HACK - Chrome triggers event before object properties have changed. #83\n      setTimeout(function () {\n        _this.progress(image, elem, message);\n      });\n    }\n\n    this.images.forEach(function (loadingImage) {\n      loadingImage.once('progress', onProgress);\n      loadingImage.check();\n    });\n  };\n\n  ImagesLoaded.prototype.progress = function (image, elem, message) {\n    this.progressedCount++;\n    this.hasAnyBroken = this.hasAnyBroken || !image.isLoaded;\n    // progress event\n    this.emitEvent('progress', [this, image, elem]);\n    if (this.jqDeferred && this.jqDeferred.notify) {\n      this.jqDeferred.notify(this, image);\n    }\n    // check if completed\n    if (this.progressedCount == this.images.length) {\n      this.complete();\n    }\n\n    if (this.options.debug && console) {\n      console.log('progress: ' + message, image, elem);\n    }\n  };\n\n  ImagesLoaded.prototype.complete = function () {\n    var eventName = this.hasAnyBroken ? 'fail' : 'done';\n    this.isComplete = true;\n    this.emitEvent(eventName, [this]);\n    this.emitEvent('always', [this]);\n    if (this.jqDeferred) {\n      var jqMethod = this.hasAnyBroken ? 'reject' : 'resolve';\n      this.jqDeferred[jqMethod](this);\n    }\n  };\n\n  // --------------------------  -------------------------- //\n\n  function LoadingImage(img) {\n    this.img = img;\n  }\n\n  LoadingImage.prototype = Object.create(EvEmitter.prototype);\n\n  LoadingImage.prototype.check = function () {\n    // If complete is true and browser supports natural sizes,\n    // try to check for image status manually.\n    var isComplete = this.getIsImageComplete();\n    if (isComplete) {\n      // report based on naturalWidth\n      this.confirm(this.img.naturalWidth !== 0, 'naturalWidth');\n      return;\n    }\n\n    // If none of the checks above matched, simulate loading on detached element.\n    this.proxyImage = new Image();\n    this.proxyImage.addEventListener('load', this);\n    this.proxyImage.addEventListener('error', this);\n    // bind to image as well for Firefox. #191\n    this.img.addEventListener('load', this);\n    this.img.addEventListener('error', this);\n    this.proxyImage.src = this.img.src;\n  };\n\n  LoadingImage.prototype.getIsImageComplete = function () {\n    // check for non-zero, non-undefined naturalWidth\n    // fixes Safari+InfiniteScroll+Masonry bug infinite-scroll#671\n    return this.img.complete && this.img.naturalWidth;\n  };\n\n  LoadingImage.prototype.confirm = function (isLoaded, message) {\n    this.isLoaded = isLoaded;\n    this.emitEvent('progress', [this, this.img, message]);\n  };\n\n  // ----- events ----- //\n\n  // trigger specified handler for event type\n  LoadingImage.prototype.handleEvent = function (event) {\n    var method = 'on' + event.type;\n    if (this[method]) {\n      this[method](event);\n    }\n  };\n\n  LoadingImage.prototype.onload = function () {\n    this.confirm(true, 'onload');\n    this.unbindEvents();\n  };\n\n  LoadingImage.prototype.onerror = function () {\n    this.confirm(false, 'onerror');\n    this.unbindEvents();\n  };\n\n  LoadingImage.prototype.unbindEvents = function () {\n    this.proxyImage.removeEventListener('load', this);\n    this.proxyImage.removeEventListener('error', this);\n    this.img.removeEventListener('load', this);\n    this.img.removeEventListener('error', this);\n  };\n\n  // -------------------------- Background -------------------------- //\n\n  function Background(url, element) {\n    this.url = url;\n    this.element = element;\n    this.img = new Image();\n  }\n\n  // inherit LoadingImage prototype\n  Background.prototype = Object.create(LoadingImage.prototype);\n\n  Background.prototype.check = function () {\n    this.img.addEventListener('load', this);\n    this.img.addEventListener('error', this);\n    this.img.src = this.url;\n    // check if image is already complete\n    var isComplete = this.getIsImageComplete();\n    if (isComplete) {\n      this.confirm(this.img.naturalWidth !== 0, 'naturalWidth');\n      this.unbindEvents();\n    }\n  };\n\n  Background.prototype.unbindEvents = function () {\n    this.img.removeEventListener('load', this);\n    this.img.removeEventListener('error', this);\n  };\n\n  Background.prototype.confirm = function (isLoaded, message) {\n    this.isLoaded = isLoaded;\n    this.emitEvent('progress', [this, this.element, message]);\n  };\n\n  // -------------------------- jQuery -------------------------- //\n\n  ImagesLoaded.makeJQueryPlugin = function (jQuery) {\n    jQuery = jQuery || window.jQuery;\n    if (!jQuery) {\n      return;\n    }\n    // set local variable\n    $ = jQuery;\n    // $().imagesLoaded()\n    $.fn.imagesLoaded = function (options, callback) {\n      var instance = new ImagesLoaded(this, options, callback);\n      return instance.jqDeferred.promise($(this));\n    };\n  };\n  // try making plugin\n  ImagesLoaded.makeJQueryPlugin();\n\n  // --------------------------  -------------------------- //\n\n  return ImagesLoaded;\n});\n\n/*!\n * Flickity imagesLoaded v2.0.0\n * enables imagesLoaded option for Flickity\n */\n\n/*jshint browser: true, strict: true, undef: true, unused: true */\n\n(function (window, factory) {\n  // universal module definition\n  /*jshint strict: false */ /*globals define, module, require */\n  if (typeof define == 'function' && define.amd) {\n    // AMD\n    define(['flickity/js/index', 'imagesloaded/imagesloaded'], function (Flickity, imagesLoaded) {\n      return factory(window, Flickity, imagesLoaded);\n    });\n  } else if ((typeof module === 'undefined' ? 'undefined' : _typeof(module)) == 'object' && module.exports) {\n    // CommonJS\n    module.exports = factory(window, require('flickity'), require('imagesloaded'));\n  } else {\n    // browser global\n    window.Flickity = factory(window, window.Flickity, window.imagesLoaded);\n  }\n})(window, function factory(window, Flickity, imagesLoaded) {\n  'use strict';\n\n  Flickity.createMethods.push('_createImagesLoaded');\n\n  var proto = Flickity.prototype;\n\n  proto._createImagesLoaded = function () {\n    this.on('activate', this.imagesLoaded);\n  };\n\n  proto.imagesLoaded = function () {\n    if (!this.options.imagesLoaded) {\n      return;\n    }\n    var _this = this;\n    function onImagesLoadedProgress(instance, image) {\n      var cell = _this.getParentCell(image.img);\n      _this.cellSizeChange(cell && cell.element);\n      if (!_this.options.freeScroll) {\n        _this.positionSliderAtSelected();\n      }\n    }\n    imagesLoaded(this.slider).on('progress', onImagesLoadedProgress);\n  };\n\n  return Flickity;\n});\n/**\n * Flickity background lazyload v1.0.0\n * lazyload background cell images\n */\n\n/*jshint browser: true, unused: true, undef: true */\n\n( function( window, factory ) {\n  // universal module definition\n  /*globals define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      'flickity/js/index',\n      'fizzy-ui-utils/utils'\n    ], factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      require('flickity'),\n      require('fizzy-ui-utils')\n    );\n  } else {\n    // browser global\n    factory(\n      window.Flickity,\n      window.fizzyUIUtils\n    );\n  }\n\n}( window, function factory( Flickity, utils ) {\n/*jshint strict: true */\n'use strict';\n\nFlickity.createMethods.push('_createBgLazyLoad');\n\nvar proto = Flickity.prototype;\n\nproto._createBgLazyLoad = function() {\n  this.on( 'select', this.bgLazyLoad );\n};\n\nproto.bgLazyLoad = function() {\n  var lazyLoad = this.options.bgLazyLoad;\n  if ( !lazyLoad ) {\n    return;\n  }\n\n  // get adjacent cells, use lazyLoad option for adjacent count\n  var adjCount = typeof lazyLoad == 'number' ? lazyLoad : 0;\n  var cellElems = this.getAdjacentCellElements( adjCount );\n\n  for ( var i=0; i < cellElems.length; i++ ) {\n    var cellElem = cellElems[i];\n    this.bgLazyLoadElem( cellElem );\n    // select lazy elems in cell\n    var children = cellElem.querySelectorAll('[data-flickity-bg-lazyload]');\n    for ( var j=0; j < children.length; j++ ) {\n      this.bgLazyLoadElem( children[j] );\n    }\n  }\n};\n\nproto.bgLazyLoadElem = function( elem ) {\n  var attr = elem.getAttribute('data-flickity-bg-lazyload');\n  if ( attr ) {\n    new BgLazyLoader( elem, attr, this );\n  }\n};\n\n// -------------------------- LazyBGLoader -------------------------- //\n\n/**\n * class to handle loading images\n */\nfunction BgLazyLoader( elem, url, flickity ) {\n  this.element = elem;\n  this.url = url;\n  this.img = new Image();\n  this.flickity = flickity;\n  this.load();\n}\n\nBgLazyLoader.prototype.handleEvent = utils.handleEvent;\n\nBgLazyLoader.prototype.load = function() {\n  this.img.addEventListener( 'load', this );\n  this.img.addEventListener( 'error', this );\n  // load image\n  this.img.src = this.url;\n  // remove attr\n  this.element.removeAttribute('data-flickity-bg-lazyload');\n};\n\nBgLazyLoader.prototype.onload = function( event ) {\n  this.element.style.backgroundImage = 'url(' + this.url + ')';\n  this.complete( event, 'flickity-bg-lazyloaded' );\n};\n\nBgLazyLoader.prototype.onerror = function( event ) {\n  this.complete( event, 'flickity-bg-lazyerror' );\n};\n\nBgLazyLoader.prototype.complete = function( event, className ) {\n  // unbind events\n  this.img.removeEventListener( 'load', this );\n  this.img.removeEventListener( 'error', this );\n\n  this.element.classList.add( className );\n  this.flickity.dispatchEvent( 'bgLazyLoad', event, this.element );\n};\n\n// -----  ----- //\n\nFlickity.BgLazyLoader = BgLazyLoader;\n\nreturn Flickity;\n\n}));\n\n'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n/**\n*  Ajax Autocomplete for jQuery, version 1.2.27\n*  (c) 2015 Tomas Kirda\n*\n*  Ajax Autocomplete for jQuery is freely distributable under the terms of an MIT-style license.\n*  For details, see the web site: https://github.com/devbridge/jQuery-Autocomplete\n*/\n\n/*jslint  browser: true, white: true, single: true, this: true, multivar: true */\n/*global define, window, document, jQuery, exports, require */\n\n// Expose plugin as an AMD module if AMD loader is present:\n(function (factory) {\n    \"use strict\";\n\n    if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define(['jquery'], factory);\n    } else if ((typeof exports === 'undefined' ? 'undefined' : _typeof(exports)) === 'object' && typeof require === 'function') {\n        // Browserify\n        factory(require('jquery'));\n    } else {\n        // Browser globals\n        factory(jQuery);\n    }\n})(function ($) {\n    'use strict';\n\n    var utils = function () {\n        return {\n            escapeRegExChars: function escapeRegExChars(value) {\n                return value.replace(/[|\\\\{}()[\\]^$+*?.]/g, \"\\\\$&\");\n            },\n            createNode: function createNode(containerClass) {\n                var div = document.createElement('div');\n                div.className = containerClass;\n                div.style.position = 'absolute';\n                div.style.display = 'none';\n                return div;\n            }\n        };\n    }(),\n        keys = {\n        ESC: 27,\n        TAB: 9,\n        RETURN: 13,\n        LEFT: 37,\n        UP: 38,\n        RIGHT: 39,\n        DOWN: 40\n    };\n\n    function Autocomplete(el, options) {\n        var noop = $.noop,\n            that = this,\n            defaults = {\n            ajaxSettings: {},\n            autoSelectFirst: false,\n            appendTo: document.body,\n            serviceUrl: null,\n            lookup: null,\n            onSelect: null,\n            width: 'auto',\n            minChars: 1,\n            maxHeight: 300,\n            deferRequestBy: 0,\n            params: {},\n            formatResult: Autocomplete.formatResult,\n            delimiter: null,\n            zIndex: 9999,\n            type: 'GET',\n            noCache: false,\n            onSearchStart: noop,\n            onSearchComplete: noop,\n            onSearchError: noop,\n            preserveInput: false,\n            containerClass: 'autocomplete-suggestions',\n            tabDisabled: false,\n            dataType: 'text',\n            currentRequest: null,\n            triggerSelectOnValidInput: true,\n            preventBadQueries: true,\n            lookupFilter: function lookupFilter(suggestion, originalQuery, queryLowerCase) {\n                return suggestion.value.toLowerCase().indexOf(queryLowerCase) !== -1;\n            },\n            paramName: 'query',\n            transformResult: function transformResult(response) {\n                return typeof response === 'string' ? $.parseJSON(response) : response;\n            },\n            showNoSuggestionNotice: false,\n            noSuggestionNotice: 'No results',\n            orientation: 'bottom',\n            forceFixPosition: false\n        };\n\n        // Shared variables:\n        that.element = el;\n        that.el = $(el);\n        that.suggestions = [];\n        that.badQueries = [];\n        that.selectedIndex = -1;\n        that.currentValue = that.element.value;\n        that.intervalId = 0;\n        that.cachedResponse = {};\n        that.onChangeInterval = null;\n        that.onChange = null;\n        that.isLocal = false;\n        that.suggestionsContainer = null;\n        that.noSuggestionsContainer = null;\n        that.options = $.extend({}, defaults, options);\n        that.classes = {\n            selected: 'autocomplete-selected',\n            suggestion: 'autocomplete-suggestion'\n        };\n        that.hint = null;\n        that.hintValue = '';\n        that.selection = null;\n\n        // Initialize and set options:\n        that.initialize();\n        that.setOptions(options);\n    }\n\n    Autocomplete.utils = utils;\n\n    $.Autocomplete = Autocomplete;\n\n    Autocomplete.formatResult = function (suggestion, currentValue) {\n        // Do not replace anything if there current value is empty\n        if (!currentValue) {\n            return suggestion.value;\n        }\n\n        var pattern = '(' + utils.escapeRegExChars(currentValue) + ')';\n\n        return suggestion.value.replace(new RegExp(pattern, 'gi'), '<strong>$1<\\/strong>').replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\"/g, '&quot;').replace(/&lt;(\\/?strong)&gt;/g, '<$1>');\n    };\n\n    Autocomplete.prototype = {\n\n        killerFn: null,\n\n        initialize: function initialize() {\n            var that = this,\n                suggestionSelector = '.' + that.classes.suggestion,\n                selected = that.classes.selected,\n                options = that.options,\n                container;\n\n            // Remove autocomplete attribute to prevent native suggestions:\n            that.element.setAttribute('autocomplete', 'off');\n\n            that.killerFn = function (e) {\n                if (!$(e.target).closest('.' + that.options.containerClass).length) {\n                    that.killSuggestions();\n                    that.disableKillerFn();\n                }\n            };\n\n            // html() deals with many types: htmlString or Element or Array or jQuery\n            that.noSuggestionsContainer = $('<div class=\"autocomplete-no-suggestion\"></div>').html(this.options.noSuggestionNotice).get(0);\n\n            that.suggestionsContainer = Autocomplete.utils.createNode(options.containerClass);\n\n            container = $(that.suggestionsContainer);\n\n            container.appendTo(options.appendTo);\n\n            // Only set width if it was provided:\n            if (options.width !== 'auto') {\n                container.css('width', options.width);\n            }\n\n            // Listen for mouse over event on suggestions list:\n            container.on('mouseover.autocomplete', suggestionSelector, function () {\n                that.activate($(this).data('index'));\n            });\n\n            // Deselect active element when mouse leaves suggestions container:\n            container.on('mouseout.autocomplete', function () {\n                that.selectedIndex = -1;\n                container.children('.' + selected).removeClass(selected);\n            });\n\n            // Listen for click event on suggestions list:\n            container.on('click.autocomplete', suggestionSelector, function () {\n                that.select($(this).data('index'));\n                return false;\n            });\n\n            that.fixPositionCapture = function () {\n                if (that.visible) {\n                    that.fixPosition();\n                }\n            };\n\n            $(window).on('resize.autocomplete', that.fixPositionCapture);\n\n            that.el.on('keydown.autocomplete', function (e) {\n                that.onKeyPress(e);\n            });\n            that.el.on('keyup.autocomplete', function (e) {\n                that.onKeyUp(e);\n            });\n            that.el.on('blur.autocomplete', function () {\n                that.onBlur();\n            });\n            that.el.on('focus.autocomplete', function () {\n                that.onFocus();\n            });\n            that.el.on('change.autocomplete', function (e) {\n                that.onKeyUp(e);\n            });\n            that.el.on('input.autocomplete', function (e) {\n                that.onKeyUp(e);\n            });\n        },\n\n        onFocus: function onFocus() {\n            var that = this;\n\n            that.fixPosition();\n\n            if (that.el.val().length >= that.options.minChars) {\n                that.onValueChange();\n            }\n        },\n\n        onBlur: function onBlur() {\n            this.enableKillerFn();\n        },\n\n        abortAjax: function abortAjax() {\n            var that = this;\n            if (that.currentRequest) {\n                that.currentRequest.abort();\n                that.currentRequest = null;\n            }\n        },\n\n        setOptions: function setOptions(suppliedOptions) {\n            var that = this,\n                options = that.options;\n\n            $.extend(options, suppliedOptions);\n\n            that.isLocal = $.isArray(options.lookup);\n\n            if (that.isLocal) {\n                options.lookup = that.verifySuggestionsFormat(options.lookup);\n            }\n\n            options.orientation = that.validateOrientation(options.orientation, 'bottom');\n\n            // Adjust height, width and z-index:\n            $(that.suggestionsContainer).css({\n                'max-height': options.maxHeight + 'px',\n                'width': options.width + 'px',\n                'z-index': options.zIndex\n            });\n        },\n\n        clearCache: function clearCache() {\n            this.cachedResponse = {};\n            this.badQueries = [];\n        },\n\n        clear: function clear() {\n            this.clearCache();\n            this.currentValue = '';\n            this.suggestions = [];\n        },\n\n        disable: function disable() {\n            var that = this;\n            that.disabled = true;\n            clearInterval(that.onChangeInterval);\n            that.abortAjax();\n        },\n\n        enable: function enable() {\n            this.disabled = false;\n        },\n\n        fixPosition: function fixPosition() {\n            // Use only when container has already its content\n\n            var that = this,\n                $container = $(that.suggestionsContainer),\n                containerParent = $container.parent().get(0);\n            // Fix position automatically when appended to body.\n            // In other cases force parameter must be given.\n            if (containerParent !== document.body && !that.options.forceFixPosition) {\n                return;\n            }\n            var siteSearchDiv = $('.site-search');\n            // Choose orientation\n            var orientation = that.options.orientation,\n                containerHeight = $container.outerHeight(),\n                height = siteSearchDiv.outerHeight(),\n                offset = siteSearchDiv.offset(),\n                styles = { 'top': offset.top, 'left': offset.left };\n\n            if (orientation === 'auto') {\n                var viewPortHeight = $(window).height(),\n                    scrollTop = $(window).scrollTop(),\n                    topOverflow = -scrollTop + offset.top - containerHeight,\n                    bottomOverflow = scrollTop + viewPortHeight - (offset.top + height + containerHeight);\n\n                orientation = Math.max(topOverflow, bottomOverflow) === topOverflow ? 'top' : 'bottom';\n            }\n\n            if (orientation === 'top') {\n                styles.top += -containerHeight;\n            } else {\n                styles.top += height;\n            }\n\n            // If container is not positioned to body,\n            // correct its position using offset parent offset\n            if (containerParent !== document.body) {\n                var opacity = $container.css('opacity'),\n                    parentOffsetDiff;\n\n                if (!that.visible) {\n                    $container.css('opacity', 0).show();\n                }\n\n                parentOffsetDiff = $container.offsetParent().offset();\n                styles.top -= parentOffsetDiff.top;\n                styles.left -= parentOffsetDiff.left;\n\n                if (!that.visible) {\n                    $container.css('opacity', opacity).hide();\n                }\n            }\n\n            if (that.options.width === 'auto') {\n                styles.width = siteSearchDiv.outerWidth() + 'px';\n            }\n\n            $container.css(styles);\n        },\n\n        enableKillerFn: function enableKillerFn() {\n            var that = this;\n            $(document).on('click.autocomplete', that.killerFn);\n        },\n\n        disableKillerFn: function disableKillerFn() {\n            var that = this;\n            $(document).off('click.autocomplete', that.killerFn);\n        },\n\n        killSuggestions: function killSuggestions() {\n            var that = this;\n            that.stopKillSuggestions();\n            that.intervalId = window.setInterval(function () {\n                if (that.visible) {\n                    // No need to restore value when \n                    // preserveInput === true, \n                    // because we did not change it\n                    if (!that.options.preserveInput) {\n                        that.el.val(that.currentValue);\n                    }\n\n                    that.hide();\n                }\n\n                that.stopKillSuggestions();\n            }, 50);\n        },\n\n        stopKillSuggestions: function stopKillSuggestions() {\n            window.clearInterval(this.intervalId);\n        },\n\n        isCursorAtEnd: function isCursorAtEnd() {\n            var that = this,\n                valLength = that.el.val().length,\n                selectionStart = that.element.selectionStart,\n                range;\n\n            if (typeof selectionStart === 'number') {\n                return selectionStart === valLength;\n            }\n            if (document.selection) {\n                range = document.selection.createRange();\n                range.moveStart('character', -valLength);\n                return valLength === range.text.length;\n            }\n            return true;\n        },\n\n        onKeyPress: function onKeyPress(e) {\n            var that = this;\n\n            // If suggestions are hidden and user presses arrow down, display suggestions:\n            if (!that.disabled && !that.visible && e.which === keys.DOWN && that.currentValue) {\n                that.suggest();\n                return;\n            }\n\n            if (that.disabled || !that.visible) {\n                return;\n            }\n\n            switch (e.which) {\n                case keys.ESC:\n                    that.el.val(that.currentValue);\n                    that.hide();\n                    break;\n                case keys.RIGHT:\n                    if (that.hint && that.options.onHint && that.isCursorAtEnd()) {\n                        that.selectHint();\n                        break;\n                    }\n                    return;\n                case keys.TAB:\n                    if (that.hint && that.options.onHint) {\n                        that.selectHint();\n                        return;\n                    }\n                    if (that.selectedIndex === -1) {\n                        that.hide();\n                        return;\n                    }\n                    that.select(that.selectedIndex);\n                    if (that.options.tabDisabled === false) {\n                        return;\n                    }\n                    break;\n                case keys.RETURN:\n                    if (that.selectedIndex === -1) {\n                        that.hide();\n                        return;\n                    }\n                    that.select(that.selectedIndex);\n                    break;\n                case keys.UP:\n                    that.moveUp();\n                    break;\n                case keys.DOWN:\n                    that.moveDown();\n                    break;\n                default:\n                    return;\n            }\n\n            // Cancel event if function did not return:\n            e.stopImmediatePropagation();\n            e.preventDefault();\n        },\n\n        onKeyUp: function onKeyUp(e) {\n            var that = this;\n\n            if (that.disabled) {\n                return;\n            }\n\n            switch (e.which) {\n                case keys.UP:\n                case keys.DOWN:\n                    return;\n            }\n\n            clearInterval(that.onChangeInterval);\n\n            if (that.currentValue !== that.el.val()) {\n                that.findBestHint();\n                if (that.options.deferRequestBy > 0) {\n                    // Defer lookup in case when value changes very quickly:\n                    that.onChangeInterval = setInterval(function () {\n                        that.onValueChange();\n                    }, that.options.deferRequestBy);\n                } else {\n                    that.onValueChange();\n                }\n            }\n        },\n\n        onValueChange: function onValueChange() {\n            var that = this,\n                options = that.options,\n                value = that.el.val(),\n                query = that.getQuery(value);\n\n            if (that.selection && that.currentValue !== query) {\n                that.selection = null;\n                (options.onInvalidateSelection || $.noop).call(that.element);\n            }\n\n            clearInterval(that.onChangeInterval);\n            that.currentValue = value;\n            that.selectedIndex = -1;\n\n            // Check existing suggestion for the match before proceeding:\n            if (options.triggerSelectOnValidInput && that.isExactMatch(query)) {\n                that.select(0);\n                return;\n            }\n\n            if (query.length < options.minChars) {\n                that.hide();\n            } else {\n                that.getSuggestions(query);\n            }\n        },\n\n        isExactMatch: function isExactMatch(query) {\n            var suggestions = this.suggestions;\n\n            return suggestions.length === 1 && suggestions[0].value.toLowerCase() === query.toLowerCase();\n        },\n\n        getQuery: function getQuery(value) {\n            var delimiter = this.options.delimiter,\n                parts;\n\n            if (!delimiter) {\n                return value;\n            }\n            parts = value.split(delimiter);\n            return $.trim(parts[parts.length - 1]);\n        },\n\n        getSuggestionsLocal: function getSuggestionsLocal(query) {\n            var that = this,\n                options = that.options,\n                queryLowerCase = query.toLowerCase(),\n                filter = options.lookupFilter,\n                limit = parseInt(options.lookupLimit, 10),\n                data;\n\n            data = {\n                suggestions: $.grep(options.lookup, function (suggestion) {\n                    return filter(suggestion, query, queryLowerCase);\n                })\n            };\n\n            if (limit && data.suggestions.length > limit) {\n                data.suggestions = data.suggestions.slice(0, limit);\n            }\n\n            return data;\n        },\n\n        getSuggestions: function getSuggestions(q) {\n            var response,\n                that = this,\n                options = that.options,\n                serviceUrl = options.serviceUrl,\n                params,\n                cacheKey,\n                ajaxSettings;\n\n            options.params[options.paramName] = q;\n            params = options.ignoreParams ? null : options.params;\n\n            if (options.onSearchStart.call(that.element, options.params) === false) {\n                return;\n            }\n\n            if ($.isFunction(options.lookup)) {\n                options.lookup(q, function (data) {\n                    that.suggestions = data.suggestions;\n                    that.suggest();\n                    options.onSearchComplete.call(that.element, q, data.suggestions);\n                });\n                return;\n            }\n\n            if (that.isLocal) {\n                response = that.getSuggestionsLocal(q);\n            } else {\n                if ($.isFunction(serviceUrl)) {\n                    serviceUrl = serviceUrl.call(that.element, q);\n                }\n                cacheKey = serviceUrl + '?' + $.param(params || {});\n                response = that.cachedResponse[cacheKey];\n            }\n\n            if (response && $.isArray(response.suggestions)) {\n                that.suggestions = response.suggestions;\n                that.suggest();\n                options.onSearchComplete.call(that.element, q, response.suggestions);\n            } else if (!that.isBadQuery(q)) {\n                that.abortAjax();\n\n                ajaxSettings = {\n                    url: serviceUrl,\n                    data: params,\n                    type: options.type,\n                    dataType: options.dataType\n                };\n\n                $.extend(ajaxSettings, options.ajaxSettings);\n\n                that.currentRequest = $.ajax(ajaxSettings).done(function (data) {\n                    var result;\n                    that.currentRequest = null;\n                    result = options.transformResult(data, q);\n                    that.processResponse(result, q, cacheKey);\n                    options.onSearchComplete.call(that.element, q, result.suggestions);\n                }).fail(function (jqXHR, textStatus, errorThrown) {\n                    options.onSearchError.call(that.element, q, jqXHR, textStatus, errorThrown);\n                });\n            } else {\n                options.onSearchComplete.call(that.element, q, []);\n            }\n        },\n\n        isBadQuery: function isBadQuery(q) {\n            if (!this.options.preventBadQueries) {\n                return false;\n            }\n\n            var badQueries = this.badQueries,\n                i = badQueries.length;\n\n            while (i--) {\n                if (q.indexOf(badQueries[i]) === 0) {\n                    return true;\n                }\n            }\n\n            return false;\n        },\n\n        hide: function hide() {\n            var that = this,\n                container = $(that.suggestionsContainer);\n\n            if ($.isFunction(that.options.onHide) && that.visible) {\n                that.options.onHide.call(that.element, container);\n            }\n\n            that.visible = false;\n            that.selectedIndex = -1;\n            clearInterval(that.onChangeInterval);\n            $(that.suggestionsContainer).hide();\n            that.signalHint(null);\n        },\n\n        suggest: function suggest() {\n            if (!this.suggestions.length) {\n                if (this.options.showNoSuggestionNotice) {\n                    this.noSuggestions();\n                } else {\n                    this.hide();\n                }\n                return;\n            }\n\n            var that = this,\n                options = that.options,\n                groupBy = options.groupBy,\n                formatResult = options.formatResult,\n                value = that.getQuery(that.currentValue),\n                className = that.classes.suggestion,\n                classSelected = that.classes.selected,\n                container = $(that.suggestionsContainer),\n                noSuggestionsContainer = $(that.noSuggestionsContainer),\n                beforeRender = options.beforeRender,\n                html = '',\n                category,\n                formatGroup = function formatGroup(suggestion, index) {\n                var currentCategory = suggestion.data[groupBy];\n\n                if (category === currentCategory) {\n                    return '';\n                }\n\n                category = currentCategory;\n\n                return '<div class=\"autocomplete-group\"><strong>' + category + '</strong></div>';\n            };\n\n            if (options.triggerSelectOnValidInput && that.isExactMatch(value)) {\n                that.select(0);\n                return;\n            }\n\n            // Build suggestions inner HTML:\n            $.each(that.suggestions, function (i, suggestion) {\n                if (groupBy) {\n                    html += formatGroup(suggestion, value, i);\n                }\n\n                html += '<div class=\"' + className + '\" data-index=\"' + i + '\">' + formatResult(suggestion, value, i) + '</div>';\n            });\n\n            this.adjustContainerWidth();\n\n            noSuggestionsContainer.detach();\n            container.html(html);\n\n            if ($.isFunction(beforeRender)) {\n                beforeRender.call(that.element, container, that.suggestions);\n            }\n\n            that.fixPosition();\n            container.show();\n\n            // Select first value by default:\n            if (options.autoSelectFirst) {\n                that.selectedIndex = 0;\n                container.scrollTop(0);\n                container.children('.' + className).first().addClass(classSelected);\n            }\n\n            that.visible = true;\n            that.findBestHint();\n        },\n\n        noSuggestions: function noSuggestions() {\n            var that = this,\n                container = $(that.suggestionsContainer),\n                noSuggestionsContainer = $(that.noSuggestionsContainer);\n\n            this.adjustContainerWidth();\n\n            // Some explicit steps. Be careful here as it easy to get\n            // noSuggestionsContainer removed from DOM if not detached properly.\n            noSuggestionsContainer.detach();\n            container.empty(); // clean suggestions if any\n            container.append(noSuggestionsContainer);\n\n            that.fixPosition();\n\n            container.show();\n            that.visible = true;\n        },\n\n        adjustContainerWidth: function adjustContainerWidth() {\n            var that = this,\n                options = that.options,\n                width,\n                container = $(that.suggestionsContainer);\n\n            // If width is auto, adjust width before displaying suggestions,\n            // because if instance was created before input had width, it will be zero.\n            // Also it adjusts if input width has changed.\n            if (options.width === 'auto') {\n                width = that.el.outerWidth();\n                container.css('width', width > 0 ? width : 300);\n            }\n        },\n\n        findBestHint: function findBestHint() {\n            var that = this,\n                value = that.el.val().toLowerCase(),\n                bestMatch = null;\n\n            if (!value) {\n                return;\n            }\n\n            $.each(that.suggestions, function (i, suggestion) {\n                var foundMatch = suggestion.value.toLowerCase().indexOf(value) === 0;\n                if (foundMatch) {\n                    bestMatch = suggestion;\n                }\n                return !foundMatch;\n            });\n\n            that.signalHint(bestMatch);\n        },\n\n        signalHint: function signalHint(suggestion) {\n            var hintValue = '',\n                that = this;\n            if (suggestion) {\n                hintValue = that.currentValue + suggestion.value.substr(that.currentValue.length);\n            }\n            if (that.hintValue !== hintValue) {\n                that.hintValue = hintValue;\n                that.hint = suggestion;\n                (this.options.onHint || $.noop)(hintValue);\n            }\n        },\n\n        verifySuggestionsFormat: function verifySuggestionsFormat(suggestions) {\n            // If suggestions is string array, convert them to supported format:\n            if (suggestions.length && typeof suggestions[0] === 'string') {\n                return $.map(suggestions, function (value) {\n                    return { value: value, data: null };\n                });\n            }\n\n            return suggestions;\n        },\n\n        validateOrientation: function validateOrientation(orientation, fallback) {\n            orientation = $.trim(orientation || '').toLowerCase();\n\n            if ($.inArray(orientation, ['auto', 'bottom', 'top']) === -1) {\n                orientation = fallback;\n            }\n\n            return orientation;\n        },\n\n        processResponse: function processResponse(result, originalQuery, cacheKey) {\n            var that = this,\n                options = that.options;\n\n            result.suggestions = that.verifySuggestionsFormat(result.suggestions);\n\n            // Cache results if cache is not disabled:\n            if (!options.noCache) {\n                that.cachedResponse[cacheKey] = result;\n                if (options.preventBadQueries && !result.suggestions.length) {\n                    that.badQueries.push(originalQuery);\n                }\n            }\n\n            // Return if originalQuery is not matching current query:\n            if (originalQuery !== that.getQuery(that.currentValue)) {\n                return;\n            }\n\n            that.suggestions = result.suggestions;\n            that.suggest();\n        },\n\n        activate: function activate(index) {\n            var that = this,\n                activeItem,\n                selected = that.classes.selected,\n                container = $(that.suggestionsContainer),\n                children = container.find('.' + that.classes.suggestion);\n\n            container.find('.' + selected).removeClass(selected);\n\n            that.selectedIndex = index;\n\n            if (that.selectedIndex !== -1 && children.length > that.selectedIndex) {\n                activeItem = children.get(that.selectedIndex);\n                $(activeItem).addClass(selected);\n                return activeItem;\n            }\n\n            return null;\n        },\n\n        selectHint: function selectHint() {\n            var that = this,\n                i = $.inArray(that.hint, that.suggestions);\n\n            that.select(i);\n        },\n\n        select: function select(i) {\n            var that = this;\n            that.hide();\n            that.onSelect(i);\n            that.disableKillerFn();\n        },\n\n        moveUp: function moveUp() {\n            var that = this;\n\n            if (that.selectedIndex === -1) {\n                return;\n            }\n\n            if (that.selectedIndex === 0) {\n                $(that.suggestionsContainer).children().first().removeClass(that.classes.selected);\n                that.selectedIndex = -1;\n                that.el.val(that.currentValue);\n                that.findBestHint();\n                return;\n            }\n\n            that.adjustScroll(that.selectedIndex - 1);\n        },\n\n        moveDown: function moveDown() {\n            var that = this;\n\n            if (that.selectedIndex === that.suggestions.length - 1) {\n                return;\n            }\n\n            that.adjustScroll(that.selectedIndex + 1);\n        },\n\n        adjustScroll: function adjustScroll(index) {\n            var that = this,\n                activeItem = that.activate(index);\n\n            if (!activeItem) {\n                return;\n            }\n\n            var offsetTop,\n                upperBound,\n                lowerBound,\n                heightDelta = $(activeItem).outerHeight();\n\n            offsetTop = activeItem.offsetTop;\n            upperBound = $(that.suggestionsContainer).scrollTop();\n            lowerBound = upperBound + that.options.maxHeight - heightDelta;\n\n            if (offsetTop < upperBound) {\n                $(that.suggestionsContainer).scrollTop(offsetTop);\n            } else if (offsetTop > lowerBound) {\n                $(that.suggestionsContainer).scrollTop(offsetTop - that.options.maxHeight + heightDelta);\n            }\n\n            if (!that.options.preserveInput) {\n                that.el.val(that.getValue(that.suggestions[index].value));\n            }\n            that.signalHint(null);\n        },\n\n        onSelect: function onSelect(index) {\n            var that = this,\n                onSelectCallback = that.options.onSelect,\n                suggestion = that.suggestions[index];\n\n            that.currentValue = that.getValue(suggestion.value);\n\n            if (that.currentValue !== that.el.val() && !that.options.preserveInput) {\n                that.el.val(that.currentValue);\n            }\n\n            that.signalHint(null);\n            that.suggestions = [];\n            that.selection = suggestion;\n\n            if ($.isFunction(onSelectCallback)) {\n                onSelectCallback.call(that.element, suggestion);\n            }\n        },\n\n        getValue: function getValue(value) {\n            var that = this,\n                delimiter = that.options.delimiter,\n                currentValue,\n                parts;\n\n            if (!delimiter) {\n                return value;\n            }\n\n            currentValue = that.currentValue;\n            parts = currentValue.split(delimiter);\n\n            if (parts.length === 1) {\n                return value;\n            }\n\n            return currentValue.substr(0, currentValue.length - parts[parts.length - 1].length) + value;\n        },\n\n        dispose: function dispose() {\n            var that = this;\n            that.el.off('.autocomplete').removeData('autocomplete');\n            that.disableKillerFn();\n            $(window).off('resize.autocomplete', that.fixPositionCapture);\n            $(that.suggestionsContainer).remove();\n        }\n    };\n\n    // Create chainable jQuery plugin:\n    $.fn.autocomplete = $.fn.devbridgeAutocomplete = function (options, args) {\n        var dataKey = 'autocomplete';\n        // If function invoked without argument return\n        // instance of the first matched element:\n        if (!arguments.length) {\n            return this.first().data(dataKey);\n        }\n\n        return this.each(function () {\n            var inputElement = $(this),\n                instance = inputElement.data(dataKey);\n\n            if (typeof options === 'string') {\n                if (instance && typeof instance[options] === 'function') {\n                    instance[options](args);\n                }\n            } else {\n                // If instance already exists, destroy it:\n                if (instance && instance.dispose) {\n                    instance.dispose();\n                }\n                instance = new Autocomplete(this, options);\n                inputElement.data(dataKey, instance);\n            }\n        });\n    };\n});\n'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n/*! Magnific Popup - v1.1.0 - 2016-02-20\n* http://dimsemenov.com/plugins/magnific-popup/\n* Copyright (c) 2016 Dmitry Semenov; */\n;(function (factory) {\n\tif (typeof define === 'function' && define.amd) {\n\t\t// AMD. Register as an anonymous module. \n\t\tdefine(['jquery'], factory);\n\t} else if ((typeof exports === 'undefined' ? 'undefined' : _typeof(exports)) === 'object') {\n\t\t// Node/CommonJS \n\t\tfactory(require('jquery'));\n\t} else {\n\t\t// Browser globals \n\t\tfactory(window.jQuery || window.Zepto);\n\t}\n})(function ($) {\n\n\t/*>>core*/\n\t/**\n  * \n  * Magnific Popup Core JS file\n  * \n  */\n\n\t/**\n  * Private static constants\n  */\n\tvar CLOSE_EVENT = 'Close',\n\t    BEFORE_CLOSE_EVENT = 'BeforeClose',\n\t    AFTER_CLOSE_EVENT = 'AfterClose',\n\t    BEFORE_APPEND_EVENT = 'BeforeAppend',\n\t    MARKUP_PARSE_EVENT = 'MarkupParse',\n\t    OPEN_EVENT = 'Open',\n\t    CHANGE_EVENT = 'Change',\n\t    NS = 'mfp',\n\t    EVENT_NS = '.' + NS,\n\t    READY_CLASS = 'mfp-ready',\n\t    REMOVING_CLASS = 'mfp-removing',\n\t    PREVENT_CLOSE_CLASS = 'mfp-prevent-close';\n\n\t/**\n  * Private vars \n  */\n\t/*jshint -W079 */\n\tvar mfp,\n\t    // As we have only one instance of MagnificPopup object, we define it locally to not to use 'this'\n\tMagnificPopup = function MagnificPopup() {},\n\t    _isJQ = !!window.jQuery,\n\t    _prevStatus,\n\t    _window = $(window),\n\t    _document,\n\t    _prevContentType,\n\t    _wrapClasses,\n\t    _currPopupType;\n\n\t/**\n  * Private functions\n  */\n\tvar _mfpOn = function _mfpOn(name, f) {\n\t\tmfp.ev.on(NS + name + EVENT_NS, f);\n\t},\n\t    _getEl = function _getEl(className, appendTo, html, raw) {\n\t\tvar el = document.createElement('div');\n\t\tel.className = 'mfp-' + className;\n\t\tif (html) {\n\t\t\tel.innerHTML = html;\n\t\t}\n\t\tif (!raw) {\n\t\t\tel = $(el);\n\t\t\tif (appendTo) {\n\t\t\t\tel.appendTo(appendTo);\n\t\t\t}\n\t\t} else if (appendTo) {\n\t\t\tappendTo.appendChild(el);\n\t\t}\n\t\treturn el;\n\t},\n\t    _mfpTrigger = function _mfpTrigger(e, data) {\n\t\tmfp.ev.triggerHandler(NS + e, data);\n\n\t\tif (mfp.st.callbacks) {\n\t\t\t// converts \"mfpEventName\" to \"eventName\" callback and triggers it if it's present\n\t\t\te = e.charAt(0).toLowerCase() + e.slice(1);\n\t\t\tif (mfp.st.callbacks[e]) {\n\t\t\t\tmfp.st.callbacks[e].apply(mfp, $.isArray(data) ? data : [data]);\n\t\t\t}\n\t\t}\n\t},\n\t    _getCloseBtn = function _getCloseBtn(type) {\n\t\tif (type !== _currPopupType || !mfp.currTemplate.closeBtn) {\n\t\t\tmfp.currTemplate.closeBtn = $(mfp.st.closeMarkup.replace('%title%', mfp.st.tClose));\n\t\t\t_currPopupType = type;\n\t\t}\n\t\treturn mfp.currTemplate.closeBtn;\n\t},\n\n\t// Initialize Magnific Popup only when called at least once\n\t_checkInstance = function _checkInstance() {\n\t\tif (!$.magnificPopup.instance) {\n\t\t\t/*jshint -W020 */\n\t\t\tmfp = new MagnificPopup();\n\t\t\tmfp.init();\n\t\t\t$.magnificPopup.instance = mfp;\n\t\t}\n\t},\n\n\t// CSS transition detection, http://stackoverflow.com/questions/7264899/detect-css-transitions-using-javascript-and-without-modernizr\n\tsupportsTransitions = function supportsTransitions() {\n\t\tvar s = document.createElement('p').style,\n\t\t    // 's' for style. better to create an element if body yet to exist\n\t\tv = ['ms', 'O', 'Moz', 'Webkit']; // 'v' for vendor\n\n\t\tif (s['transition'] !== undefined) {\n\t\t\treturn true;\n\t\t}\n\n\t\twhile (v.length) {\n\t\t\tif (v.pop() + 'Transition' in s) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t};\n\n\t/**\n  * Public functions\n  */\n\tMagnificPopup.prototype = {\n\n\t\tconstructor: MagnificPopup,\n\n\t\t/**\n   * Initializes Magnific Popup plugin. \n   * This function is triggered only once when $.fn.magnificPopup or $.magnificPopup is executed\n   */\n\t\tinit: function init() {\n\t\t\tvar appVersion = navigator.appVersion;\n\t\t\tmfp.isLowIE = mfp.isIE8 = document.all && !document.addEventListener;\n\t\t\tmfp.isAndroid = /android/gi.test(appVersion);\n\t\t\tmfp.isIOS = /iphone|ipad|ipod/gi.test(appVersion);\n\t\t\tmfp.supportsTransition = supportsTransitions();\n\n\t\t\t// We disable fixed positioned lightbox on devices that don't handle it nicely.\n\t\t\t// If you know a better way of detecting this - let me know.\n\t\t\tmfp.probablyMobile = mfp.isAndroid || mfp.isIOS || /(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent);\n\t\t\t_document = $(document);\n\n\t\t\tmfp.popupsCache = {};\n\t\t},\n\n\t\t/**\n   * Opens popup\n   * @param  data [description]\n   */\n\t\topen: function open(data) {\n\n\t\t\tvar i;\n\n\t\t\tif (data.isObj === false) {\n\t\t\t\t// convert jQuery collection to array to avoid conflicts later\n\t\t\t\tmfp.items = data.items.toArray();\n\n\t\t\t\tmfp.index = 0;\n\t\t\t\tvar items = data.items,\n\t\t\t\t    item;\n\t\t\t\tfor (i = 0; i < items.length; i++) {\n\t\t\t\t\titem = items[i];\n\t\t\t\t\tif (item.parsed) {\n\t\t\t\t\t\titem = item.el[0];\n\t\t\t\t\t}\n\t\t\t\t\tif (item === data.el[0]) {\n\t\t\t\t\t\tmfp.index = i;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tmfp.items = $.isArray(data.items) ? data.items : [data.items];\n\t\t\t\tmfp.index = data.index || 0;\n\t\t\t}\n\n\t\t\t// if popup is already opened - we just update the content\n\t\t\tif (mfp.isOpen) {\n\t\t\t\tmfp.updateItemHTML();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tmfp.types = [];\n\t\t\t_wrapClasses = '';\n\t\t\tif (data.mainEl && data.mainEl.length) {\n\t\t\t\tmfp.ev = data.mainEl.eq(0);\n\t\t\t} else {\n\t\t\t\tmfp.ev = _document;\n\t\t\t}\n\n\t\t\tif (data.key) {\n\t\t\t\tif (!mfp.popupsCache[data.key]) {\n\t\t\t\t\tmfp.popupsCache[data.key] = {};\n\t\t\t\t}\n\t\t\t\tmfp.currTemplate = mfp.popupsCache[data.key];\n\t\t\t} else {\n\t\t\t\tmfp.currTemplate = {};\n\t\t\t}\n\n\t\t\tmfp.st = $.extend(true, {}, $.magnificPopup.defaults, data);\n\t\t\tmfp.fixedContentPos = mfp.st.fixedContentPos === 'auto' ? !mfp.probablyMobile : mfp.st.fixedContentPos;\n\n\t\t\tif (mfp.st.modal) {\n\t\t\t\tmfp.st.closeOnContentClick = false;\n\t\t\t\tmfp.st.closeOnBgClick = false;\n\t\t\t\tmfp.st.showCloseBtn = false;\n\t\t\t\tmfp.st.enableEscapeKey = false;\n\t\t\t}\n\n\t\t\t// Building markup\n\t\t\t// main containers are created only once\n\t\t\tif (!mfp.bgOverlay) {\n\n\t\t\t\t// Dark overlay\n\t\t\t\tmfp.bgOverlay = _getEl('bg').on('click' + EVENT_NS, function () {\n\t\t\t\t\tmfp.close();\n\t\t\t\t});\n\n\t\t\t\tmfp.wrap = _getEl('wrap').attr('tabindex', -1).on('click' + EVENT_NS, function (e) {\n\t\t\t\t\tif (mfp._checkIfClose(e.target)) {\n\t\t\t\t\t\tmfp.close();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tmfp.container = _getEl('container', mfp.wrap);\n\t\t\t}\n\n\t\t\tmfp.contentContainer = _getEl('content');\n\t\t\tif (mfp.st.preloader) {\n\t\t\t\tmfp.preloader = _getEl('preloader', mfp.container, mfp.st.tLoading);\n\t\t\t}\n\n\t\t\t// Initializing modules\n\t\t\tvar modules = $.magnificPopup.modules;\n\t\t\tfor (i = 0; i < modules.length; i++) {\n\t\t\t\tvar n = modules[i];\n\t\t\t\tn = n.charAt(0).toUpperCase() + n.slice(1);\n\t\t\t\tmfp['init' + n].call(mfp);\n\t\t\t}\n\t\t\t_mfpTrigger('BeforeOpen');\n\n\t\t\tif (mfp.st.showCloseBtn) {\n\t\t\t\t// Close button\n\t\t\t\tif (!mfp.st.closeBtnInside) {\n\t\t\t\t\tmfp.wrap.append(_getCloseBtn());\n\t\t\t\t} else {\n\t\t\t\t\t_mfpOn(MARKUP_PARSE_EVENT, function (e, template, values, item) {\n\t\t\t\t\t\tvalues.close_replaceWith = _getCloseBtn(item.type);\n\t\t\t\t\t});\n\t\t\t\t\t_wrapClasses += ' mfp-close-btn-in';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (mfp.st.alignTop) {\n\t\t\t\t_wrapClasses += ' mfp-align-top';\n\t\t\t}\n\n\t\t\tif (mfp.fixedContentPos) {\n\t\t\t\tmfp.wrap.css({\n\t\t\t\t\toverflow: mfp.st.overflowY,\n\t\t\t\t\toverflowX: 'hidden',\n\t\t\t\t\toverflowY: mfp.st.overflowY\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tmfp.wrap.css({\n\t\t\t\t\ttop: _window.scrollTop(),\n\t\t\t\t\tposition: 'absolute'\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (mfp.st.fixedBgPos === false || mfp.st.fixedBgPos === 'auto' && !mfp.fixedContentPos) {\n\t\t\t\tmfp.bgOverlay.css({\n\t\t\t\t\theight: _document.height(),\n\t\t\t\t\tposition: 'absolute'\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (mfp.st.enableEscapeKey) {\n\t\t\t\t// Close on ESC key\n\t\t\t\t_document.on('keyup' + EVENT_NS, function (e) {\n\t\t\t\t\tif (e.keyCode === 27) {\n\t\t\t\t\t\tmfp.close();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t_window.on('resize' + EVENT_NS, function () {\n\t\t\t\tmfp.updateSize();\n\t\t\t});\n\n\t\t\tif (!mfp.st.closeOnContentClick) {\n\t\t\t\t_wrapClasses += ' mfp-auto-cursor';\n\t\t\t}\n\n\t\t\tif (_wrapClasses) mfp.wrap.addClass(_wrapClasses);\n\n\t\t\t// this triggers recalculation of layout, so we get it once to not to trigger twice\n\t\t\tvar windowHeight = mfp.wH = _window.height();\n\n\t\t\tvar windowStyles = {};\n\n\t\t\tif (mfp.fixedContentPos) {\n\t\t\t\tif (mfp._hasScrollBar(windowHeight)) {\n\t\t\t\t\tvar s = mfp._getScrollbarSize();\n\t\t\t\t\tif (s) {\n\t\t\t\t\t\twindowStyles.marginRight = s;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (mfp.fixedContentPos) {\n\t\t\t\tif (!mfp.isIE7) {\n\t\t\t\t\twindowStyles.overflow = 'hidden';\n\t\t\t\t} else {\n\t\t\t\t\t// ie7 double-scroll bug\n\t\t\t\t\t$('body, html').css('overflow', 'hidden');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar classesToadd = mfp.st.mainClass;\n\t\t\tif (mfp.isIE7) {\n\t\t\t\tclassesToadd += ' mfp-ie7';\n\t\t\t}\n\t\t\tif (classesToadd) {\n\t\t\t\tmfp._addClassToMFP(classesToadd);\n\t\t\t}\n\n\t\t\t// add content\n\t\t\tmfp.updateItemHTML();\n\n\t\t\t_mfpTrigger('BuildControls');\n\n\t\t\t// remove scrollbar, add margin e.t.c\n\t\t\t$('html').css(windowStyles);\n\n\t\t\t// add everything to DOM\n\t\t\tmfp.bgOverlay.add(mfp.wrap).prependTo(mfp.st.prependTo || $(document.body));\n\n\t\t\t// Save last focused element\n\t\t\tmfp._lastFocusedEl = document.activeElement;\n\n\t\t\t// Wait for next cycle to allow CSS transition\n\t\t\tsetTimeout(function () {\n\n\t\t\t\tif (mfp.content) {\n\t\t\t\t\tmfp._addClassToMFP(READY_CLASS);\n\t\t\t\t\tmfp._setFocus();\n\t\t\t\t} else {\n\t\t\t\t\t// if content is not defined (not loaded e.t.c) we add class only for BG\n\t\t\t\t\tmfp.bgOverlay.addClass(READY_CLASS);\n\t\t\t\t}\n\n\t\t\t\t// Trap the focus in popup\n\t\t\t\t_document.on('focusin' + EVENT_NS, mfp._onFocusIn);\n\t\t\t}, 16);\n\n\t\t\tmfp.isOpen = true;\n\t\t\tmfp.updateSize(windowHeight);\n\t\t\t_mfpTrigger(OPEN_EVENT);\n\n\t\t\treturn data;\n\t\t},\n\n\t\t/**\n   * Closes the popup\n   */\n\t\tclose: function close() {\n\t\t\tif (!mfp.isOpen) return;\n\t\t\t_mfpTrigger(BEFORE_CLOSE_EVENT);\n\n\t\t\tmfp.isOpen = false;\n\t\t\t// for CSS3 animation\n\t\t\tif (mfp.st.removalDelay && !mfp.isLowIE && mfp.supportsTransition) {\n\t\t\t\tmfp._addClassToMFP(REMOVING_CLASS);\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\tmfp._close();\n\t\t\t\t}, mfp.st.removalDelay);\n\t\t\t} else {\n\t\t\t\tmfp._close();\n\t\t\t}\n\t\t},\n\n\t\t/**\n   * Helper for close() function\n   */\n\t\t_close: function _close() {\n\t\t\t_mfpTrigger(CLOSE_EVENT);\n\n\t\t\tvar classesToRemove = REMOVING_CLASS + ' ' + READY_CLASS + ' ';\n\n\t\t\tmfp.bgOverlay.detach();\n\t\t\tmfp.wrap.detach();\n\t\t\tmfp.container.empty();\n\n\t\t\tif (mfp.st.mainClass) {\n\t\t\t\tclassesToRemove += mfp.st.mainClass + ' ';\n\t\t\t}\n\n\t\t\tmfp._removeClassFromMFP(classesToRemove);\n\n\t\t\tif (mfp.fixedContentPos) {\n\t\t\t\tvar windowStyles = { marginRight: '' };\n\t\t\t\tif (mfp.isIE7) {\n\t\t\t\t\t$('body, html').css('overflow', '');\n\t\t\t\t} else {\n\t\t\t\t\twindowStyles.overflow = '';\n\t\t\t\t}\n\t\t\t\t$('html').css(windowStyles);\n\t\t\t}\n\n\t\t\t_document.off('keyup' + EVENT_NS + ' focusin' + EVENT_NS);\n\t\t\tmfp.ev.off(EVENT_NS);\n\n\t\t\t// clean up DOM elements that aren't removed\n\t\t\tmfp.wrap.attr('class', 'mfp-wrap').removeAttr('style');\n\t\t\tmfp.bgOverlay.attr('class', 'mfp-bg');\n\t\t\tmfp.container.attr('class', 'mfp-container');\n\n\t\t\t// remove close button from target element\n\t\t\tif (mfp.st.showCloseBtn && (!mfp.st.closeBtnInside || mfp.currTemplate[mfp.currItem.type] === true)) {\n\t\t\t\tif (mfp.currTemplate.closeBtn) mfp.currTemplate.closeBtn.detach();\n\t\t\t}\n\n\t\t\tif (mfp.st.autoFocusLast && mfp._lastFocusedEl) {\n\t\t\t\t$(mfp._lastFocusedEl).focus(); // put tab focus back\n\t\t\t}\n\t\t\tmfp.currItem = null;\n\t\t\tmfp.content = null;\n\t\t\tmfp.currTemplate = null;\n\t\t\tmfp.prevHeight = 0;\n\n\t\t\t_mfpTrigger(AFTER_CLOSE_EVENT);\n\t\t},\n\n\t\tupdateSize: function updateSize(winHeight) {\n\n\t\t\tif (mfp.isIOS) {\n\t\t\t\t// fixes iOS nav bars https://github.com/dimsemenov/Magnific-Popup/issues/2\n\t\t\t\tvar zoomLevel = document.documentElement.clientWidth / window.innerWidth;\n\t\t\t\tvar height = window.innerHeight * zoomLevel;\n\t\t\t\tmfp.wrap.css('height', height);\n\t\t\t\tmfp.wH = height;\n\t\t\t} else {\n\t\t\t\tmfp.wH = winHeight || _window.height();\n\t\t\t}\n\t\t\t// Fixes #84: popup incorrectly positioned with position:relative on body\n\t\t\tif (!mfp.fixedContentPos) {\n\t\t\t\tmfp.wrap.css('height', mfp.wH);\n\t\t\t}\n\n\t\t\t_mfpTrigger('Resize');\n\t\t},\n\n\t\t/**\n   * Set content of popup based on current index\n   */\n\t\tupdateItemHTML: function updateItemHTML() {\n\t\t\tvar item = mfp.items[mfp.index];\n\n\t\t\t// Detach and perform modifications\n\t\t\tmfp.contentContainer.detach();\n\n\t\t\tif (mfp.content) mfp.content.detach();\n\n\t\t\tif (!item.parsed) {\n\t\t\t\titem = mfp.parseEl(mfp.index);\n\t\t\t}\n\n\t\t\tvar type = item.type;\n\n\t\t\t_mfpTrigger('BeforeChange', [mfp.currItem ? mfp.currItem.type : '', type]);\n\t\t\t// BeforeChange event works like so:\n\t\t\t// _mfpOn('BeforeChange', function(e, prevType, newType) { });\n\n\t\t\tmfp.currItem = item;\n\n\t\t\tif (!mfp.currTemplate[type]) {\n\t\t\t\tvar markup = mfp.st[type] ? mfp.st[type].markup : false;\n\n\t\t\t\t// allows to modify markup\n\t\t\t\t_mfpTrigger('FirstMarkupParse', markup);\n\n\t\t\t\tif (markup) {\n\t\t\t\t\tmfp.currTemplate[type] = $(markup);\n\t\t\t\t} else {\n\t\t\t\t\t// if there is no markup found we just define that template is parsed\n\t\t\t\t\tmfp.currTemplate[type] = true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (_prevContentType && _prevContentType !== item.type) {\n\t\t\t\tmfp.container.removeClass('mfp-' + _prevContentType + '-holder');\n\t\t\t}\n\n\t\t\tvar newContent = mfp['get' + type.charAt(0).toUpperCase() + type.slice(1)](item, mfp.currTemplate[type]);\n\t\t\tmfp.appendContent(newContent, type);\n\n\t\t\titem.preloaded = true;\n\n\t\t\t_mfpTrigger(CHANGE_EVENT, item);\n\t\t\t_prevContentType = item.type;\n\n\t\t\t// Append container back after its content changed\n\t\t\tmfp.container.prepend(mfp.contentContainer);\n\n\t\t\t_mfpTrigger('AfterChange');\n\t\t},\n\n\t\t/**\n   * Set HTML content of popup\n   */\n\t\tappendContent: function appendContent(newContent, type) {\n\t\t\tmfp.content = newContent;\n\n\t\t\tif (newContent) {\n\t\t\t\tif (mfp.st.showCloseBtn && mfp.st.closeBtnInside && mfp.currTemplate[type] === true) {\n\t\t\t\t\t// if there is no markup, we just append close button element inside\n\t\t\t\t\tif (!mfp.content.find('.mfp-close').length) {\n\t\t\t\t\t\tmfp.content.append(_getCloseBtn());\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tmfp.content = newContent;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tmfp.content = '';\n\t\t\t}\n\n\t\t\t_mfpTrigger(BEFORE_APPEND_EVENT);\n\t\t\tmfp.container.addClass('mfp-' + type + '-holder');\n\n\t\t\tmfp.contentContainer.append(mfp.content);\n\t\t},\n\n\t\t/**\n   * Creates Magnific Popup data object based on given data\n   * @param  {int} index Index of item to parse\n   */\n\t\tparseEl: function parseEl(index) {\n\t\t\tvar item = mfp.items[index],\n\t\t\t    type;\n\n\t\t\tif (item.tagName) {\n\t\t\t\titem = { el: $(item) };\n\t\t\t} else {\n\t\t\t\ttype = item.type;\n\t\t\t\titem = { data: item, src: item.src };\n\t\t\t}\n\n\t\t\tif (item.el) {\n\t\t\t\tvar types = mfp.types;\n\n\t\t\t\t// check for 'mfp-TYPE' class\n\t\t\t\tfor (var i = 0; i < types.length; i++) {\n\t\t\t\t\tif (item.el.hasClass('mfp-' + types[i])) {\n\t\t\t\t\t\ttype = types[i];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\titem.src = item.el.attr('data-mfp-src');\n\t\t\t\tif (!item.src) {\n\t\t\t\t\titem.src = item.el.attr('href');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\titem.type = type || mfp.st.type || 'inline';\n\t\t\titem.index = index;\n\t\t\titem.parsed = true;\n\t\t\tmfp.items[index] = item;\n\t\t\t_mfpTrigger('ElementParse', item);\n\n\t\t\treturn mfp.items[index];\n\t\t},\n\n\t\t/**\n   * Initializes single popup or a group of popups\n   */\n\t\taddGroup: function addGroup(el, options) {\n\t\t\tvar eHandler = function eHandler(e) {\n\t\t\t\te.mfpEl = this;\n\t\t\t\tmfp._openClick(e, el, options);\n\t\t\t};\n\n\t\t\tif (!options) {\n\t\t\t\toptions = {};\n\t\t\t}\n\n\t\t\tvar eName = 'click.magnificPopup';\n\t\t\toptions.mainEl = el;\n\n\t\t\tif (options.items) {\n\t\t\t\toptions.isObj = true;\n\t\t\t\tel.off(eName).on(eName, eHandler);\n\t\t\t} else {\n\t\t\t\toptions.isObj = false;\n\t\t\t\tif (options.delegate) {\n\t\t\t\t\tel.off(eName).on(eName, options.delegate, eHandler);\n\t\t\t\t} else {\n\t\t\t\t\toptions.items = el;\n\t\t\t\t\tel.off(eName).on(eName, eHandler);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t_openClick: function _openClick(e, el, options) {\n\t\t\tvar midClick = options.midClick !== undefined ? options.midClick : $.magnificPopup.defaults.midClick;\n\n\t\t\tif (!midClick && (e.which === 2 || e.ctrlKey || e.metaKey || e.altKey || e.shiftKey)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar disableOn = options.disableOn !== undefined ? options.disableOn : $.magnificPopup.defaults.disableOn;\n\n\t\t\tif (disableOn) {\n\t\t\t\tif ($.isFunction(disableOn)) {\n\t\t\t\t\tif (!disableOn.call(mfp)) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// else it's number\n\t\t\t\t\tif (_window.width() < disableOn) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (e.type) {\n\t\t\t\te.preventDefault();\n\n\t\t\t\t// This will prevent popup from closing if element is inside and popup is already opened\n\t\t\t\tif (mfp.isOpen) {\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\toptions.el = $(e.mfpEl);\n\t\t\tif (options.delegate) {\n\t\t\t\toptions.items = el.find(options.delegate);\n\t\t\t}\n\t\t\tmfp.open(options);\n\t\t},\n\n\t\t/**\n   * Updates text on preloader\n   */\n\t\tupdateStatus: function updateStatus(status, text) {\n\n\t\t\tif (mfp.preloader) {\n\t\t\t\tif (_prevStatus !== status) {\n\t\t\t\t\tmfp.container.removeClass('mfp-s-' + _prevStatus);\n\t\t\t\t}\n\n\t\t\t\tif (!text && status === 'loading') {\n\t\t\t\t\ttext = mfp.st.tLoading;\n\t\t\t\t}\n\n\t\t\t\tvar data = {\n\t\t\t\t\tstatus: status,\n\t\t\t\t\ttext: text\n\t\t\t\t};\n\t\t\t\t// allows to modify status\n\t\t\t\t_mfpTrigger('UpdateStatus', data);\n\n\t\t\t\tstatus = data.status;\n\t\t\t\ttext = data.text;\n\n\t\t\t\tmfp.preloader.html(text);\n\n\t\t\t\tmfp.preloader.find('a').on('click', function (e) {\n\t\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t});\n\n\t\t\t\tmfp.container.addClass('mfp-s-' + status);\n\t\t\t\t_prevStatus = status;\n\t\t\t}\n\t\t},\n\n\t\t/*\n  \t\"Private\" helpers that aren't private at all\n   */\n\t\t// Check to close popup or not\n\t\t// \"target\" is an element that was clicked\n\t\t_checkIfClose: function _checkIfClose(target) {\n\n\t\t\tif ($(target).hasClass(PREVENT_CLOSE_CLASS)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar closeOnContent = mfp.st.closeOnContentClick;\n\t\t\tvar closeOnBg = mfp.st.closeOnBgClick;\n\n\t\t\tif (closeOnContent && closeOnBg) {\n\t\t\t\treturn true;\n\t\t\t} else {\n\n\t\t\t\t// We close the popup if click is on close button or on preloader. Or if there is no content.\n\t\t\t\tif (!mfp.content || $(target).hasClass('mfp-close') || mfp.preloader && target === mfp.preloader[0]) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\t// if click is outside the content\n\t\t\t\tif (target !== mfp.content[0] && !$.contains(mfp.content[0], target)) {\n\t\t\t\t\tif (closeOnBg) {\n\t\t\t\t\t\t// last check, if the clicked element is in DOM, (in case it's removed onclick)\n\t\t\t\t\t\tif ($.contains(document, target)) {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else if (closeOnContent) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\t_addClassToMFP: function _addClassToMFP(cName) {\n\t\t\tmfp.bgOverlay.addClass(cName);\n\t\t\tmfp.wrap.addClass(cName);\n\t\t},\n\t\t_removeClassFromMFP: function _removeClassFromMFP(cName) {\n\t\t\tthis.bgOverlay.removeClass(cName);\n\t\t\tmfp.wrap.removeClass(cName);\n\t\t},\n\t\t_hasScrollBar: function _hasScrollBar(winHeight) {\n\t\t\treturn (mfp.isIE7 ? _document.height() : document.body.scrollHeight) > (winHeight || _window.height());\n\t\t},\n\t\t_setFocus: function _setFocus() {\n\t\t\t(mfp.st.focus ? mfp.content.find(mfp.st.focus).eq(0) : mfp.wrap).focus();\n\t\t},\n\t\t_onFocusIn: function _onFocusIn(e) {\n\t\t\tif (e.target !== mfp.wrap[0] && !$.contains(mfp.wrap[0], e.target)) {\n\t\t\t\tmfp._setFocus();\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t\t_parseMarkup: function _parseMarkup(template, values, item) {\n\t\t\tvar arr;\n\t\t\tif (item.data) {\n\t\t\t\tvalues = $.extend(item.data, values);\n\t\t\t}\n\t\t\t_mfpTrigger(MARKUP_PARSE_EVENT, [template, values, item]);\n\n\t\t\t$.each(values, function (key, value) {\n\t\t\t\tif (value === undefined || value === false) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tarr = key.split('_');\n\t\t\t\tif (arr.length > 1) {\n\t\t\t\t\tvar el = template.find(EVENT_NS + '-' + arr[0]);\n\n\t\t\t\t\tif (el.length > 0) {\n\t\t\t\t\t\tvar attr = arr[1];\n\t\t\t\t\t\tif (attr === 'replaceWith') {\n\t\t\t\t\t\t\tif (el[0] !== value[0]) {\n\t\t\t\t\t\t\t\tel.replaceWith(value);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (attr === 'img') {\n\t\t\t\t\t\t\tif (el.is('img')) {\n\t\t\t\t\t\t\t\tel.attr('src', value);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tel.replaceWith($('<img>').attr('src', value).attr('class', el.attr('class')));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tel.attr(arr[1], value);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\ttemplate.find(EVENT_NS + '-' + key).html(value);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t_getScrollbarSize: function _getScrollbarSize() {\n\t\t\t// thx David\n\t\t\tif (mfp.scrollbarSize === undefined) {\n\t\t\t\tvar scrollDiv = document.createElement(\"div\");\n\t\t\t\tscrollDiv.style.cssText = 'width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;';\n\t\t\t\tdocument.body.appendChild(scrollDiv);\n\t\t\t\tmfp.scrollbarSize = scrollDiv.offsetWidth - scrollDiv.clientWidth;\n\t\t\t\tdocument.body.removeChild(scrollDiv);\n\t\t\t}\n\t\t\treturn mfp.scrollbarSize;\n\t\t}\n\n\t}; /* MagnificPopup core prototype end */\n\n\t/**\n  * Public static functions\n  */\n\t$.magnificPopup = {\n\t\tinstance: null,\n\t\tproto: MagnificPopup.prototype,\n\t\tmodules: [],\n\n\t\topen: function open(options, index) {\n\t\t\t_checkInstance();\n\n\t\t\tif (!options) {\n\t\t\t\toptions = {};\n\t\t\t} else {\n\t\t\t\toptions = $.extend(true, {}, options);\n\t\t\t}\n\n\t\t\toptions.isObj = true;\n\t\t\toptions.index = index || 0;\n\t\t\treturn this.instance.open(options);\n\t\t},\n\n\t\tclose: function close() {\n\t\t\treturn $.magnificPopup.instance && $.magnificPopup.instance.close();\n\t\t},\n\n\t\tregisterModule: function registerModule(name, module) {\n\t\t\tif (module.options) {\n\t\t\t\t$.magnificPopup.defaults[name] = module.options;\n\t\t\t}\n\t\t\t$.extend(this.proto, module.proto);\n\t\t\tthis.modules.push(name);\n\t\t},\n\n\t\tdefaults: {\n\n\t\t\t// Info about options is in docs:\n\t\t\t// http://dimsemenov.com/plugins/magnific-popup/documentation.html#options\n\n\t\t\tdisableOn: 0,\n\n\t\t\tkey: null,\n\n\t\t\tmidClick: false,\n\n\t\t\tmainClass: '',\n\n\t\t\tpreloader: true,\n\n\t\t\tfocus: '', // CSS selector of input to focus after popup is opened\n\n\t\t\tcloseOnContentClick: false,\n\n\t\t\tcloseOnBgClick: true,\n\n\t\t\tcloseBtnInside: true,\n\n\t\t\tshowCloseBtn: true,\n\n\t\t\tenableEscapeKey: true,\n\n\t\t\tmodal: false,\n\n\t\t\talignTop: false,\n\n\t\t\tremovalDelay: 0,\n\n\t\t\tprependTo: null,\n\n\t\t\tfixedContentPos: 'auto',\n\n\t\t\tfixedBgPos: 'auto',\n\n\t\t\toverflowY: 'auto',\n\n\t\t\tcloseMarkup: '<button title=\"%title%\" type=\"button\" class=\"mfp-close\">&#215;</button>',\n\n\t\t\ttClose: 'Close (Esc)',\n\n\t\t\ttLoading: 'Loading...',\n\n\t\t\tautoFocusLast: true\n\n\t\t}\n\t};\n\n\t$.fn.magnificPopup = function (options) {\n\t\t_checkInstance();\n\n\t\tvar jqEl = $(this);\n\n\t\t// We call some API method of first param is a string\n\t\tif (typeof options === \"string\") {\n\n\t\t\tif (options === 'open') {\n\t\t\t\tvar items,\n\t\t\t\t    itemOpts = _isJQ ? jqEl.data('magnificPopup') : jqEl[0].magnificPopup,\n\t\t\t\t    index = parseInt(arguments[1], 10) || 0;\n\n\t\t\t\tif (itemOpts.items) {\n\t\t\t\t\titems = itemOpts.items[index];\n\t\t\t\t} else {\n\t\t\t\t\titems = jqEl;\n\t\t\t\t\tif (itemOpts.delegate) {\n\t\t\t\t\t\titems = items.find(itemOpts.delegate);\n\t\t\t\t\t}\n\t\t\t\t\titems = items.eq(index);\n\t\t\t\t}\n\t\t\t\tmfp._openClick({ mfpEl: items }, jqEl, itemOpts);\n\t\t\t} else {\n\t\t\t\tif (mfp.isOpen) mfp[options].apply(mfp, Array.prototype.slice.call(arguments, 1));\n\t\t\t}\n\t\t} else {\n\t\t\t// clone options obj\n\t\t\toptions = $.extend(true, {}, options);\n\n\t\t\t/*\n    * As Zepto doesn't support .data() method for objects\n    * and it works only in normal browsers\n    * we assign \"options\" object directly to the DOM element. FTW!\n    */\n\t\t\tif (_isJQ) {\n\t\t\t\tjqEl.data('magnificPopup', options);\n\t\t\t} else {\n\t\t\t\tjqEl[0].magnificPopup = options;\n\t\t\t}\n\n\t\t\tmfp.addGroup(jqEl, options);\n\t\t}\n\t\treturn jqEl;\n\t};\n\n\t/*>>core*/\n\n\t/*>>inline*/\n\n\tvar INLINE_NS = 'inline',\n\t    _hiddenClass,\n\t    _inlinePlaceholder,\n\t    _lastInlineElement,\n\t    _putInlineElementsBack = function _putInlineElementsBack() {\n\t\tif (_lastInlineElement) {\n\t\t\t_inlinePlaceholder.after(_lastInlineElement.addClass(_hiddenClass)).detach();\n\t\t\t_lastInlineElement = null;\n\t\t}\n\t};\n\n\t$.magnificPopup.registerModule(INLINE_NS, {\n\t\toptions: {\n\t\t\thiddenClass: 'hide', // will be appended with `mfp-` prefix\n\t\t\tmarkup: '',\n\t\t\ttNotFound: 'Content not found'\n\t\t},\n\t\tproto: {\n\n\t\t\tinitInline: function initInline() {\n\t\t\t\tmfp.types.push(INLINE_NS);\n\n\t\t\t\t_mfpOn(CLOSE_EVENT + '.' + INLINE_NS, function () {\n\t\t\t\t\t_putInlineElementsBack();\n\t\t\t\t});\n\t\t\t},\n\n\t\t\tgetInline: function getInline(item, template) {\n\n\t\t\t\t_putInlineElementsBack();\n\n\t\t\t\tif (item.src) {\n\t\t\t\t\tvar inlineSt = mfp.st.inline,\n\t\t\t\t\t    el = $(item.src);\n\n\t\t\t\t\tif (el.length) {\n\n\t\t\t\t\t\t// If target element has parent - we replace it with placeholder and put it back after popup is closed\n\t\t\t\t\t\tvar parent = el[0].parentNode;\n\t\t\t\t\t\tif (parent && parent.tagName) {\n\t\t\t\t\t\t\tif (!_inlinePlaceholder) {\n\t\t\t\t\t\t\t\t_hiddenClass = inlineSt.hiddenClass;\n\t\t\t\t\t\t\t\t_inlinePlaceholder = _getEl(_hiddenClass);\n\t\t\t\t\t\t\t\t_hiddenClass = 'mfp-' + _hiddenClass;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// replace target inline element with placeholder\n\t\t\t\t\t\t\t_lastInlineElement = el.after(_inlinePlaceholder).detach().removeClass(_hiddenClass);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tmfp.updateStatus('ready');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tmfp.updateStatus('error', inlineSt.tNotFound);\n\t\t\t\t\t\tel = $('<div>');\n\t\t\t\t\t}\n\n\t\t\t\t\titem.inlineElement = el;\n\t\t\t\t\treturn el;\n\t\t\t\t}\n\n\t\t\t\tmfp.updateStatus('ready');\n\t\t\t\tmfp._parseMarkup(template, {}, item);\n\t\t\t\treturn template;\n\t\t\t}\n\t\t}\n\t});\n\n\t/*>>inline*/\n\n\t/*>>ajax*/\n\tvar AJAX_NS = 'ajax',\n\t    _ajaxCur,\n\t    _removeAjaxCursor = function _removeAjaxCursor() {\n\t\tif (_ajaxCur) {\n\t\t\t$(document.body).removeClass(_ajaxCur);\n\t\t}\n\t},\n\t    _destroyAjaxRequest = function _destroyAjaxRequest() {\n\t\t_removeAjaxCursor();\n\t\tif (mfp.req) {\n\t\t\tmfp.req.abort();\n\t\t}\n\t};\n\n\t$.magnificPopup.registerModule(AJAX_NS, {\n\n\t\toptions: {\n\t\t\tsettings: null,\n\t\t\tcursor: 'mfp-ajax-cur',\n\t\t\ttError: '<a href=\"%url%\">The content</a> could not be loaded.'\n\t\t},\n\n\t\tproto: {\n\t\t\tinitAjax: function initAjax() {\n\t\t\t\tmfp.types.push(AJAX_NS);\n\t\t\t\t_ajaxCur = mfp.st.ajax.cursor;\n\n\t\t\t\t_mfpOn(CLOSE_EVENT + '.' + AJAX_NS, _destroyAjaxRequest);\n\t\t\t\t_mfpOn('BeforeChange.' + AJAX_NS, _destroyAjaxRequest);\n\t\t\t},\n\t\t\tgetAjax: function getAjax(item) {\n\n\t\t\t\tif (_ajaxCur) {\n\t\t\t\t\t$(document.body).addClass(_ajaxCur);\n\t\t\t\t}\n\n\t\t\t\tmfp.updateStatus('loading');\n\n\t\t\t\tvar opts = $.extend({\n\t\t\t\t\turl: item.src,\n\t\t\t\t\tsuccess: function success(data, textStatus, jqXHR) {\n\t\t\t\t\t\tvar temp = {\n\t\t\t\t\t\t\tdata: data,\n\t\t\t\t\t\t\txhr: jqXHR\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\t_mfpTrigger('ParseAjax', temp);\n\n\t\t\t\t\t\tmfp.appendContent($(temp.data), AJAX_NS);\n\n\t\t\t\t\t\titem.finished = true;\n\n\t\t\t\t\t\t_removeAjaxCursor();\n\n\t\t\t\t\t\tmfp._setFocus();\n\n\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\tmfp.wrap.addClass(READY_CLASS);\n\t\t\t\t\t\t}, 16);\n\n\t\t\t\t\t\tmfp.updateStatus('ready');\n\n\t\t\t\t\t\t_mfpTrigger('AjaxContentAdded');\n\t\t\t\t\t},\n\t\t\t\t\terror: function error() {\n\t\t\t\t\t\t_removeAjaxCursor();\n\t\t\t\t\t\titem.finished = item.loadError = true;\n\t\t\t\t\t\tmfp.updateStatus('error', mfp.st.ajax.tError.replace('%url%', item.src));\n\t\t\t\t\t}\n\t\t\t\t}, mfp.st.ajax.settings);\n\n\t\t\t\tmfp.req = $.ajax(opts);\n\n\t\t\t\treturn '';\n\t\t\t}\n\t\t}\n\t});\n\n\t/*>>ajax*/\n\n\t/*>>image*/\n\tvar _imgInterval,\n\t    _getTitle = function _getTitle(item) {\n\t\tif (item.data && item.data.title !== undefined) return item.data.title;\n\n\t\tvar src = mfp.st.image.titleSrc;\n\n\t\tif (src) {\n\t\t\tif ($.isFunction(src)) {\n\t\t\t\treturn src.call(mfp, item);\n\t\t\t} else if (item.el) {\n\t\t\t\treturn item.el.attr(src) || '';\n\t\t\t}\n\t\t}\n\t\treturn '';\n\t};\n\n\t$.magnificPopup.registerModule('image', {\n\n\t\toptions: {\n\t\t\tmarkup: '<div class=\"mfp-figure\">' + '<div class=\"mfp-close\"></div>' + '<figure>' + '<div class=\"mfp-img\"></div>' + '<figcaption>' + '<div class=\"mfp-bottom-bar\">' + '<div class=\"mfp-title\"></div>' + '<div class=\"mfp-counter\"></div>' + '</div>' + '</figcaption>' + '</figure>' + '</div>',\n\t\t\tcursor: 'mfp-zoom-out-cur',\n\t\t\ttitleSrc: 'title',\n\t\t\tverticalFit: true,\n\t\t\ttError: '<a href=\"%url%\">The image</a> could not be loaded.'\n\t\t},\n\n\t\tproto: {\n\t\t\tinitImage: function initImage() {\n\t\t\t\tvar imgSt = mfp.st.image,\n\t\t\t\t    ns = '.image';\n\n\t\t\t\tmfp.types.push('image');\n\n\t\t\t\t_mfpOn(OPEN_EVENT + ns, function () {\n\t\t\t\t\tif (mfp.currItem.type === 'image' && imgSt.cursor) {\n\t\t\t\t\t\t$(document.body).addClass(imgSt.cursor);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t_mfpOn(CLOSE_EVENT + ns, function () {\n\t\t\t\t\tif (imgSt.cursor) {\n\t\t\t\t\t\t$(document.body).removeClass(imgSt.cursor);\n\t\t\t\t\t}\n\t\t\t\t\t_window.off('resize' + EVENT_NS);\n\t\t\t\t});\n\n\t\t\t\t_mfpOn('Resize' + ns, mfp.resizeImage);\n\t\t\t\tif (mfp.isLowIE) {\n\t\t\t\t\t_mfpOn('AfterChange', mfp.resizeImage);\n\t\t\t\t}\n\t\t\t},\n\t\t\tresizeImage: function resizeImage() {\n\t\t\t\tvar item = mfp.currItem;\n\t\t\t\tif (!item || !item.img) return;\n\n\t\t\t\tif (mfp.st.image.verticalFit) {\n\t\t\t\t\tvar decr = 0;\n\t\t\t\t\t// fix box-sizing in ie7/8\n\t\t\t\t\tif (mfp.isLowIE) {\n\t\t\t\t\t\tdecr = parseInt(item.img.css('padding-top'), 10) + parseInt(item.img.css('padding-bottom'), 10);\n\t\t\t\t\t}\n\t\t\t\t\titem.img.css('max-height', mfp.wH - decr);\n\t\t\t\t}\n\t\t\t},\n\t\t\t_onImageHasSize: function _onImageHasSize(item) {\n\t\t\t\tif (item.img) {\n\n\t\t\t\t\titem.hasSize = true;\n\n\t\t\t\t\tif (_imgInterval) {\n\t\t\t\t\t\tclearInterval(_imgInterval);\n\t\t\t\t\t}\n\n\t\t\t\t\titem.isCheckingImgSize = false;\n\n\t\t\t\t\t_mfpTrigger('ImageHasSize', item);\n\n\t\t\t\t\tif (item.imgHidden) {\n\t\t\t\t\t\tif (mfp.content) mfp.content.removeClass('mfp-loading');\n\n\t\t\t\t\t\titem.imgHidden = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n    * Function that loops until the image has size to display elements that rely on it asap\n    */\n\t\t\tfindImageSize: function findImageSize(item) {\n\n\t\t\t\tvar counter = 0,\n\t\t\t\t    img = item.img[0],\n\t\t\t\t    mfpSetInterval = function mfpSetInterval(delay) {\n\n\t\t\t\t\tif (_imgInterval) {\n\t\t\t\t\t\tclearInterval(_imgInterval);\n\t\t\t\t\t}\n\t\t\t\t\t// decelerating interval that checks for size of an image\n\t\t\t\t\t_imgInterval = setInterval(function () {\n\t\t\t\t\t\tif (img.naturalWidth > 0) {\n\t\t\t\t\t\t\tmfp._onImageHasSize(item);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (counter > 200) {\n\t\t\t\t\t\t\tclearInterval(_imgInterval);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tcounter++;\n\t\t\t\t\t\tif (counter === 3) {\n\t\t\t\t\t\t\tmfpSetInterval(10);\n\t\t\t\t\t\t} else if (counter === 40) {\n\t\t\t\t\t\t\tmfpSetInterval(50);\n\t\t\t\t\t\t} else if (counter === 100) {\n\t\t\t\t\t\t\tmfpSetInterval(500);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, delay);\n\t\t\t\t};\n\n\t\t\t\tmfpSetInterval(1);\n\t\t\t},\n\n\t\t\tgetImage: function getImage(item, template) {\n\n\t\t\t\tvar guard = 0,\n\n\n\t\t\t\t// image load complete handler\n\t\t\t\tonLoadComplete = function onLoadComplete() {\n\t\t\t\t\tif (item) {\n\t\t\t\t\t\tif (item.img[0].complete) {\n\t\t\t\t\t\t\titem.img.off('.mfploader');\n\n\t\t\t\t\t\t\tif (item === mfp.currItem) {\n\t\t\t\t\t\t\t\tmfp._onImageHasSize(item);\n\n\t\t\t\t\t\t\t\tmfp.updateStatus('ready');\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\titem.hasSize = true;\n\t\t\t\t\t\t\titem.loaded = true;\n\n\t\t\t\t\t\t\t_mfpTrigger('ImageLoadComplete');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// if image complete check fails 200 times (20 sec), we assume that there was an error.\n\t\t\t\t\t\t\tguard++;\n\t\t\t\t\t\t\tif (guard < 200) {\n\t\t\t\t\t\t\t\tsetTimeout(onLoadComplete, 100);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tonLoadError();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\n\n\t\t\t\t// image error handler\n\t\t\t\tonLoadError = function onLoadError() {\n\t\t\t\t\tif (item) {\n\t\t\t\t\t\titem.img.off('.mfploader');\n\t\t\t\t\t\tif (item === mfp.currItem) {\n\t\t\t\t\t\t\tmfp._onImageHasSize(item);\n\t\t\t\t\t\t\tmfp.updateStatus('error', imgSt.tError.replace('%url%', item.src));\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\titem.hasSize = true;\n\t\t\t\t\t\titem.loaded = true;\n\t\t\t\t\t\titem.loadError = true;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t    imgSt = mfp.st.image;\n\n\t\t\t\tvar el = template.find('.mfp-img');\n\t\t\t\tif (el.length) {\n\t\t\t\t\tvar img = document.createElement('img');\n\t\t\t\t\timg.className = 'mfp-img';\n\t\t\t\t\tif (item.el && item.el.find('img').length) {\n\t\t\t\t\t\timg.alt = item.el.find('img').attr('alt');\n\t\t\t\t\t}\n\t\t\t\t\titem.img = $(img).on('load.mfploader', onLoadComplete).on('error.mfploader', onLoadError);\n\t\t\t\t\timg.src = item.src;\n\n\t\t\t\t\t// without clone() \"error\" event is not firing when IMG is replaced by new IMG\n\t\t\t\t\t// TODO: find a way to avoid such cloning\n\t\t\t\t\tif (el.is('img')) {\n\t\t\t\t\t\titem.img = item.img.clone();\n\t\t\t\t\t}\n\n\t\t\t\t\timg = item.img[0];\n\t\t\t\t\tif (img.naturalWidth > 0) {\n\t\t\t\t\t\titem.hasSize = true;\n\t\t\t\t\t} else if (!img.width) {\n\t\t\t\t\t\titem.hasSize = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tmfp._parseMarkup(template, {\n\t\t\t\t\ttitle: _getTitle(item),\n\t\t\t\t\timg_replaceWith: item.img\n\t\t\t\t}, item);\n\n\t\t\t\tmfp.resizeImage();\n\n\t\t\t\tif (item.hasSize) {\n\t\t\t\t\tif (_imgInterval) clearInterval(_imgInterval);\n\n\t\t\t\t\tif (item.loadError) {\n\t\t\t\t\t\ttemplate.addClass('mfp-loading');\n\t\t\t\t\t\tmfp.updateStatus('error', imgSt.tError.replace('%url%', item.src));\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttemplate.removeClass('mfp-loading');\n\t\t\t\t\t\tmfp.updateStatus('ready');\n\t\t\t\t\t}\n\t\t\t\t\treturn template;\n\t\t\t\t}\n\n\t\t\t\tmfp.updateStatus('loading');\n\t\t\t\titem.loading = true;\n\n\t\t\t\tif (!item.hasSize) {\n\t\t\t\t\titem.imgHidden = true;\n\t\t\t\t\ttemplate.addClass('mfp-loading');\n\t\t\t\t\tmfp.findImageSize(item);\n\t\t\t\t}\n\n\t\t\t\treturn template;\n\t\t\t}\n\t\t}\n\t});\n\n\t/*>>image*/\n\n\t/*>>zoom*/\n\tvar hasMozTransform,\n\t    getHasMozTransform = function getHasMozTransform() {\n\t\tif (hasMozTransform === undefined) {\n\t\t\thasMozTransform = document.createElement('p').style.MozTransform !== undefined;\n\t\t}\n\t\treturn hasMozTransform;\n\t};\n\n\t$.magnificPopup.registerModule('zoom', {\n\n\t\toptions: {\n\t\t\tenabled: false,\n\t\t\teasing: 'ease-in-out',\n\t\t\tduration: 300,\n\t\t\topener: function opener(element) {\n\t\t\t\treturn element.is('img') ? element : element.find('img');\n\t\t\t}\n\t\t},\n\n\t\tproto: {\n\n\t\t\tinitZoom: function initZoom() {\n\t\t\t\tvar zoomSt = mfp.st.zoom,\n\t\t\t\t    ns = '.zoom',\n\t\t\t\t    image;\n\n\t\t\t\tif (!zoomSt.enabled || !mfp.supportsTransition) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar duration = zoomSt.duration,\n\t\t\t\t    getElToAnimate = function getElToAnimate(image) {\n\t\t\t\t\tvar newImg = image.clone().removeAttr('style').removeAttr('class').addClass('mfp-animated-image'),\n\t\t\t\t\t    transition = 'all ' + zoomSt.duration / 1000 + 's ' + zoomSt.easing,\n\t\t\t\t\t    cssObj = {\n\t\t\t\t\t\tposition: 'fixed',\n\t\t\t\t\t\tzIndex: 9999,\n\t\t\t\t\t\tleft: 0,\n\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\t'-webkit-backface-visibility': 'hidden'\n\t\t\t\t\t},\n\t\t\t\t\t    t = 'transition';\n\n\t\t\t\t\tcssObj['-webkit-' + t] = cssObj['-moz-' + t] = cssObj['-o-' + t] = cssObj[t] = transition;\n\n\t\t\t\t\tnewImg.css(cssObj);\n\t\t\t\t\treturn newImg;\n\t\t\t\t},\n\t\t\t\t    showMainContent = function showMainContent() {\n\t\t\t\t\tmfp.content.css('visibility', 'visible');\n\t\t\t\t},\n\t\t\t\t    openTimeout,\n\t\t\t\t    animatedImg;\n\n\t\t\t\t_mfpOn('BuildControls' + ns, function () {\n\t\t\t\t\tif (mfp._allowZoom()) {\n\n\t\t\t\t\t\tclearTimeout(openTimeout);\n\t\t\t\t\t\tmfp.content.css('visibility', 'hidden');\n\n\t\t\t\t\t\t// Basically, all code below does is clones existing image, puts in on top of the current one and animated it\n\n\t\t\t\t\t\timage = mfp._getItemToZoom();\n\n\t\t\t\t\t\tif (!image) {\n\t\t\t\t\t\t\tshowMainContent();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tanimatedImg = getElToAnimate(image);\n\n\t\t\t\t\t\tanimatedImg.css(mfp._getOffset());\n\n\t\t\t\t\t\tmfp.wrap.append(animatedImg);\n\n\t\t\t\t\t\topenTimeout = setTimeout(function () {\n\t\t\t\t\t\t\tanimatedImg.css(mfp._getOffset(true));\n\t\t\t\t\t\t\topenTimeout = setTimeout(function () {\n\n\t\t\t\t\t\t\t\tshowMainContent();\n\n\t\t\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\t\t\tanimatedImg.remove();\n\t\t\t\t\t\t\t\t\timage = animatedImg = null;\n\t\t\t\t\t\t\t\t\t_mfpTrigger('ZoomAnimationEnded');\n\t\t\t\t\t\t\t\t}, 16); // avoid blink when switching images\n\t\t\t\t\t\t\t}, duration); // this timeout equals animation duration\n\t\t\t\t\t\t}, 16); // by adding this timeout we avoid short glitch at the beginning of animation\n\n\n\t\t\t\t\t\t// Lots of timeouts...\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t_mfpOn(BEFORE_CLOSE_EVENT + ns, function () {\n\t\t\t\t\tif (mfp._allowZoom()) {\n\n\t\t\t\t\t\tclearTimeout(openTimeout);\n\n\t\t\t\t\t\tmfp.st.removalDelay = duration;\n\n\t\t\t\t\t\tif (!image) {\n\t\t\t\t\t\t\timage = mfp._getItemToZoom();\n\t\t\t\t\t\t\tif (!image) {\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tanimatedImg = getElToAnimate(image);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tanimatedImg.css(mfp._getOffset(true));\n\t\t\t\t\t\tmfp.wrap.append(animatedImg);\n\t\t\t\t\t\tmfp.content.css('visibility', 'hidden');\n\n\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\tanimatedImg.css(mfp._getOffset());\n\t\t\t\t\t\t}, 16);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t_mfpOn(CLOSE_EVENT + ns, function () {\n\t\t\t\t\tif (mfp._allowZoom()) {\n\t\t\t\t\t\tshowMainContent();\n\t\t\t\t\t\tif (animatedImg) {\n\t\t\t\t\t\t\tanimatedImg.remove();\n\t\t\t\t\t\t}\n\t\t\t\t\t\timage = null;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\n\t\t\t_allowZoom: function _allowZoom() {\n\t\t\t\treturn mfp.currItem.type === 'image';\n\t\t\t},\n\n\t\t\t_getItemToZoom: function _getItemToZoom() {\n\t\t\t\tif (mfp.currItem.hasSize) {\n\t\t\t\t\treturn mfp.currItem.img;\n\t\t\t\t} else {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// Get element postion relative to viewport\n\t\t\t_getOffset: function _getOffset(isLarge) {\n\t\t\t\tvar el;\n\t\t\t\tif (isLarge) {\n\t\t\t\t\tel = mfp.currItem.img;\n\t\t\t\t} else {\n\t\t\t\t\tel = mfp.st.zoom.opener(mfp.currItem.el || mfp.currItem);\n\t\t\t\t}\n\n\t\t\t\tvar offset = el.offset();\n\t\t\t\tvar paddingTop = parseInt(el.css('padding-top'), 10);\n\t\t\t\tvar paddingBottom = parseInt(el.css('padding-bottom'), 10);\n\t\t\t\toffset.top -= $(window).scrollTop() - paddingTop;\n\n\t\t\t\t/*\n    \tAnimating left + top + width/height looks glitchy in Firefox, but perfect in Chrome. And vice-versa.\n    \t */\n\t\t\t\tvar obj = {\n\t\t\t\t\twidth: el.width(),\n\t\t\t\t\t// fix Zepto height+padding issue\n\t\t\t\t\theight: (_isJQ ? el.innerHeight() : el[0].offsetHeight) - paddingBottom - paddingTop\n\t\t\t\t};\n\n\t\t\t\t// I hate to do this, but there is no another option\n\t\t\t\tif (getHasMozTransform()) {\n\t\t\t\t\tobj['-moz-transform'] = obj['transform'] = 'translate(' + offset.left + 'px,' + offset.top + 'px)';\n\t\t\t\t} else {\n\t\t\t\t\tobj.left = offset.left;\n\t\t\t\t\tobj.top = offset.top;\n\t\t\t\t}\n\t\t\t\treturn obj;\n\t\t\t}\n\n\t\t}\n\t});\n\n\t/*>>zoom*/\n\n\t/*>>iframe*/\n\n\tvar IFRAME_NS = 'iframe',\n\t    _emptyPage = '//about:blank',\n\t    _fixIframeBugs = function _fixIframeBugs(isShowing) {\n\t\tif (mfp.currTemplate[IFRAME_NS]) {\n\t\t\tvar el = mfp.currTemplate[IFRAME_NS].find('iframe');\n\t\t\tif (el.length) {\n\t\t\t\t// reset src after the popup is closed to avoid \"video keeps playing after popup is closed\" bug\n\t\t\t\tif (!isShowing) {\n\t\t\t\t\tel[0].src = _emptyPage;\n\t\t\t\t}\n\n\t\t\t\t// IE8 black screen bug fix\n\t\t\t\tif (mfp.isIE8) {\n\t\t\t\t\tel.css('display', isShowing ? 'block' : 'none');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\t$.magnificPopup.registerModule(IFRAME_NS, {\n\n\t\toptions: {\n\t\t\tmarkup: '<div class=\"mfp-iframe-scaler\">' + '<div class=\"mfp-close\"></div>' + '<iframe class=\"mfp-iframe\" src=\"//about:blank\" frameborder=\"0\" allowfullscreen></iframe>' + '</div>',\n\n\t\t\tsrcAction: 'iframe_src',\n\n\t\t\t// we don't care and support only one default type of URL by default\n\t\t\tpatterns: {\n\t\t\t\tyoutube: {\n\t\t\t\t\tindex: 'youtube.com',\n\t\t\t\t\tid: 'v=',\n\t\t\t\t\tsrc: '//www.youtube.com/embed/%id%?autoplay=1'\n\t\t\t\t},\n\t\t\t\tvimeo: {\n\t\t\t\t\tindex: 'vimeo.com/',\n\t\t\t\t\tid: '/',\n\t\t\t\t\tsrc: '//player.vimeo.com/video/%id%?autoplay=1'\n\t\t\t\t},\n\t\t\t\tgmaps: {\n\t\t\t\t\tindex: '//maps.google.',\n\t\t\t\t\tsrc: '%id%&output=embed'\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tproto: {\n\t\t\tinitIframe: function initIframe() {\n\t\t\t\tmfp.types.push(IFRAME_NS);\n\n\t\t\t\t_mfpOn('BeforeChange', function (e, prevType, newType) {\n\t\t\t\t\tif (prevType !== newType) {\n\t\t\t\t\t\tif (prevType === IFRAME_NS) {\n\t\t\t\t\t\t\t_fixIframeBugs(); // iframe if removed\n\t\t\t\t\t\t} else if (newType === IFRAME_NS) {\n\t\t\t\t\t\t\t_fixIframeBugs(true); // iframe is showing\n\t\t\t\t\t\t}\n\t\t\t\t\t} // else {\n\t\t\t\t\t// iframe source is switched, don't do anything\n\t\t\t\t\t//}\n\t\t\t\t});\n\n\t\t\t\t_mfpOn(CLOSE_EVENT + '.' + IFRAME_NS, function () {\n\t\t\t\t\t_fixIframeBugs();\n\t\t\t\t});\n\t\t\t},\n\n\t\t\tgetIframe: function getIframe(item, template) {\n\t\t\t\tvar embedSrc = item.src;\n\t\t\t\tvar iframeSt = mfp.st.iframe;\n\n\t\t\t\t$.each(iframeSt.patterns, function () {\n\t\t\t\t\tif (embedSrc.indexOf(this.index) > -1) {\n\t\t\t\t\t\tif (this.id) {\n\t\t\t\t\t\t\tif (typeof this.id === 'string') {\n\t\t\t\t\t\t\t\tembedSrc = embedSrc.substr(embedSrc.lastIndexOf(this.id) + this.id.length, embedSrc.length);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tembedSrc = this.id.call(this, embedSrc);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tembedSrc = this.src.replace('%id%', embedSrc);\n\t\t\t\t\t\treturn false; // break;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tvar dataObj = {};\n\t\t\t\tif (iframeSt.srcAction) {\n\t\t\t\t\tdataObj[iframeSt.srcAction] = embedSrc;\n\t\t\t\t}\n\t\t\t\tmfp._parseMarkup(template, dataObj, item);\n\n\t\t\t\tmfp.updateStatus('ready');\n\n\t\t\t\treturn template;\n\t\t\t}\n\t\t}\n\t});\n\n\t/*>>iframe*/\n\n\t/*>>gallery*/\n\t/**\n  * Get looped index depending on number of slides\n  */\n\tvar _getLoopedId = function _getLoopedId(index) {\n\t\tvar numSlides = mfp.items.length;\n\t\tif (index > numSlides - 1) {\n\t\t\treturn index - numSlides;\n\t\t} else if (index < 0) {\n\t\t\treturn numSlides + index;\n\t\t}\n\t\treturn index;\n\t},\n\t    _replaceCurrTotal = function _replaceCurrTotal(text, curr, total) {\n\t\treturn text.replace(/%curr%/gi, curr + 1).replace(/%total%/gi, total);\n\t};\n\n\t$.magnificPopup.registerModule('gallery', {\n\n\t\toptions: {\n\t\t\tenabled: false,\n\t\t\tarrowMarkup: '<button title=\"%title%\" type=\"button\" class=\"mfp-arrow mfp-arrow-%dir%\"></button>',\n\t\t\tpreload: [0, 2],\n\t\t\tnavigateByImgClick: true,\n\t\t\tarrows: true,\n\n\t\t\ttPrev: 'Previous (Left arrow key)',\n\t\t\ttNext: 'Next (Right arrow key)',\n\t\t\ttCounter: '%curr% of %total%'\n\t\t},\n\n\t\tproto: {\n\t\t\tinitGallery: function initGallery() {\n\n\t\t\t\tvar gSt = mfp.st.gallery,\n\t\t\t\t    ns = '.mfp-gallery';\n\n\t\t\t\tmfp.direction = true; // true - next, false - prev\n\n\t\t\t\tif (!gSt || !gSt.enabled) return false;\n\n\t\t\t\t_wrapClasses += ' mfp-gallery';\n\n\t\t\t\t_mfpOn(OPEN_EVENT + ns, function () {\n\n\t\t\t\t\tif (gSt.navigateByImgClick) {\n\t\t\t\t\t\tmfp.wrap.on('click' + ns, '.mfp-img', function () {\n\t\t\t\t\t\t\tif (mfp.items.length > 1) {\n\t\t\t\t\t\t\t\tmfp.next();\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\t_document.on('keydown' + ns, function (e) {\n\t\t\t\t\t\tif (e.keyCode === 37) {\n\t\t\t\t\t\t\tmfp.prev();\n\t\t\t\t\t\t} else if (e.keyCode === 39) {\n\t\t\t\t\t\t\tmfp.next();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\t_mfpOn('UpdateStatus' + ns, function (e, data) {\n\t\t\t\t\tif (data.text) {\n\t\t\t\t\t\tdata.text = _replaceCurrTotal(data.text, mfp.currItem.index, mfp.items.length);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t_mfpOn(MARKUP_PARSE_EVENT + ns, function (e, element, values, item) {\n\t\t\t\t\tvar l = mfp.items.length;\n\t\t\t\t\tvalues.counter = l > 1 ? _replaceCurrTotal(gSt.tCounter, item.index, l) : '';\n\t\t\t\t});\n\n\t\t\t\t_mfpOn('BuildControls' + ns, function () {\n\t\t\t\t\tif (mfp.items.length > 1 && gSt.arrows && !mfp.arrowLeft) {\n\t\t\t\t\t\tvar markup = gSt.arrowMarkup,\n\t\t\t\t\t\t    arrowLeft = mfp.arrowLeft = $(markup.replace(/%title%/gi, gSt.tPrev).replace(/%dir%/gi, 'left')).addClass(PREVENT_CLOSE_CLASS),\n\t\t\t\t\t\t    arrowRight = mfp.arrowRight = $(markup.replace(/%title%/gi, gSt.tNext).replace(/%dir%/gi, 'right')).addClass(PREVENT_CLOSE_CLASS);\n\n\t\t\t\t\t\tarrowLeft.click(function () {\n\t\t\t\t\t\t\tmfp.prev();\n\t\t\t\t\t\t});\n\t\t\t\t\t\tarrowRight.click(function () {\n\t\t\t\t\t\t\tmfp.next();\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tmfp.container.append(arrowLeft.add(arrowRight));\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t_mfpOn(CHANGE_EVENT + ns, function () {\n\t\t\t\t\tif (mfp._preloadTimeout) clearTimeout(mfp._preloadTimeout);\n\n\t\t\t\t\tmfp._preloadTimeout = setTimeout(function () {\n\t\t\t\t\t\tmfp.preloadNearbyImages();\n\t\t\t\t\t\tmfp._preloadTimeout = null;\n\t\t\t\t\t}, 16);\n\t\t\t\t});\n\n\t\t\t\t_mfpOn(CLOSE_EVENT + ns, function () {\n\t\t\t\t\t_document.off(ns);\n\t\t\t\t\tmfp.wrap.off('click' + ns);\n\t\t\t\t\tmfp.arrowRight = mfp.arrowLeft = null;\n\t\t\t\t});\n\t\t\t},\n\t\t\tnext: function next() {\n\t\t\t\tmfp.direction = true;\n\t\t\t\tmfp.index = _getLoopedId(mfp.index + 1);\n\t\t\t\tmfp.updateItemHTML();\n\t\t\t},\n\t\t\tprev: function prev() {\n\t\t\t\tmfp.direction = false;\n\t\t\t\tmfp.index = _getLoopedId(mfp.index - 1);\n\t\t\t\tmfp.updateItemHTML();\n\t\t\t},\n\t\t\tgoTo: function goTo(newIndex) {\n\t\t\t\tmfp.direction = newIndex >= mfp.index;\n\t\t\t\tmfp.index = newIndex;\n\t\t\t\tmfp.updateItemHTML();\n\t\t\t},\n\t\t\tpreloadNearbyImages: function preloadNearbyImages() {\n\t\t\t\tvar p = mfp.st.gallery.preload,\n\t\t\t\t    preloadBefore = Math.min(p[0], mfp.items.length),\n\t\t\t\t    preloadAfter = Math.min(p[1], mfp.items.length),\n\t\t\t\t    i;\n\n\t\t\t\tfor (i = 1; i <= (mfp.direction ? preloadAfter : preloadBefore); i++) {\n\t\t\t\t\tmfp._preloadItem(mfp.index + i);\n\t\t\t\t}\n\t\t\t\tfor (i = 1; i <= (mfp.direction ? preloadBefore : preloadAfter); i++) {\n\t\t\t\t\tmfp._preloadItem(mfp.index - i);\n\t\t\t\t}\n\t\t\t},\n\t\t\t_preloadItem: function _preloadItem(index) {\n\t\t\t\tindex = _getLoopedId(index);\n\n\t\t\t\tif (mfp.items[index].preloaded) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar item = mfp.items[index];\n\t\t\t\tif (!item.parsed) {\n\t\t\t\t\titem = mfp.parseEl(index);\n\t\t\t\t}\n\n\t\t\t\t_mfpTrigger('LazyLoad', item);\n\n\t\t\t\tif (item.type === 'image') {\n\t\t\t\t\titem.img = $('<img class=\"mfp-img\" />').on('load.mfploader', function () {\n\t\t\t\t\t\titem.hasSize = true;\n\t\t\t\t\t}).on('error.mfploader', function () {\n\t\t\t\t\t\titem.hasSize = true;\n\t\t\t\t\t\titem.loadError = true;\n\t\t\t\t\t\t_mfpTrigger('LazyLoadError', item);\n\t\t\t\t\t}).attr('src', item.src);\n\t\t\t\t}\n\n\t\t\t\titem.preloaded = true;\n\t\t\t}\n\t\t}\n\t});\n\n\t/*>>gallery*/\n\n\t/*>>retina*/\n\n\tvar RETINA_NS = 'retina';\n\n\t$.magnificPopup.registerModule(RETINA_NS, {\n\t\toptions: {\n\t\t\treplaceSrc: function replaceSrc(item) {\n\t\t\t\treturn item.src.replace(/\\.\\w+$/, function (m) {\n\t\t\t\t\treturn '@2x' + m;\n\t\t\t\t});\n\t\t\t},\n\t\t\tratio: 1 // Function or number.  Set to 1 to disable.\n\t\t},\n\t\tproto: {\n\t\t\tinitRetina: function initRetina() {\n\t\t\t\tif (window.devicePixelRatio > 1) {\n\n\t\t\t\t\tvar st = mfp.st.retina,\n\t\t\t\t\t    ratio = st.ratio;\n\n\t\t\t\t\tratio = !isNaN(ratio) ? ratio : ratio();\n\n\t\t\t\t\tif (ratio > 1) {\n\t\t\t\t\t\t_mfpOn('ImageHasSize' + '.' + RETINA_NS, function (e, item) {\n\t\t\t\t\t\t\titem.img.css({\n\t\t\t\t\t\t\t\t'max-width': item.img[0].naturalWidth / ratio,\n\t\t\t\t\t\t\t\t'width': '100%'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t\t_mfpOn('ElementParse' + '.' + RETINA_NS, function (e, item) {\n\t\t\t\t\t\t\titem.src = st.replaceSrc(item, ratio);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\n\t/*>>retina*/\n\t_checkInstance();\n});\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n(function (global, factory) {\n    (typeof exports === 'undefined' ? 'undefined' : _typeof(exports)) === 'object' && typeof module !== 'undefined' ? module.exports = factory() : typeof define === 'function' && define.amd ? define(factory) : global.LazyLoad = factory();\n})(this, function () {\n    'use strict';\n\n    var defaultSettings = {\n        elements_selector: \"img\",\n        container: window,\n        threshold: 300,\n        throttle: 150,\n        data_src: \"original\",\n        data_srcset: \"original-set\",\n        class_loading: \"loading\",\n        class_loaded: \"loaded\",\n        class_error: \"error\",\n        class_initial: \"initial\",\n        skip_invisible: true,\n        callback_load: null,\n        callback_error: null,\n        callback_set: null,\n        callback_processed: null\n    };\n\n    var isBot = !(\"onscroll\" in window) || /glebot/.test(navigator.userAgent);\n\n    var callCallback = function callCallback(callback, argument) {\n        if (callback) {\n            callback(argument);\n        }\n    };\n\n    var getTopOffset = function getTopOffset(element) {\n        return element.getBoundingClientRect().top + window.pageYOffset - element.ownerDocument.documentElement.clientTop;\n    };\n\n    var isBelowViewport = function isBelowViewport(element, container, threshold) {\n        var fold = container === window ? window.innerHeight + window.pageYOffset : getTopOffset(container) + container.offsetHeight;\n        return fold <= getTopOffset(element) - threshold;\n    };\n\n    var getLeftOffset = function getLeftOffset(element) {\n        return element.getBoundingClientRect().left + window.pageXOffset - element.ownerDocument.documentElement.clientLeft;\n    };\n\n    var isAtRightOfViewport = function isAtRightOfViewport(element, container, threshold) {\n        var documentWidth = window.innerWidth;\n        var fold = container === window ? documentWidth + window.pageXOffset : getLeftOffset(container) + documentWidth;\n        return fold <= getLeftOffset(element) - threshold;\n    };\n\n    var isAboveViewport = function isAboveViewport(element, container, threshold) {\n        var fold = container === window ? window.pageYOffset : getTopOffset(container);\n        return fold >= getTopOffset(element) + threshold + element.offsetHeight;\n    };\n\n    var isAtLeftOfViewport = function isAtLeftOfViewport(element, container, threshold) {\n        var fold = container === window ? window.pageXOffset : getLeftOffset(container);\n        return fold >= getLeftOffset(element) + threshold + element.offsetWidth;\n    };\n\n    var isInsideViewport = function isInsideViewport(element, container, threshold) {\n        return !isBelowViewport(element, container, threshold) && !isAboveViewport(element, container, threshold) && !isAtRightOfViewport(element, container, threshold) && !isAtLeftOfViewport(element, container, threshold);\n    };\n\n    /* Creates instance and notifies it through the window element */\n    var createInstance = function createInstance(classObj, options) {\n        var instance = new classObj(options);\n        var event = new CustomEvent(\"LazyLoad::Initialized\", { detail: { instance: instance } });\n        window.dispatchEvent(event);\n    };\n\n    /* Auto initialization of one or more instances of lazyload, depending on the \n        options passed in (plain object or an array) */\n    var autoInitialize = function autoInitialize(classObj, options) {\n        var optsLength = options.length;\n        if (!optsLength) {\n            // Plain object\n            createInstance(classObj, options);\n        } else {\n            // Array of objects\n            for (var i = 0; i < optsLength; i++) {\n                createInstance(classObj, options[i]);\n            }\n        }\n    };\n\n    var dataPrefix = \"data-\";\n\n    var getData = function getData(element, attribute) {\n        return element.getAttribute(dataPrefix + attribute);\n    };\n\n    var setData = function setData(element, attribute, value) {\n        return element.setAttribute(dataPrefix + attribute, value);\n    };\n\n    var setSourcesForPicture = function setSourcesForPicture(element, srcsetDataAttribute) {\n        var parent = element.parentElement;\n        if (parent.tagName !== \"PICTURE\") {\n            return;\n        }\n        for (var i = 0; i < parent.children.length; i++) {\n            var pictureChild = parent.children[i];\n            if (pictureChild.tagName === \"SOURCE\") {\n                var sourceSrcset = getData(pictureChild, srcsetDataAttribute);\n                if (sourceSrcset) {\n                    pictureChild.setAttribute(\"srcset\", sourceSrcset);\n                }\n            }\n        }\n    };\n\n    var setSources = function setSources(element, srcsetDataAttribute, srcDataAttribute) {\n        var tagName = element.tagName;\n        var elementSrc = getData(element, srcDataAttribute);\n        if (tagName === \"IMG\") {\n            setSourcesForPicture(element, srcsetDataAttribute);\n            var imgSrcset = getData(element, srcsetDataAttribute);\n            if (imgSrcset) {\n                element.setAttribute(\"srcset\", imgSrcset);\n            }\n            if (elementSrc) {\n                element.setAttribute(\"src\", elementSrc);\n            }\n            return;\n        }\n        if (tagName === \"IFRAME\") {\n            if (elementSrc) {\n                element.setAttribute(\"src\", elementSrc);\n            }\n            return;\n        }\n        if (elementSrc) {\n            element.style.backgroundImage = 'url(\"' + elementSrc + '\")';\n        }\n    };\n\n    var supportsClassList = \"classList\" in document.createElement(\"p\");\n\n    var addClass = function addClass(element, className) {\n        if (supportsClassList) {\n            element.classList.add(className);\n            return;\n        }\n        element.className += (element.className ? \" \" : \"\") + className;\n    };\n\n    var removeClass = function removeClass(element, className) {\n        if (supportsClassList) {\n            element.classList.remove(className);\n            return;\n        }\n        element.className = element.className.replace(new RegExp(\"(^|\\\\s+)\" + className + \"(\\\\s+|$)\"), \" \").replace(/^\\s+/, \"\").replace(/\\s+$/, \"\");\n    };\n\n    /*\n     * Constructor\n     */\n\n    var LazyLoad = function LazyLoad(instanceSettings) {\n        this._settings = _extends({}, defaultSettings, instanceSettings);\n        this._queryOriginNode = this._settings.container === window ? document : this._settings.container;\n\n        this._previousLoopTime = 0;\n        this._loopTimeout = null;\n        this._boundHandleScroll = this.handleScroll.bind(this);\n\n        this._isFirstLoop = true;\n        window.addEventListener(\"resize\", this._boundHandleScroll);\n        this.update();\n    };\n\n    LazyLoad.prototype = {\n\n        /*\n         * Private methods\n         */\n\n        _reveal: function _reveal(element) {\n            var settings = this._settings;\n\n            var errorCallback = function errorCallback() {\n                /* As this method is asynchronous, it must be protected against external destroy() calls */\n                if (!settings) {\n                    return;\n                }\n                element.removeEventListener(\"load\", loadCallback);\n                element.removeEventListener(\"error\", errorCallback);\n                removeClass(element, settings.class_loading);\n                addClass(element, settings.class_error);\n                callCallback(settings.callback_error, element);\n            };\n\n            var loadCallback = function loadCallback() {\n                /* As this method is asynchronous, it must be protected against external destroy() calls */\n                if (!settings) {\n                    return;\n                }\n                removeClass(element, settings.class_loading);\n                addClass(element, settings.class_loaded);\n                element.removeEventListener(\"load\", loadCallback);\n                element.removeEventListener(\"error\", errorCallback);\n                /* Calling LOAD callback */\n                callCallback(settings.callback_load, element);\n            };\n\n            if (element.tagName === \"IMG\" || element.tagName === \"IFRAME\") {\n                element.addEventListener(\"load\", loadCallback);\n                element.addEventListener(\"error\", errorCallback);\n                addClass(element, settings.class_loading);\n            }\n\n            setSources(element, settings.data_srcset, settings.data_src);\n            /* Calling SET callback */\n            callCallback(settings.callback_set, element);\n        },\n\n        _loopThroughElements: function _loopThroughElements() {\n            var settings = this._settings,\n                elements = this._elements,\n                elementsLength = !elements ? 0 : elements.length;\n            var i = void 0,\n                processedIndexes = [],\n                firstLoop = this._isFirstLoop;\n\n            for (i = 0; i < elementsLength; i++) {\n                var element = elements[i];\n                /* If must skip_invisible and element is invisible, skip it */\n                if (settings.skip_invisible && element.offsetParent === null) {\n                    continue;\n                }\n\n                if (isBot || isInsideViewport(element, settings.container, settings.threshold)) {\n                    if (firstLoop) {\n                        addClass(element, settings.class_initial);\n                    }\n                    /* Start loading the image */\n                    this._reveal(element);\n                    /* Marking the element as processed. */\n                    processedIndexes.push(i);\n                    setData(element, \"was-processed\", true);\n                }\n            }\n            /* Removing processed elements from this._elements. */\n            while (processedIndexes.length) {\n                elements.splice(processedIndexes.pop(), 1);\n                /* Calling the end loop callback */\n                callCallback(settings.callback_processed, elements.length);\n            }\n            /* Stop listening to scroll event when 0 elements remains */\n            if (elementsLength === 0) {\n                this._stopScrollHandler();\n            }\n            /* Sets isFirstLoop to false */\n            if (firstLoop) {\n                this._isFirstLoop = false;\n            }\n        },\n\n        _purgeElements: function _purgeElements() {\n            var elements = this._elements,\n                elementsLength = elements.length;\n            var i = void 0,\n                elementsToPurge = [];\n\n            for (i = 0; i < elementsLength; i++) {\n                var element = elements[i];\n                /* If the element has already been processed, skip it */\n                if (getData(element, \"was-processed\")) {\n                    elementsToPurge.push(i);\n                }\n            }\n            /* Removing elements to purge from this._elements. */\n            while (elementsToPurge.length > 0) {\n                elements.splice(elementsToPurge.pop(), 1);\n            }\n        },\n\n        _startScrollHandler: function _startScrollHandler() {\n            if (!this._isHandlingScroll) {\n                this._isHandlingScroll = true;\n                this._settings.container.addEventListener(\"scroll\", this._boundHandleScroll);\n            }\n        },\n\n        _stopScrollHandler: function _stopScrollHandler() {\n            if (this._isHandlingScroll) {\n                this._isHandlingScroll = false;\n                this._settings.container.removeEventListener(\"scroll\", this._boundHandleScroll);\n            }\n        },\n\n        /* \n         * Public methods\n         */\n\n        handleScroll: function handleScroll() {\n            var throttle = this._settings.throttle;\n\n            if (throttle !== 0) {\n                var now = Date.now();\n                var remainingTime = throttle - (now - this._previousLoopTime);\n                if (remainingTime <= 0 || remainingTime > throttle) {\n                    if (this._loopTimeout) {\n                        clearTimeout(this._loopTimeout);\n                        this._loopTimeout = null;\n                    }\n                    this._previousLoopTime = now;\n                    this._loopThroughElements();\n                } else if (!this._loopTimeout) {\n                    this._loopTimeout = setTimeout(function () {\n                        this._previousLoopTime = Date.now();\n                        this._loopTimeout = null;\n                        this._loopThroughElements();\n                    }.bind(this), remainingTime);\n                }\n            } else {\n                this._loopThroughElements();\n            }\n        },\n\n        update: function update() {\n            // Converts to array the nodeset obtained querying the DOM from _queryOriginNode with elements_selector\n            this._elements = Array.prototype.slice.call(this._queryOriginNode.querySelectorAll(this._settings.elements_selector));\n            this._purgeElements();\n            this._loopThroughElements();\n            this._startScrollHandler();\n        },\n\n        destroy: function destroy() {\n            window.removeEventListener(\"resize\", this._boundHandleScroll);\n            if (this._loopTimeout) {\n                clearTimeout(this._loopTimeout);\n                this._loopTimeout = null;\n            }\n            this._stopScrollHandler();\n            this._elements = null;\n            this._queryOriginNode = null;\n            this._settings = null;\n        }\n    };\n\n    /* Automatic instances creation if required (useful for async script loading!) */\n    var autoInitOptions = window.lazyLoadOptions;\n    if (autoInitOptions) {\n        autoInitialize(LazyLoad, autoInitOptions);\n    }\n\n    return LazyLoad;\n});\n/**\n * what-input - A global utility for tracking the current input method (mouse, keyboard or touch).\n * @version v4.0.6\n * @link https://github.com/ten1seven/what-input\n * @license MIT\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n  if(typeof exports === 'object' && typeof module === 'object')\n    module.exports = factory();\n  else if(typeof define === 'function' && define.amd)\n    define(\"whatInput\", [], factory);\n  else if(typeof exports === 'object')\n    exports[\"whatInput\"] = factory();\n  else\n    root[\"whatInput\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/  // The module cache\n/******/  var installedModules = {};\n\n/******/  // The require function\n/******/  function __webpack_require__(moduleId) {\n\n/******/    // Check if module is in cache\n/******/    if(installedModules[moduleId])\n/******/      return installedModules[moduleId].exports;\n\n/******/    // Create a new module (and put it into the cache)\n/******/    var module = installedModules[moduleId] = {\n/******/      exports: {},\n/******/      id: moduleId,\n/******/      loaded: false\n/******/    };\n\n/******/    // Execute the module function\n/******/    modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n/******/    // Flag the module as loaded\n/******/    module.loaded = true;\n\n/******/    // Return the exports of the module\n/******/    return module.exports;\n/******/  }\n\n\n/******/  // expose the modules object (__webpack_modules__)\n/******/  __webpack_require__.m = modules;\n\n/******/  // expose the module cache\n/******/  __webpack_require__.c = installedModules;\n\n/******/  // __webpack_public_path__\n/******/  __webpack_require__.p = \"\";\n\n/******/  // Load entry module and return exports\n/******/  return __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports) {\n\n  module.exports = (function() {\n\n    /*\n      ---------------\n      Variables\n      ---------------\n    */\n\n    // cache document.documentElement\n    var docElem = document.documentElement;\n\n    // last used input type\n    var currentInput = 'initial';\n\n    // last used input intent\n    var currentIntent = null;\n\n    // form input types\n    var formInputs = [\n      'input',\n      'select',\n      'textarea'\n    ];\n\n    // list of modifier keys commonly used with the mouse and\n    // can be safely ignored to prevent false keyboard detection\n    var ignoreMap = [\n      16, // shift\n      17, // control\n      18, // alt\n      91, // Windows key / left Apple cmd\n      93  // Windows menu / right Apple cmd\n    ];\n\n    // mapping of events to input types\n    var inputMap = {\n      'keyup': 'keyboard',\n      'mousedown': 'mouse',\n      'mousemove': 'mouse',\n      'MSPointerDown': 'pointer',\n      'MSPointerMove': 'pointer',\n      'pointerdown': 'pointer',\n      'pointermove': 'pointer',\n      'touchstart': 'touch'\n    };\n\n    // array of all used input types\n    var inputTypes = [];\n\n    // boolean: true if touch buffer timer is running\n    var isBuffering = false;\n\n    // map of IE 10 pointer events\n    var pointerMap = {\n      2: 'touch',\n      3: 'touch', // treat pen like touch\n      4: 'mouse'\n    };\n\n    // touch buffer timer\n    var touchTimer = null;\n\n\n    /*\n      ---------------\n      Set up\n      ---------------\n    */\n\n    var setUp = function() {\n\n      // add correct mouse wheel event mapping to `inputMap`\n      inputMap[detectWheel()] = 'mouse';\n\n      addListeners();\n      setInput();\n    };\n\n\n    /*\n      ---------------\n      Events\n      ---------------\n    */\n\n    var addListeners = function() {\n\n      // `pointermove`, `MSPointerMove`, `mousemove` and mouse wheel event binding\n      // can only demonstrate potential, but not actual, interaction\n      // and are treated separately\n\n      // pointer events (mouse, pen, touch)\n      if (window.PointerEvent) {\n        docElem.addEventListener('pointerdown', updateInput);\n        docElem.addEventListener('pointermove', setIntent);\n      } else if (window.MSPointerEvent) {\n        docElem.addEventListener('MSPointerDown', updateInput);\n        docElem.addEventListener('MSPointerMove', setIntent);\n      } else {\n\n        // mouse events\n        docElem.addEventListener('mousedown', updateInput);\n        docElem.addEventListener('mousemove', setIntent);\n\n        // touch events\n        if ('ontouchstart' in window) {\n          docElem.addEventListener('touchstart', touchBuffer);\n        }\n      }\n\n      // mouse wheel\n      docElem.addEventListener(detectWheel(), setIntent);\n\n      // keyboard events\n      docElem.addEventListener('keydown', updateInput);\n      docElem.addEventListener('keyup', updateInput);\n    };\n\n    // checks conditions before updating new input\n    var updateInput = function(event) {\n\n      // only execute if the touch buffer timer isn't running\n      if (!isBuffering) {\n        var eventKey = event.which;\n        var value = inputMap[event.type];\n        if (value === 'pointer') value = pointerType(event);\n\n        if (\n          currentInput !== value ||\n          currentIntent !== value\n        ) {\n\n          var activeElem = document.activeElement;\n          var activeInput = (\n            activeElem &&\n            activeElem.nodeName &&\n            formInputs.indexOf(activeElem.nodeName.toLowerCase()) === -1\n          ) ? true : false;\n\n          if (\n            value === 'touch' ||\n\n            // ignore mouse modifier keys\n            (value === 'mouse' && ignoreMap.indexOf(eventKey) === -1) ||\n\n            // don't switch if the current element is a form input\n            (value === 'keyboard' && activeInput)\n          ) {\n\n            // set the current and catch-all variable\n            currentInput = currentIntent = value;\n\n            setInput();\n          }\n        }\n      }\n    };\n\n    // updates the doc and `inputTypes` array with new input\n    var setInput = function() {\n      docElem.setAttribute('data-whatinput', currentInput);\n      docElem.setAttribute('data-whatintent', currentInput);\n\n      if (inputTypes.indexOf(currentInput) === -1) {\n        inputTypes.push(currentInput);\n        docElem.className += ' whatinput-types-' + currentInput;\n      }\n    };\n\n    // updates input intent for `mousemove` and `pointermove`\n    var setIntent = function(event) {\n\n      // only execute if the touch buffer timer isn't running\n      if (!isBuffering) {\n        var value = inputMap[event.type];\n        if (value === 'pointer') value = pointerType(event);\n\n        if (currentIntent !== value) {\n          currentIntent = value;\n\n          docElem.setAttribute('data-whatintent', currentIntent);\n        }\n      }\n    };\n\n    // buffers touch events because they frequently also fire mouse events\n    var touchBuffer = function(event) {\n\n      // clear the timer if it happens to be running\n      window.clearTimeout(touchTimer);\n\n      // set the current input\n      updateInput(event);\n\n      // set the isBuffering to `true`\n      isBuffering = true;\n\n      // run the timer\n      touchTimer = window.setTimeout(function() {\n\n        // if the timer runs out, set isBuffering back to `false`\n        isBuffering = false;\n      }, 200);\n    };\n\n\n    /*\n      ---------------\n      Utilities\n      ---------------\n    */\n\n    var pointerType = function(event) {\n     if (typeof event.pointerType === 'number') {\n        return pointerMap[event.pointerType];\n     } else {\n        return (event.pointerType === 'pen') ? 'touch' : event.pointerType; // treat pen like touch\n     }\n    };\n\n    // detect version of mouse wheel event to use\n    // via https://developer.mozilla.org/en-US/docs/Web/Events/wheel\n    var detectWheel = function() {\n      return 'onwheel' in document.createElement('div') ?\n        'wheel' : // Modern browsers support \"wheel\"\n\n        document.onmousewheel !== undefined ?\n          'mousewheel' : // Webkit and IE support at least \"mousewheel\"\n          'DOMMouseScroll'; // let's assume that remaining browsers are older Firefox\n    };\n\n\n    /*\n      ---------------\n      Init\n\n      don't start script unless browser cuts the mustard\n      (also passes if polyfills are used)\n      ---------------\n    */\n\n    if (\n      'addEventListener' in window &&\n      Array.prototype.indexOf\n    ) {\n      setUp();\n    }\n\n\n    /*\n      ---------------\n      API\n      ---------------\n    */\n\n    return {\n\n      // returns string: the current input type\n      // opt: 'loose'|'strict'\n      // 'strict' (default): returns the same value as the `data-whatinput` attribute\n      // 'loose': includes `data-whatintent` value if it's more current than `data-whatinput`\n      ask: function(opt) { return (opt === 'loose') ? currentIntent : currentInput; },\n\n      // returns array: all the detected input types\n      types: function() { return inputTypes; }\n\n    };\n\n  }());\n\n\n/***/ }\n/******/ ])\n});\n;\n\"use strict\";\n\n$(function () {\n\t$('.main-nav').setup_navigation();\n});\n\nvar keyCodeMap = {\n\t48: \"0\", 49: \"1\", 50: \"2\", 51: \"3\", 52: \"4\", 53: \"5\", 54: \"6\", 55: \"7\", 56: \"8\", 57: \"9\", 59: \";\",\n\t65: \"a\", 66: \"b\", 67: \"c\", 68: \"d\", 69: \"e\", 70: \"f\", 71: \"g\", 72: \"h\", 73: \"i\", 74: \"j\", 75: \"k\", 76: \"l\",\n\t77: \"m\", 78: \"n\", 79: \"o\", 80: \"p\", 81: \"q\", 82: \"r\", 83: \"s\", 84: \"t\", 85: \"u\", 86: \"v\", 87: \"w\", 88: \"x\", 89: \"y\", 90: \"z\",\n\t96: \"0\", 97: \"1\", 98: \"2\", 99: \"3\", 100: \"4\", 101: \"5\", 102: \"6\", 103: \"7\", 104: \"8\", 105: \"9\"\n};\n\n$.fn.setup_navigation = function (settings) {\n\n\tsettings = jQuery.extend({\n\t\tmenuHoverClass: 'show-menu'\n\t}, settings);\n\n\t// Add ARIA role to menubar and menu items\n\t$(this).attr('role', 'menubar').find('li').attr('role', 'menuitem');\n\n\tvar top_level_links = $(this).find('> li > a');\n\n\t// Added by Terrill: (removed temporarily: doesn't fix the JAWS problem after all)\n\t// Add tabindex=\"0\" to all top-level links\n\t// Without at least one of these, JAWS doesn't read widget as a menu, despite all the other ARIA\n\t//$(top_level_links).attr('tabindex','0');\n\n\t// Set tabIndex to -1 so that top_level_links can't receive focus until menu is open\n\t$(top_level_links).next('ul').attr('data-test', 'true').attr({ 'aria-hidden': 'true', 'role': 'menu' }).find('a').attr('tabIndex', -1);\n\n\t// Adding aria-haspopup for appropriate items\n\t$(top_level_links).each(function () {\n\t\tif ($(this).next('ul').length > 0) $(this).parent('li').attr('aria-haspopup', 'true');\n\t});\n\n\t$(top_level_links).hover(function () {\n\t\t$(this).closest('ul').attr('aria-hidden', 'false').find('.' + settings.menuHoverClass).attr('aria-hidden', 'true').removeClass(settings.menuHoverClass).find('a').attr('tabIndex', -1);\n\t\t$(this).next('ul').attr('aria-hidden', 'false').find('a').attr('tabIndex', 0);\n\t});\n\n\t$(top_level_links).focus(function () {\n\t\t$(this).closest('ul')\n\t\t// Removed by Terrill\n\t\t// The following was adding aria-hidden=\"false\" to root ul since menu is never hidden\n\t\t// and seemed to be causing flakiness in JAWS (needs more testing)\n\t\t// .attr('aria-hidden', 'false')\n\t\t.find('.' + settings.menuHoverClass).attr('aria-hidden', 'true').removeClass(settings.menuHoverClass).find('a').attr('tabIndex', -1);\n\t\t$(this).next('ul').attr('aria-hidden', 'false').addClass(settings.menuHoverClass).find('a').attr('tabIndex', 0);\n\t});\n\n\t// Bind arrow keys for navigation\n\t$(top_level_links).keydown(function (e) {\n\t\tif (e.keyCode == 37) {\n\t\t\te.preventDefault();\n\t\t\t// This is the first item\n\t\t\tif ($(this).parent('li').prev('li').length == 0) {\n\t\t\t\t$(this).parents('ul').find('> li').last().find('a').first().focus();\n\t\t\t} else {\n\t\t\t\t$(this).parent('li').prev('li').find('a').first().focus();\n\t\t\t}\n\t\t} else if (e.keyCode == 38) {\n\t\t\te.preventDefault();\n\t\t\tif ($(this).parent('li').find('ul').length > 0) {\n\t\t\t\t$(this).parent('li').find('ul').attr('aria-hidden', 'false').addClass(settings.menuHoverClass).find('a').attr('tabIndex', 0).last().focus();\n\t\t\t}\n\t\t} else if (e.keyCode == 39) {\n\t\t\te.preventDefault();\n\t\t\t// This is the last item\n\t\t\tif ($(this).parent('li').next('li').length == 0) {\n\t\t\t\t$(this).parents('ul').find('> li').first().find('a').first().focus();\n\t\t\t} else {\n\t\t\t\t$(this).parent('li').next('li').find('a').first().focus();\n\t\t\t}\n\t\t} else if (e.keyCode == 40) {\n\t\t\te.preventDefault();\n\t\t\tif ($(this).parent('li').find('ul').length > 0) {\n\t\t\t\t$(this).parent('li').find('ul').attr('aria-hidden', 'false').addClass(settings.menuHoverClass).find('a').attr('tabIndex', 0).first().focus();\n\t\t\t}\n\t\t} else if (e.keyCode == 13 || e.keyCode == 32) {\n\t\t\t// If submenu is hidden, open it\n\t\t\te.preventDefault();\n\t\t\t$(this).parent('li').find('ul[aria-hidden=true]').attr('aria-hidden', 'false').addClass(settings.menuHoverClass).find('a').attr('tabIndex', 0).first().focus();\n\t\t} else if (e.keyCode == 27) {\n\t\t\te.preventDefault();\n\t\t\t$('.' + settings.menuHoverClass).attr('aria-hidden', 'true').removeClass(settings.menuHoverClass).find('a').attr('tabIndex', -1);\n\t\t} else {\n\t\t\t$(this).parent('li').find('ul[aria-hidden=false] a').each(function () {\n\t\t\t\tif ($(this).text().substring(0, 1).toLowerCase() == keyCodeMap[e.keyCode]) {\n\t\t\t\t\t$(this).focus();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n\n\tvar links = $(top_level_links).parent('li').find('ul').find('a');\n\t$(links).keydown(function (e) {\n\t\tif (e.keyCode == 38) {\n\t\t\te.preventDefault();\n\t\t\t// This is the first item\n\t\t\tif ($(this).parent('li').prev('li').length == 0) {\n\t\t\t\t$(this).parents('ul').parents('li').find('a').first().focus();\n\t\t\t} else {\n\t\t\t\t$(this).parent('li').prev('li').find('a').first().focus();\n\t\t\t}\n\t\t} else if (e.keyCode == 40) {\n\t\t\te.preventDefault();\n\t\t\tif ($(this).parent('li').next('li').length == 0) {\n\t\t\t\t$(this).parents('ul').parents('li').find('a').first().focus();\n\t\t\t} else {\n\t\t\t\t$(this).parent('li').next('li').find('a').first().focus();\n\t\t\t}\n\t\t} else if (e.keyCode == 27 || e.keyCode == 37) {\n\t\t\te.preventDefault();\n\t\t\t$(this).parents('ul').first().prev('a').focus().parents('ul').first().find('.' + settings.menuHoverClass).attr('aria-hidden', 'true').removeClass(settings.menuHoverClass).find('a').attr('tabIndex', -1);\n\t\t} else if (e.keyCode == 32) {\n\t\t\te.preventDefault();\n\t\t\twindow.location = $(this).attr('href');\n\t\t} else {\n\t\t\tvar found = false;\n\t\t\t$(this).parent('li').nextAll('li').find('a').each(function () {\n\t\t\t\tif ($(this).text().substring(0, 1).toLowerCase() == keyCodeMap[e.keyCode]) {\n\t\t\t\t\t$(this).focus();\n\t\t\t\t\tfound = true;\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (!found) {\n\t\t\t\t$(this).parent('li').prevAll('li').find('a').each(function () {\n\t\t\t\t\tif ($(this).text().substring(0, 1).toLowerCase() == keyCodeMap[e.keyCode]) {\n\t\t\t\t\t\t$(this).focus();\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t});\n\n\t// Hide menu if click or focus occurs outside of navigation\n\t$(this).find('a').last().keydown(function (e) {\n\t\tif (e.keyCode == 9) {\n\t\t\t// If the user tabs out of the navigation hide all menus\n\t\t\t$('.' + settings.menuHoverClass).attr('aria-hidden', 'true').removeClass(settings.menuHoverClass).find('a').attr('tabIndex', -1);\n\t\t}\n\t});\n\t$(document).click(function () {\n\t\t$('.' + settings.menuHoverClass).attr('aria-hidden', 'true').removeClass(settings.menuHoverClass).find('a').attr('tabIndex', -1);\n\t});\n\n\t$(this).click(function (e) {\n\t\te.stopPropagation();\n\t});\n};\n'use strict';\n\nvar _$$flickity;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n$(document).foundation();\n\nvar bases = document.getElementsByTagName('base');\nvar baseHref = null;\n\nif (bases.length > 0) {\n\tbaseHref = bases[0].href;\n}\n/*-------------------------------------------------*/\n/*-------------------------------------------------*/\n// Lazy Loading Images:\n/*-------------------------------------------------*/\n/*-------------------------------------------------*/\nvar myLazyLoad = new LazyLoad({\n\t// example of options object -> see options section\n\telements_selector: \".dp-lazy\"\n\t// throttle: 200,\n\t// data_src: \"src\",\n\t// data_srcset: \"srcset\",\n\t// callback_set: function() { /* ... */ }\n});\n\n/*-------------------------------------------------*/\n/*-------------------------------------------------*/\n// Big Carousel (Home Page):\n/*-------------------------------------------------*/\n/*-------------------------------------------------*/\n\nvar $carousel = $('.carousel').flickity((_$$flickity = {\n\timagesLoaded: true,\n\tpercentPosition: false,\n\tselectedAttraction: 0.015,\n\tfriction: 0.3,\n\tprevNextButtons: false,\n\tdraggable: true,\n\tautoPlay: true\n}, _defineProperty(_$$flickity, 'autoPlay', 8000), _defineProperty(_$$flickity, 'pauseAutoPlayOnHover', false), _defineProperty(_$$flickity, 'bgLazyLoad', true), _defineProperty(_$$flickity, 'pageDots', true), _$$flickity));\n\nvar $imgs = $carousel.find('.carousel-cell .cell-bg');\n// get transform property\nvar docStyle = document.documentElement.style;\nvar transformProp = typeof docStyle.transform == 'string' ? 'transform' : 'WebkitTransform';\n// get Flickity instance\nvar flkty = $carousel.data('flickity');\n\n$carousel.on('scroll.flickity', function () {\n\tflkty.slides.forEach(function (slide, i) {\n\t\tvar img = $imgs[i];\n\t\tvar x = (slide.target + flkty.x) * -1 / 3;\n\t\timg.style[transformProp] = 'translateX(' + x + 'px)';\n\t});\n});\n\n$('.carousel-nav-cell').click(function () {\n\tflkty.stopPlayer();\n});\n\nvar $gallery = $('.carousel').flickity();\n\nfunction onLoadeddata(event) {\n\tvar cell = $gallery.flickity('getParentCell', event.target);\n\t$gallery.flickity('cellSizeChange', cell && cell.element);\n}\n\n$gallery.find('video').each(function (i, video) {\n\tvideo.play();\n\t$(video).on('loadeddata', onLoadeddata);\n});\n/*-------------------------------------------------*/\n/*-------------------------------------------------*/\n// Slideshow block (in content):\n/*-------------------------------------------------*/\n/*-------------------------------------------------*/\nvar $slideshow = $('.slideshow').flickity({\n\t//adaptiveHeight: true,\n\timagesLoaded: true,\n\tlazyLoad: true,\n\tpageDots: false\n});\n\nvar slideshowflk = $slideshow.data('flickity');\n\n$slideshow.on('select.flickity', function () {\n\t//console.log( 'Flickity select ' + slideshowflk.selectedIndex );\n\t//slideshowflk.reloadCells();\n\n});\n$('.slideshow').each(function () {\n\t// the containers for all your galleries\n\t$(this).magnificPopup({\n\t\tdelegate: 'a', // the selector for gallery item\n\t\ttype: 'image',\n\t\tgallery: {\n\t\t\tenabled: true\n\t\t}\n\t});\n});\n\n//Page Slider Block;\n\n$('.pageslider-links').flickity({\n\tcellAlign: 'center',\n\tcontain: true,\n\timagesLoaded: true,\n\tpageDots: false,\n\tinitialIndex: 1,\n\twrapAround: true,\n\tfreeScroll: true\n});\n\n/*-------------------------------------------------*/\n/*-------------------------------------------------*/\n//Wrap every YouTube iframe in a responsive embed class to prevent layout breakage\n/*-------------------------------------------------*/\n/*-------------------------------------------------*/\n$('iframe[src*=\"youtube\"]').each(function () {\n\tif (!$(this).parent().hasClass('responsive-embed') && !$(this).parent().hasClass('unresponsive-embed')) {\n\t\t$(this).wrap(\"<div class='responsive-embed widescreen'></div>\");\n\t}\n});\n\n$('iframe').each(function () {\n\tif (!$(this).parent().hasClass('responsive-embed') && !$(this).parent().hasClass('unresponsive-embed')) {\n\t\t$(this).wrap(\"<div class='responsive-embed'></div>\");\n\t}\n});\n\n/*-------------------------------------------------*/\n/*-------------------------------------------------*/\n//Distinguish dropdowns on mobile/desktop:\n/*-------------------------------------------------*/\n/*-------------------------------------------------*/\n\n$('.nav__item--parent').click(function (event) {\n\n\tif (whatInput.ask() === 'touch' && Foundation.MediaQuery.atLeast('large')) {\n\t\t// do touch input things\n\t\tif (!$(this).hasClass('nav__item--is-hovered')) {\n\t\t\tevent.preventDefault();\n\t\t\t$('.nav__item--parent').removeClass('nav__item--is-hovered');\n\t\t\t$(this).toggleClass('nav__item--is-hovered');\n\t\t}\n\t} else if (whatInput.ask() === 'mouse') {\n\t\t// do mouse things\n\t}\n});\n\n//If anything in the main content container is clicked, remove faux hover class.\n$('#main-content__container').click(function () {\n\t$('.nav__item').removeClass('nav__item--is-hovered');\n});\n\n/*-------------------------------------------------*/\n/*-------------------------------------------------*/\n//Site Search:\n/*-------------------------------------------------*/\n/*-------------------------------------------------*/\n\nfunction toggleSearchClasses() {\n\t$(\"body\").toggleClass(\"body--search-active\");\n\t$('.nav-collapse').removeClass('open');\n\t$('.nav__menu-icon').removeClass('is-clicked');\n\t$(\"#nav__menu-icon\").removeClass(\"nav__menu-icon--menu-is-active\");\n\t$(\"#site-search__form\").toggleClass(\"site-search__form--is-inactive site-search__form--is-active\");\n\t$(\"#site-search\").toggleClass(\"site-search--is-inactive site-search--is-active\");\n\t$(\".header__screen\").toggleClass(\"header__screen--grayscale\");\n\t$(\".main-content__container\").toggleClass(\"main-content__container--grayscale\");\n\t$(\".nav__wrapper\").toggleClass(\"nav__wrapper--grayscale\");\n\t$(\".nav__link--search\").toggleClass(\"nav__link--search-is-active\");\n\n\t//HACK: wait for 5ms before changing focus. I don't think I need this anymore actually..\n\tsetTimeout(function () {\n\t\t$(\".nav__wrapper\").toggleClass(\"nav__wrapper--search-is-active\");\n\t}, 5);\n\n\t$(\".nav\").toggleClass(\"nav--search-is-active\");\n}\n\n$(\".nav__link--search\").click(function () {\n\ttoggleSearchClasses();\n\tif ($(\"#mobile-nav__wrapper\").hasClass(\"mobile-nav__wrapper--mobile-menu-is-active\")) {\n\t\ttoggleMobileMenuClasses();\n\t\t$(\"#site-search\").appendTo('#header').addClass('site-search--mobile');\n\t}\n\tdocument.getElementById(\"site-search__input\").focus();\n});\n\n$(\".nav__link--search-cancel\").click(function () {\n\ttoggleSearchClasses();\n\tdocument.getElementById(\"site-search__input\").blur();\n});\n\n//When search form is out of focus, deactivate it.\n$(\"#site-search__form\").focusout(function () {\n\tif ($(\"#site-search__form\").hasClass(\"site-search__form--is-active\")) {\n\t\t//Comment out the following line if you need to use WebKit/Blink inspector tool on the search (so it doesn't lose focus):\n\t\t//toggleSearchClasses();\n\t}\n});\n\n$('input#site-search__input').autocomplete({\n\tserviceUrl: baseHref + 'home/autoComplete',\n\tdeferRequestBy: 100,\n\ttriggerSelectOnValidInput: false,\n\tminChars: 2,\n\tautoSelectFirst: true,\n\ttype: 'post',\n\tonSelect: function onSelect(suggestion) {\n\t\t$('#site-search__form').submit();\n\t}\n});\n\n/*-------------------------------------------------*/\n/*-------------------------------------------------*/\n//Mobile Search:\n/*-------------------------------------------------*/\n/*-------------------------------------------------*/\n\nif (Foundation.MediaQuery.atLeast('large')) {\n\t// True if medium or large\n\t// False if small\n\t$(\"#site-search\").addClass(\"site-search--desktop\");\n} else {\n\t$(\"#site-search\").addClass(\"site-search--mobile\");\n}\n\n$(\".nav__toggle--search\").click(function () {\n\ttoggleSearchClasses();\n\n\t//append our site search div to the header.\n\t$(\"#site-search\").appendTo('#header').addClass('site-search--mobile');\n\tdocument.getElementById(\"site-search__input\").focus();\n});\n\n//If we're resizing from mobile to anything else, toggle the mobile search if it's active.\n$(window).on('changed.zf.mediaquery', function (event, newSize, oldSize) {\n\n\tif (newSize == \"large\") {\n\t\t//alert('hey');\n\t\t$(\"#site-search\").removeClass(\"site-search--mobile\");\n\t\t$(\"#site-search\").addClass(\"site-search--desktop\");\n\n\t\t$(\"#site-search\").appendTo(\"#nav\");\n\n\t\tif ($(\"#site-search\").hasClass(\"site-search--is-active\")) {\n\t\t\t// toggleSearchClasses();\n\t\t}\n\t} else if (newSize == \"medium\") {\n\t\t$(\"#site-search\").appendTo('#header');\n\t\t$(\"#site-search\").removeClass(\"site-search--desktop\");\n\t\t$(\"#site-search\").addClass(\"site-search--mobile\");\n\t\tif ($(\"#site-search\").hasClass(\"site-search--is-active\")) {\n\t\t\t// toggleSearchClasses();\n\t\t}\n\t}\n});\n\n/*-------------------------------------------------*/\n/*-------------------------------------------------*/\n//Mobile Nav:\n/*-------------------------------------------------*/\n/*-------------------------------------------------*/\n\n/* new stuff added my Brandon */\n$('.nav__toggle--menu').on('click', function () {\n\t$('.nav__menu-icon').toggleClass('is-clicked');\n\t$(\"#nav__menu-icon\").toggleClass(\"nav__menu-icon--menu-is-active\");\n\t$('.nav-collapse').toggleClass('open');\n});\n\n$('.second-level--open').click(function () {\n\t// add opened class to li\n\t$(this).parent().toggleClass('nav__item--opened');\n\n\tif ($(this).attr('aria-expanded') == 'false') {\n\t\t$(this).attr('aria-expanded', 'true');\n\t\t$(this).prev().attr('aria-hidden', 'false');\n\t} else {\n\t\t$(this).attr('aria-expanded', 'false');\n\t\t$(this).prev().attr('aria-hidden', 'true');\n\t}\n});\n\n// $(\".nav-nav\").accessibleMegaMenu();\n\n\n/*-------------------------------------------------*/\n/*-------------------------------------------------*/\n// Smooth Scroll Anchors\n/*-------------------------------------------------*/\n/*-------------------------------------------------*/\n\n// Smooth scroll\n// https://css-tricks.com/snippets/jquery/smooth-scrolling/\n// Select all links with hashes\n$('a[href*=\"#\"]')\n// Remove links that don't actually link to anything\n.not('[href=\"#\"]').not('[href=\"#0\"]').click(function (event) {\n\t// On-page links\n\tif (location.pathname.replace(/^\\//, '') === this.pathname.replace(/^\\//, '') && location.hostname === this.hostname) {\n\t\t// Figure out element to scroll to\n\t\tvar target = $(this.hash);\n\t\ttarget = target.length ? target : $('[name=' + this.hash.slice(1) + ']');\n\n\t\t// Does a scroll target exist?\n\t\tif (target.length) {\n\t\t\t// Only prevent default if animation is actually gonna happen\n\t\t\tevent.preventDefault();\n\n\t\t\t$('html, body').animate({\n\t\t\t\tscrollTop: target.offset().top\n\t\t\t}, 1000, function () {\n\t\t\t\t// Callback after animation\n\t\t\t\t// Must change focus!\n\t\t\t\tvar $target = $(target);\n\n\t\t\t\t$target.focus();\n\t\t\t\tif ($target.is(\":focus\")) {\n\t\t\t\t\t// Checking if the target was focused\n\t\t\t\t\treturn false;\n\t\t\t\t} else {\n\t\t\t\t\t$target.attr('tabindex', '-1'); // Adding tabindex for elements not focusable\n\t\t\t\t\t$target.focus(); // Set focus again\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n});\n\n/*-------------------------------------------------*/\n/*-------------------------------------------------*/\n// Background Video\n/*-------------------------------------------------*/\n/*-------------------------------------------------*/\n$('.backgroundvideo__link').click(function (e) {\n\tvar that = $(this);\n\tvar video = that.data('video');\n\tvar width = $('img', that).width();\n\tvar height = $('img', that).height();\n\tthat.parent().addClass('on');\n\tthat.parent().prepend('<div class=\"flex-video widescreen\"><iframe src=\"https://www.youtube.com/embed/' + video + '?rel=0&autoplay=1\" width=\"' + width + '\" height=\"' + height + '\" frameborder=\"0\" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe></div>');\n\tthat.hide();\n\te.preventDefault();\n});\n\n/*-------------------------------------------------*/\n/*-------------------------------------------------*/\n// Topic Tabs\n/*-------------------------------------------------*/\n/*-------------------------------------------------*/\nif ($('#topic-tabs').length) {\n\t$('#topic-tabs').foundation('selectTab', $('.tabs-panel').first());\n}\n","/*!\n * Flickity PACKAGED v2.1.1\n * Touch, responsive, flickable carousels\n *\n * Licensed GPLv3 for open source use\n * or Flickity Commercial License for commercial use\n *\n * https://flickity.metafizzy.co\n * Copyright 2015-2018 Metafizzy\n */\n\n/**\n * Bridget makes jQuery widgets\n * v2.0.1\n * MIT license\n */\n\n/* jshint browser: true, strict: true, undef: true, unused: true */\n\n( function( window, factory ) {\n  // universal module definition\n  /*jshint strict: false */ /* globals define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'jquery-bridget/jquery-bridget',[ 'jquery' ], function( jQuery ) {\n      return factory( window, jQuery );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('jquery')\n    );\n  } else {\n    // browser global\n    window.jQueryBridget = factory(\n      window,\n      window.jQuery\n    );\n  }\n\n}( window, function factory( window, jQuery ) {\n'use strict';\n\n// ----- utils ----- //\n\nvar arraySlice = Array.prototype.slice;\n\n// helper function for logging errors\n// $.error breaks jQuery chaining\nvar console = window.console;\nvar logError = typeof console == 'undefined' ? function() {} :\n  function( message ) {\n    console.error( message );\n  };\n\n// ----- jQueryBridget ----- //\n\nfunction jQueryBridget( namespace, PluginClass, $ ) {\n  $ = $ || jQuery || window.jQuery;\n  if ( !$ ) {\n    return;\n  }\n\n  // add option method -> $().plugin('option', {...})\n  if ( !PluginClass.prototype.option ) {\n    // option setter\n    PluginClass.prototype.option = function( opts ) {\n      // bail out if not an object\n      if ( !$.isPlainObject( opts ) ){\n        return;\n      }\n      this.options = $.extend( true, this.options, opts );\n    };\n  }\n\n  // make jQuery plugin\n  $.fn[ namespace ] = function( arg0 /*, arg1 */ ) {\n    if ( typeof arg0 == 'string' ) {\n      // method call $().plugin( 'methodName', { options } )\n      // shift arguments by 1\n      var args = arraySlice.call( arguments, 1 );\n      return methodCall( this, arg0, args );\n    }\n    // just $().plugin({ options })\n    plainCall( this, arg0 );\n    return this;\n  };\n\n  // $().plugin('methodName')\n  function methodCall( $elems, methodName, args ) {\n    var returnValue;\n    var pluginMethodStr = '$().' + namespace + '(\"' + methodName + '\")';\n\n    $elems.each( function( i, elem ) {\n      // get instance\n      var instance = $.data( elem, namespace );\n      if ( !instance ) {\n        logError( namespace + ' not initialized. Cannot call methods, i.e. ' +\n          pluginMethodStr );\n        return;\n      }\n\n      var method = instance[ methodName ];\n      if ( !method || methodName.charAt(0) == '_' ) {\n        logError( pluginMethodStr + ' is not a valid method' );\n        return;\n      }\n\n      // apply method, get return value\n      var value = method.apply( instance, args );\n      // set return value if value is returned, use only first value\n      returnValue = returnValue === undefined ? value : returnValue;\n    });\n\n    return returnValue !== undefined ? returnValue : $elems;\n  }\n\n  function plainCall( $elems, options ) {\n    $elems.each( function( i, elem ) {\n      var instance = $.data( elem, namespace );\n      if ( instance ) {\n        // set options & init\n        instance.option( options );\n        instance._init();\n      } else {\n        // initialize new instance\n        instance = new PluginClass( elem, options );\n        $.data( elem, namespace, instance );\n      }\n    });\n  }\n\n  updateJQuery( $ );\n\n}\n\n// ----- updateJQuery ----- //\n\n// set $.bridget for v1 backwards compatibility\nfunction updateJQuery( $ ) {\n  if ( !$ || ( $ && $.bridget ) ) {\n    return;\n  }\n  $.bridget = jQueryBridget;\n}\n\nupdateJQuery( jQuery || window.jQuery );\n\n// -----  ----- //\n\nreturn jQueryBridget;\n\n}));\n\n/**\n * EvEmitter v1.1.0\n * Lil' event emitter\n * MIT License\n */\n\n/* jshint unused: true, undef: true, strict: true */\n\n( function( global, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /* globals define, module, window */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD - RequireJS\n    define( 'ev-emitter/ev-emitter',factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS - Browserify, Webpack\n    module.exports = factory();\n  } else {\n    // Browser globals\n    global.EvEmitter = factory();\n  }\n\n}( typeof window != 'undefined' ? window : this, function() {\n\n\n\nfunction EvEmitter() {}\n\nvar proto = EvEmitter.prototype;\n\nproto.on = function( eventName, listener ) {\n  if ( !eventName || !listener ) {\n    return;\n  }\n  // set events hash\n  var events = this._events = this._events || {};\n  // set listeners array\n  var listeners = events[ eventName ] = events[ eventName ] || [];\n  // only add once\n  if ( listeners.indexOf( listener ) == -1 ) {\n    listeners.push( listener );\n  }\n\n  return this;\n};\n\nproto.once = function( eventName, listener ) {\n  if ( !eventName || !listener ) {\n    return;\n  }\n  // add event\n  this.on( eventName, listener );\n  // set once flag\n  // set onceEvents hash\n  var onceEvents = this._onceEvents = this._onceEvents || {};\n  // set onceListeners object\n  var onceListeners = onceEvents[ eventName ] = onceEvents[ eventName ] || {};\n  // set flag\n  onceListeners[ listener ] = true;\n\n  return this;\n};\n\nproto.off = function( eventName, listener ) {\n  var listeners = this._events && this._events[ eventName ];\n  if ( !listeners || !listeners.length ) {\n    return;\n  }\n  var index = listeners.indexOf( listener );\n  if ( index != -1 ) {\n    listeners.splice( index, 1 );\n  }\n\n  return this;\n};\n\nproto.emitEvent = function( eventName, args ) {\n  var listeners = this._events && this._events[ eventName ];\n  if ( !listeners || !listeners.length ) {\n    return;\n  }\n  // copy over to avoid interference if .off() in listener\n  listeners = listeners.slice(0);\n  args = args || [];\n  // once stuff\n  var onceListeners = this._onceEvents && this._onceEvents[ eventName ];\n\n  for ( var i=0; i < listeners.length; i++ ) {\n    var listener = listeners[i]\n    var isOnce = onceListeners && onceListeners[ listener ];\n    if ( isOnce ) {\n      // remove listener\n      // remove before trigger to prevent recursion\n      this.off( eventName, listener );\n      // unset once flag\n      delete onceListeners[ listener ];\n    }\n    // trigger listener\n    listener.apply( this, args );\n  }\n\n  return this;\n};\n\nproto.allOff = function() {\n  delete this._events;\n  delete this._onceEvents;\n};\n\nreturn EvEmitter;\n\n}));\n\n/*!\n * getSize v2.0.2\n * measure size of elements\n * MIT license\n */\n\n/*jshint browser: true, strict: true, undef: true, unused: true */\n/*global define: false, module: false, console: false */\n\n( function( window, factory ) {\n  'use strict';\n\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'get-size/get-size',[],function() {\n      return factory();\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory();\n  } else {\n    // browser global\n    window.getSize = factory();\n  }\n\n})( window, function factory() {\n'use strict';\n\n// -------------------------- helpers -------------------------- //\n\n// get a number from a string, not a percentage\nfunction getStyleSize( value ) {\n  var num = parseFloat( value );\n  // not a percent like '100%', and a number\n  var isValid = value.indexOf('%') == -1 && !isNaN( num );\n  return isValid && num;\n}\n\nfunction noop() {}\n\nvar logError = typeof console == 'undefined' ? noop :\n  function( message ) {\n    console.error( message );\n  };\n\n// -------------------------- measurements -------------------------- //\n\nvar measurements = [\n  'paddingLeft',\n  'paddingRight',\n  'paddingTop',\n  'paddingBottom',\n  'marginLeft',\n  'marginRight',\n  'marginTop',\n  'marginBottom',\n  'borderLeftWidth',\n  'borderRightWidth',\n  'borderTopWidth',\n  'borderBottomWidth'\n];\n\nvar measurementsLength = measurements.length;\n\nfunction getZeroSize() {\n  var size = {\n    width: 0,\n    height: 0,\n    innerWidth: 0,\n    innerHeight: 0,\n    outerWidth: 0,\n    outerHeight: 0\n  };\n  for ( var i=0; i < measurementsLength; i++ ) {\n    var measurement = measurements[i];\n    size[ measurement ] = 0;\n  }\n  return size;\n}\n\n// -------------------------- getStyle -------------------------- //\n\n/**\n * getStyle, get style of element, check for Firefox bug\n * https://bugzilla.mozilla.org/show_bug.cgi?id=548397\n */\nfunction getStyle( elem ) {\n  var style = getComputedStyle( elem );\n  if ( !style ) {\n    logError( 'Style returned ' + style +\n      '. Are you running this code in a hidden iframe on Firefox? ' +\n      'See http://bit.ly/getsizebug1' );\n  }\n  return style;\n}\n\n// -------------------------- setup -------------------------- //\n\nvar isSetup = false;\n\nvar isBoxSizeOuter;\n\n/**\n * setup\n * check isBoxSizerOuter\n * do on first getSize() rather than on page load for Firefox bug\n */\nfunction setup() {\n  // setup once\n  if ( isSetup ) {\n    return;\n  }\n  isSetup = true;\n\n  // -------------------------- box sizing -------------------------- //\n\n  /**\n   * WebKit measures the outer-width on style.width on border-box elems\n   * IE & Firefox<29 measures the inner-width\n   */\n  var div = document.createElement('div');\n  div.style.width = '200px';\n  div.style.padding = '1px 2px 3px 4px';\n  div.style.borderStyle = 'solid';\n  div.style.borderWidth = '1px 2px 3px 4px';\n  div.style.boxSizing = 'border-box';\n\n  var body = document.body || document.documentElement;\n  body.appendChild( div );\n  var style = getStyle( div );\n\n  getSize.isBoxSizeOuter = isBoxSizeOuter = getStyleSize( style.width ) == 200;\n  body.removeChild( div );\n\n}\n\n// -------------------------- getSize -------------------------- //\n\nfunction getSize( elem ) {\n  setup();\n\n  // use querySeletor if elem is string\n  if ( typeof elem == 'string' ) {\n    elem = document.querySelector( elem );\n  }\n\n  // do not proceed on non-objects\n  if ( !elem || typeof elem != 'object' || !elem.nodeType ) {\n    return;\n  }\n\n  var style = getStyle( elem );\n\n  // if hidden, everything is 0\n  if ( style.display == 'none' ) {\n    return getZeroSize();\n  }\n\n  var size = {};\n  size.width = elem.offsetWidth;\n  size.height = elem.offsetHeight;\n\n  var isBorderBox = size.isBorderBox = style.boxSizing == 'border-box';\n\n  // get all measurements\n  for ( var i=0; i < measurementsLength; i++ ) {\n    var measurement = measurements[i];\n    var value = style[ measurement ];\n    var num = parseFloat( value );\n    // any 'auto', 'medium' value will be 0\n    size[ measurement ] = !isNaN( num ) ? num : 0;\n  }\n\n  var paddingWidth = size.paddingLeft + size.paddingRight;\n  var paddingHeight = size.paddingTop + size.paddingBottom;\n  var marginWidth = size.marginLeft + size.marginRight;\n  var marginHeight = size.marginTop + size.marginBottom;\n  var borderWidth = size.borderLeftWidth + size.borderRightWidth;\n  var borderHeight = size.borderTopWidth + size.borderBottomWidth;\n\n  var isBorderBoxSizeOuter = isBorderBox && isBoxSizeOuter;\n\n  // overwrite width and height if we can get it from style\n  var styleWidth = getStyleSize( style.width );\n  if ( styleWidth !== false ) {\n    size.width = styleWidth +\n      // add padding and border unless it's already including it\n      ( isBorderBoxSizeOuter ? 0 : paddingWidth + borderWidth );\n  }\n\n  var styleHeight = getStyleSize( style.height );\n  if ( styleHeight !== false ) {\n    size.height = styleHeight +\n      // add padding and border unless it's already including it\n      ( isBorderBoxSizeOuter ? 0 : paddingHeight + borderHeight );\n  }\n\n  size.innerWidth = size.width - ( paddingWidth + borderWidth );\n  size.innerHeight = size.height - ( paddingHeight + borderHeight );\n\n  size.outerWidth = size.width + marginWidth;\n  size.outerHeight = size.height + marginHeight;\n\n  return size;\n}\n\nreturn getSize;\n\n});\n\n/**\n * matchesSelector v2.0.2\n * matchesSelector( element, '.selector' )\n * MIT license\n */\n\n/*jshint browser: true, strict: true, undef: true, unused: true */\n\n( function( window, factory ) {\n  /*global define: false, module: false */\n  'use strict';\n  // universal module definition\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'desandro-matches-selector/matches-selector',factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory();\n  } else {\n    // browser global\n    window.matchesSelector = factory();\n  }\n\n}( window, function factory() {\n  'use strict';\n\n  var matchesMethod = ( function() {\n    var ElemProto = window.Element.prototype;\n    // check for the standard method name first\n    if ( ElemProto.matches ) {\n      return 'matches';\n    }\n    // check un-prefixed\n    if ( ElemProto.matchesSelector ) {\n      return 'matchesSelector';\n    }\n    // check vendor prefixes\n    var prefixes = [ 'webkit', 'moz', 'ms', 'o' ];\n\n    for ( var i=0; i < prefixes.length; i++ ) {\n      var prefix = prefixes[i];\n      var method = prefix + 'MatchesSelector';\n      if ( ElemProto[ method ] ) {\n        return method;\n      }\n    }\n  })();\n\n  return function matchesSelector( elem, selector ) {\n    return elem[ matchesMethod ]( selector );\n  };\n\n}));\n\n/**\n * Fizzy UI utils v2.0.7\n * MIT license\n */\n\n/*jshint browser: true, undef: true, unused: true, strict: true */\n\n( function( window, factory ) {\n  // universal module definition\n  /*jshint strict: false */ /*globals define, module, require */\n\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'fizzy-ui-utils/utils',[\n      'desandro-matches-selector/matches-selector'\n    ], function( matchesSelector ) {\n      return factory( window, matchesSelector );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('desandro-matches-selector')\n    );\n  } else {\n    // browser global\n    window.fizzyUIUtils = factory(\n      window,\n      window.matchesSelector\n    );\n  }\n\n}( window, function factory( window, matchesSelector ) {\n\n\n\nvar utils = {};\n\n// ----- extend ----- //\n\n// extends objects\nutils.extend = function( a, b ) {\n  for ( var prop in b ) {\n    a[ prop ] = b[ prop ];\n  }\n  return a;\n};\n\n// ----- modulo ----- //\n\nutils.modulo = function( num, div ) {\n  return ( ( num % div ) + div ) % div;\n};\n\n// ----- makeArray ----- //\n\nvar arraySlice = Array.prototype.slice;\n\n// turn element or nodeList into an array\nutils.makeArray = function( obj ) {\n  if ( Array.isArray( obj ) ) {\n    // use object if already an array\n    return obj;\n  }\n  // return empty array if undefined or null. #6\n  if ( obj === null || obj === undefined ) {\n    return [];\n  }\n\n  var isArrayLike = typeof obj == 'object' && typeof obj.length == 'number';\n  if ( isArrayLike ) {\n    // convert nodeList to array\n    return arraySlice.call( obj );\n  }\n\n  // array of single index\n  return [ obj ];\n};\n\n// ----- removeFrom ----- //\n\nutils.removeFrom = function( ary, obj ) {\n  var index = ary.indexOf( obj );\n  if ( index != -1 ) {\n    ary.splice( index, 1 );\n  }\n};\n\n// ----- getParent ----- //\n\nutils.getParent = function( elem, selector ) {\n  while ( elem.parentNode && elem != document.body ) {\n    elem = elem.parentNode;\n    if ( matchesSelector( elem, selector ) ) {\n      return elem;\n    }\n  }\n};\n\n// ----- getQueryElement ----- //\n\n// use element as selector string\nutils.getQueryElement = function( elem ) {\n  if ( typeof elem == 'string' ) {\n    return document.querySelector( elem );\n  }\n  return elem;\n};\n\n// ----- handleEvent ----- //\n\n// enable .ontype to trigger from .addEventListener( elem, 'type' )\nutils.handleEvent = function( event ) {\n  var method = 'on' + event.type;\n  if ( this[ method ] ) {\n    this[ method ]( event );\n  }\n};\n\n// ----- filterFindElements ----- //\n\nutils.filterFindElements = function( elems, selector ) {\n  // make array of elems\n  elems = utils.makeArray( elems );\n  var ffElems = [];\n\n  elems.forEach( function( elem ) {\n    // check that elem is an actual element\n    if ( !( elem instanceof HTMLElement ) ) {\n      return;\n    }\n    // add elem if no selector\n    if ( !selector ) {\n      ffElems.push( elem );\n      return;\n    }\n    // filter & find items if we have a selector\n    // filter\n    if ( matchesSelector( elem, selector ) ) {\n      ffElems.push( elem );\n    }\n    // find children\n    var childElems = elem.querySelectorAll( selector );\n    // concat childElems to filterFound array\n    for ( var i=0; i < childElems.length; i++ ) {\n      ffElems.push( childElems[i] );\n    }\n  });\n\n  return ffElems;\n};\n\n// ----- debounceMethod ----- //\n\nutils.debounceMethod = function( _class, methodName, threshold ) {\n  threshold = threshold || 100;\n  // original method\n  var method = _class.prototype[ methodName ];\n  var timeoutName = methodName + 'Timeout';\n\n  _class.prototype[ methodName ] = function() {\n    var timeout = this[ timeoutName ];\n    clearTimeout( timeout );\n\n    var args = arguments;\n    var _this = this;\n    this[ timeoutName ] = setTimeout( function() {\n      method.apply( _this, args );\n      delete _this[ timeoutName ];\n    }, threshold );\n  };\n};\n\n// ----- docReady ----- //\n\nutils.docReady = function( callback ) {\n  var readyState = document.readyState;\n  if ( readyState == 'complete' || readyState == 'interactive' ) {\n    // do async to allow for other scripts to run. metafizzy/flickity#441\n    setTimeout( callback );\n  } else {\n    document.addEventListener( 'DOMContentLoaded', callback );\n  }\n};\n\n// ----- htmlInit ----- //\n\n// http://jamesroberts.name/blog/2010/02/22/string-functions-for-javascript-trim-to-camel-case-to-dashed-and-to-underscore/\nutils.toDashed = function( str ) {\n  return str.replace( /(.)([A-Z])/g, function( match, $1, $2 ) {\n    return $1 + '-' + $2;\n  }).toLowerCase();\n};\n\nvar console = window.console;\n/**\n * allow user to initialize classes via [data-namespace] or .js-namespace class\n * htmlInit( Widget, 'widgetName' )\n * options are parsed from data-namespace-options\n */\nutils.htmlInit = function( WidgetClass, namespace ) {\n  utils.docReady( function() {\n    var dashedNamespace = utils.toDashed( namespace );\n    var dataAttr = 'data-' + dashedNamespace;\n    var dataAttrElems = document.querySelectorAll( '[' + dataAttr + ']' );\n    var jsDashElems = document.querySelectorAll( '.js-' + dashedNamespace );\n    var elems = utils.makeArray( dataAttrElems )\n      .concat( utils.makeArray( jsDashElems ) );\n    var dataOptionsAttr = dataAttr + '-options';\n    var jQuery = window.jQuery;\n\n    elems.forEach( function( elem ) {\n      var attr = elem.getAttribute( dataAttr ) ||\n        elem.getAttribute( dataOptionsAttr );\n      var options;\n      try {\n        options = attr && JSON.parse( attr );\n      } catch ( error ) {\n        // log error, do not initialize\n        if ( console ) {\n          console.error( 'Error parsing ' + dataAttr + ' on ' + elem.className +\n          ': ' + error );\n        }\n        return;\n      }\n      // initialize\n      var instance = new WidgetClass( elem, options );\n      // make available via $().data('namespace')\n      if ( jQuery ) {\n        jQuery.data( elem, namespace, instance );\n      }\n    });\n\n  });\n};\n\n// -----  ----- //\n\nreturn utils;\n\n}));\n\n// Flickity.Cell\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'flickity/js/cell',[\n      'get-size/get-size'\n    ], function( getSize ) {\n      return factory( window, getSize );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('get-size')\n    );\n  } else {\n    // browser global\n    window.Flickity = window.Flickity || {};\n    window.Flickity.Cell = factory(\n      window,\n      window.getSize\n    );\n  }\n\n}( window, function factory( window, getSize ) {\n\n\n\nfunction Cell( elem, parent ) {\n  this.element = elem;\n  this.parent = parent;\n\n  this.create();\n}\n\nvar proto = Cell.prototype;\n\nproto.create = function() {\n  this.element.style.position = 'absolute';\n  this.element.setAttribute( 'aria-selected', 'false' );\n  this.x = 0;\n  this.shift = 0;\n};\n\nproto.destroy = function() {\n  // reset style\n  this.element.style.position = '';\n  var side = this.parent.originSide;\n  this.element.removeAttribute('aria-selected');\n  this.element.style[ side ] = '';\n};\n\nproto.getSize = function() {\n  this.size = getSize( this.element );\n};\n\nproto.setPosition = function( x ) {\n  this.x = x;\n  this.updateTarget();\n  this.renderPosition( x );\n};\n\n// setDefaultTarget v1 method, backwards compatibility, remove in v3\nproto.updateTarget = proto.setDefaultTarget = function() {\n  var marginProperty = this.parent.originSide == 'left' ? 'marginLeft' : 'marginRight';\n  this.target = this.x + this.size[ marginProperty ] +\n    this.size.width * this.parent.cellAlign;\n};\n\nproto.renderPosition = function( x ) {\n  // render position of cell with in slider\n  var side = this.parent.originSide;\n  this.element.style[ side ] = this.parent.getPositionValue( x );\n};\n\n/**\n * @param {Integer} factor - 0, 1, or -1\n**/\nproto.wrapShift = function( shift ) {\n  this.shift = shift;\n  this.renderPosition( this.x + this.parent.slideableWidth * shift );\n};\n\nproto.remove = function() {\n  this.element.parentNode.removeChild( this.element );\n};\n\nreturn Cell;\n\n}));\n\n// slide\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'flickity/js/slide',factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory();\n  } else {\n    // browser global\n    window.Flickity = window.Flickity || {};\n    window.Flickity.Slide = factory();\n  }\n\n}( window, function factory() {\n'use strict';\n\nfunction Slide( parent ) {\n  this.parent = parent;\n  this.isOriginLeft = parent.originSide == 'left';\n  this.cells = [];\n  this.outerWidth = 0;\n  this.height = 0;\n}\n\nvar proto = Slide.prototype;\n\nproto.addCell = function( cell ) {\n  this.cells.push( cell );\n  this.outerWidth += cell.size.outerWidth;\n  this.height = Math.max( cell.size.outerHeight, this.height );\n  // first cell stuff\n  if ( this.cells.length == 1 ) {\n    this.x = cell.x; // x comes from first cell\n    var beginMargin = this.isOriginLeft ? 'marginLeft' : 'marginRight';\n    this.firstMargin = cell.size[ beginMargin ];\n  }\n};\n\nproto.updateTarget = function() {\n  var endMargin = this.isOriginLeft ? 'marginRight' : 'marginLeft';\n  var lastCell = this.getLastCell();\n  var lastMargin = lastCell ? lastCell.size[ endMargin ] : 0;\n  var slideWidth = this.outerWidth - ( this.firstMargin + lastMargin );\n  this.target = this.x + this.firstMargin + slideWidth * this.parent.cellAlign;\n};\n\nproto.getLastCell = function() {\n  return this.cells[ this.cells.length - 1 ];\n};\n\nproto.select = function() {\n  this.changeSelected( true );\n};\n\nproto.unselect = function() {\n  this.changeSelected( false );\n};\n\nproto.changeSelected = function( isSelected ) {\n  var classMethod = isSelected ? 'add' : 'remove';\n  this.cells.forEach( function( cell ) {\n    cell.element.classList[ classMethod ]('is-selected');\n    cell.element.setAttribute( 'aria-selected', isSelected.toString() );\n  });\n};\n\nproto.getCellElements = function() {\n  return this.cells.map( function( cell ) {\n    return cell.element;\n  });\n};\n\nreturn Slide;\n\n}));\n\n// animate\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'flickity/js/animate',[\n      'fizzy-ui-utils/utils'\n    ], function( utils ) {\n      return factory( window, utils );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('fizzy-ui-utils')\n    );\n  } else {\n    // browser global\n    window.Flickity = window.Flickity || {};\n    window.Flickity.animatePrototype = factory(\n      window,\n      window.fizzyUIUtils\n    );\n  }\n\n}( window, function factory( window, utils ) {\n\n\n\n// -------------------------- animate -------------------------- //\n\nvar proto = {};\n\nproto.startAnimation = function() {\n  if ( this.isAnimating ) {\n    return;\n  }\n\n  this.isAnimating = true;\n  this.restingFrames = 0;\n  this.animate();\n};\n\nproto.animate = function() {\n  this.applyDragForce();\n  this.applySelectedAttraction();\n\n  var previousX = this.x;\n\n  this.integratePhysics();\n  this.positionSlider();\n  this.settle( previousX );\n  // animate next frame\n  if ( this.isAnimating ) {\n    var _this = this;\n    requestAnimationFrame( function animateFrame() {\n      _this.animate();\n    });\n  }\n};\n\nproto.positionSlider = function() {\n  var x = this.x;\n  // wrap position around\n  if ( this.options.wrapAround && this.cells.length > 1 ) {\n    x = utils.modulo( x, this.slideableWidth );\n    x = x - this.slideableWidth;\n    this.shiftWrapCells( x );\n  }\n\n  x = x + this.cursorPosition;\n  // reverse if right-to-left and using transform\n  x = this.options.rightToLeft ? -x : x;\n  var value = this.getPositionValue( x );\n  // use 3D tranforms for hardware acceleration on iOS\n  // but use 2D when settled, for better font-rendering\n  this.slider.style.transform = this.isAnimating ?\n    'translate3d(' + value + ',0,0)' : 'translateX(' + value + ')';\n\n  // scroll event\n  var firstSlide = this.slides[0];\n  if ( firstSlide ) {\n    var positionX = -this.x - firstSlide.target;\n    var progress = positionX / this.slidesWidth;\n    this.dispatchEvent( 'scroll', null, [ progress, positionX ] );\n  }\n};\n\nproto.positionSliderAtSelected = function() {\n  if ( !this.cells.length ) {\n    return;\n  }\n  this.x = -this.selectedSlide.target;\n  this.velocity = 0; // stop wobble\n  this.positionSlider();\n};\n\nproto.getPositionValue = function( position ) {\n  if ( this.options.percentPosition ) {\n    // percent position, round to 2 digits, like 12.34%\n    return ( Math.round( ( position / this.size.innerWidth ) * 10000 ) * 0.01 )+ '%';\n  } else {\n    // pixel positioning\n    return Math.round( position ) + 'px';\n  }\n};\n\nproto.settle = function( previousX ) {\n  // keep track of frames where x hasn't moved\n  if ( !this.isPointerDown && Math.round( this.x * 100 ) == Math.round( previousX * 100 ) ) {\n    this.restingFrames++;\n  }\n  // stop animating if resting for 3 or more frames\n  if ( this.restingFrames > 2 ) {\n    this.isAnimating = false;\n    delete this.isFreeScrolling;\n    // render position with translateX when settled\n    this.positionSlider();\n    this.dispatchEvent( 'settle', null, [ this.selectedIndex ] );\n  }\n};\n\nproto.shiftWrapCells = function( x ) {\n  // shift before cells\n  var beforeGap = this.cursorPosition + x;\n  this._shiftCells( this.beforeShiftCells, beforeGap, -1 );\n  // shift after cells\n  var afterGap = this.size.innerWidth - ( x + this.slideableWidth + this.cursorPosition );\n  this._shiftCells( this.afterShiftCells, afterGap, 1 );\n};\n\nproto._shiftCells = function( cells, gap, shift ) {\n  for ( var i=0; i < cells.length; i++ ) {\n    var cell = cells[i];\n    var cellShift = gap > 0 ? shift : 0;\n    cell.wrapShift( cellShift );\n    gap -= cell.size.outerWidth;\n  }\n};\n\nproto._unshiftCells = function( cells ) {\n  if ( !cells || !cells.length ) {\n    return;\n  }\n  for ( var i=0; i < cells.length; i++ ) {\n    cells[i].wrapShift( 0 );\n  }\n};\n\n// -------------------------- physics -------------------------- //\n\nproto.integratePhysics = function() {\n  this.x += this.velocity;\n  this.velocity *= this.getFrictionFactor();\n};\n\nproto.applyForce = function( force ) {\n  this.velocity += force;\n};\n\nproto.getFrictionFactor = function() {\n  return 1 - this.options[ this.isFreeScrolling ? 'freeScrollFriction' : 'friction' ];\n};\n\nproto.getRestingPosition = function() {\n  // my thanks to Steven Wittens, who simplified this math greatly\n  return this.x + this.velocity / ( 1 - this.getFrictionFactor() );\n};\n\nproto.applyDragForce = function() {\n  if ( !this.isDraggable || !this.isPointerDown ) {\n    return;\n  }\n  // change the position to drag position by applying force\n  var dragVelocity = this.dragX - this.x;\n  var dragForce = dragVelocity - this.velocity;\n  this.applyForce( dragForce );\n};\n\nproto.applySelectedAttraction = function() {\n  // do not attract if pointer down or no slides\n  var dragDown = this.isDraggable && this.isPointerDown;\n  if ( dragDown || this.isFreeScrolling || !this.slides.length ) {\n    return;\n  }\n  var distance = this.selectedSlide.target * -1 - this.x;\n  var force = distance * this.options.selectedAttraction;\n  this.applyForce( force );\n};\n\nreturn proto;\n\n}));\n\n// Flickity main\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'flickity/js/flickity',[\n      'ev-emitter/ev-emitter',\n      'get-size/get-size',\n      'fizzy-ui-utils/utils',\n      './cell',\n      './slide',\n      './animate'\n    ], function( EvEmitter, getSize, utils, Cell, Slide, animatePrototype ) {\n      return factory( window, EvEmitter, getSize, utils, Cell, Slide, animatePrototype );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('ev-emitter'),\n      require('get-size'),\n      require('fizzy-ui-utils'),\n      require('./cell'),\n      require('./slide'),\n      require('./animate')\n    );\n  } else {\n    // browser global\n    var _Flickity = window.Flickity;\n\n    window.Flickity = factory(\n      window,\n      window.EvEmitter,\n      window.getSize,\n      window.fizzyUIUtils,\n      _Flickity.Cell,\n      _Flickity.Slide,\n      _Flickity.animatePrototype\n    );\n  }\n\n}( window, function factory( window, EvEmitter, getSize,\n  utils, Cell, Slide, animatePrototype ) {\n\n\n\n// vars\nvar jQuery = window.jQuery;\nvar getComputedStyle = window.getComputedStyle;\nvar console = window.console;\n\nfunction moveElements( elems, toElem ) {\n  elems = utils.makeArray( elems );\n  while ( elems.length ) {\n    toElem.appendChild( elems.shift() );\n  }\n}\n\n// -------------------------- Flickity -------------------------- //\n\n// globally unique identifiers\nvar GUID = 0;\n// internal store of all Flickity intances\nvar instances = {};\n\nfunction Flickity( element, options ) {\n  var queryElement = utils.getQueryElement( element );\n  if ( !queryElement ) {\n    if ( console ) {\n      console.error( 'Bad element for Flickity: ' + ( queryElement || element ) );\n    }\n    return;\n  }\n  this.element = queryElement;\n  // do not initialize twice on same element\n  if ( this.element.flickityGUID ) {\n    var instance = instances[ this.element.flickityGUID ];\n    instance.option( options );\n    return instance;\n  }\n\n  // add jQuery\n  if ( jQuery ) {\n    this.$element = jQuery( this.element );\n  }\n  // options\n  this.options = utils.extend( {}, this.constructor.defaults );\n  this.option( options );\n\n  // kick things off\n  this._create();\n}\n\nFlickity.defaults = {\n  accessibility: true,\n  // adaptiveHeight: false,\n  cellAlign: 'center',\n  // cellSelector: undefined,\n  // contain: false,\n  freeScrollFriction: 0.075, // friction when free-scrolling\n  friction: 0.28, // friction when selecting\n  namespaceJQueryEvents: true,\n  // initialIndex: 0,\n  percentPosition: true,\n  resize: true,\n  selectedAttraction: 0.025,\n  setGallerySize: true\n  // watchCSS: false,\n  // wrapAround: false\n};\n\n// hash of methods triggered on _create()\nFlickity.createMethods = [];\n\nvar proto = Flickity.prototype;\n// inherit EventEmitter\nutils.extend( proto, EvEmitter.prototype );\n\nproto._create = function() {\n  // add id for Flickity.data\n  var id = this.guid = ++GUID;\n  this.element.flickityGUID = id; // expando\n  instances[ id ] = this; // associate via id\n  // initial properties\n  this.selectedIndex = 0;\n  // how many frames slider has been in same position\n  this.restingFrames = 0;\n  // initial physics properties\n  this.x = 0;\n  this.velocity = 0;\n  this.originSide = this.options.rightToLeft ? 'right' : 'left';\n  // create viewport & slider\n  this.viewport = document.createElement('div');\n  this.viewport.className = 'flickity-viewport';\n  this._createSlider();\n\n  if ( this.options.resize || this.options.watchCSS ) {\n    window.addEventListener( 'resize', this );\n  }\n\n  // add listeners from on option\n  for ( var eventName in this.options.on ) {\n    var listener = this.options.on[ eventName ];\n    this.on( eventName, listener );\n  }\n\n  Flickity.createMethods.forEach( function( method ) {\n    this[ method ]();\n  }, this );\n\n  if ( this.options.watchCSS ) {\n    this.watchCSS();\n  } else {\n    this.activate();\n  }\n\n};\n\n/**\n * set options\n * @param {Object} opts\n */\nproto.option = function( opts ) {\n  utils.extend( this.options, opts );\n};\n\nproto.activate = function() {\n  if ( this.isActive ) {\n    return;\n  }\n  this.isActive = true;\n  this.element.classList.add('flickity-enabled');\n  if ( this.options.rightToLeft ) {\n    this.element.classList.add('flickity-rtl');\n  }\n\n  this.getSize();\n  // move initial cell elements so they can be loaded as cells\n  var cellElems = this._filterFindCellElements( this.element.children );\n  moveElements( cellElems, this.slider );\n  this.viewport.appendChild( this.slider );\n  this.element.appendChild( this.viewport );\n  // get cells from children\n  this.reloadCells();\n\n  if ( this.options.accessibility ) {\n    // allow element to focusable\n    this.element.tabIndex = 0;\n    // listen for key presses\n    this.element.addEventListener( 'keydown', this );\n  }\n\n  this.emitEvent('activate');\n\n  var index;\n  var initialIndex = this.options.initialIndex;\n  if ( this.isInitActivated ) {\n    index = this.selectedIndex;\n  } else if ( initialIndex !== undefined ) {\n    index = this.cells[ initialIndex ] ? initialIndex : 0;\n  } else {\n    index = 0;\n  }\n  // select instantly\n  this.select( index, false, true );\n  // flag for initial activation, for using initialIndex\n  this.isInitActivated = true;\n  // ready event. #493\n  this.dispatchEvent('ready');\n};\n\n// slider positions the cells\nproto._createSlider = function() {\n  // slider element does all the positioning\n  var slider = document.createElement('div');\n  slider.className = 'flickity-slider';\n  slider.style[ this.originSide ] = 0;\n  this.slider = slider;\n};\n\nproto._filterFindCellElements = function( elems ) {\n  return utils.filterFindElements( elems, this.options.cellSelector );\n};\n\n// goes through all children\nproto.reloadCells = function() {\n  // collection of item elements\n  this.cells = this._makeCells( this.slider.children );\n  this.positionCells();\n  this._getWrapShiftCells();\n  this.setGallerySize();\n};\n\n/**\n * turn elements into Flickity.Cells\n * @param {Array or NodeList or HTMLElement} elems\n * @returns {Array} items - collection of new Flickity Cells\n */\nproto._makeCells = function( elems ) {\n  var cellElems = this._filterFindCellElements( elems );\n\n  // create new Flickity for collection\n  var cells = cellElems.map( function( cellElem ) {\n    return new Cell( cellElem, this );\n  }, this );\n\n  return cells;\n};\n\nproto.getLastCell = function() {\n  return this.cells[ this.cells.length - 1 ];\n};\n\nproto.getLastSlide = function() {\n  return this.slides[ this.slides.length - 1 ];\n};\n\n// positions all cells\nproto.positionCells = function() {\n  // size all cells\n  this._sizeCells( this.cells );\n  // position all cells\n  this._positionCells( 0 );\n};\n\n/**\n * position certain cells\n * @param {Integer} index - which cell to start with\n */\nproto._positionCells = function( index ) {\n  index = index || 0;\n  // also measure maxCellHeight\n  // start 0 if positioning all cells\n  this.maxCellHeight = index ? this.maxCellHeight || 0 : 0;\n  var cellX = 0;\n  // get cellX\n  if ( index > 0 ) {\n    var startCell = this.cells[ index - 1 ];\n    cellX = startCell.x + startCell.size.outerWidth;\n  }\n  var len = this.cells.length;\n  for ( var i=index; i < len; i++ ) {\n    var cell = this.cells[i];\n    cell.setPosition( cellX );\n    cellX += cell.size.outerWidth;\n    this.maxCellHeight = Math.max( cell.size.outerHeight, this.maxCellHeight );\n  }\n  // keep track of cellX for wrap-around\n  this.slideableWidth = cellX;\n  // slides\n  this.updateSlides();\n  // contain slides target\n  this._containSlides();\n  // update slidesWidth\n  this.slidesWidth = len ? this.getLastSlide().target - this.slides[0].target : 0;\n};\n\n/**\n * cell.getSize() on multiple cells\n * @param {Array} cells\n */\nproto._sizeCells = function( cells ) {\n  cells.forEach( function( cell ) {\n    cell.getSize();\n  });\n};\n\n// --------------------------  -------------------------- //\n\nproto.updateSlides = function() {\n  this.slides = [];\n  if ( !this.cells.length ) {\n    return;\n  }\n\n  var slide = new Slide( this );\n  this.slides.push( slide );\n  var isOriginLeft = this.originSide == 'left';\n  var nextMargin = isOriginLeft ? 'marginRight' : 'marginLeft';\n\n  var canCellFit = this._getCanCellFit();\n\n  this.cells.forEach( function( cell, i ) {\n    // just add cell if first cell in slide\n    if ( !slide.cells.length ) {\n      slide.addCell( cell );\n      return;\n    }\n\n    var slideWidth = ( slide.outerWidth - slide.firstMargin ) +\n      ( cell.size.outerWidth - cell.size[ nextMargin ] );\n\n    if ( canCellFit.call( this, i, slideWidth ) ) {\n      slide.addCell( cell );\n    } else {\n      // doesn't fit, new slide\n      slide.updateTarget();\n\n      slide = new Slide( this );\n      this.slides.push( slide );\n      slide.addCell( cell );\n    }\n  }, this );\n  // last slide\n  slide.updateTarget();\n  // update .selectedSlide\n  this.updateSelectedSlide();\n};\n\nproto._getCanCellFit = function() {\n  var groupCells = this.options.groupCells;\n  if ( !groupCells ) {\n    return function() {\n      return false;\n    };\n  } else if ( typeof groupCells == 'number' ) {\n    // group by number. 3 -> [0,1,2], [3,4,5], ...\n    var number = parseInt( groupCells, 10 );\n    return function( i ) {\n      return ( i % number ) !== 0;\n    };\n  }\n  // default, group by width of slide\n  // parse '75%\n  var percentMatch = typeof groupCells == 'string' &&\n    groupCells.match(/^(\\d+)%$/);\n  var percent = percentMatch ? parseInt( percentMatch[1], 10 ) / 100 : 1;\n  return function( i, slideWidth ) {\n    return slideWidth <= ( this.size.innerWidth + 1 ) * percent;\n  };\n};\n\n// alias _init for jQuery plugin .flickity()\nproto._init =\nproto.reposition = function() {\n  this.positionCells();\n  this.positionSliderAtSelected();\n};\n\nproto.getSize = function() {\n  this.size = getSize( this.element );\n  this.setCellAlign();\n  this.cursorPosition = this.size.innerWidth * this.cellAlign;\n};\n\nvar cellAlignShorthands = {\n  // cell align, then based on origin side\n  center: {\n    left: 0.5,\n    right: 0.5\n  },\n  left: {\n    left: 0,\n    right: 1\n  },\n  right: {\n    right: 0,\n    left: 1\n  }\n};\n\nproto.setCellAlign = function() {\n  var shorthand = cellAlignShorthands[ this.options.cellAlign ];\n  this.cellAlign = shorthand ? shorthand[ this.originSide ] : this.options.cellAlign;\n};\n\nproto.setGallerySize = function() {\n  if ( this.options.setGallerySize ) {\n    var height = this.options.adaptiveHeight && this.selectedSlide ?\n      this.selectedSlide.height : this.maxCellHeight;\n    this.viewport.style.height = height + 'px';\n  }\n};\n\nproto._getWrapShiftCells = function() {\n  // only for wrap-around\n  if ( !this.options.wrapAround ) {\n    return;\n  }\n  // unshift previous cells\n  this._unshiftCells( this.beforeShiftCells );\n  this._unshiftCells( this.afterShiftCells );\n  // get before cells\n  // initial gap\n  var gapX = this.cursorPosition;\n  var cellIndex = this.cells.length - 1;\n  this.beforeShiftCells = this._getGapCells( gapX, cellIndex, -1 );\n  // get after cells\n  // ending gap between last cell and end of gallery viewport\n  gapX = this.size.innerWidth - this.cursorPosition;\n  // start cloning at first cell, working forwards\n  this.afterShiftCells = this._getGapCells( gapX, 0, 1 );\n};\n\nproto._getGapCells = function( gapX, cellIndex, increment ) {\n  // keep adding cells until the cover the initial gap\n  var cells = [];\n  while ( gapX > 0 ) {\n    var cell = this.cells[ cellIndex ];\n    if ( !cell ) {\n      break;\n    }\n    cells.push( cell );\n    cellIndex += increment;\n    gapX -= cell.size.outerWidth;\n  }\n  return cells;\n};\n\n// ----- contain ----- //\n\n// contain cell targets so no excess sliding\nproto._containSlides = function() {\n  if ( !this.options.contain || this.options.wrapAround || !this.cells.length ) {\n    return;\n  }\n  var isRightToLeft = this.options.rightToLeft;\n  var beginMargin = isRightToLeft ? 'marginRight' : 'marginLeft';\n  var endMargin = isRightToLeft ? 'marginLeft' : 'marginRight';\n  var contentWidth = this.slideableWidth - this.getLastCell().size[ endMargin ];\n  // content is less than gallery size\n  var isContentSmaller = contentWidth < this.size.innerWidth;\n  // bounds\n  var beginBound = this.cursorPosition + this.cells[0].size[ beginMargin ];\n  var endBound = contentWidth - this.size.innerWidth * ( 1 - this.cellAlign );\n  // contain each cell target\n  this.slides.forEach( function( slide ) {\n    if ( isContentSmaller ) {\n      // all cells fit inside gallery\n      slide.target = contentWidth * this.cellAlign;\n    } else {\n      // contain to bounds\n      slide.target = Math.max( slide.target, beginBound );\n      slide.target = Math.min( slide.target, endBound );\n    }\n  }, this );\n};\n\n// -----  ----- //\n\n/**\n * emits events via eventEmitter and jQuery events\n * @param {String} type - name of event\n * @param {Event} event - original event\n * @param {Array} args - extra arguments\n */\nproto.dispatchEvent = function( type, event, args ) {\n  var emitArgs = event ? [ event ].concat( args ) : args;\n  this.emitEvent( type, emitArgs );\n\n  if ( jQuery && this.$element ) {\n    // default trigger with type if no event\n    type += this.options.namespaceJQueryEvents ? '.flickity' : '';\n    var $event = type;\n    if ( event ) {\n      // create jQuery event\n      var jQEvent = jQuery.Event( event );\n      jQEvent.type = type;\n      $event = jQEvent;\n    }\n    this.$element.trigger( $event, args );\n  }\n};\n\n// -------------------------- select -------------------------- //\n\n/**\n * @param {Integer} index - index of the slide\n * @param {Boolean} isWrap - will wrap-around to last/first if at the end\n * @param {Boolean} isInstant - will immediately set position at selected cell\n */\nproto.select = function( index, isWrap, isInstant ) {\n  if ( !this.isActive ) {\n    return;\n  }\n  index = parseInt( index, 10 );\n  this._wrapSelect( index );\n\n  if ( this.options.wrapAround || isWrap ) {\n    index = utils.modulo( index, this.slides.length );\n  }\n  // bail if invalid index\n  if ( !this.slides[ index ] ) {\n    return;\n  }\n  var prevIndex = this.selectedIndex;\n  this.selectedIndex = index;\n  this.updateSelectedSlide();\n  if ( isInstant ) {\n    this.positionSliderAtSelected();\n  } else {\n    this.startAnimation();\n  }\n  if ( this.options.adaptiveHeight ) {\n    this.setGallerySize();\n  }\n  // events\n  this.dispatchEvent( 'select', null, [ index ] );\n  // change event if new index\n  if ( index != prevIndex ) {\n    this.dispatchEvent( 'change', null, [ index ] );\n  }\n  // old v1 event name, remove in v3\n  this.dispatchEvent('cellSelect');\n};\n\n// wraps position for wrapAround, to move to closest slide. #113\nproto._wrapSelect = function( index ) {\n  var len = this.slides.length;\n  var isWrapping = this.options.wrapAround && len > 1;\n  if ( !isWrapping ) {\n    return index;\n  }\n  var wrapIndex = utils.modulo( index, len );\n  // go to shortest\n  var delta = Math.abs( wrapIndex - this.selectedIndex );\n  var backWrapDelta = Math.abs( ( wrapIndex + len ) - this.selectedIndex );\n  var forewardWrapDelta = Math.abs( ( wrapIndex - len ) - this.selectedIndex );\n  if ( !this.isDragSelect && backWrapDelta < delta ) {\n    index += len;\n  } else if ( !this.isDragSelect && forewardWrapDelta < delta ) {\n    index -= len;\n  }\n  // wrap position so slider is within normal area\n  if ( index < 0 ) {\n    this.x -= this.slideableWidth;\n  } else if ( index >= len ) {\n    this.x += this.slideableWidth;\n  }\n};\n\nproto.previous = function( isWrap, isInstant ) {\n  this.select( this.selectedIndex - 1, isWrap, isInstant );\n};\n\nproto.next = function( isWrap, isInstant ) {\n  this.select( this.selectedIndex + 1, isWrap, isInstant );\n};\n\nproto.updateSelectedSlide = function() {\n  var slide = this.slides[ this.selectedIndex ];\n  // selectedIndex could be outside of slides, if triggered before resize()\n  if ( !slide ) {\n    return;\n  }\n  // unselect previous selected slide\n  this.unselectSelectedSlide();\n  // update new selected slide\n  this.selectedSlide = slide;\n  slide.select();\n  this.selectedCells = slide.cells;\n  this.selectedElements = slide.getCellElements();\n  // HACK: selectedCell & selectedElement is first cell in slide, backwards compatibility\n  // Remove in v3?\n  this.selectedCell = slide.cells[0];\n  this.selectedElement = this.selectedElements[0];\n};\n\nproto.unselectSelectedSlide = function() {\n  if ( this.selectedSlide ) {\n    this.selectedSlide.unselect();\n  }\n};\n\n/**\n * select slide from number or cell element\n * @param {Element or Number} elem\n */\nproto.selectCell = function( value, isWrap, isInstant ) {\n  // get cell\n  var cell = this.queryCell( value );\n  if ( !cell ) {\n    return;\n  }\n\n  var index = this.getCellSlideIndex( cell );\n  this.select( index, isWrap, isInstant );\n};\n\nproto.getCellSlideIndex = function( cell ) {\n  // get index of slides that has cell\n  for ( var i=0; i < this.slides.length; i++ ) {\n    var slide = this.slides[i];\n    var index = slide.cells.indexOf( cell );\n    if ( index != -1 ) {\n      return i;\n    }\n  }\n};\n\n// -------------------------- get cells -------------------------- //\n\n/**\n * get Flickity.Cell, given an Element\n * @param {Element} elem\n * @returns {Flickity.Cell} item\n */\nproto.getCell = function( elem ) {\n  // loop through cells to get the one that matches\n  for ( var i=0; i < this.cells.length; i++ ) {\n    var cell = this.cells[i];\n    if ( cell.element == elem ) {\n      return cell;\n    }\n  }\n};\n\n/**\n * get collection of Flickity.Cells, given Elements\n * @param {Element, Array, NodeList} elems\n * @returns {Array} cells - Flickity.Cells\n */\nproto.getCells = function( elems ) {\n  elems = utils.makeArray( elems );\n  var cells = [];\n  elems.forEach( function( elem ) {\n    var cell = this.getCell( elem );\n    if ( cell ) {\n      cells.push( cell );\n    }\n  }, this );\n  return cells;\n};\n\n/**\n * get cell elements\n * @returns {Array} cellElems\n */\nproto.getCellElements = function() {\n  return this.cells.map( function( cell ) {\n    return cell.element;\n  });\n};\n\n/**\n * get parent cell from an element\n * @param {Element} elem\n * @returns {Flickit.Cell} cell\n */\nproto.getParentCell = function( elem ) {\n  // first check if elem is cell\n  var cell = this.getCell( elem );\n  if ( cell ) {\n    return cell;\n  }\n  // try to get parent cell elem\n  elem = utils.getParent( elem, '.flickity-slider > *' );\n  return this.getCell( elem );\n};\n\n/**\n * get cells adjacent to a slide\n * @param {Integer} adjCount - number of adjacent slides\n * @param {Integer} index - index of slide to start\n * @returns {Array} cells - array of Flickity.Cells\n */\nproto.getAdjacentCellElements = function( adjCount, index ) {\n  if ( !adjCount ) {\n    return this.selectedSlide.getCellElements();\n  }\n  index = index === undefined ? this.selectedIndex : index;\n\n  var len = this.slides.length;\n  if ( 1 + ( adjCount * 2 ) >= len ) {\n    return this.getCellElements();\n  }\n\n  var cellElems = [];\n  for ( var i = index - adjCount; i <= index + adjCount ; i++ ) {\n    var slideIndex = this.options.wrapAround ? utils.modulo( i, len ) : i;\n    var slide = this.slides[ slideIndex ];\n    if ( slide ) {\n      cellElems = cellElems.concat( slide.getCellElements() );\n    }\n  }\n  return cellElems;\n};\n\n/**\n * select slide from number or cell element\n * @param {Element, Selector String, or Number} selector\n */\nproto.queryCell = function( selector ) {\n  if ( typeof selector == 'number' ) {\n    // use number as index\n    return this.cells[ selector ];\n  }\n  if ( typeof selector == 'string' ) {\n    // use string as selector, get element\n    selector = this.element.querySelector( selector );\n  }\n  // get cell from element\n  return this.getCell( selector );\n};\n\n// -------------------------- events -------------------------- //\n\nproto.uiChange = function() {\n  this.emitEvent('uiChange');\n};\n\nproto.childUIPointerDown = function( event ) {\n  this.emitEvent( 'childUIPointerDown', [ event ] );\n};\n\n// ----- resize ----- //\n\nproto.onresize = function() {\n  this.watchCSS();\n  this.resize();\n};\n\nutils.debounceMethod( Flickity, 'onresize', 150 );\n\nproto.resize = function() {\n  if ( !this.isActive ) {\n    return;\n  }\n  this.getSize();\n  // wrap values\n  if ( this.options.wrapAround ) {\n    this.x = utils.modulo( this.x, this.slideableWidth );\n  }\n  this.positionCells();\n  this._getWrapShiftCells();\n  this.setGallerySize();\n  this.emitEvent('resize');\n  // update selected index for group slides, instant\n  // TODO: position can be lost between groups of various numbers\n  var selectedElement = this.selectedElements && this.selectedElements[0];\n  this.selectCell( selectedElement, false, true );\n};\n\n// watches the :after property, activates/deactivates\nproto.watchCSS = function() {\n  var watchOption = this.options.watchCSS;\n  if ( !watchOption ) {\n    return;\n  }\n\n  var afterContent = getComputedStyle( this.element, ':after' ).content;\n  // activate if :after { content: 'flickity' }\n  if ( afterContent.indexOf('flickity') != -1 ) {\n    this.activate();\n  } else {\n    this.deactivate();\n  }\n};\n\n// ----- keydown ----- //\n\n// go previous/next if left/right keys pressed\nproto.onkeydown = function( event ) {\n  // only work if element is in focus\n  var isNotFocused = document.activeElement && document.activeElement != this.element;\n  if ( !this.options.accessibility ||isNotFocused ) {\n    return;\n  }\n\n  var handler = Flickity.keyboardHandlers[ event.keyCode ];\n  if ( handler ) {\n    handler.call( this );\n  }\n};\n\nFlickity.keyboardHandlers = {\n  // left arrow\n  37: function() {\n    var leftMethod = this.options.rightToLeft ? 'next' : 'previous';\n    this.uiChange();\n    this[ leftMethod ]();\n  },\n  // right arrow\n  39: function() {\n    var rightMethod = this.options.rightToLeft ? 'previous' : 'next';\n    this.uiChange();\n    this[ rightMethod ]();\n  },\n};\n\n// ----- focus ----- //\n\nproto.focus = function() {\n  var prevScrollY = window.pageYOffset;\n  this.element.focus();\n  // hack to fix scroll jump after focus, #76\n  if ( window.pageYOffset != prevScrollY ) {\n    window.scrollTo( window.pageXOffset, prevScrollY );\n  }\n};\n\n// -------------------------- destroy -------------------------- //\n\n// deactivate all Flickity functionality, but keep stuff available\nproto.deactivate = function() {\n  if ( !this.isActive ) {\n    return;\n  }\n  this.element.classList.remove('flickity-enabled');\n  this.element.classList.remove('flickity-rtl');\n  this.unselectSelectedSlide();\n  // destroy cells\n  this.cells.forEach( function( cell ) {\n    cell.destroy();\n  });\n  this.element.removeChild( this.viewport );\n  // move child elements back into element\n  moveElements( this.slider.children, this.element );\n  if ( this.options.accessibility ) {\n    this.element.removeAttribute('tabIndex');\n    this.element.removeEventListener( 'keydown', this );\n  }\n  // set flags\n  this.isActive = false;\n  this.emitEvent('deactivate');\n};\n\nproto.destroy = function() {\n  this.deactivate();\n  window.removeEventListener( 'resize', this );\n  this.emitEvent('destroy');\n  if ( jQuery && this.$element ) {\n    jQuery.removeData( this.element, 'flickity' );\n  }\n  delete this.element.flickityGUID;\n  delete instances[ this.guid ];\n};\n\n// -------------------------- prototype -------------------------- //\n\nutils.extend( proto, animatePrototype );\n\n// -------------------------- extras -------------------------- //\n\n/**\n * get Flickity instance from element\n * @param {Element} elem\n * @returns {Flickity}\n */\nFlickity.data = function( elem ) {\n  elem = utils.getQueryElement( elem );\n  var id = elem && elem.flickityGUID;\n  return id && instances[ id ];\n};\n\nutils.htmlInit( Flickity, 'flickity' );\n\nif ( jQuery && jQuery.bridget ) {\n  jQuery.bridget( 'flickity', Flickity );\n}\n\n// set internal jQuery, for Webpack + jQuery v3, #478\nFlickity.setJQuery = function( jq ) {\n  jQuery = jq;\n};\n\nFlickity.Cell = Cell;\n\nreturn Flickity;\n\n}));\n\n/*!\n * Unipointer v2.3.0\n * base class for doing one thing with pointer event\n * MIT license\n */\n\n/*jshint browser: true, undef: true, unused: true, strict: true */\n\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /*global define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'unipointer/unipointer',[\n      'ev-emitter/ev-emitter'\n    ], function( EvEmitter ) {\n      return factory( window, EvEmitter );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('ev-emitter')\n    );\n  } else {\n    // browser global\n    window.Unipointer = factory(\n      window,\n      window.EvEmitter\n    );\n  }\n\n}( window, function factory( window, EvEmitter ) {\n\n\n\nfunction noop() {}\n\nfunction Unipointer() {}\n\n// inherit EvEmitter\nvar proto = Unipointer.prototype = Object.create( EvEmitter.prototype );\n\nproto.bindStartEvent = function( elem ) {\n  this._bindStartEvent( elem, true );\n};\n\nproto.unbindStartEvent = function( elem ) {\n  this._bindStartEvent( elem, false );\n};\n\n/**\n * Add or remove start event\n * @param {Boolean} isAdd - remove if falsey\n */\nproto._bindStartEvent = function( elem, isAdd ) {\n  // munge isAdd, default to true\n  isAdd = isAdd === undefined ? true : isAdd;\n  var bindMethod = isAdd ? 'addEventListener' : 'removeEventListener';\n\n  // default to mouse events\n  var startEvent = 'mousedown';\n  if ( window.PointerEvent ) {\n    // Pointer Events\n    startEvent = 'pointerdown';\n  } else if ( 'ontouchstart' in window ) {\n    // Touch Events. iOS Safari\n    startEvent = 'touchstart';\n  }\n  elem[ bindMethod ]( startEvent, this );\n};\n\n// trigger handler methods for events\nproto.handleEvent = function( event ) {\n  var method = 'on' + event.type;\n  if ( this[ method ] ) {\n    this[ method ]( event );\n  }\n};\n\n// returns the touch that we're keeping track of\nproto.getTouch = function( touches ) {\n  for ( var i=0; i < touches.length; i++ ) {\n    var touch = touches[i];\n    if ( touch.identifier == this.pointerIdentifier ) {\n      return touch;\n    }\n  }\n};\n\n// ----- start event ----- //\n\nproto.onmousedown = function( event ) {\n  // dismiss clicks from right or middle buttons\n  var button = event.button;\n  if ( button && ( button !== 0 && button !== 1 ) ) {\n    return;\n  }\n  this._pointerDown( event, event );\n};\n\nproto.ontouchstart = function( event ) {\n  this._pointerDown( event, event.changedTouches[0] );\n};\n\nproto.onpointerdown = function( event ) {\n  this._pointerDown( event, event );\n};\n\n/**\n * pointer start\n * @param {Event} event\n * @param {Event or Touch} pointer\n */\nproto._pointerDown = function( event, pointer ) {\n  // dismiss right click and other pointers\n  // button = 0 is okay, 1-4 not\n  if ( event.button || this.isPointerDown ) {\n    return;\n  }\n\n  this.isPointerDown = true;\n  // save pointer identifier to match up touch events\n  this.pointerIdentifier = pointer.pointerId !== undefined ?\n    // pointerId for pointer events, touch.indentifier for touch events\n    pointer.pointerId : pointer.identifier;\n\n  this.pointerDown( event, pointer );\n};\n\nproto.pointerDown = function( event, pointer ) {\n  this._bindPostStartEvents( event );\n  this.emitEvent( 'pointerDown', [ event, pointer ] );\n};\n\n// hash of events to be bound after start event\nvar postStartEvents = {\n  mousedown: [ 'mousemove', 'mouseup' ],\n  touchstart: [ 'touchmove', 'touchend', 'touchcancel' ],\n  pointerdown: [ 'pointermove', 'pointerup', 'pointercancel' ],\n};\n\nproto._bindPostStartEvents = function( event ) {\n  if ( !event ) {\n    return;\n  }\n  // get proper events to match start event\n  var events = postStartEvents[ event.type ];\n  // bind events to node\n  events.forEach( function( eventName ) {\n    window.addEventListener( eventName, this );\n  }, this );\n  // save these arguments\n  this._boundPointerEvents = events;\n};\n\nproto._unbindPostStartEvents = function() {\n  // check for _boundEvents, in case dragEnd triggered twice (old IE8 bug)\n  if ( !this._boundPointerEvents ) {\n    return;\n  }\n  this._boundPointerEvents.forEach( function( eventName ) {\n    window.removeEventListener( eventName, this );\n  }, this );\n\n  delete this._boundPointerEvents;\n};\n\n// ----- move event ----- //\n\nproto.onmousemove = function( event ) {\n  this._pointerMove( event, event );\n};\n\nproto.onpointermove = function( event ) {\n  if ( event.pointerId == this.pointerIdentifier ) {\n    this._pointerMove( event, event );\n  }\n};\n\nproto.ontouchmove = function( event ) {\n  var touch = this.getTouch( event.changedTouches );\n  if ( touch ) {\n    this._pointerMove( event, touch );\n  }\n};\n\n/**\n * pointer move\n * @param {Event} event\n * @param {Event or Touch} pointer\n * @private\n */\nproto._pointerMove = function( event, pointer ) {\n  this.pointerMove( event, pointer );\n};\n\n// public\nproto.pointerMove = function( event, pointer ) {\n  this.emitEvent( 'pointerMove', [ event, pointer ] );\n};\n\n// ----- end event ----- //\n\n\nproto.onmouseup = function( event ) {\n  this._pointerUp( event, event );\n};\n\nproto.onpointerup = function( event ) {\n  if ( event.pointerId == this.pointerIdentifier ) {\n    this._pointerUp( event, event );\n  }\n};\n\nproto.ontouchend = function( event ) {\n  var touch = this.getTouch( event.changedTouches );\n  if ( touch ) {\n    this._pointerUp( event, touch );\n  }\n};\n\n/**\n * pointer up\n * @param {Event} event\n * @param {Event or Touch} pointer\n * @private\n */\nproto._pointerUp = function( event, pointer ) {\n  this._pointerDone();\n  this.pointerUp( event, pointer );\n};\n\n// public\nproto.pointerUp = function( event, pointer ) {\n  this.emitEvent( 'pointerUp', [ event, pointer ] );\n};\n\n// ----- pointer done ----- //\n\n// triggered on pointer up & pointer cancel\nproto._pointerDone = function() {\n  this._pointerReset();\n  this._unbindPostStartEvents();\n  this.pointerDone();\n};\n\nproto._pointerReset = function() {\n  // reset properties\n  this.isPointerDown = false;\n  delete this.pointerIdentifier;\n};\n\nproto.pointerDone = noop;\n\n// ----- pointer cancel ----- //\n\nproto.onpointercancel = function( event ) {\n  if ( event.pointerId == this.pointerIdentifier ) {\n    this._pointerCancel( event, event );\n  }\n};\n\nproto.ontouchcancel = function( event ) {\n  var touch = this.getTouch( event.changedTouches );\n  if ( touch ) {\n    this._pointerCancel( event, touch );\n  }\n};\n\n/**\n * pointer cancel\n * @param {Event} event\n * @param {Event or Touch} pointer\n * @private\n */\nproto._pointerCancel = function( event, pointer ) {\n  this._pointerDone();\n  this.pointerCancel( event, pointer );\n};\n\n// public\nproto.pointerCancel = function( event, pointer ) {\n  this.emitEvent( 'pointerCancel', [ event, pointer ] );\n};\n\n// -----  ----- //\n\n// utility function for getting x/y coords from event\nUnipointer.getPointerPoint = function( pointer ) {\n  return {\n    x: pointer.pageX,\n    y: pointer.pageY\n  };\n};\n\n// -----  ----- //\n\nreturn Unipointer;\n\n}));\n\n/*!\n * Unidragger v2.3.0\n * Draggable base class\n * MIT license\n */\n\n/*jshint browser: true, unused: true, undef: true, strict: true */\n\n( function( window, factory ) {\n  // universal module definition\n  /*jshint strict: false */ /*globals define, module, require */\n\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'unidragger/unidragger',[\n      'unipointer/unipointer'\n    ], function( Unipointer ) {\n      return factory( window, Unipointer );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('unipointer')\n    );\n  } else {\n    // browser global\n    window.Unidragger = factory(\n      window,\n      window.Unipointer\n    );\n  }\n\n}( window, function factory( window, Unipointer ) {\n\n\n\n// -------------------------- Unidragger -------------------------- //\n\nfunction Unidragger() {}\n\n// inherit Unipointer & EvEmitter\nvar proto = Unidragger.prototype = Object.create( Unipointer.prototype );\n\n// ----- bind start ----- //\n\nproto.bindHandles = function() {\n  this._bindHandles( true );\n};\n\nproto.unbindHandles = function() {\n  this._bindHandles( false );\n};\n\n/**\n * Add or remove start event\n * @param {Boolean} isAdd\n */\nproto._bindHandles = function( isAdd ) {\n  // munge isAdd, default to true\n  isAdd = isAdd === undefined ? true : isAdd;\n  // bind each handle\n  var bindMethod = isAdd ? 'addEventListener' : 'removeEventListener';\n  var touchAction = isAdd ? this._touchActionValue : '';\n  for ( var i=0; i < this.handles.length; i++ ) {\n    var handle = this.handles[i];\n    this._bindStartEvent( handle, isAdd );\n    handle[ bindMethod ]( 'click', this );\n    // touch-action: none to override browser touch gestures. metafizzy/flickity#540\n    if ( window.PointerEvent ) {\n      handle.style.touchAction = touchAction;\n    }\n  }\n};\n\n// prototype so it can be overwriteable by Flickity\nproto._touchActionValue = 'none';\n\n// ----- start event ----- //\n\n/**\n * pointer start\n * @param {Event} event\n * @param {Event or Touch} pointer\n */\nproto.pointerDown = function( event, pointer ) {\n  var isOkay = this.okayPointerDown( event );\n  if ( !isOkay ) {\n    return;\n  }\n  // track start event position\n  this.pointerDownPointer = pointer;\n\n  event.preventDefault();\n  this.pointerDownBlur();\n  // bind move and end events\n  this._bindPostStartEvents( event );\n  this.emitEvent( 'pointerDown', [ event, pointer ] );\n};\n\n// nodes that have text fields\nvar cursorNodes = {\n  TEXTAREA: true,\n  INPUT: true,\n  SELECT: true,\n  OPTION: true,\n};\n\n// input types that do not have text fields\nvar clickTypes = {\n  radio: true,\n  checkbox: true,\n  button: true,\n  submit: true,\n  image: true,\n  file: true,\n};\n\n// dismiss inputs with text fields. flickity#403, flickity#404\nproto.okayPointerDown = function( event ) {\n  var isCursorNode = cursorNodes[ event.target.nodeName ];\n  var isClickType = clickTypes[ event.target.type ];\n  var isOkay = !isCursorNode || isClickType;\n  if ( !isOkay ) {\n    this._pointerReset();\n  }\n  return isOkay;\n};\n\n// kludge to blur previously focused input\nproto.pointerDownBlur = function() {\n  var focused = document.activeElement;\n  // do not blur body for IE10, metafizzy/flickity#117\n  var canBlur = focused && focused.blur && focused != document.body;\n  if ( canBlur ) {\n    focused.blur();\n  }\n};\n\n// ----- move event ----- //\n\n/**\n * drag move\n * @param {Event} event\n * @param {Event or Touch} pointer\n */\nproto.pointerMove = function( event, pointer ) {\n  var moveVector = this._dragPointerMove( event, pointer );\n  this.emitEvent( 'pointerMove', [ event, pointer, moveVector ] );\n  this._dragMove( event, pointer, moveVector );\n};\n\n// base pointer move logic\nproto._dragPointerMove = function( event, pointer ) {\n  var moveVector = {\n    x: pointer.pageX - this.pointerDownPointer.pageX,\n    y: pointer.pageY - this.pointerDownPointer.pageY\n  };\n  // start drag if pointer has moved far enough to start drag\n  if ( !this.isDragging && this.hasDragStarted( moveVector ) ) {\n    this._dragStart( event, pointer );\n  }\n  return moveVector;\n};\n\n// condition if pointer has moved far enough to start drag\nproto.hasDragStarted = function( moveVector ) {\n  return Math.abs( moveVector.x ) > 3 || Math.abs( moveVector.y ) > 3;\n};\n\n// ----- end event ----- //\n\n/**\n * pointer up\n * @param {Event} event\n * @param {Event or Touch} pointer\n */\nproto.pointerUp = function( event, pointer ) {\n  this.emitEvent( 'pointerUp', [ event, pointer ] );\n  this._dragPointerUp( event, pointer );\n};\n\nproto._dragPointerUp = function( event, pointer ) {\n  if ( this.isDragging ) {\n    this._dragEnd( event, pointer );\n  } else {\n    // pointer didn't move enough for drag to start\n    this._staticClick( event, pointer );\n  }\n};\n\n// -------------------------- drag -------------------------- //\n\n// dragStart\nproto._dragStart = function( event, pointer ) {\n  this.isDragging = true;\n  // prevent clicks\n  this.isPreventingClicks = true;\n  this.dragStart( event, pointer );\n};\n\nproto.dragStart = function( event, pointer ) {\n  this.emitEvent( 'dragStart', [ event, pointer ] );\n};\n\n// dragMove\nproto._dragMove = function( event, pointer, moveVector ) {\n  // do not drag if not dragging yet\n  if ( !this.isDragging ) {\n    return;\n  }\n\n  this.dragMove( event, pointer, moveVector );\n};\n\nproto.dragMove = function( event, pointer, moveVector ) {\n  event.preventDefault();\n  this.emitEvent( 'dragMove', [ event, pointer, moveVector ] );\n};\n\n// dragEnd\nproto._dragEnd = function( event, pointer ) {\n  // set flags\n  this.isDragging = false;\n  // re-enable clicking async\n  setTimeout( function() {\n    delete this.isPreventingClicks;\n  }.bind( this ) );\n\n  this.dragEnd( event, pointer );\n};\n\nproto.dragEnd = function( event, pointer ) {\n  this.emitEvent( 'dragEnd', [ event, pointer ] );\n};\n\n// ----- onclick ----- //\n\n// handle all clicks and prevent clicks when dragging\nproto.onclick = function( event ) {\n  if ( this.isPreventingClicks ) {\n    event.preventDefault();\n  }\n};\n\n// ----- staticClick ----- //\n\n// triggered after pointer down & up with no/tiny movement\nproto._staticClick = function( event, pointer ) {\n  // ignore emulated mouse up clicks\n  if ( this.isIgnoringMouseUp && event.type == 'mouseup' ) {\n    return;\n  }\n\n  this.staticClick( event, pointer );\n\n  // set flag for emulated clicks 300ms after touchend\n  if ( event.type != 'mouseup' ) {\n    this.isIgnoringMouseUp = true;\n    // reset flag after 300ms\n    setTimeout( function() {\n      delete this.isIgnoringMouseUp;\n    }.bind( this ), 400 );\n  }\n};\n\nproto.staticClick = function( event, pointer ) {\n  this.emitEvent( 'staticClick', [ event, pointer ] );\n};\n\n// ----- utils ----- //\n\nUnidragger.getPointerPoint = Unipointer.getPointerPoint;\n\n// -----  ----- //\n\nreturn Unidragger;\n\n}));\n\n// drag\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'flickity/js/drag',[\n      './flickity',\n      'unidragger/unidragger',\n      'fizzy-ui-utils/utils'\n    ], function( Flickity, Unidragger, utils ) {\n      return factory( window, Flickity, Unidragger, utils );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('./flickity'),\n      require('unidragger'),\n      require('fizzy-ui-utils')\n    );\n  } else {\n    // browser global\n    window.Flickity = factory(\n      window,\n      window.Flickity,\n      window.Unidragger,\n      window.fizzyUIUtils\n    );\n  }\n\n}( window, function factory( window, Flickity, Unidragger, utils ) {\n\n\n\n// ----- defaults ----- //\n\nutils.extend( Flickity.defaults, {\n  draggable: '>1',\n  dragThreshold: 3,\n});\n\n// ----- create ----- //\n\nFlickity.createMethods.push('_createDrag');\n\n// -------------------------- drag prototype -------------------------- //\n\nvar proto = Flickity.prototype;\nutils.extend( proto, Unidragger.prototype );\nproto._touchActionValue = 'pan-y';\n\n// --------------------------  -------------------------- //\n\nvar isTouch = 'createTouch' in document;\nvar isTouchmoveScrollCanceled = false;\n\nproto._createDrag = function() {\n  this.on( 'activate', this.onActivateDrag );\n  this.on( 'uiChange', this._uiChangeDrag );\n  this.on( 'childUIPointerDown', this._childUIPointerDownDrag );\n  this.on( 'deactivate', this.unbindDrag );\n  this.on( 'cellChange', this.updateDraggable );\n  // TODO updateDraggable on resize? if groupCells & slides change\n  // HACK - add seemingly innocuous handler to fix iOS 10 scroll behavior\n  // #457, RubaXa/Sortable#973\n  if ( isTouch && !isTouchmoveScrollCanceled ) {\n    window.addEventListener( 'touchmove', function() {});\n    isTouchmoveScrollCanceled = true;\n  }\n};\n\nproto.onActivateDrag = function() {\n  this.handles = [ this.viewport ];\n  this.bindHandles();\n  this.updateDraggable();\n};\n\nproto.onDeactivateDrag = function() {\n  this.unbindHandles();\n  this.element.classList.remove('is-draggable');\n};\n\nproto.updateDraggable = function() {\n  // disable dragging if less than 2 slides. #278\n  if ( this.options.draggable == '>1' ) {\n    this.isDraggable = this.slides.length > 1;\n  } else {\n    this.isDraggable = this.options.draggable;\n  }\n  if ( this.isDraggable ) {\n    this.element.classList.add('is-draggable');\n  } else {\n    this.element.classList.remove('is-draggable');\n  }\n};\n\n// backwards compatibility\nproto.bindDrag = function() {\n  this.options.draggable = true;\n  this.updateDraggable();\n};\n\nproto.unbindDrag = function() {\n  this.options.draggable = false;\n  this.updateDraggable();\n};\n\nproto._uiChangeDrag = function() {\n  delete this.isFreeScrolling;\n};\n\nproto._childUIPointerDownDrag = function( event ) {\n  // allow focus & preventDefault even when not draggable\n  // so child UI elements keep focus on carousel. #721\n  event.preventDefault();\n  this.pointerDownFocus( event );\n};\n\n// -------------------------- pointer events -------------------------- //\n\nproto.pointerDown = function( event, pointer ) {\n  if ( !this.isDraggable ) {\n    this._pointerDownDefault( event, pointer );\n    return;\n  }\n  var isOkay = this.okayPointerDown( event );\n  if ( !isOkay ) {\n    return;\n  }\n\n  this._pointerDownPreventDefault( event );\n  this.pointerDownFocus( event );\n  // blur\n  if ( document.activeElement != this.element ) {\n    // do not blur if already focused\n    this.pointerDownBlur();\n  }\n\n  // stop if it was moving\n  this.dragX = this.x;\n  this.viewport.classList.add('is-pointer-down');\n  // track scrolling\n  this.pointerDownScroll = getScrollPosition();\n  window.addEventListener( 'scroll', this );\n\n  this._pointerDownDefault( event, pointer );\n};\n\n// default pointerDown logic, used for staticClick\nproto._pointerDownDefault = function( event, pointer ) {\n  // track start event position\n  this.pointerDownPointer = pointer;\n  // bind move and end events\n  this._bindPostStartEvents( event );\n  this.dispatchEvent( 'pointerDown', event, [ pointer ] );\n};\n\nvar focusNodes = {\n  INPUT: true,\n  TEXTAREA: true,\n  SELECT: true,\n};\n\nproto.pointerDownFocus = function( event ) {\n  var isFocusNode = focusNodes[ event.target.nodeName ];\n  if ( !isFocusNode ) {\n    this.focus();\n  }\n};\n\nproto._pointerDownPreventDefault = function( event ) {\n  var isTouchStart = event.type == 'touchstart';\n  var isTouchPointer = event.pointerType == 'touch';\n  var isFocusNode = focusNodes[ event.target.nodeName ];\n  if ( !isTouchStart && !isTouchPointer && !isFocusNode ) {\n    event.preventDefault();\n  }\n};\n\n// ----- move ----- //\n\nproto.hasDragStarted = function( moveVector ) {\n  return Math.abs( moveVector.x ) > this.options.dragThreshold;\n};\n\n// ----- up ----- //\n\nproto.pointerUp = function( event, pointer ) {\n  delete this.isTouchScrolling;\n  this.viewport.classList.remove('is-pointer-down');\n  this.dispatchEvent( 'pointerUp', event, [ pointer ] );\n  this._dragPointerUp( event, pointer );\n};\n\nproto.pointerDone = function() {\n  window.removeEventListener( 'scroll', this );\n  delete this.pointerDownScroll;\n};\n\n// -------------------------- dragging -------------------------- //\n\nproto.dragStart = function( event, pointer ) {\n  if ( !this.isDraggable ) {\n    return;\n  }\n  this.dragStartPosition = this.x;\n  this.startAnimation();\n  window.removeEventListener( 'scroll', this );\n  this.dispatchEvent( 'dragStart', event, [ pointer ] );\n};\n\nproto.pointerMove = function( event, pointer ) {\n  var moveVector = this._dragPointerMove( event, pointer );\n  this.dispatchEvent( 'pointerMove', event, [ pointer, moveVector ] );\n  this._dragMove( event, pointer, moveVector );\n};\n\nproto.dragMove = function( event, pointer, moveVector ) {\n  if ( !this.isDraggable ) {\n    return;\n  }\n  event.preventDefault();\n\n  this.previousDragX = this.dragX;\n  // reverse if right-to-left\n  var direction = this.options.rightToLeft ? -1 : 1;\n  if ( this.options.wrapAround ) {\n    // wrap around move. #589\n    moveVector.x = moveVector.x % this.slideableWidth;\n  }\n  var dragX = this.dragStartPosition + moveVector.x * direction;\n\n  if ( !this.options.wrapAround && this.slides.length ) {\n    // slow drag\n    var originBound = Math.max( -this.slides[0].target, this.dragStartPosition );\n    dragX = dragX > originBound ? ( dragX + originBound ) * 0.5 : dragX;\n    var endBound = Math.min( -this.getLastSlide().target, this.dragStartPosition );\n    dragX = dragX < endBound ? ( dragX + endBound ) * 0.5 : dragX;\n  }\n\n  this.dragX = dragX;\n\n  this.dragMoveTime = new Date();\n  this.dispatchEvent( 'dragMove', event, [ pointer, moveVector ] );\n};\n\nproto.dragEnd = function( event, pointer ) {\n  if ( !this.isDraggable ) {\n    return;\n  }\n  if ( this.options.freeScroll ) {\n    this.isFreeScrolling = true;\n  }\n  // set selectedIndex based on where flick will end up\n  var index = this.dragEndRestingSelect();\n\n  if ( this.options.freeScroll && !this.options.wrapAround ) {\n    // if free-scroll & not wrap around\n    // do not free-scroll if going outside of bounding slides\n    // so bounding slides can attract slider, and keep it in bounds\n    var restingX = this.getRestingPosition();\n    this.isFreeScrolling = -restingX > this.slides[0].target &&\n      -restingX < this.getLastSlide().target;\n  } else if ( !this.options.freeScroll && index == this.selectedIndex ) {\n    // boost selection if selected index has not changed\n    index += this.dragEndBoostSelect();\n  }\n  delete this.previousDragX;\n  // apply selection\n  // TODO refactor this, selecting here feels weird\n  // HACK, set flag so dragging stays in correct direction\n  this.isDragSelect = this.options.wrapAround;\n  this.select( index );\n  delete this.isDragSelect;\n  this.dispatchEvent( 'dragEnd', event, [ pointer ] );\n};\n\nproto.dragEndRestingSelect = function() {\n  var restingX = this.getRestingPosition();\n  // how far away from selected slide\n  var distance = Math.abs( this.getSlideDistance( -restingX, this.selectedIndex ) );\n  // get closet resting going up and going down\n  var positiveResting = this._getClosestResting( restingX, distance, 1 );\n  var negativeResting = this._getClosestResting( restingX, distance, -1 );\n  // use closer resting for wrap-around\n  var index = positiveResting.distance < negativeResting.distance ?\n    positiveResting.index : negativeResting.index;\n  return index;\n};\n\n/**\n * given resting X and distance to selected cell\n * get the distance and index of the closest cell\n * @param {Number} restingX - estimated post-flick resting position\n * @param {Number} distance - distance to selected cell\n * @param {Integer} increment - +1 or -1, going up or down\n * @returns {Object} - { distance: {Number}, index: {Integer} }\n */\nproto._getClosestResting = function( restingX, distance, increment ) {\n  var index = this.selectedIndex;\n  var minDistance = Infinity;\n  var condition = this.options.contain && !this.options.wrapAround ?\n    // if contain, keep going if distance is equal to minDistance\n    function( d, md ) { return d <= md; } : function( d, md ) { return d < md; };\n  while ( condition( distance, minDistance ) ) {\n    // measure distance to next cell\n    index += increment;\n    minDistance = distance;\n    distance = this.getSlideDistance( -restingX, index );\n    if ( distance === null ) {\n      break;\n    }\n    distance = Math.abs( distance );\n  }\n  return {\n    distance: minDistance,\n    // selected was previous index\n    index: index - increment\n  };\n};\n\n/**\n * measure distance between x and a slide target\n * @param {Number} x\n * @param {Integer} index - slide index\n */\nproto.getSlideDistance = function( x, index ) {\n  var len = this.slides.length;\n  // wrap around if at least 2 slides\n  var isWrapAround = this.options.wrapAround && len > 1;\n  var slideIndex = isWrapAround ? utils.modulo( index, len ) : index;\n  var slide = this.slides[ slideIndex ];\n  if ( !slide ) {\n    return null;\n  }\n  // add distance for wrap-around slides\n  var wrap = isWrapAround ? this.slideableWidth * Math.floor( index / len ) : 0;\n  return x - ( slide.target + wrap );\n};\n\nproto.dragEndBoostSelect = function() {\n  // do not boost if no previousDragX or dragMoveTime\n  if ( this.previousDragX === undefined || !this.dragMoveTime ||\n    // or if drag was held for 100 ms\n    new Date() - this.dragMoveTime > 100 ) {\n    return 0;\n  }\n\n  var distance = this.getSlideDistance( -this.dragX, this.selectedIndex );\n  var delta = this.previousDragX - this.dragX;\n  if ( distance > 0 && delta > 0 ) {\n    // boost to next if moving towards the right, and positive velocity\n    return 1;\n  } else if ( distance < 0 && delta < 0 ) {\n    // boost to previous if moving towards the left, and negative velocity\n    return -1;\n  }\n  return 0;\n};\n\n// ----- staticClick ----- //\n\nproto.staticClick = function( event, pointer ) {\n  // get clickedCell, if cell was clicked\n  var clickedCell = this.getParentCell( event.target );\n  var cellElem = clickedCell && clickedCell.element;\n  var cellIndex = clickedCell && this.cells.indexOf( clickedCell );\n  this.dispatchEvent( 'staticClick', event, [ pointer, cellElem, cellIndex ] );\n};\n\n// ----- scroll ----- //\n\nproto.onscroll = function() {\n  var scroll = getScrollPosition();\n  var scrollMoveX = this.pointerDownScroll.x - scroll.x;\n  var scrollMoveY = this.pointerDownScroll.y - scroll.y;\n  // cancel click/tap if scroll is too much\n  if ( Math.abs( scrollMoveX ) > 3 || Math.abs( scrollMoveY ) > 3 ) {\n    this._pointerDone();\n  }\n};\n\n// ----- utils ----- //\n\nfunction getScrollPosition() {\n  return {\n    x: window.pageXOffset,\n    y: window.pageYOffset\n  };\n}\n\n// -----  ----- //\n\nreturn Flickity;\n\n}));\n\n/*!\n * Tap listener v2.0.0\n * listens to taps\n * MIT license\n */\n\n/*jshint browser: true, unused: true, undef: true, strict: true */\n\n( function( window, factory ) {\n  // universal module definition\n  /*jshint strict: false*/ /*globals define, module, require */\n\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'tap-listener/tap-listener',[\n      'unipointer/unipointer'\n    ], function( Unipointer ) {\n      return factory( window, Unipointer );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('unipointer')\n    );\n  } else {\n    // browser global\n    window.TapListener = factory(\n      window,\n      window.Unipointer\n    );\n  }\n\n}( window, function factory( window, Unipointer ) {\n\n\n\n// --------------------------  TapListener -------------------------- //\n\nfunction TapListener( elem ) {\n  this.bindTap( elem );\n}\n\n// inherit Unipointer & EventEmitter\nvar proto = TapListener.prototype = Object.create( Unipointer.prototype );\n\n/**\n * bind tap event to element\n * @param {Element} elem\n */\nproto.bindTap = function( elem ) {\n  if ( !elem ) {\n    return;\n  }\n  this.unbindTap();\n  this.tapElement = elem;\n  this._bindStartEvent( elem, true );\n};\n\nproto.unbindTap = function() {\n  if ( !this.tapElement ) {\n    return;\n  }\n  this._bindStartEvent( this.tapElement, true );\n  delete this.tapElement;\n};\n\n/**\n * pointer up\n * @param {Event} event\n * @param {Event or Touch} pointer\n */\nproto.pointerUp = function( event, pointer ) {\n  // ignore emulated mouse up clicks\n  if ( this.isIgnoringMouseUp && event.type == 'mouseup' ) {\n    return;\n  }\n\n  var pointerPoint = Unipointer.getPointerPoint( pointer );\n  var boundingRect = this.tapElement.getBoundingClientRect();\n  var scrollX = window.pageXOffset;\n  var scrollY = window.pageYOffset;\n  // calculate if pointer is inside tapElement\n  var isInside = pointerPoint.x >= boundingRect.left + scrollX &&\n    pointerPoint.x <= boundingRect.right + scrollX &&\n    pointerPoint.y >= boundingRect.top + scrollY &&\n    pointerPoint.y <= boundingRect.bottom + scrollY;\n  // trigger callback if pointer is inside element\n  if ( isInside ) {\n    this.emitEvent( 'tap', [ event, pointer ] );\n  }\n\n  // set flag for emulated clicks 300ms after touchend\n  if ( event.type != 'mouseup' ) {\n    this.isIgnoringMouseUp = true;\n    // reset flag after 300ms\n    var _this = this;\n    setTimeout( function() {\n      delete _this.isIgnoringMouseUp;\n    }, 400 );\n  }\n};\n\nproto.destroy = function() {\n  this.pointerDone();\n  this.unbindTap();\n};\n\n// -----  ----- //\n\nreturn TapListener;\n\n}));\n\n// prev/next buttons\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'flickity/js/prev-next-button',[\n      './flickity',\n      'tap-listener/tap-listener',\n      'fizzy-ui-utils/utils'\n    ], function( Flickity, TapListener, utils ) {\n      return factory( window, Flickity, TapListener, utils );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('./flickity'),\n      require('tap-listener'),\n      require('fizzy-ui-utils')\n    );\n  } else {\n    // browser global\n    factory(\n      window,\n      window.Flickity,\n      window.TapListener,\n      window.fizzyUIUtils\n    );\n  }\n\n}( window, function factory( window, Flickity, TapListener, utils ) {\n'use strict';\n\nvar svgURI = 'http://www.w3.org/2000/svg';\n\n// -------------------------- PrevNextButton -------------------------- //\n\nfunction PrevNextButton( direction, parent ) {\n  this.direction = direction;\n  this.parent = parent;\n  this._create();\n}\n\nPrevNextButton.prototype = Object.create( TapListener.prototype );\n\nPrevNextButton.prototype._create = function() {\n  // properties\n  this.isEnabled = true;\n  this.isPrevious = this.direction == -1;\n  var leftDirection = this.parent.options.rightToLeft ? 1 : -1;\n  this.isLeft = this.direction == leftDirection;\n\n  var element = this.element = document.createElement('button');\n  element.className = 'flickity-button flickity-prev-next-button';\n  element.className += this.isPrevious ? ' previous' : ' next';\n  // prevent button from submitting form http://stackoverflow.com/a/10836076/182183\n  element.setAttribute( 'type', 'button' );\n  // init as disabled\n  this.disable();\n\n  element.setAttribute( 'aria-label', this.isPrevious ? 'Previous' : 'Next' );\n\n  // create arrow\n  var svg = this.createSVG();\n  element.appendChild( svg );\n  // events\n  this.on( 'tap', this.onTap );\n  this.parent.on( 'select', this.update.bind( this ) );\n  this.on( 'pointerDown', this.parent.childUIPointerDown.bind( this.parent ) );\n};\n\nPrevNextButton.prototype.activate = function() {\n  this.bindTap( this.element );\n  // click events from keyboard\n  this.element.addEventListener( 'click', this );\n  // add to DOM\n  this.parent.element.appendChild( this.element );\n};\n\nPrevNextButton.prototype.deactivate = function() {\n  // remove from DOM\n  this.parent.element.removeChild( this.element );\n  // do regular TapListener destroy\n  TapListener.prototype.destroy.call( this );\n  // click events from keyboard\n  this.element.removeEventListener( 'click', this );\n};\n\nPrevNextButton.prototype.createSVG = function() {\n  var svg = document.createElementNS( svgURI, 'svg');\n  svg.setAttribute( 'class', 'flickity-button-icon' );\n  svg.setAttribute( 'viewBox', '0 0 100 100' );\n  var path = document.createElementNS( svgURI, 'path');\n  var pathMovements = getArrowMovements( this.parent.options.arrowShape );\n  path.setAttribute( 'd', pathMovements );\n  path.setAttribute( 'class', 'arrow' );\n  // rotate arrow\n  if ( !this.isLeft ) {\n    path.setAttribute( 'transform', 'translate(100, 100) rotate(180) ' );\n  }\n  svg.appendChild( path );\n  return svg;\n};\n\n// get SVG path movmement\nfunction getArrowMovements( shape ) {\n  // use shape as movement if string\n  if ( typeof shape == 'string' ) {\n    return shape;\n  }\n  // create movement string\n  return 'M ' + shape.x0 + ',50' +\n    ' L ' + shape.x1 + ',' + ( shape.y1 + 50 ) +\n    ' L ' + shape.x2 + ',' + ( shape.y2 + 50 ) +\n    ' L ' + shape.x3 + ',50 ' +\n    ' L ' + shape.x2 + ',' + ( 50 - shape.y2 ) +\n    ' L ' + shape.x1 + ',' + ( 50 - shape.y1 ) +\n    ' Z';\n}\n\nPrevNextButton.prototype.onTap = function() {\n  if ( !this.isEnabled ) {\n    return;\n  }\n  this.parent.uiChange();\n  var method = this.isPrevious ? 'previous' : 'next';\n  this.parent[ method ]();\n};\n\nPrevNextButton.prototype.handleEvent = utils.handleEvent;\n\nPrevNextButton.prototype.onclick = function( event ) {\n  // only allow clicks from keyboard\n  var focused = document.activeElement;\n  if ( focused && focused == this.element ) {\n    this.onTap( event, event );\n  }\n};\n\n// -----  ----- //\n\nPrevNextButton.prototype.enable = function() {\n  if ( this.isEnabled ) {\n    return;\n  }\n  this.element.disabled = false;\n  this.isEnabled = true;\n};\n\nPrevNextButton.prototype.disable = function() {\n  if ( !this.isEnabled ) {\n    return;\n  }\n  this.element.disabled = true;\n  this.isEnabled = false;\n};\n\nPrevNextButton.prototype.update = function() {\n  // index of first or last slide, if previous or next\n  var slides = this.parent.slides;\n  // enable is wrapAround and at least 2 slides\n  if ( this.parent.options.wrapAround && slides.length > 1 ) {\n    this.enable();\n    return;\n  }\n  var lastIndex = slides.length ? slides.length - 1 : 0;\n  var boundIndex = this.isPrevious ? 0 : lastIndex;\n  var method = this.parent.selectedIndex == boundIndex ? 'disable' : 'enable';\n  this[ method ]();\n};\n\nPrevNextButton.prototype.destroy = function() {\n  this.deactivate();\n};\n\n// -------------------------- Flickity prototype -------------------------- //\n\nutils.extend( Flickity.defaults, {\n  prevNextButtons: true,\n  arrowShape: {\n    x0: 10,\n    x1: 60, y1: 50,\n    x2: 70, y2: 40,\n    x3: 30\n  }\n});\n\nFlickity.createMethods.push('_createPrevNextButtons');\nvar proto = Flickity.prototype;\n\nproto._createPrevNextButtons = function() {\n  if ( !this.options.prevNextButtons ) {\n    return;\n  }\n\n  this.prevButton = new PrevNextButton( -1, this );\n  this.nextButton = new PrevNextButton( 1, this );\n\n  this.on( 'activate', this.activatePrevNextButtons );\n};\n\nproto.activatePrevNextButtons = function() {\n  this.prevButton.activate();\n  this.nextButton.activate();\n  this.on( 'deactivate', this.deactivatePrevNextButtons );\n};\n\nproto.deactivatePrevNextButtons = function() {\n  this.prevButton.deactivate();\n  this.nextButton.deactivate();\n  this.off( 'deactivate', this.deactivatePrevNextButtons );\n};\n\n// --------------------------  -------------------------- //\n\nFlickity.PrevNextButton = PrevNextButton;\n\nreturn Flickity;\n\n}));\n\n// page dots\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'flickity/js/page-dots',[\n      './flickity',\n      'tap-listener/tap-listener',\n      'fizzy-ui-utils/utils'\n    ], function( Flickity, TapListener, utils ) {\n      return factory( window, Flickity, TapListener, utils );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('./flickity'),\n      require('tap-listener'),\n      require('fizzy-ui-utils')\n    );\n  } else {\n    // browser global\n    factory(\n      window,\n      window.Flickity,\n      window.TapListener,\n      window.fizzyUIUtils\n    );\n  }\n\n}( window, function factory( window, Flickity, TapListener, utils ) {\n\n// -------------------------- PageDots -------------------------- //\n\n\n\nfunction PageDots( parent ) {\n  this.parent = parent;\n  this._create();\n}\n\nPageDots.prototype = new TapListener();\n\nPageDots.prototype._create = function() {\n  // create holder element\n  this.holder = document.createElement('ol');\n  this.holder.className = 'flickity-page-dots';\n  // create dots, array of elements\n  this.dots = [];\n  // events\n  this.on( 'tap', this.onTap );\n  this.on( 'pointerDown', this.parent.childUIPointerDown.bind( this.parent ) );\n};\n\nPageDots.prototype.activate = function() {\n  this.setDots();\n  this.bindTap( this.holder );\n  // add to DOM\n  this.parent.element.appendChild( this.holder );\n};\n\nPageDots.prototype.deactivate = function() {\n  // remove from DOM\n  this.parent.element.removeChild( this.holder );\n  TapListener.prototype.destroy.call( this );\n};\n\nPageDots.prototype.setDots = function() {\n  // get difference between number of slides and number of dots\n  var delta = this.parent.slides.length - this.dots.length;\n  if ( delta > 0 ) {\n    this.addDots( delta );\n  } else if ( delta < 0 ) {\n    this.removeDots( -delta );\n  }\n};\n\nPageDots.prototype.addDots = function( count ) {\n  var fragment = document.createDocumentFragment();\n  var newDots = [];\n  var length = this.dots.length;\n  var max = length + count;\n\n  for ( var i = length; i < max; i++ ) {\n    var dot = document.createElement('li');\n    dot.className = 'dot';\n    dot.setAttribute( 'aria-label', 'Page dot ' + ( i + 1 ) );\n    fragment.appendChild( dot );\n    newDots.push( dot );\n  }\n\n  this.holder.appendChild( fragment );\n  this.dots = this.dots.concat( newDots );\n};\n\nPageDots.prototype.removeDots = function( count ) {\n  // remove from this.dots collection\n  var removeDots = this.dots.splice( this.dots.length - count, count );\n  // remove from DOM\n  removeDots.forEach( function( dot ) {\n    this.holder.removeChild( dot );\n  }, this );\n};\n\nPageDots.prototype.updateSelected = function() {\n  // remove selected class on previous\n  if ( this.selectedDot ) {\n    this.selectedDot.className = 'dot';\n    this.selectedDot.removeAttribute('aria-current');\n  }\n  // don't proceed if no dots\n  if ( !this.dots.length ) {\n    return;\n  }\n  this.selectedDot = this.dots[ this.parent.selectedIndex ];\n  this.selectedDot.className = 'dot is-selected';\n  this.selectedDot.setAttribute( 'aria-current', 'step' );\n};\n\nPageDots.prototype.onTap = function( event ) {\n  var target = event.target;\n  // only care about dot clicks\n  if ( target.nodeName != 'LI' ) {\n    return;\n  }\n\n  this.parent.uiChange();\n  var index = this.dots.indexOf( target );\n  this.parent.select( index );\n};\n\nPageDots.prototype.destroy = function() {\n  this.deactivate();\n};\n\nFlickity.PageDots = PageDots;\n\n// -------------------------- Flickity -------------------------- //\n\nutils.extend( Flickity.defaults, {\n  pageDots: true\n});\n\nFlickity.createMethods.push('_createPageDots');\n\nvar proto = Flickity.prototype;\n\nproto._createPageDots = function() {\n  if ( !this.options.pageDots ) {\n    return;\n  }\n  this.pageDots = new PageDots( this );\n  // events\n  this.on( 'activate', this.activatePageDots );\n  this.on( 'select', this.updateSelectedPageDots );\n  this.on( 'cellChange', this.updatePageDots );\n  this.on( 'resize', this.updatePageDots );\n  this.on( 'deactivate', this.deactivatePageDots );\n};\n\nproto.activatePageDots = function() {\n  this.pageDots.activate();\n};\n\nproto.updateSelectedPageDots = function() {\n  this.pageDots.updateSelected();\n};\n\nproto.updatePageDots = function() {\n  this.pageDots.setDots();\n};\n\nproto.deactivatePageDots = function() {\n  this.pageDots.deactivate();\n};\n\n// -----  ----- //\n\nFlickity.PageDots = PageDots;\n\nreturn Flickity;\n\n}));\n\n// player & autoPlay\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'flickity/js/player',[\n      'ev-emitter/ev-emitter',\n      'fizzy-ui-utils/utils',\n      './flickity'\n    ], function( EvEmitter, utils, Flickity ) {\n      return factory( EvEmitter, utils, Flickity );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      require('ev-emitter'),\n      require('fizzy-ui-utils'),\n      require('./flickity')\n    );\n  } else {\n    // browser global\n    factory(\n      window.EvEmitter,\n      window.fizzyUIUtils,\n      window.Flickity\n    );\n  }\n\n}( window, function factory( EvEmitter, utils, Flickity ) {\n\n\n\n// -------------------------- Player -------------------------- //\n\nfunction Player( parent ) {\n  this.parent = parent;\n  this.state = 'stopped';\n  // visibility change event handler\n  this.onVisibilityChange = this.visibilityChange.bind( this );\n  this.onVisibilityPlay = this.visibilityPlay.bind( this );\n}\n\nPlayer.prototype = Object.create( EvEmitter.prototype );\n\n// start play\nPlayer.prototype.play = function() {\n  if ( this.state == 'playing' ) {\n    return;\n  }\n  // do not play if page is hidden, start playing when page is visible\n  var isPageHidden = document.hidden;\n  if ( isPageHidden ) {\n    document.addEventListener( 'visibilitychange', this.onVisibilityPlay );\n    return;\n  }\n\n  this.state = 'playing';\n  // listen to visibility change\n  document.addEventListener( 'visibilitychange', this.onVisibilityChange );\n  // start ticking\n  this.tick();\n};\n\nPlayer.prototype.tick = function() {\n  // do not tick if not playing\n  if ( this.state != 'playing' ) {\n    return;\n  }\n\n  var time = this.parent.options.autoPlay;\n  // default to 3 seconds\n  time = typeof time == 'number' ? time : 3000;\n  var _this = this;\n  // HACK: reset ticks if stopped and started within interval\n  this.clear();\n  this.timeout = setTimeout( function() {\n    _this.parent.next( true );\n    _this.tick();\n  }, time );\n};\n\nPlayer.prototype.stop = function() {\n  this.state = 'stopped';\n  this.clear();\n  // remove visibility change event\n  document.removeEventListener( 'visibilitychange', this.onVisibilityChange );\n};\n\nPlayer.prototype.clear = function() {\n  clearTimeout( this.timeout );\n};\n\nPlayer.prototype.pause = function() {\n  if ( this.state == 'playing' ) {\n    this.state = 'paused';\n    this.clear();\n  }\n};\n\nPlayer.prototype.unpause = function() {\n  // re-start play if paused\n  if ( this.state == 'paused' ) {\n    this.play();\n  }\n};\n\n// pause if page visibility is hidden, unpause if visible\nPlayer.prototype.visibilityChange = function() {\n  var isPageHidden = document.hidden;\n  this[ isPageHidden ? 'pause' : 'unpause' ]();\n};\n\nPlayer.prototype.visibilityPlay = function() {\n  this.play();\n  document.removeEventListener( 'visibilitychange', this.onVisibilityPlay );\n};\n\n// -------------------------- Flickity -------------------------- //\n\nutils.extend( Flickity.defaults, {\n  pauseAutoPlayOnHover: true\n});\n\nFlickity.createMethods.push('_createPlayer');\nvar proto = Flickity.prototype;\n\nproto._createPlayer = function() {\n  this.player = new Player( this );\n\n  this.on( 'activate', this.activatePlayer );\n  this.on( 'uiChange', this.stopPlayer );\n  this.on( 'pointerDown', this.stopPlayer );\n  this.on( 'deactivate', this.deactivatePlayer );\n};\n\nproto.activatePlayer = function() {\n  if ( !this.options.autoPlay ) {\n    return;\n  }\n  this.player.play();\n  this.element.addEventListener( 'mouseenter', this );\n};\n\n// Player API, don't hate the ... thanks I know where the door is\n\nproto.playPlayer = function() {\n  this.player.play();\n};\n\nproto.stopPlayer = function() {\n  this.player.stop();\n};\n\nproto.pausePlayer = function() {\n  this.player.pause();\n};\n\nproto.unpausePlayer = function() {\n  this.player.unpause();\n};\n\nproto.deactivatePlayer = function() {\n  this.player.stop();\n  this.element.removeEventListener( 'mouseenter', this );\n};\n\n// ----- mouseenter/leave ----- //\n\n// pause auto-play on hover\nproto.onmouseenter = function() {\n  if ( !this.options.pauseAutoPlayOnHover ) {\n    return;\n  }\n  this.player.pause();\n  this.element.addEventListener( 'mouseleave', this );\n};\n\n// resume auto-play on hover off\nproto.onmouseleave = function() {\n  this.player.unpause();\n  this.element.removeEventListener( 'mouseleave', this );\n};\n\n// -----  ----- //\n\nFlickity.Player = Player;\n\nreturn Flickity;\n\n}));\n\n// add, remove cell\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'flickity/js/add-remove-cell',[\n      './flickity',\n      'fizzy-ui-utils/utils'\n    ], function( Flickity, utils ) {\n      return factory( window, Flickity, utils );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('./flickity'),\n      require('fizzy-ui-utils')\n    );\n  } else {\n    // browser global\n    factory(\n      window,\n      window.Flickity,\n      window.fizzyUIUtils\n    );\n  }\n\n}( window, function factory( window, Flickity, utils ) {\n\n\n\n// append cells to a document fragment\nfunction getCellsFragment( cells ) {\n  var fragment = document.createDocumentFragment();\n  cells.forEach( function( cell ) {\n    fragment.appendChild( cell.element );\n  });\n  return fragment;\n}\n\n// -------------------------- add/remove cell prototype -------------------------- //\n\nvar proto = Flickity.prototype;\n\n/**\n * Insert, prepend, or append cells\n * @param {Element, Array, NodeList} elems\n * @param {Integer} index\n */\nproto.insert = function( elems, index ) {\n  var cells = this._makeCells( elems );\n  if ( !cells || !cells.length ) {\n    return;\n  }\n  var len = this.cells.length;\n  // default to append\n  index = index === undefined ? len : index;\n  // add cells with document fragment\n  var fragment = getCellsFragment( cells );\n  // append to slider\n  var isAppend = index == len;\n  if ( isAppend ) {\n    this.slider.appendChild( fragment );\n  } else {\n    var insertCellElement = this.cells[ index ].element;\n    this.slider.insertBefore( fragment, insertCellElement );\n  }\n  // add to this.cells\n  if ( index === 0 ) {\n    // prepend, add to start\n    this.cells = cells.concat( this.cells );\n  } else if ( isAppend ) {\n    // append, add to end\n    this.cells = this.cells.concat( cells );\n  } else {\n    // insert in this.cells\n    var endCells = this.cells.splice( index, len - index );\n    this.cells = this.cells.concat( cells ).concat( endCells );\n  }\n\n  this._sizeCells( cells );\n  this.cellChange( index, true );\n};\n\nproto.append = function( elems ) {\n  this.insert( elems, this.cells.length );\n};\n\nproto.prepend = function( elems ) {\n  this.insert( elems, 0 );\n};\n\n/**\n * Remove cells\n * @param {Element, Array, NodeList} elems\n */\nproto.remove = function( elems ) {\n  var cells = this.getCells( elems );\n  if ( !cells || !cells.length ) {\n    return;\n  }\n\n  var minCellIndex = this.cells.length - 1;\n  // remove cells from collection & DOM\n  cells.forEach( function( cell ) {\n    cell.remove();\n    var index = this.cells.indexOf( cell );\n    minCellIndex = Math.min( index, minCellIndex );\n    utils.removeFrom( this.cells, cell );\n  }, this );\n\n  this.cellChange( minCellIndex, true );\n};\n\n/**\n * logic to be run after a cell's size changes\n * @param {Element} elem - cell's element\n */\nproto.cellSizeChange = function( elem ) {\n  var cell = this.getCell( elem );\n  if ( !cell ) {\n    return;\n  }\n  cell.getSize();\n\n  var index = this.cells.indexOf( cell );\n  this.cellChange( index );\n};\n\n/**\n * logic any time a cell is changed: added, removed, or size changed\n * @param {Integer} changedCellIndex - index of the changed cell, optional\n */\nproto.cellChange = function( changedCellIndex, isPositioningSlider ) {\n  var prevSelectedElem = this.selectedElement;\n  this._positionCells( changedCellIndex );\n  this._getWrapShiftCells();\n  this.setGallerySize();\n  // update selectedIndex\n  // try to maintain position & select previous selected element\n  var cell = this.getCell( prevSelectedElem );\n  if ( cell ) {\n    this.selectedIndex = this.getCellSlideIndex( cell );\n  }\n  this.selectedIndex = Math.min( this.slides.length - 1, this.selectedIndex );\n\n  this.emitEvent( 'cellChange', [ changedCellIndex ] );\n  // position slider\n  this.select( this.selectedIndex );\n  // do not position slider after lazy load\n  if ( isPositioningSlider ) {\n    this.positionSliderAtSelected();\n  }\n};\n\n// -----  ----- //\n\nreturn Flickity;\n\n}));\n\n// lazyload\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'flickity/js/lazyload',[\n      './flickity',\n      'fizzy-ui-utils/utils'\n    ], function( Flickity, utils ) {\n      return factory( window, Flickity, utils );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('./flickity'),\n      require('fizzy-ui-utils')\n    );\n  } else {\n    // browser global\n    factory(\n      window,\n      window.Flickity,\n      window.fizzyUIUtils\n    );\n  }\n\n}( window, function factory( window, Flickity, utils ) {\n'use strict';\n\nFlickity.createMethods.push('_createLazyload');\nvar proto = Flickity.prototype;\n\nproto._createLazyload = function() {\n  this.on( 'select', this.lazyLoad );\n};\n\nproto.lazyLoad = function() {\n  var lazyLoad = this.options.lazyLoad;\n  if ( !lazyLoad ) {\n    return;\n  }\n  // get adjacent cells, use lazyLoad option for adjacent count\n  var adjCount = typeof lazyLoad == 'number' ? lazyLoad : 0;\n  var cellElems = this.getAdjacentCellElements( adjCount );\n  // get lazy images in those cells\n  var lazyImages = [];\n  cellElems.forEach( function( cellElem ) {\n    var lazyCellImages = getCellLazyImages( cellElem );\n    lazyImages = lazyImages.concat( lazyCellImages );\n  });\n  // load lazy images\n  lazyImages.forEach( function( img ) {\n    new LazyLoader( img, this );\n  }, this );\n};\n\nfunction getCellLazyImages( cellElem ) {\n  // check if cell element is lazy image\n  if ( cellElem.nodeName == 'IMG' ) {\n    var lazyloadAttr = cellElem.getAttribute('data-flickity-lazyload');\n    var srcAttr = cellElem.getAttribute('data-flickity-lazyload-src');\n    var srcsetAttr = cellElem.getAttribute('data-flickity-lazyload-srcset');\n    if ( lazyloadAttr || srcAttr || srcsetAttr ) {\n      return [ cellElem ];\n    }\n  }\n  // select lazy images in cell\n  var lazySelector = 'img[data-flickity-lazyload], ' +\n    'img[data-flickity-lazyload-src], img[data-flickity-lazyload-srcset]';\n  var imgs = cellElem.querySelectorAll( lazySelector );\n  return utils.makeArray( imgs );\n}\n\n// -------------------------- LazyLoader -------------------------- //\n\n/**\n * class to handle loading images\n */\nfunction LazyLoader( img, flickity ) {\n  this.img = img;\n  this.flickity = flickity;\n  this.load();\n}\n\nLazyLoader.prototype.handleEvent = utils.handleEvent;\n\nLazyLoader.prototype.load = function() {\n  this.img.addEventListener( 'load', this );\n  this.img.addEventListener( 'error', this );\n  // get src & srcset\n  var src = this.img.getAttribute('data-flickity-lazyload') ||\n    this.img.getAttribute('data-flickity-lazyload-src');\n  var srcset = this.img.getAttribute('data-flickity-lazyload-srcset');\n  // set src & serset\n  this.img.src = src;\n  if ( srcset ) {\n    this.img.setAttribute( 'srcset', srcset );\n  }\n  // remove attr\n  this.img.removeAttribute('data-flickity-lazyload');\n  this.img.removeAttribute('data-flickity-lazyload-src');\n  this.img.removeAttribute('data-flickity-lazyload-srcset');\n};\n\nLazyLoader.prototype.onload = function( event ) {\n  this.complete( event, 'flickity-lazyloaded' );\n};\n\nLazyLoader.prototype.onerror = function( event ) {\n  this.complete( event, 'flickity-lazyerror' );\n};\n\nLazyLoader.prototype.complete = function( event, className ) {\n  // unbind events\n  this.img.removeEventListener( 'load', this );\n  this.img.removeEventListener( 'error', this );\n\n  var cell = this.flickity.getParentCell( this.img );\n  var cellElem = cell && cell.element;\n  this.flickity.cellSizeChange( cellElem );\n\n  this.img.classList.add( className );\n  this.flickity.dispatchEvent( 'lazyLoad', event, cellElem );\n};\n\n// -----  ----- //\n\nFlickity.LazyLoader = LazyLoader;\n\nreturn Flickity;\n\n}));\n\n/*!\n * Flickity v2.1.1\n * Touch, responsive, flickable carousels\n *\n * Licensed GPLv3 for open source use\n * or Flickity Commercial License for commercial use\n *\n * https://flickity.metafizzy.co\n * Copyright 2015-2018 Metafizzy\n */\n\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'flickity/js/index',[\n      './flickity',\n      './drag',\n      './prev-next-button',\n      './page-dots',\n      './player',\n      './add-remove-cell',\n      './lazyload'\n    ], factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      require('./flickity'),\n      require('./drag'),\n      require('./prev-next-button'),\n      require('./page-dots'),\n      require('./player'),\n      require('./add-remove-cell'),\n      require('./lazyload')\n    );\n  }\n\n})( window, function factory( Flickity ) {\n  /*jshint strict: false*/\n  return Flickity;\n});\n\n/*!\n * Flickity asNavFor v2.0.1\n * enable asNavFor for Flickity\n */\n\n/*jshint browser: true, undef: true, unused: true, strict: true*/\n\n( function( window, factory ) {\n  // universal module definition\n  /*jshint strict: false */ /*globals define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'flickity-as-nav-for/as-nav-for',[\n      'flickity/js/index',\n      'fizzy-ui-utils/utils'\n    ], factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      require('flickity'),\n      require('fizzy-ui-utils')\n    );\n  } else {\n    // browser global\n    window.Flickity = factory(\n      window.Flickity,\n      window.fizzyUIUtils\n    );\n  }\n\n}( window, function factory( Flickity, utils ) {\n\n\n\n// -------------------------- asNavFor prototype -------------------------- //\n\n// Flickity.defaults.asNavFor = null;\n\nFlickity.createMethods.push('_createAsNavFor');\n\nvar proto = Flickity.prototype;\n\nproto._createAsNavFor = function() {\n  this.on( 'activate', this.activateAsNavFor );\n  this.on( 'deactivate', this.deactivateAsNavFor );\n  this.on( 'destroy', this.destroyAsNavFor );\n\n  var asNavForOption = this.options.asNavFor;\n  if ( !asNavForOption ) {\n    return;\n  }\n  // HACK do async, give time for other flickity to be initalized\n  var _this = this;\n  setTimeout( function initNavCompanion() {\n    _this.setNavCompanion( asNavForOption );\n  });\n};\n\nproto.setNavCompanion = function( elem ) {\n  elem = utils.getQueryElement( elem );\n  var companion = Flickity.data( elem );\n  // stop if no companion or companion is self\n  if ( !companion || companion == this ) {\n    return;\n  }\n\n  this.navCompanion = companion;\n  // companion select\n  var _this = this;\n  this.onNavCompanionSelect = function() {\n    _this.navCompanionSelect();\n  };\n  companion.on( 'select', this.onNavCompanionSelect );\n  // click\n  this.on( 'staticClick', this.onNavStaticClick );\n\n  this.navCompanionSelect( true );\n};\n\nproto.navCompanionSelect = function( isInstant ) {\n  if ( !this.navCompanion ) {\n    return;\n  }\n  // select slide that matches first cell of slide\n  var selectedCell = this.navCompanion.selectedCells[0];\n  var firstIndex = this.navCompanion.cells.indexOf( selectedCell );\n  var lastIndex = firstIndex + this.navCompanion.selectedCells.length - 1;\n  var selectIndex = Math.floor( lerp( firstIndex, lastIndex,\n    this.navCompanion.cellAlign ) );\n  this.selectCell( selectIndex, false, isInstant );\n  // set nav selected class\n  this.removeNavSelectedElements();\n  // stop if companion has more cells than this one\n  if ( selectIndex >= this.cells.length ) {\n    return;\n  }\n\n  var selectedCells = this.cells.slice( firstIndex, lastIndex + 1 );\n  this.navSelectedElements = selectedCells.map( function( cell ) {\n    return cell.element;\n  });\n  this.changeNavSelectedClass('add');\n};\n\nfunction lerp( a, b, t ) {\n  return ( b - a ) * t + a;\n}\n\nproto.changeNavSelectedClass = function( method ) {\n  this.navSelectedElements.forEach( function( navElem ) {\n    navElem.classList[ method ]('is-nav-selected');\n  });\n};\n\nproto.activateAsNavFor = function() {\n  this.navCompanionSelect( true );\n};\n\nproto.removeNavSelectedElements = function() {\n  if ( !this.navSelectedElements ) {\n    return;\n  }\n  this.changeNavSelectedClass('remove');\n  delete this.navSelectedElements;\n};\n\nproto.onNavStaticClick = function( event, pointer, cellElement, cellIndex ) {\n  if ( typeof cellIndex == 'number' ) {\n    this.navCompanion.selectCell( cellIndex );\n  }\n};\n\nproto.deactivateAsNavFor = function() {\n  this.removeNavSelectedElements();\n};\n\nproto.destroyAsNavFor = function() {\n  if ( !this.navCompanion ) {\n    return;\n  }\n  this.navCompanion.off( 'select', this.onNavCompanionSelect );\n  this.off( 'staticClick', this.onNavStaticClick );\n  delete this.navCompanion;\n};\n\n// -----  ----- //\n\nreturn Flickity;\n\n}));\n\n/*!\n * imagesLoaded v4.1.4\n * JavaScript is all like \"You images are done yet or what?\"\n * MIT License\n */\n\n( function( window, factory ) { 'use strict';\n  // universal module definition\n\n  /*global define: false, module: false, require: false */\n\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'imagesloaded/imagesloaded',[\n      'ev-emitter/ev-emitter'\n    ], function( EvEmitter ) {\n      return factory( window, EvEmitter );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('ev-emitter')\n    );\n  } else {\n    // browser global\n    window.imagesLoaded = factory(\n      window,\n      window.EvEmitter\n    );\n  }\n\n})( typeof window !== 'undefined' ? window : this,\n\n// --------------------------  factory -------------------------- //\n\nfunction factory( window, EvEmitter ) {\n\n\n\nvar $ = window.jQuery;\nvar console = window.console;\n\n// -------------------------- helpers -------------------------- //\n\n// extend objects\nfunction extend( a, b ) {\n  for ( var prop in b ) {\n    a[ prop ] = b[ prop ];\n  }\n  return a;\n}\n\nvar arraySlice = Array.prototype.slice;\n\n// turn element or nodeList into an array\nfunction makeArray( obj ) {\n  if ( Array.isArray( obj ) ) {\n    // use object if already an array\n    return obj;\n  }\n\n  var isArrayLike = typeof obj == 'object' && typeof obj.length == 'number';\n  if ( isArrayLike ) {\n    // convert nodeList to array\n    return arraySlice.call( obj );\n  }\n\n  // array of single index\n  return [ obj ];\n}\n\n// -------------------------- imagesLoaded -------------------------- //\n\n/**\n * @param {Array, Element, NodeList, String} elem\n * @param {Object or Function} options - if function, use as callback\n * @param {Function} onAlways - callback function\n */\nfunction ImagesLoaded( elem, options, onAlways ) {\n  // coerce ImagesLoaded() without new, to be new ImagesLoaded()\n  if ( !( this instanceof ImagesLoaded ) ) {\n    return new ImagesLoaded( elem, options, onAlways );\n  }\n  // use elem as selector string\n  var queryElem = elem;\n  if ( typeof elem == 'string' ) {\n    queryElem = document.querySelectorAll( elem );\n  }\n  // bail if bad element\n  if ( !queryElem ) {\n    console.error( 'Bad element for imagesLoaded ' + ( queryElem || elem ) );\n    return;\n  }\n\n  this.elements = makeArray( queryElem );\n  this.options = extend( {}, this.options );\n  // shift arguments if no options set\n  if ( typeof options == 'function' ) {\n    onAlways = options;\n  } else {\n    extend( this.options, options );\n  }\n\n  if ( onAlways ) {\n    this.on( 'always', onAlways );\n  }\n\n  this.getImages();\n\n  if ( $ ) {\n    // add jQuery Deferred object\n    this.jqDeferred = new $.Deferred();\n  }\n\n  // HACK check async to allow time to bind listeners\n  setTimeout( this.check.bind( this ) );\n}\n\nImagesLoaded.prototype = Object.create( EvEmitter.prototype );\n\nImagesLoaded.prototype.options = {};\n\nImagesLoaded.prototype.getImages = function() {\n  this.images = [];\n\n  // filter & find items if we have an item selector\n  this.elements.forEach( this.addElementImages, this );\n};\n\n/**\n * @param {Node} element\n */\nImagesLoaded.prototype.addElementImages = function( elem ) {\n  // filter siblings\n  if ( elem.nodeName == 'IMG' ) {\n    this.addImage( elem );\n  }\n  // get background image on element\n  if ( this.options.background === true ) {\n    this.addElementBackgroundImages( elem );\n  }\n\n  // find children\n  // no non-element nodes, #143\n  var nodeType = elem.nodeType;\n  if ( !nodeType || !elementNodeTypes[ nodeType ] ) {\n    return;\n  }\n  var childImgs = elem.querySelectorAll('img');\n  // concat childElems to filterFound array\n  for ( var i=0; i < childImgs.length; i++ ) {\n    var img = childImgs[i];\n    this.addImage( img );\n  }\n\n  // get child background images\n  if ( typeof this.options.background == 'string' ) {\n    var children = elem.querySelectorAll( this.options.background );\n    for ( i=0; i < children.length; i++ ) {\n      var child = children[i];\n      this.addElementBackgroundImages( child );\n    }\n  }\n};\n\nvar elementNodeTypes = {\n  1: true,\n  9: true,\n  11: true\n};\n\nImagesLoaded.prototype.addElementBackgroundImages = function( elem ) {\n  var style = getComputedStyle( elem );\n  if ( !style ) {\n    // Firefox returns null if in a hidden iframe https://bugzil.la/548397\n    return;\n  }\n  // get url inside url(\"...\")\n  var reURL = /url\\((['\"])?(.*?)\\1\\)/gi;\n  var matches = reURL.exec( style.backgroundImage );\n  while ( matches !== null ) {\n    var url = matches && matches[2];\n    if ( url ) {\n      this.addBackground( url, elem );\n    }\n    matches = reURL.exec( style.backgroundImage );\n  }\n};\n\n/**\n * @param {Image} img\n */\nImagesLoaded.prototype.addImage = function( img ) {\n  var loadingImage = new LoadingImage( img );\n  this.images.push( loadingImage );\n};\n\nImagesLoaded.prototype.addBackground = function( url, elem ) {\n  var background = new Background( url, elem );\n  this.images.push( background );\n};\n\nImagesLoaded.prototype.check = function() {\n  var _this = this;\n  this.progressedCount = 0;\n  this.hasAnyBroken = false;\n  // complete if no images\n  if ( !this.images.length ) {\n    this.complete();\n    return;\n  }\n\n  function onProgress( image, elem, message ) {\n    // HACK - Chrome triggers event before object properties have changed. #83\n    setTimeout( function() {\n      _this.progress( image, elem, message );\n    });\n  }\n\n  this.images.forEach( function( loadingImage ) {\n    loadingImage.once( 'progress', onProgress );\n    loadingImage.check();\n  });\n};\n\nImagesLoaded.prototype.progress = function( image, elem, message ) {\n  this.progressedCount++;\n  this.hasAnyBroken = this.hasAnyBroken || !image.isLoaded;\n  // progress event\n  this.emitEvent( 'progress', [ this, image, elem ] );\n  if ( this.jqDeferred && this.jqDeferred.notify ) {\n    this.jqDeferred.notify( this, image );\n  }\n  // check if completed\n  if ( this.progressedCount == this.images.length ) {\n    this.complete();\n  }\n\n  if ( this.options.debug && console ) {\n    console.log( 'progress: ' + message, image, elem );\n  }\n};\n\nImagesLoaded.prototype.complete = function() {\n  var eventName = this.hasAnyBroken ? 'fail' : 'done';\n  this.isComplete = true;\n  this.emitEvent( eventName, [ this ] );\n  this.emitEvent( 'always', [ this ] );\n  if ( this.jqDeferred ) {\n    var jqMethod = this.hasAnyBroken ? 'reject' : 'resolve';\n    this.jqDeferred[ jqMethod ]( this );\n  }\n};\n\n// --------------------------  -------------------------- //\n\nfunction LoadingImage( img ) {\n  this.img = img;\n}\n\nLoadingImage.prototype = Object.create( EvEmitter.prototype );\n\nLoadingImage.prototype.check = function() {\n  // If complete is true and browser supports natural sizes,\n  // try to check for image status manually.\n  var isComplete = this.getIsImageComplete();\n  if ( isComplete ) {\n    // report based on naturalWidth\n    this.confirm( this.img.naturalWidth !== 0, 'naturalWidth' );\n    return;\n  }\n\n  // If none of the checks above matched, simulate loading on detached element.\n  this.proxyImage = new Image();\n  this.proxyImage.addEventListener( 'load', this );\n  this.proxyImage.addEventListener( 'error', this );\n  // bind to image as well for Firefox. #191\n  this.img.addEventListener( 'load', this );\n  this.img.addEventListener( 'error', this );\n  this.proxyImage.src = this.img.src;\n};\n\nLoadingImage.prototype.getIsImageComplete = function() {\n  // check for non-zero, non-undefined naturalWidth\n  // fixes Safari+InfiniteScroll+Masonry bug infinite-scroll#671\n  return this.img.complete && this.img.naturalWidth;\n};\n\nLoadingImage.prototype.confirm = function( isLoaded, message ) {\n  this.isLoaded = isLoaded;\n  this.emitEvent( 'progress', [ this, this.img, message ] );\n};\n\n// ----- events ----- //\n\n// trigger specified handler for event type\nLoadingImage.prototype.handleEvent = function( event ) {\n  var method = 'on' + event.type;\n  if ( this[ method ] ) {\n    this[ method ]( event );\n  }\n};\n\nLoadingImage.prototype.onload = function() {\n  this.confirm( true, 'onload' );\n  this.unbindEvents();\n};\n\nLoadingImage.prototype.onerror = function() {\n  this.confirm( false, 'onerror' );\n  this.unbindEvents();\n};\n\nLoadingImage.prototype.unbindEvents = function() {\n  this.proxyImage.removeEventListener( 'load', this );\n  this.proxyImage.removeEventListener( 'error', this );\n  this.img.removeEventListener( 'load', this );\n  this.img.removeEventListener( 'error', this );\n};\n\n// -------------------------- Background -------------------------- //\n\nfunction Background( url, element ) {\n  this.url = url;\n  this.element = element;\n  this.img = new Image();\n}\n\n// inherit LoadingImage prototype\nBackground.prototype = Object.create( LoadingImage.prototype );\n\nBackground.prototype.check = function() {\n  this.img.addEventListener( 'load', this );\n  this.img.addEventListener( 'error', this );\n  this.img.src = this.url;\n  // check if image is already complete\n  var isComplete = this.getIsImageComplete();\n  if ( isComplete ) {\n    this.confirm( this.img.naturalWidth !== 0, 'naturalWidth' );\n    this.unbindEvents();\n  }\n};\n\nBackground.prototype.unbindEvents = function() {\n  this.img.removeEventListener( 'load', this );\n  this.img.removeEventListener( 'error', this );\n};\n\nBackground.prototype.confirm = function( isLoaded, message ) {\n  this.isLoaded = isLoaded;\n  this.emitEvent( 'progress', [ this, this.element, message ] );\n};\n\n// -------------------------- jQuery -------------------------- //\n\nImagesLoaded.makeJQueryPlugin = function( jQuery ) {\n  jQuery = jQuery || window.jQuery;\n  if ( !jQuery ) {\n    return;\n  }\n  // set local variable\n  $ = jQuery;\n  // $().imagesLoaded()\n  $.fn.imagesLoaded = function( options, callback ) {\n    var instance = new ImagesLoaded( this, options, callback );\n    return instance.jqDeferred.promise( $(this) );\n  };\n};\n// try making plugin\nImagesLoaded.makeJQueryPlugin();\n\n// --------------------------  -------------------------- //\n\nreturn ImagesLoaded;\n\n});\n\n/*!\n * Flickity imagesLoaded v2.0.0\n * enables imagesLoaded option for Flickity\n */\n\n/*jshint browser: true, strict: true, undef: true, unused: true */\n\n( function( window, factory ) {\n  // universal module definition\n  /*jshint strict: false */ /*globals define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      'flickity/js/index',\n      'imagesloaded/imagesloaded'\n    ], function( Flickity, imagesLoaded ) {\n      return factory( window, Flickity, imagesLoaded );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('flickity'),\n      require('imagesloaded')\n    );\n  } else {\n    // browser global\n    window.Flickity = factory(\n      window,\n      window.Flickity,\n      window.imagesLoaded\n    );\n  }\n\n}( window, function factory( window, Flickity, imagesLoaded ) {\n'use strict';\n\nFlickity.createMethods.push('_createImagesLoaded');\n\nvar proto = Flickity.prototype;\n\nproto._createImagesLoaded = function() {\n  this.on( 'activate', this.imagesLoaded );\n};\n\nproto.imagesLoaded = function() {\n  if ( !this.options.imagesLoaded ) {\n    return;\n  }\n  var _this = this;\n  function onImagesLoadedProgress( instance, image ) {\n    var cell = _this.getParentCell( image.img );\n    _this.cellSizeChange( cell && cell.element );\n    if ( !_this.options.freeScroll ) {\n      _this.positionSliderAtSelected();\n    }\n  }\n  imagesLoaded( this.slider ).on( 'progress', onImagesLoadedProgress );\n};\n\nreturn Flickity;\n\n}));\n","/**\n * Flickity background lazyload v1.0.0\n * lazyload background cell images\n */\n\n/*jshint browser: true, unused: true, undef: true */\n\n( function( window, factory ) {\n  // universal module definition\n  /*globals define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      'flickity/js/index',\n      'fizzy-ui-utils/utils'\n    ], factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      require('flickity'),\n      require('fizzy-ui-utils')\n    );\n  } else {\n    // browser global\n    factory(\n      window.Flickity,\n      window.fizzyUIUtils\n    );\n  }\n\n}( window, function factory( Flickity, utils ) {\n/*jshint strict: true */\n'use strict';\n\nFlickity.createMethods.push('_createBgLazyLoad');\n\nvar proto = Flickity.prototype;\n\nproto._createBgLazyLoad = function() {\n  this.on( 'select', this.bgLazyLoad );\n};\n\nproto.bgLazyLoad = function() {\n  var lazyLoad = this.options.bgLazyLoad;\n  if ( !lazyLoad ) {\n    return;\n  }\n\n  // get adjacent cells, use lazyLoad option for adjacent count\n  var adjCount = typeof lazyLoad == 'number' ? lazyLoad : 0;\n  var cellElems = this.getAdjacentCellElements( adjCount );\n\n  for ( var i=0; i < cellElems.length; i++ ) {\n    var cellElem = cellElems[i];\n    this.bgLazyLoadElem( cellElem );\n    // select lazy elems in cell\n    var children = cellElem.querySelectorAll('[data-flickity-bg-lazyload]');\n    for ( var j=0; j < children.length; j++ ) {\n      this.bgLazyLoadElem( children[j] );\n    }\n  }\n};\n\nproto.bgLazyLoadElem = function( elem ) {\n  var attr = elem.getAttribute('data-flickity-bg-lazyload');\n  if ( attr ) {\n    new BgLazyLoader( elem, attr, this );\n  }\n};\n\n// -------------------------- LazyBGLoader -------------------------- //\n\n/**\n * class to handle loading images\n */\nfunction BgLazyLoader( elem, url, flickity ) {\n  this.element = elem;\n  this.url = url;\n  this.img = new Image();\n  this.flickity = flickity;\n  this.load();\n}\n\nBgLazyLoader.prototype.handleEvent = utils.handleEvent;\n\nBgLazyLoader.prototype.load = function() {\n  this.img.addEventListener( 'load', this );\n  this.img.addEventListener( 'error', this );\n  // load image\n  this.img.src = this.url;\n  // remove attr\n  this.element.removeAttribute('data-flickity-bg-lazyload');\n};\n\nBgLazyLoader.prototype.onload = function( event ) {\n  this.element.style.backgroundImage = 'url(' + this.url + ')';\n  this.complete( event, 'flickity-bg-lazyloaded' );\n};\n\nBgLazyLoader.prototype.onerror = function( event ) {\n  this.complete( event, 'flickity-bg-lazyerror' );\n};\n\nBgLazyLoader.prototype.complete = function( event, className ) {\n  // unbind events\n  this.img.removeEventListener( 'load', this );\n  this.img.removeEventListener( 'error', this );\n\n  this.element.classList.add( className );\n  this.flickity.dispatchEvent( 'bgLazyLoad', event, this.element );\n};\n\n// -----  ----- //\n\nFlickity.BgLazyLoader = BgLazyLoader;\n\nreturn Flickity;\n\n}));\n","/**\n*  Ajax Autocomplete for jQuery, version 1.2.27\n*  (c) 2015 Tomas Kirda\n*\n*  Ajax Autocomplete for jQuery is freely distributable under the terms of an MIT-style license.\n*  For details, see the web site: https://github.com/devbridge/jQuery-Autocomplete\n*/\n\n/*jslint  browser: true, white: true, single: true, this: true, multivar: true */\n/*global define, window, document, jQuery, exports, require */\n\n// Expose plugin as an AMD module if AMD loader is present:\n(function (factory) {\n    \"use strict\";\n    if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define(['jquery'], factory);\n    } else if (typeof exports === 'object' && typeof require === 'function') {\n        // Browserify\n        factory(require('jquery'));\n    } else {\n        // Browser globals\n        factory(jQuery);\n    }\n}(function ($) {\n    'use strict';\n\n    var\n        utils = (function () {\n            return {\n                escapeRegExChars: function (value) {\n                    return value.replace(/[|\\\\{}()[\\]^$+*?.]/g, \"\\\\$&\");\n                },\n                createNode: function (containerClass) {\n                    var div = document.createElement('div');\n                    div.className = containerClass;\n                    div.style.position = 'absolute';\n                    div.style.display = 'none';\n                    return div;\n                }\n            };\n        }()),\n\n        keys = {\n            ESC: 27,\n            TAB: 9,\n            RETURN: 13,\n            LEFT: 37,\n            UP: 38,\n            RIGHT: 39,\n            DOWN: 40\n        };\n\n    function Autocomplete(el, options) {\n        var noop = $.noop,\n            that = this,\n            defaults = {\n                ajaxSettings: {},\n                autoSelectFirst: false,\n                appendTo: document.body,\n                serviceUrl: null,\n                lookup: null,\n                onSelect: null,\n                width: 'auto',\n                minChars: 1,\n                maxHeight: 300,\n                deferRequestBy: 0,\n                params: {},\n                formatResult: Autocomplete.formatResult,\n                delimiter: null,\n                zIndex: 9999,\n                type: 'GET',\n                noCache: false,\n                onSearchStart: noop,\n                onSearchComplete: noop,\n                onSearchError: noop,\n                preserveInput: false,\n                containerClass: 'autocomplete-suggestions',\n                tabDisabled: false,\n                dataType: 'text',\n                currentRequest: null,\n                triggerSelectOnValidInput: true,\n                preventBadQueries: true,\n                lookupFilter: function (suggestion, originalQuery, queryLowerCase) {\n                    return suggestion.value.toLowerCase().indexOf(queryLowerCase) !== -1;\n                },\n                paramName: 'query',\n                transformResult: function (response) {\n                    return typeof response === 'string' ? $.parseJSON(response) : response;\n                },\n                showNoSuggestionNotice: false,\n                noSuggestionNotice: 'No results',\n                orientation: 'bottom',\n                forceFixPosition: false\n            };\n\n        // Shared variables:\n        that.element = el;\n        that.el = $(el);\n        that.suggestions = [];\n        that.badQueries = [];\n        that.selectedIndex = -1;\n        that.currentValue = that.element.value;\n        that.intervalId = 0;\n        that.cachedResponse = {};\n        that.onChangeInterval = null;\n        that.onChange = null;\n        that.isLocal = false;\n        that.suggestionsContainer = null;\n        that.noSuggestionsContainer = null;\n        that.options = $.extend({}, defaults, options);\n        that.classes = {\n            selected: 'autocomplete-selected',\n            suggestion: 'autocomplete-suggestion'\n        };\n        that.hint = null;\n        that.hintValue = '';\n        that.selection = null;\n\n        // Initialize and set options:\n        that.initialize();\n        that.setOptions(options);\n    }\n\n    Autocomplete.utils = utils;\n\n    $.Autocomplete = Autocomplete;\n\n    Autocomplete.formatResult = function (suggestion, currentValue) {\n        // Do not replace anything if there current value is empty\n        if (!currentValue) {\n            return suggestion.value;\n        }\n        \n        var pattern = '(' + utils.escapeRegExChars(currentValue) + ')';\n\n        return suggestion.value\n            .replace(new RegExp(pattern, 'gi'), '<strong>$1<\\/strong>')\n            .replace(/&/g, '&amp;')\n            .replace(/</g, '&lt;')\n            .replace(/>/g, '&gt;')\n            .replace(/\"/g, '&quot;')\n            .replace(/&lt;(\\/?strong)&gt;/g, '<$1>');\n    };\n\n    Autocomplete.prototype = {\n\n        killerFn: null,\n\n        initialize: function () {\n            var that = this,\n                suggestionSelector = '.' + that.classes.suggestion,\n                selected = that.classes.selected,\n                options = that.options,\n                container;\n\n            // Remove autocomplete attribute to prevent native suggestions:\n            that.element.setAttribute('autocomplete', 'off');\n\n            that.killerFn = function (e) {\n                if (!$(e.target).closest('.' + that.options.containerClass).length) {\n                    that.killSuggestions();\n                    that.disableKillerFn();\n                }\n            };\n\n            // html() deals with many types: htmlString or Element or Array or jQuery\n            that.noSuggestionsContainer = $('<div class=\"autocomplete-no-suggestion\"></div>')\n                                          .html(this.options.noSuggestionNotice).get(0);\n\n            that.suggestionsContainer = Autocomplete.utils.createNode(options.containerClass);\n\n            container = $(that.suggestionsContainer);\n\n            container.appendTo(options.appendTo);\n\n            // Only set width if it was provided:\n            if (options.width !== 'auto') {\n                container.css('width', options.width);\n            }\n\n            // Listen for mouse over event on suggestions list:\n            container.on('mouseover.autocomplete', suggestionSelector, function () {\n                that.activate($(this).data('index'));\n            });\n\n            // Deselect active element when mouse leaves suggestions container:\n            container.on('mouseout.autocomplete', function () {\n                that.selectedIndex = -1;\n                container.children('.' + selected).removeClass(selected);\n            });\n\n            // Listen for click event on suggestions list:\n            container.on('click.autocomplete', suggestionSelector, function () {\n                that.select($(this).data('index'));\n                return false;\n            });\n\n            that.fixPositionCapture = function () {\n                if (that.visible) {\n                    that.fixPosition();\n                }\n            };\n\n            $(window).on('resize.autocomplete', that.fixPositionCapture);\n\n            that.el.on('keydown.autocomplete', function (e) { that.onKeyPress(e); });\n            that.el.on('keyup.autocomplete', function (e) { that.onKeyUp(e); });\n            that.el.on('blur.autocomplete', function () { that.onBlur(); });\n            that.el.on('focus.autocomplete', function () { that.onFocus(); });\n            that.el.on('change.autocomplete', function (e) { that.onKeyUp(e); });\n            that.el.on('input.autocomplete', function (e) { that.onKeyUp(e); });\n        },\n\n        onFocus: function () {\n            var that = this;\n\n            that.fixPosition();\n\n            if (that.el.val().length >= that.options.minChars) {\n                that.onValueChange();\n            }\n        },\n\n        onBlur: function () {\n            this.enableKillerFn();\n        },\n        \n        abortAjax: function () {\n            var that = this;\n            if (that.currentRequest) {\n                that.currentRequest.abort();\n                that.currentRequest = null;\n            }\n        },\n\n        setOptions: function (suppliedOptions) {\n            var that = this,\n                options = that.options;\n\n            $.extend(options, suppliedOptions);\n\n            that.isLocal = $.isArray(options.lookup);\n\n            if (that.isLocal) {\n                options.lookup = that.verifySuggestionsFormat(options.lookup);\n            }\n\n            options.orientation = that.validateOrientation(options.orientation, 'bottom');\n\n            // Adjust height, width and z-index:\n            $(that.suggestionsContainer).css({\n                'max-height': options.maxHeight + 'px',\n                'width': options.width + 'px',\n                'z-index': options.zIndex\n            });\n        },\n\n\n        clearCache: function () {\n            this.cachedResponse = {};\n            this.badQueries = [];\n        },\n\n        clear: function () {\n            this.clearCache();\n            this.currentValue = '';\n            this.suggestions = [];\n        },\n\n        disable: function () {\n            var that = this;\n            that.disabled = true;\n            clearInterval(that.onChangeInterval);\n            that.abortAjax();\n        },\n\n        enable: function () {\n            this.disabled = false;\n        },\n\n        fixPosition: function () {\n            // Use only when container has already its content\n\n            var that = this,\n                $container = $(that.suggestionsContainer),\n                containerParent = $container.parent().get(0);\n            // Fix position automatically when appended to body.\n            // In other cases force parameter must be given.\n            if (containerParent !== document.body && !that.options.forceFixPosition) {\n                return;\n            }\n            var siteSearchDiv = $('.site-search');\n            // Choose orientation\n            var orientation = that.options.orientation,\n                containerHeight = $container.outerHeight(),\n                height = siteSearchDiv.outerHeight(),\n                offset = siteSearchDiv.offset(),\n                styles = { 'top': offset.top, 'left': offset.left };\n\n            if (orientation === 'auto') {\n                var viewPortHeight = $(window).height(),\n                    scrollTop = $(window).scrollTop(),\n                    topOverflow = -scrollTop + offset.top - containerHeight,\n                    bottomOverflow = scrollTop + viewPortHeight - (offset.top + height + containerHeight);\n\n                orientation = (Math.max(topOverflow, bottomOverflow) === topOverflow) ? 'top' : 'bottom';\n            }\n\n            if (orientation === 'top') {\n                styles.top += -containerHeight;\n            } else {\n                styles.top += height;\n            }\n\n            // If container is not positioned to body,\n            // correct its position using offset parent offset\n            if(containerParent !== document.body) {\n                var opacity = $container.css('opacity'),\n                    parentOffsetDiff;\n\n                    if (!that.visible){\n                        $container.css('opacity', 0).show();\n                    }\n\n                parentOffsetDiff = $container.offsetParent().offset();\n                styles.top -= parentOffsetDiff.top;\n                styles.left -= parentOffsetDiff.left;\n\n                if (!that.visible){\n                    $container.css('opacity', opacity).hide();\n                }\n            }\n\n            if (that.options.width === 'auto') {\n                styles.width = siteSearchDiv.outerWidth() + 'px';\n            }\n\n            $container.css(styles);\n        },\n\n        enableKillerFn: function () {\n            var that = this;\n            $(document).on('click.autocomplete', that.killerFn);\n        },\n\n        disableKillerFn: function () {\n            var that = this;\n            $(document).off('click.autocomplete', that.killerFn);\n        },\n\n        killSuggestions: function () {\n            var that = this;\n            that.stopKillSuggestions();\n            that.intervalId = window.setInterval(function () {\n                if (that.visible) {\n                    // No need to restore value when \n                    // preserveInput === true, \n                    // because we did not change it\n                    if (!that.options.preserveInput) {\n                        that.el.val(that.currentValue);\n                    }\n\n                    that.hide();\n                }\n                \n                that.stopKillSuggestions();\n            }, 50);\n        },\n\n        stopKillSuggestions: function () {\n            window.clearInterval(this.intervalId);\n        },\n\n        isCursorAtEnd: function () {\n            var that = this,\n                valLength = that.el.val().length,\n                selectionStart = that.element.selectionStart,\n                range;\n\n            if (typeof selectionStart === 'number') {\n                return selectionStart === valLength;\n            }\n            if (document.selection) {\n                range = document.selection.createRange();\n                range.moveStart('character', -valLength);\n                return valLength === range.text.length;\n            }\n            return true;\n        },\n\n        onKeyPress: function (e) {\n            var that = this;\n\n            // If suggestions are hidden and user presses arrow down, display suggestions:\n            if (!that.disabled && !that.visible && e.which === keys.DOWN && that.currentValue) {\n                that.suggest();\n                return;\n            }\n\n            if (that.disabled || !that.visible) {\n                return;\n            }\n\n            switch (e.which) {\n                case keys.ESC:\n                    that.el.val(that.currentValue);\n                    that.hide();\n                    break;\n                case keys.RIGHT:\n                    if (that.hint && that.options.onHint && that.isCursorAtEnd()) {\n                        that.selectHint();\n                        break;\n                    }\n                    return;\n                case keys.TAB:\n                    if (that.hint && that.options.onHint) {\n                        that.selectHint();\n                        return;\n                    }\n                    if (that.selectedIndex === -1) {\n                        that.hide();\n                        return;\n                    }\n                    that.select(that.selectedIndex);\n                    if (that.options.tabDisabled === false) {\n                        return;\n                    }\n                    break;\n                case keys.RETURN:\n                    if (that.selectedIndex === -1) {\n                        that.hide();\n                        return;\n                    }\n                    that.select(that.selectedIndex);\n                    break;\n                case keys.UP:\n                    that.moveUp();\n                    break;\n                case keys.DOWN:\n                    that.moveDown();\n                    break;\n                default:\n                    return;\n            }\n\n            // Cancel event if function did not return:\n            e.stopImmediatePropagation();\n            e.preventDefault();\n        },\n\n        onKeyUp: function (e) {\n            var that = this;\n\n            if (that.disabled) {\n                return;\n            }\n\n            switch (e.which) {\n                case keys.UP:\n                case keys.DOWN:\n                    return;\n            }\n\n            clearInterval(that.onChangeInterval);\n\n            if (that.currentValue !== that.el.val()) {\n                that.findBestHint();\n                if (that.options.deferRequestBy > 0) {\n                    // Defer lookup in case when value changes very quickly:\n                    that.onChangeInterval = setInterval(function () {\n                        that.onValueChange();\n                    }, that.options.deferRequestBy);\n                } else {\n                    that.onValueChange();\n                }\n            }\n        },\n\n        onValueChange: function () {\n            var that = this,\n                options = that.options,\n                value = that.el.val(),\n                query = that.getQuery(value);\n\n            if (that.selection && that.currentValue !== query) {\n                that.selection = null;\n                (options.onInvalidateSelection || $.noop).call(that.element);\n            }\n\n            clearInterval(that.onChangeInterval);\n            that.currentValue = value;\n            that.selectedIndex = -1;\n\n            // Check existing suggestion for the match before proceeding:\n            if (options.triggerSelectOnValidInput && that.isExactMatch(query)) {\n                that.select(0);\n                return;\n            }\n\n            if (query.length < options.minChars) {\n                that.hide();\n            } else {\n                that.getSuggestions(query);\n            }\n        },\n\n        isExactMatch: function (query) {\n            var suggestions = this.suggestions;\n\n            return (suggestions.length === 1 && suggestions[0].value.toLowerCase() === query.toLowerCase());\n        },\n\n        getQuery: function (value) {\n            var delimiter = this.options.delimiter,\n                parts;\n\n            if (!delimiter) {\n                return value;\n            }\n            parts = value.split(delimiter);\n            return $.trim(parts[parts.length - 1]);\n        },\n\n        getSuggestionsLocal: function (query) {\n            var that = this,\n                options = that.options,\n                queryLowerCase = query.toLowerCase(),\n                filter = options.lookupFilter,\n                limit = parseInt(options.lookupLimit, 10),\n                data;\n\n            data = {\n                suggestions: $.grep(options.lookup, function (suggestion) {\n                    return filter(suggestion, query, queryLowerCase);\n                })\n            };\n\n            if (limit && data.suggestions.length > limit) {\n                data.suggestions = data.suggestions.slice(0, limit);\n            }\n\n            return data;\n        },\n\n        getSuggestions: function (q) {\n            var response,\n                that = this,\n                options = that.options,\n                serviceUrl = options.serviceUrl,\n                params,\n                cacheKey,\n                ajaxSettings;\n\n            options.params[options.paramName] = q;\n            params = options.ignoreParams ? null : options.params;\n\n            if (options.onSearchStart.call(that.element, options.params) === false) {\n                return;\n            }\n\n            if ($.isFunction(options.lookup)){\n                options.lookup(q, function (data) {\n                    that.suggestions = data.suggestions;\n                    that.suggest();\n                    options.onSearchComplete.call(that.element, q, data.suggestions);\n                });\n                return;\n            }\n\n            if (that.isLocal) {\n                response = that.getSuggestionsLocal(q);\n            } else {\n                if ($.isFunction(serviceUrl)) {\n                    serviceUrl = serviceUrl.call(that.element, q);\n                }\n                cacheKey = serviceUrl + '?' + $.param(params || {});\n                response = that.cachedResponse[cacheKey];\n            }\n\n            if (response && $.isArray(response.suggestions)) {\n                that.suggestions = response.suggestions;\n                that.suggest();\n                options.onSearchComplete.call(that.element, q, response.suggestions);\n            } else if (!that.isBadQuery(q)) {\n                that.abortAjax();\n\n                ajaxSettings = {\n                    url: serviceUrl,\n                    data: params,\n                    type: options.type,\n                    dataType: options.dataType\n                };\n\n                $.extend(ajaxSettings, options.ajaxSettings);\n\n                that.currentRequest = $.ajax(ajaxSettings).done(function (data) {\n                    var result;\n                    that.currentRequest = null;\n                    result = options.transformResult(data, q);\n                    that.processResponse(result, q, cacheKey);\n                    options.onSearchComplete.call(that.element, q, result.suggestions);\n                }).fail(function (jqXHR, textStatus, errorThrown) {\n                    options.onSearchError.call(that.element, q, jqXHR, textStatus, errorThrown);\n                });\n            } else {\n                options.onSearchComplete.call(that.element, q, []);\n            }\n        },\n\n        isBadQuery: function (q) {\n            if (!this.options.preventBadQueries){\n                return false;\n            }\n\n            var badQueries = this.badQueries,\n                i = badQueries.length;\n\n            while (i--) {\n                if (q.indexOf(badQueries[i]) === 0) {\n                    return true;\n                }\n            }\n\n            return false;\n        },\n\n        hide: function () {\n            var that = this,\n                container = $(that.suggestionsContainer);\n\n            if ($.isFunction(that.options.onHide) && that.visible) {\n                that.options.onHide.call(that.element, container);\n            }\n\n            that.visible = false;\n            that.selectedIndex = -1;\n            clearInterval(that.onChangeInterval);\n            $(that.suggestionsContainer).hide();\n            that.signalHint(null);\n        },\n\n        suggest: function () {\n            if (!this.suggestions.length) {\n                if (this.options.showNoSuggestionNotice) {\n                    this.noSuggestions();\n                } else {\n                    this.hide();\n                }\n                return;\n            }\n\n            var that = this,\n                options = that.options,\n                groupBy = options.groupBy,\n                formatResult = options.formatResult,\n                value = that.getQuery(that.currentValue),\n                className = that.classes.suggestion,\n                classSelected = that.classes.selected,\n                container = $(that.suggestionsContainer),\n                noSuggestionsContainer = $(that.noSuggestionsContainer),\n                beforeRender = options.beforeRender,\n                html = '',\n                category,\n                formatGroup = function (suggestion, index) {\n                        var currentCategory = suggestion.data[groupBy];\n\n                        if (category === currentCategory){\n                            return '';\n                        }\n\n                        category = currentCategory;\n\n                        return '<div class=\"autocomplete-group\"><strong>' + category + '</strong></div>';\n                    };\n\n            if (options.triggerSelectOnValidInput && that.isExactMatch(value)) {\n                that.select(0);\n                return;\n            }\n\n            // Build suggestions inner HTML:\n            $.each(that.suggestions, function (i, suggestion) {\n                if (groupBy){\n                    html += formatGroup(suggestion, value, i);\n                }\n\n                html += '<div class=\"' + className + '\" data-index=\"' + i + '\">' + formatResult(suggestion, value, i) + '</div>';\n            });\n\n            this.adjustContainerWidth();\n\n            noSuggestionsContainer.detach();\n            container.html(html);\n\n            if ($.isFunction(beforeRender)) {\n                beforeRender.call(that.element, container, that.suggestions);\n            }\n\n            that.fixPosition();\n            container.show();\n\n            // Select first value by default:\n            if (options.autoSelectFirst) {\n                that.selectedIndex = 0;\n                container.scrollTop(0);\n                container.children('.' + className).first().addClass(classSelected);\n            }\n\n            that.visible = true;\n            that.findBestHint();\n        },\n\n        noSuggestions: function() {\n             var that = this,\n                 container = $(that.suggestionsContainer),\n                 noSuggestionsContainer = $(that.noSuggestionsContainer);\n\n            this.adjustContainerWidth();\n\n            // Some explicit steps. Be careful here as it easy to get\n            // noSuggestionsContainer removed from DOM if not detached properly.\n            noSuggestionsContainer.detach();\n            container.empty(); // clean suggestions if any\n            container.append(noSuggestionsContainer);\n\n            that.fixPosition();\n\n            container.show();\n            that.visible = true;\n        },\n\n        adjustContainerWidth: function() {\n            var that = this,\n                options = that.options,\n                width,\n                container = $(that.suggestionsContainer);\n\n            // If width is auto, adjust width before displaying suggestions,\n            // because if instance was created before input had width, it will be zero.\n            // Also it adjusts if input width has changed.\n            if (options.width === 'auto') {\n                width = that.el.outerWidth();\n                container.css('width', width > 0 ? width : 300);\n            }\n        },\n\n        findBestHint: function () {\n            var that = this,\n                value = that.el.val().toLowerCase(),\n                bestMatch = null;\n\n            if (!value) {\n                return;\n            }\n\n            $.each(that.suggestions, function (i, suggestion) {\n                var foundMatch = suggestion.value.toLowerCase().indexOf(value) === 0;\n                if (foundMatch) {\n                    bestMatch = suggestion;\n                }\n                return !foundMatch;\n            });\n\n            that.signalHint(bestMatch);\n        },\n\n        signalHint: function (suggestion) {\n            var hintValue = '',\n                that = this;\n            if (suggestion) {\n                hintValue = that.currentValue + suggestion.value.substr(that.currentValue.length);\n            }\n            if (that.hintValue !== hintValue) {\n                that.hintValue = hintValue;\n                that.hint = suggestion;\n                (this.options.onHint || $.noop)(hintValue);\n            }\n        },\n\n        verifySuggestionsFormat: function (suggestions) {\n            // If suggestions is string array, convert them to supported format:\n            if (suggestions.length && typeof suggestions[0] === 'string') {\n                return $.map(suggestions, function (value) {\n                    return { value: value, data: null };\n                });\n            }\n\n            return suggestions;\n        },\n\n        validateOrientation: function(orientation, fallback) {\n            orientation = $.trim(orientation || '').toLowerCase();\n\n            if($.inArray(orientation, ['auto', 'bottom', 'top']) === -1){\n                orientation = fallback;\n            }\n\n            return orientation;\n        },\n\n        processResponse: function (result, originalQuery, cacheKey) {\n            var that = this,\n                options = that.options;\n\n            result.suggestions = that.verifySuggestionsFormat(result.suggestions);\n\n            // Cache results if cache is not disabled:\n            if (!options.noCache) {\n                that.cachedResponse[cacheKey] = result;\n                if (options.preventBadQueries && !result.suggestions.length) {\n                    that.badQueries.push(originalQuery);\n                }\n            }\n\n            // Return if originalQuery is not matching current query:\n            if (originalQuery !== that.getQuery(that.currentValue)) {\n                return;\n            }\n\n            that.suggestions = result.suggestions;\n            that.suggest();\n        },\n\n        activate: function (index) {\n            var that = this,\n                activeItem,\n                selected = that.classes.selected,\n                container = $(that.suggestionsContainer),\n                children = container.find('.' + that.classes.suggestion);\n\n            container.find('.' + selected).removeClass(selected);\n\n            that.selectedIndex = index;\n\n            if (that.selectedIndex !== -1 && children.length > that.selectedIndex) {\n                activeItem = children.get(that.selectedIndex);\n                $(activeItem).addClass(selected);\n                return activeItem;\n            }\n\n            return null;\n        },\n\n        selectHint: function () {\n            var that = this,\n                i = $.inArray(that.hint, that.suggestions);\n\n            that.select(i);\n        },\n\n        select: function (i) {\n            var that = this;\n            that.hide();\n            that.onSelect(i);\n            that.disableKillerFn();\n        },\n\n        moveUp: function () {\n            var that = this;\n\n            if (that.selectedIndex === -1) {\n                return;\n            }\n\n            if (that.selectedIndex === 0) {\n                $(that.suggestionsContainer).children().first().removeClass(that.classes.selected);\n                that.selectedIndex = -1;\n                that.el.val(that.currentValue);\n                that.findBestHint();\n                return;\n            }\n\n            that.adjustScroll(that.selectedIndex - 1);\n        },\n\n        moveDown: function () {\n            var that = this;\n\n            if (that.selectedIndex === (that.suggestions.length - 1)) {\n                return;\n            }\n\n            that.adjustScroll(that.selectedIndex + 1);\n        },\n\n        adjustScroll: function (index) {\n            var that = this,\n                activeItem = that.activate(index);\n\n            if (!activeItem) {\n                return;\n            }\n\n            var offsetTop,\n                upperBound,\n                lowerBound,\n                heightDelta = $(activeItem).outerHeight();\n\n            offsetTop = activeItem.offsetTop;\n            upperBound = $(that.suggestionsContainer).scrollTop();\n            lowerBound = upperBound + that.options.maxHeight - heightDelta;\n\n            if (offsetTop < upperBound) {\n                $(that.suggestionsContainer).scrollTop(offsetTop);\n            } else if (offsetTop > lowerBound) {\n                $(that.suggestionsContainer).scrollTop(offsetTop - that.options.maxHeight + heightDelta);\n            }\n\n            if (!that.options.preserveInput) {\n                that.el.val(that.getValue(that.suggestions[index].value));\n            }\n            that.signalHint(null);\n        },\n\n        onSelect: function (index) {\n            var that = this,\n                onSelectCallback = that.options.onSelect,\n                suggestion = that.suggestions[index];\n\n            that.currentValue = that.getValue(suggestion.value);\n\n            if (that.currentValue !== that.el.val() && !that.options.preserveInput) {\n                that.el.val(that.currentValue);\n            }\n\n            that.signalHint(null);\n            that.suggestions = [];\n            that.selection = suggestion;\n\n            if ($.isFunction(onSelectCallback)) {\n                onSelectCallback.call(that.element, suggestion);\n            }\n        },\n\n        getValue: function (value) {\n            var that = this,\n                delimiter = that.options.delimiter,\n                currentValue,\n                parts;\n\n            if (!delimiter) {\n                return value;\n            }\n\n            currentValue = that.currentValue;\n            parts = currentValue.split(delimiter);\n\n            if (parts.length === 1) {\n                return value;\n            }\n\n            return currentValue.substr(0, currentValue.length - parts[parts.length - 1].length) + value;\n        },\n\n        dispose: function () {\n            var that = this;\n            that.el.off('.autocomplete').removeData('autocomplete');\n            that.disableKillerFn();\n            $(window).off('resize.autocomplete', that.fixPositionCapture);\n            $(that.suggestionsContainer).remove();\n        }\n    };\n\n    // Create chainable jQuery plugin:\n    $.fn.autocomplete = $.fn.devbridgeAutocomplete = function (options, args) {\n        var dataKey = 'autocomplete';\n        // If function invoked without argument return\n        // instance of the first matched element:\n        if (!arguments.length) {\n            return this.first().data(dataKey);\n        }\n\n        return this.each(function () {\n            var inputElement = $(this),\n                instance = inputElement.data(dataKey);\n\n            if (typeof options === 'string') {\n                if (instance && typeof instance[options] === 'function') {\n                    instance[options](args);\n                }\n            } else {\n                // If instance already exists, destroy it:\n                if (instance && instance.dispose) {\n                    instance.dispose();\n                }\n                instance = new Autocomplete(this, options);\n                inputElement.data(dataKey, instance);\n            }\n        });\n    };\n}));\n","/*! Magnific Popup - v1.1.0 - 2016-02-20\n* http://dimsemenov.com/plugins/magnific-popup/\n* Copyright (c) 2016 Dmitry Semenov; */\n;(function (factory) { \nif (typeof define === 'function' && define.amd) { \n // AMD. Register as an anonymous module. \n define(['jquery'], factory); \n } else if (typeof exports === 'object') { \n // Node/CommonJS \n factory(require('jquery')); \n } else { \n // Browser globals \n factory(window.jQuery || window.Zepto); \n } \n }(function($) { \n\n/*>>core*/\n/**\n * \n * Magnific Popup Core JS file\n * \n */\n\n\n/**\n * Private static constants\n */\nvar CLOSE_EVENT = 'Close',\n\tBEFORE_CLOSE_EVENT = 'BeforeClose',\n\tAFTER_CLOSE_EVENT = 'AfterClose',\n\tBEFORE_APPEND_EVENT = 'BeforeAppend',\n\tMARKUP_PARSE_EVENT = 'MarkupParse',\n\tOPEN_EVENT = 'Open',\n\tCHANGE_EVENT = 'Change',\n\tNS = 'mfp',\n\tEVENT_NS = '.' + NS,\n\tREADY_CLASS = 'mfp-ready',\n\tREMOVING_CLASS = 'mfp-removing',\n\tPREVENT_CLOSE_CLASS = 'mfp-prevent-close';\n\n\n/**\n * Private vars \n */\n/*jshint -W079 */\nvar mfp, // As we have only one instance of MagnificPopup object, we define it locally to not to use 'this'\n\tMagnificPopup = function(){},\n\t_isJQ = !!(window.jQuery),\n\t_prevStatus,\n\t_window = $(window),\n\t_document,\n\t_prevContentType,\n\t_wrapClasses,\n\t_currPopupType;\n\n\n/**\n * Private functions\n */\nvar _mfpOn = function(name, f) {\n\t\tmfp.ev.on(NS + name + EVENT_NS, f);\n\t},\n\t_getEl = function(className, appendTo, html, raw) {\n\t\tvar el = document.createElement('div');\n\t\tel.className = 'mfp-'+className;\n\t\tif(html) {\n\t\t\tel.innerHTML = html;\n\t\t}\n\t\tif(!raw) {\n\t\t\tel = $(el);\n\t\t\tif(appendTo) {\n\t\t\t\tel.appendTo(appendTo);\n\t\t\t}\n\t\t} else if(appendTo) {\n\t\t\tappendTo.appendChild(el);\n\t\t}\n\t\treturn el;\n\t},\n\t_mfpTrigger = function(e, data) {\n\t\tmfp.ev.triggerHandler(NS + e, data);\n\n\t\tif(mfp.st.callbacks) {\n\t\t\t// converts \"mfpEventName\" to \"eventName\" callback and triggers it if it's present\n\t\t\te = e.charAt(0).toLowerCase() + e.slice(1);\n\t\t\tif(mfp.st.callbacks[e]) {\n\t\t\t\tmfp.st.callbacks[e].apply(mfp, $.isArray(data) ? data : [data]);\n\t\t\t}\n\t\t}\n\t},\n\t_getCloseBtn = function(type) {\n\t\tif(type !== _currPopupType || !mfp.currTemplate.closeBtn) {\n\t\t\tmfp.currTemplate.closeBtn = $( mfp.st.closeMarkup.replace('%title%', mfp.st.tClose ) );\n\t\t\t_currPopupType = type;\n\t\t}\n\t\treturn mfp.currTemplate.closeBtn;\n\t},\n\t// Initialize Magnific Popup only when called at least once\n\t_checkInstance = function() {\n\t\tif(!$.magnificPopup.instance) {\n\t\t\t/*jshint -W020 */\n\t\t\tmfp = new MagnificPopup();\n\t\t\tmfp.init();\n\t\t\t$.magnificPopup.instance = mfp;\n\t\t}\n\t},\n\t// CSS transition detection, http://stackoverflow.com/questions/7264899/detect-css-transitions-using-javascript-and-without-modernizr\n\tsupportsTransitions = function() {\n\t\tvar s = document.createElement('p').style, // 's' for style. better to create an element if body yet to exist\n\t\t\tv = ['ms','O','Moz','Webkit']; // 'v' for vendor\n\n\t\tif( s['transition'] !== undefined ) {\n\t\t\treturn true; \n\t\t}\n\t\t\t\n\t\twhile( v.length ) {\n\t\t\tif( v.pop() + 'Transition' in s ) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\t\t\t\n\t\treturn false;\n\t};\n\n\n\n/**\n * Public functions\n */\nMagnificPopup.prototype = {\n\n\tconstructor: MagnificPopup,\n\n\t/**\n\t * Initializes Magnific Popup plugin. \n\t * This function is triggered only once when $.fn.magnificPopup or $.magnificPopup is executed\n\t */\n\tinit: function() {\n\t\tvar appVersion = navigator.appVersion;\n\t\tmfp.isLowIE = mfp.isIE8 = document.all && !document.addEventListener;\n\t\tmfp.isAndroid = (/android/gi).test(appVersion);\n\t\tmfp.isIOS = (/iphone|ipad|ipod/gi).test(appVersion);\n\t\tmfp.supportsTransition = supportsTransitions();\n\n\t\t// We disable fixed positioned lightbox on devices that don't handle it nicely.\n\t\t// If you know a better way of detecting this - let me know.\n\t\tmfp.probablyMobile = (mfp.isAndroid || mfp.isIOS || /(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent) );\n\t\t_document = $(document);\n\n\t\tmfp.popupsCache = {};\n\t},\n\n\t/**\n\t * Opens popup\n\t * @param  data [description]\n\t */\n\topen: function(data) {\n\n\t\tvar i;\n\n\t\tif(data.isObj === false) { \n\t\t\t// convert jQuery collection to array to avoid conflicts later\n\t\t\tmfp.items = data.items.toArray();\n\n\t\t\tmfp.index = 0;\n\t\t\tvar items = data.items,\n\t\t\t\titem;\n\t\t\tfor(i = 0; i < items.length; i++) {\n\t\t\t\titem = items[i];\n\t\t\t\tif(item.parsed) {\n\t\t\t\t\titem = item.el[0];\n\t\t\t\t}\n\t\t\t\tif(item === data.el[0]) {\n\t\t\t\t\tmfp.index = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tmfp.items = $.isArray(data.items) ? data.items : [data.items];\n\t\t\tmfp.index = data.index || 0;\n\t\t}\n\n\t\t// if popup is already opened - we just update the content\n\t\tif(mfp.isOpen) {\n\t\t\tmfp.updateItemHTML();\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tmfp.types = []; \n\t\t_wrapClasses = '';\n\t\tif(data.mainEl && data.mainEl.length) {\n\t\t\tmfp.ev = data.mainEl.eq(0);\n\t\t} else {\n\t\t\tmfp.ev = _document;\n\t\t}\n\n\t\tif(data.key) {\n\t\t\tif(!mfp.popupsCache[data.key]) {\n\t\t\t\tmfp.popupsCache[data.key] = {};\n\t\t\t}\n\t\t\tmfp.currTemplate = mfp.popupsCache[data.key];\n\t\t} else {\n\t\t\tmfp.currTemplate = {};\n\t\t}\n\n\n\n\t\tmfp.st = $.extend(true, {}, $.magnificPopup.defaults, data ); \n\t\tmfp.fixedContentPos = mfp.st.fixedContentPos === 'auto' ? !mfp.probablyMobile : mfp.st.fixedContentPos;\n\n\t\tif(mfp.st.modal) {\n\t\t\tmfp.st.closeOnContentClick = false;\n\t\t\tmfp.st.closeOnBgClick = false;\n\t\t\tmfp.st.showCloseBtn = false;\n\t\t\tmfp.st.enableEscapeKey = false;\n\t\t}\n\t\t\n\n\t\t// Building markup\n\t\t// main containers are created only once\n\t\tif(!mfp.bgOverlay) {\n\n\t\t\t// Dark overlay\n\t\t\tmfp.bgOverlay = _getEl('bg').on('click'+EVENT_NS, function() {\n\t\t\t\tmfp.close();\n\t\t\t});\n\n\t\t\tmfp.wrap = _getEl('wrap').attr('tabindex', -1).on('click'+EVENT_NS, function(e) {\n\t\t\t\tif(mfp._checkIfClose(e.target)) {\n\t\t\t\t\tmfp.close();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tmfp.container = _getEl('container', mfp.wrap);\n\t\t}\n\n\t\tmfp.contentContainer = _getEl('content');\n\t\tif(mfp.st.preloader) {\n\t\t\tmfp.preloader = _getEl('preloader', mfp.container, mfp.st.tLoading);\n\t\t}\n\n\n\t\t// Initializing modules\n\t\tvar modules = $.magnificPopup.modules;\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar n = modules[i];\n\t\t\tn = n.charAt(0).toUpperCase() + n.slice(1);\n\t\t\tmfp['init'+n].call(mfp);\n\t\t}\n\t\t_mfpTrigger('BeforeOpen');\n\n\n\t\tif(mfp.st.showCloseBtn) {\n\t\t\t// Close button\n\t\t\tif(!mfp.st.closeBtnInside) {\n\t\t\t\tmfp.wrap.append( _getCloseBtn() );\n\t\t\t} else {\n\t\t\t\t_mfpOn(MARKUP_PARSE_EVENT, function(e, template, values, item) {\n\t\t\t\t\tvalues.close_replaceWith = _getCloseBtn(item.type);\n\t\t\t\t});\n\t\t\t\t_wrapClasses += ' mfp-close-btn-in';\n\t\t\t}\n\t\t}\n\n\t\tif(mfp.st.alignTop) {\n\t\t\t_wrapClasses += ' mfp-align-top';\n\t\t}\n\n\t\n\n\t\tif(mfp.fixedContentPos) {\n\t\t\tmfp.wrap.css({\n\t\t\t\toverflow: mfp.st.overflowY,\n\t\t\t\toverflowX: 'hidden',\n\t\t\t\toverflowY: mfp.st.overflowY\n\t\t\t});\n\t\t} else {\n\t\t\tmfp.wrap.css({ \n\t\t\t\ttop: _window.scrollTop(),\n\t\t\t\tposition: 'absolute'\n\t\t\t});\n\t\t}\n\t\tif( mfp.st.fixedBgPos === false || (mfp.st.fixedBgPos === 'auto' && !mfp.fixedContentPos) ) {\n\t\t\tmfp.bgOverlay.css({\n\t\t\t\theight: _document.height(),\n\t\t\t\tposition: 'absolute'\n\t\t\t});\n\t\t}\n\n\t\t\n\n\t\tif(mfp.st.enableEscapeKey) {\n\t\t\t// Close on ESC key\n\t\t\t_document.on('keyup' + EVENT_NS, function(e) {\n\t\t\t\tif(e.keyCode === 27) {\n\t\t\t\t\tmfp.close();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\t_window.on('resize' + EVENT_NS, function() {\n\t\t\tmfp.updateSize();\n\t\t});\n\n\n\t\tif(!mfp.st.closeOnContentClick) {\n\t\t\t_wrapClasses += ' mfp-auto-cursor';\n\t\t}\n\t\t\n\t\tif(_wrapClasses)\n\t\t\tmfp.wrap.addClass(_wrapClasses);\n\n\n\t\t// this triggers recalculation of layout, so we get it once to not to trigger twice\n\t\tvar windowHeight = mfp.wH = _window.height();\n\n\t\t\n\t\tvar windowStyles = {};\n\n\t\tif( mfp.fixedContentPos ) {\n            if(mfp._hasScrollBar(windowHeight)){\n                var s = mfp._getScrollbarSize();\n                if(s) {\n                    windowStyles.marginRight = s;\n                }\n            }\n        }\n\n\t\tif(mfp.fixedContentPos) {\n\t\t\tif(!mfp.isIE7) {\n\t\t\t\twindowStyles.overflow = 'hidden';\n\t\t\t} else {\n\t\t\t\t// ie7 double-scroll bug\n\t\t\t\t$('body, html').css('overflow', 'hidden');\n\t\t\t}\n\t\t}\n\n\t\t\n\t\t\n\t\tvar classesToadd = mfp.st.mainClass;\n\t\tif(mfp.isIE7) {\n\t\t\tclassesToadd += ' mfp-ie7';\n\t\t}\n\t\tif(classesToadd) {\n\t\t\tmfp._addClassToMFP( classesToadd );\n\t\t}\n\n\t\t// add content\n\t\tmfp.updateItemHTML();\n\n\t\t_mfpTrigger('BuildControls');\n\n\t\t// remove scrollbar, add margin e.t.c\n\t\t$('html').css(windowStyles);\n\t\t\n\t\t// add everything to DOM\n\t\tmfp.bgOverlay.add(mfp.wrap).prependTo( mfp.st.prependTo || $(document.body) );\n\n\t\t// Save last focused element\n\t\tmfp._lastFocusedEl = document.activeElement;\n\t\t\n\t\t// Wait for next cycle to allow CSS transition\n\t\tsetTimeout(function() {\n\t\t\t\n\t\t\tif(mfp.content) {\n\t\t\t\tmfp._addClassToMFP(READY_CLASS);\n\t\t\t\tmfp._setFocus();\n\t\t\t} else {\n\t\t\t\t// if content is not defined (not loaded e.t.c) we add class only for BG\n\t\t\t\tmfp.bgOverlay.addClass(READY_CLASS);\n\t\t\t}\n\t\t\t\n\t\t\t// Trap the focus in popup\n\t\t\t_document.on('focusin' + EVENT_NS, mfp._onFocusIn);\n\n\t\t}, 16);\n\n\t\tmfp.isOpen = true;\n\t\tmfp.updateSize(windowHeight);\n\t\t_mfpTrigger(OPEN_EVENT);\n\n\t\treturn data;\n\t},\n\n\t/**\n\t * Closes the popup\n\t */\n\tclose: function() {\n\t\tif(!mfp.isOpen) return;\n\t\t_mfpTrigger(BEFORE_CLOSE_EVENT);\n\n\t\tmfp.isOpen = false;\n\t\t// for CSS3 animation\n\t\tif(mfp.st.removalDelay && !mfp.isLowIE && mfp.supportsTransition )  {\n\t\t\tmfp._addClassToMFP(REMOVING_CLASS);\n\t\t\tsetTimeout(function() {\n\t\t\t\tmfp._close();\n\t\t\t}, mfp.st.removalDelay);\n\t\t} else {\n\t\t\tmfp._close();\n\t\t}\n\t},\n\n\t/**\n\t * Helper for close() function\n\t */\n\t_close: function() {\n\t\t_mfpTrigger(CLOSE_EVENT);\n\n\t\tvar classesToRemove = REMOVING_CLASS + ' ' + READY_CLASS + ' ';\n\n\t\tmfp.bgOverlay.detach();\n\t\tmfp.wrap.detach();\n\t\tmfp.container.empty();\n\n\t\tif(mfp.st.mainClass) {\n\t\t\tclassesToRemove += mfp.st.mainClass + ' ';\n\t\t}\n\n\t\tmfp._removeClassFromMFP(classesToRemove);\n\n\t\tif(mfp.fixedContentPos) {\n\t\t\tvar windowStyles = {marginRight: ''};\n\t\t\tif(mfp.isIE7) {\n\t\t\t\t$('body, html').css('overflow', '');\n\t\t\t} else {\n\t\t\t\twindowStyles.overflow = '';\n\t\t\t}\n\t\t\t$('html').css(windowStyles);\n\t\t}\n\t\t\n\t\t_document.off('keyup' + EVENT_NS + ' focusin' + EVENT_NS);\n\t\tmfp.ev.off(EVENT_NS);\n\n\t\t// clean up DOM elements that aren't removed\n\t\tmfp.wrap.attr('class', 'mfp-wrap').removeAttr('style');\n\t\tmfp.bgOverlay.attr('class', 'mfp-bg');\n\t\tmfp.container.attr('class', 'mfp-container');\n\n\t\t// remove close button from target element\n\t\tif(mfp.st.showCloseBtn &&\n\t\t(!mfp.st.closeBtnInside || mfp.currTemplate[mfp.currItem.type] === true)) {\n\t\t\tif(mfp.currTemplate.closeBtn)\n\t\t\t\tmfp.currTemplate.closeBtn.detach();\n\t\t}\n\n\n\t\tif(mfp.st.autoFocusLast && mfp._lastFocusedEl) {\n\t\t\t$(mfp._lastFocusedEl).focus(); // put tab focus back\n\t\t}\n\t\tmfp.currItem = null;\t\n\t\tmfp.content = null;\n\t\tmfp.currTemplate = null;\n\t\tmfp.prevHeight = 0;\n\n\t\t_mfpTrigger(AFTER_CLOSE_EVENT);\n\t},\n\t\n\tupdateSize: function(winHeight) {\n\n\t\tif(mfp.isIOS) {\n\t\t\t// fixes iOS nav bars https://github.com/dimsemenov/Magnific-Popup/issues/2\n\t\t\tvar zoomLevel = document.documentElement.clientWidth / window.innerWidth;\n\t\t\tvar height = window.innerHeight * zoomLevel;\n\t\t\tmfp.wrap.css('height', height);\n\t\t\tmfp.wH = height;\n\t\t} else {\n\t\t\tmfp.wH = winHeight || _window.height();\n\t\t}\n\t\t// Fixes #84: popup incorrectly positioned with position:relative on body\n\t\tif(!mfp.fixedContentPos) {\n\t\t\tmfp.wrap.css('height', mfp.wH);\n\t\t}\n\n\t\t_mfpTrigger('Resize');\n\n\t},\n\n\t/**\n\t * Set content of popup based on current index\n\t */\n\tupdateItemHTML: function() {\n\t\tvar item = mfp.items[mfp.index];\n\n\t\t// Detach and perform modifications\n\t\tmfp.contentContainer.detach();\n\n\t\tif(mfp.content)\n\t\t\tmfp.content.detach();\n\n\t\tif(!item.parsed) {\n\t\t\titem = mfp.parseEl( mfp.index );\n\t\t}\n\n\t\tvar type = item.type;\n\n\t\t_mfpTrigger('BeforeChange', [mfp.currItem ? mfp.currItem.type : '', type]);\n\t\t// BeforeChange event works like so:\n\t\t// _mfpOn('BeforeChange', function(e, prevType, newType) { });\n\n\t\tmfp.currItem = item;\n\n\t\tif(!mfp.currTemplate[type]) {\n\t\t\tvar markup = mfp.st[type] ? mfp.st[type].markup : false;\n\n\t\t\t// allows to modify markup\n\t\t\t_mfpTrigger('FirstMarkupParse', markup);\n\n\t\t\tif(markup) {\n\t\t\t\tmfp.currTemplate[type] = $(markup);\n\t\t\t} else {\n\t\t\t\t// if there is no markup found we just define that template is parsed\n\t\t\t\tmfp.currTemplate[type] = true;\n\t\t\t}\n\t\t}\n\n\t\tif(_prevContentType && _prevContentType !== item.type) {\n\t\t\tmfp.container.removeClass('mfp-'+_prevContentType+'-holder');\n\t\t}\n\n\t\tvar newContent = mfp['get' + type.charAt(0).toUpperCase() + type.slice(1)](item, mfp.currTemplate[type]);\n\t\tmfp.appendContent(newContent, type);\n\n\t\titem.preloaded = true;\n\n\t\t_mfpTrigger(CHANGE_EVENT, item);\n\t\t_prevContentType = item.type;\n\n\t\t// Append container back after its content changed\n\t\tmfp.container.prepend(mfp.contentContainer);\n\n\t\t_mfpTrigger('AfterChange');\n\t},\n\n\n\t/**\n\t * Set HTML content of popup\n\t */\n\tappendContent: function(newContent, type) {\n\t\tmfp.content = newContent;\n\n\t\tif(newContent) {\n\t\t\tif(mfp.st.showCloseBtn && mfp.st.closeBtnInside &&\n\t\t\t\tmfp.currTemplate[type] === true) {\n\t\t\t\t// if there is no markup, we just append close button element inside\n\t\t\t\tif(!mfp.content.find('.mfp-close').length) {\n\t\t\t\t\tmfp.content.append(_getCloseBtn());\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tmfp.content = newContent;\n\t\t\t}\n\t\t} else {\n\t\t\tmfp.content = '';\n\t\t}\n\n\t\t_mfpTrigger(BEFORE_APPEND_EVENT);\n\t\tmfp.container.addClass('mfp-'+type+'-holder');\n\n\t\tmfp.contentContainer.append(mfp.content);\n\t},\n\n\n\t/**\n\t * Creates Magnific Popup data object based on given data\n\t * @param  {int} index Index of item to parse\n\t */\n\tparseEl: function(index) {\n\t\tvar item = mfp.items[index],\n\t\t\ttype;\n\n\t\tif(item.tagName) {\n\t\t\titem = { el: $(item) };\n\t\t} else {\n\t\t\ttype = item.type;\n\t\t\titem = { data: item, src: item.src };\n\t\t}\n\n\t\tif(item.el) {\n\t\t\tvar types = mfp.types;\n\n\t\t\t// check for 'mfp-TYPE' class\n\t\t\tfor(var i = 0; i < types.length; i++) {\n\t\t\t\tif( item.el.hasClass('mfp-'+types[i]) ) {\n\t\t\t\t\ttype = types[i];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\titem.src = item.el.attr('data-mfp-src');\n\t\t\tif(!item.src) {\n\t\t\t\titem.src = item.el.attr('href');\n\t\t\t}\n\t\t}\n\n\t\titem.type = type || mfp.st.type || 'inline';\n\t\titem.index = index;\n\t\titem.parsed = true;\n\t\tmfp.items[index] = item;\n\t\t_mfpTrigger('ElementParse', item);\n\n\t\treturn mfp.items[index];\n\t},\n\n\n\t/**\n\t * Initializes single popup or a group of popups\n\t */\n\taddGroup: function(el, options) {\n\t\tvar eHandler = function(e) {\n\t\t\te.mfpEl = this;\n\t\t\tmfp._openClick(e, el, options);\n\t\t};\n\n\t\tif(!options) {\n\t\t\toptions = {};\n\t\t}\n\n\t\tvar eName = 'click.magnificPopup';\n\t\toptions.mainEl = el;\n\n\t\tif(options.items) {\n\t\t\toptions.isObj = true;\n\t\t\tel.off(eName).on(eName, eHandler);\n\t\t} else {\n\t\t\toptions.isObj = false;\n\t\t\tif(options.delegate) {\n\t\t\t\tel.off(eName).on(eName, options.delegate , eHandler);\n\t\t\t} else {\n\t\t\t\toptions.items = el;\n\t\t\t\tel.off(eName).on(eName, eHandler);\n\t\t\t}\n\t\t}\n\t},\n\t_openClick: function(e, el, options) {\n\t\tvar midClick = options.midClick !== undefined ? options.midClick : $.magnificPopup.defaults.midClick;\n\n\n\t\tif(!midClick && ( e.which === 2 || e.ctrlKey || e.metaKey || e.altKey || e.shiftKey ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar disableOn = options.disableOn !== undefined ? options.disableOn : $.magnificPopup.defaults.disableOn;\n\n\t\tif(disableOn) {\n\t\t\tif($.isFunction(disableOn)) {\n\t\t\t\tif( !disableOn.call(mfp) ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t} else { // else it's number\n\t\t\t\tif( _window.width() < disableOn ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif(e.type) {\n\t\t\te.preventDefault();\n\n\t\t\t// This will prevent popup from closing if element is inside and popup is already opened\n\t\t\tif(mfp.isOpen) {\n\t\t\t\te.stopPropagation();\n\t\t\t}\n\t\t}\n\n\t\toptions.el = $(e.mfpEl);\n\t\tif(options.delegate) {\n\t\t\toptions.items = el.find(options.delegate);\n\t\t}\n\t\tmfp.open(options);\n\t},\n\n\n\t/**\n\t * Updates text on preloader\n\t */\n\tupdateStatus: function(status, text) {\n\n\t\tif(mfp.preloader) {\n\t\t\tif(_prevStatus !== status) {\n\t\t\t\tmfp.container.removeClass('mfp-s-'+_prevStatus);\n\t\t\t}\n\n\t\t\tif(!text && status === 'loading') {\n\t\t\t\ttext = mfp.st.tLoading;\n\t\t\t}\n\n\t\t\tvar data = {\n\t\t\t\tstatus: status,\n\t\t\t\ttext: text\n\t\t\t};\n\t\t\t// allows to modify status\n\t\t\t_mfpTrigger('UpdateStatus', data);\n\n\t\t\tstatus = data.status;\n\t\t\ttext = data.text;\n\n\t\t\tmfp.preloader.html(text);\n\n\t\t\tmfp.preloader.find('a').on('click', function(e) {\n\t\t\t\te.stopImmediatePropagation();\n\t\t\t});\n\n\t\t\tmfp.container.addClass('mfp-s-'+status);\n\t\t\t_prevStatus = status;\n\t\t}\n\t},\n\n\n\t/*\n\t\t\"Private\" helpers that aren't private at all\n\t */\n\t// Check to close popup or not\n\t// \"target\" is an element that was clicked\n\t_checkIfClose: function(target) {\n\n\t\tif($(target).hasClass(PREVENT_CLOSE_CLASS)) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar closeOnContent = mfp.st.closeOnContentClick;\n\t\tvar closeOnBg = mfp.st.closeOnBgClick;\n\n\t\tif(closeOnContent && closeOnBg) {\n\t\t\treturn true;\n\t\t} else {\n\n\t\t\t// We close the popup if click is on close button or on preloader. Or if there is no content.\n\t\t\tif(!mfp.content || $(target).hasClass('mfp-close') || (mfp.preloader && target === mfp.preloader[0]) ) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// if click is outside the content\n\t\t\tif(  (target !== mfp.content[0] && !$.contains(mfp.content[0], target))  ) {\n\t\t\t\tif(closeOnBg) {\n\t\t\t\t\t// last check, if the clicked element is in DOM, (in case it's removed onclick)\n\t\t\t\t\tif( $.contains(document, target) ) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if(closeOnContent) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t}\n\t\treturn false;\n\t},\n\t_addClassToMFP: function(cName) {\n\t\tmfp.bgOverlay.addClass(cName);\n\t\tmfp.wrap.addClass(cName);\n\t},\n\t_removeClassFromMFP: function(cName) {\n\t\tthis.bgOverlay.removeClass(cName);\n\t\tmfp.wrap.removeClass(cName);\n\t},\n\t_hasScrollBar: function(winHeight) {\n\t\treturn (  (mfp.isIE7 ? _document.height() : document.body.scrollHeight) > (winHeight || _window.height()) );\n\t},\n\t_setFocus: function() {\n\t\t(mfp.st.focus ? mfp.content.find(mfp.st.focus).eq(0) : mfp.wrap).focus();\n\t},\n\t_onFocusIn: function(e) {\n\t\tif( e.target !== mfp.wrap[0] && !$.contains(mfp.wrap[0], e.target) ) {\n\t\t\tmfp._setFocus();\n\t\t\treturn false;\n\t\t}\n\t},\n\t_parseMarkup: function(template, values, item) {\n\t\tvar arr;\n\t\tif(item.data) {\n\t\t\tvalues = $.extend(item.data, values);\n\t\t}\n\t\t_mfpTrigger(MARKUP_PARSE_EVENT, [template, values, item] );\n\n\t\t$.each(values, function(key, value) {\n\t\t\tif(value === undefined || value === false) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tarr = key.split('_');\n\t\t\tif(arr.length > 1) {\n\t\t\t\tvar el = template.find(EVENT_NS + '-'+arr[0]);\n\n\t\t\t\tif(el.length > 0) {\n\t\t\t\t\tvar attr = arr[1];\n\t\t\t\t\tif(attr === 'replaceWith') {\n\t\t\t\t\t\tif(el[0] !== value[0]) {\n\t\t\t\t\t\t\tel.replaceWith(value);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if(attr === 'img') {\n\t\t\t\t\t\tif(el.is('img')) {\n\t\t\t\t\t\t\tel.attr('src', value);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tel.replaceWith( $('<img>').attr('src', value).attr('class', el.attr('class')) );\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tel.attr(arr[1], value);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t} else {\n\t\t\t\ttemplate.find(EVENT_NS + '-'+key).html(value);\n\t\t\t}\n\t\t});\n\t},\n\n\t_getScrollbarSize: function() {\n\t\t// thx David\n\t\tif(mfp.scrollbarSize === undefined) {\n\t\t\tvar scrollDiv = document.createElement(\"div\");\n\t\t\tscrollDiv.style.cssText = 'width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;';\n\t\t\tdocument.body.appendChild(scrollDiv);\n\t\t\tmfp.scrollbarSize = scrollDiv.offsetWidth - scrollDiv.clientWidth;\n\t\t\tdocument.body.removeChild(scrollDiv);\n\t\t}\n\t\treturn mfp.scrollbarSize;\n\t}\n\n}; /* MagnificPopup core prototype end */\n\n\n\n\n/**\n * Public static functions\n */\n$.magnificPopup = {\n\tinstance: null,\n\tproto: MagnificPopup.prototype,\n\tmodules: [],\n\n\topen: function(options, index) {\n\t\t_checkInstance();\n\n\t\tif(!options) {\n\t\t\toptions = {};\n\t\t} else {\n\t\t\toptions = $.extend(true, {}, options);\n\t\t}\n\n\t\toptions.isObj = true;\n\t\toptions.index = index || 0;\n\t\treturn this.instance.open(options);\n\t},\n\n\tclose: function() {\n\t\treturn $.magnificPopup.instance && $.magnificPopup.instance.close();\n\t},\n\n\tregisterModule: function(name, module) {\n\t\tif(module.options) {\n\t\t\t$.magnificPopup.defaults[name] = module.options;\n\t\t}\n\t\t$.extend(this.proto, module.proto);\n\t\tthis.modules.push(name);\n\t},\n\n\tdefaults: {\n\n\t\t// Info about options is in docs:\n\t\t// http://dimsemenov.com/plugins/magnific-popup/documentation.html#options\n\n\t\tdisableOn: 0,\n\n\t\tkey: null,\n\n\t\tmidClick: false,\n\n\t\tmainClass: '',\n\n\t\tpreloader: true,\n\n\t\tfocus: '', // CSS selector of input to focus after popup is opened\n\n\t\tcloseOnContentClick: false,\n\n\t\tcloseOnBgClick: true,\n\n\t\tcloseBtnInside: true,\n\n\t\tshowCloseBtn: true,\n\n\t\tenableEscapeKey: true,\n\n\t\tmodal: false,\n\n\t\talignTop: false,\n\n\t\tremovalDelay: 0,\n\n\t\tprependTo: null,\n\n\t\tfixedContentPos: 'auto',\n\n\t\tfixedBgPos: 'auto',\n\n\t\toverflowY: 'auto',\n\n\t\tcloseMarkup: '<button title=\"%title%\" type=\"button\" class=\"mfp-close\">&#215;</button>',\n\n\t\ttClose: 'Close (Esc)',\n\n\t\ttLoading: 'Loading...',\n\n\t\tautoFocusLast: true\n\n\t}\n};\n\n\n\n$.fn.magnificPopup = function(options) {\n\t_checkInstance();\n\n\tvar jqEl = $(this);\n\n\t// We call some API method of first param is a string\n\tif (typeof options === \"string\" ) {\n\n\t\tif(options === 'open') {\n\t\t\tvar items,\n\t\t\t\titemOpts = _isJQ ? jqEl.data('magnificPopup') : jqEl[0].magnificPopup,\n\t\t\t\tindex = parseInt(arguments[1], 10) || 0;\n\n\t\t\tif(itemOpts.items) {\n\t\t\t\titems = itemOpts.items[index];\n\t\t\t} else {\n\t\t\t\titems = jqEl;\n\t\t\t\tif(itemOpts.delegate) {\n\t\t\t\t\titems = items.find(itemOpts.delegate);\n\t\t\t\t}\n\t\t\t\titems = items.eq( index );\n\t\t\t}\n\t\t\tmfp._openClick({mfpEl:items}, jqEl, itemOpts);\n\t\t} else {\n\t\t\tif(mfp.isOpen)\n\t\t\t\tmfp[options].apply(mfp, Array.prototype.slice.call(arguments, 1));\n\t\t}\n\n\t} else {\n\t\t// clone options obj\n\t\toptions = $.extend(true, {}, options);\n\n\t\t/*\n\t\t * As Zepto doesn't support .data() method for objects\n\t\t * and it works only in normal browsers\n\t\t * we assign \"options\" object directly to the DOM element. FTW!\n\t\t */\n\t\tif(_isJQ) {\n\t\t\tjqEl.data('magnificPopup', options);\n\t\t} else {\n\t\t\tjqEl[0].magnificPopup = options;\n\t\t}\n\n\t\tmfp.addGroup(jqEl, options);\n\n\t}\n\treturn jqEl;\n};\n\n/*>>core*/\n\n/*>>inline*/\n\nvar INLINE_NS = 'inline',\n\t_hiddenClass,\n\t_inlinePlaceholder,\n\t_lastInlineElement,\n\t_putInlineElementsBack = function() {\n\t\tif(_lastInlineElement) {\n\t\t\t_inlinePlaceholder.after( _lastInlineElement.addClass(_hiddenClass) ).detach();\n\t\t\t_lastInlineElement = null;\n\t\t}\n\t};\n\n$.magnificPopup.registerModule(INLINE_NS, {\n\toptions: {\n\t\thiddenClass: 'hide', // will be appended with `mfp-` prefix\n\t\tmarkup: '',\n\t\ttNotFound: 'Content not found'\n\t},\n\tproto: {\n\n\t\tinitInline: function() {\n\t\t\tmfp.types.push(INLINE_NS);\n\n\t\t\t_mfpOn(CLOSE_EVENT+'.'+INLINE_NS, function() {\n\t\t\t\t_putInlineElementsBack();\n\t\t\t});\n\t\t},\n\n\t\tgetInline: function(item, template) {\n\n\t\t\t_putInlineElementsBack();\n\n\t\t\tif(item.src) {\n\t\t\t\tvar inlineSt = mfp.st.inline,\n\t\t\t\t\tel = $(item.src);\n\n\t\t\t\tif(el.length) {\n\n\t\t\t\t\t// If target element has parent - we replace it with placeholder and put it back after popup is closed\n\t\t\t\t\tvar parent = el[0].parentNode;\n\t\t\t\t\tif(parent && parent.tagName) {\n\t\t\t\t\t\tif(!_inlinePlaceholder) {\n\t\t\t\t\t\t\t_hiddenClass = inlineSt.hiddenClass;\n\t\t\t\t\t\t\t_inlinePlaceholder = _getEl(_hiddenClass);\n\t\t\t\t\t\t\t_hiddenClass = 'mfp-'+_hiddenClass;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// replace target inline element with placeholder\n\t\t\t\t\t\t_lastInlineElement = el.after(_inlinePlaceholder).detach().removeClass(_hiddenClass);\n\t\t\t\t\t}\n\n\t\t\t\t\tmfp.updateStatus('ready');\n\t\t\t\t} else {\n\t\t\t\t\tmfp.updateStatus('error', inlineSt.tNotFound);\n\t\t\t\t\tel = $('<div>');\n\t\t\t\t}\n\n\t\t\t\titem.inlineElement = el;\n\t\t\t\treturn el;\n\t\t\t}\n\n\t\t\tmfp.updateStatus('ready');\n\t\t\tmfp._parseMarkup(template, {}, item);\n\t\t\treturn template;\n\t\t}\n\t}\n});\n\n/*>>inline*/\n\n/*>>ajax*/\nvar AJAX_NS = 'ajax',\n\t_ajaxCur,\n\t_removeAjaxCursor = function() {\n\t\tif(_ajaxCur) {\n\t\t\t$(document.body).removeClass(_ajaxCur);\n\t\t}\n\t},\n\t_destroyAjaxRequest = function() {\n\t\t_removeAjaxCursor();\n\t\tif(mfp.req) {\n\t\t\tmfp.req.abort();\n\t\t}\n\t};\n\n$.magnificPopup.registerModule(AJAX_NS, {\n\n\toptions: {\n\t\tsettings: null,\n\t\tcursor: 'mfp-ajax-cur',\n\t\ttError: '<a href=\"%url%\">The content</a> could not be loaded.'\n\t},\n\n\tproto: {\n\t\tinitAjax: function() {\n\t\t\tmfp.types.push(AJAX_NS);\n\t\t\t_ajaxCur = mfp.st.ajax.cursor;\n\n\t\t\t_mfpOn(CLOSE_EVENT+'.'+AJAX_NS, _destroyAjaxRequest);\n\t\t\t_mfpOn('BeforeChange.' + AJAX_NS, _destroyAjaxRequest);\n\t\t},\n\t\tgetAjax: function(item) {\n\n\t\t\tif(_ajaxCur) {\n\t\t\t\t$(document.body).addClass(_ajaxCur);\n\t\t\t}\n\n\t\t\tmfp.updateStatus('loading');\n\n\t\t\tvar opts = $.extend({\n\t\t\t\turl: item.src,\n\t\t\t\tsuccess: function(data, textStatus, jqXHR) {\n\t\t\t\t\tvar temp = {\n\t\t\t\t\t\tdata:data,\n\t\t\t\t\t\txhr:jqXHR\n\t\t\t\t\t};\n\n\t\t\t\t\t_mfpTrigger('ParseAjax', temp);\n\n\t\t\t\t\tmfp.appendContent( $(temp.data), AJAX_NS );\n\n\t\t\t\t\titem.finished = true;\n\n\t\t\t\t\t_removeAjaxCursor();\n\n\t\t\t\t\tmfp._setFocus();\n\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tmfp.wrap.addClass(READY_CLASS);\n\t\t\t\t\t}, 16);\n\n\t\t\t\t\tmfp.updateStatus('ready');\n\n\t\t\t\t\t_mfpTrigger('AjaxContentAdded');\n\t\t\t\t},\n\t\t\t\terror: function() {\n\t\t\t\t\t_removeAjaxCursor();\n\t\t\t\t\titem.finished = item.loadError = true;\n\t\t\t\t\tmfp.updateStatus('error', mfp.st.ajax.tError.replace('%url%', item.src));\n\t\t\t\t}\n\t\t\t}, mfp.st.ajax.settings);\n\n\t\t\tmfp.req = $.ajax(opts);\n\n\t\t\treturn '';\n\t\t}\n\t}\n});\n\n/*>>ajax*/\n\n/*>>image*/\nvar _imgInterval,\n\t_getTitle = function(item) {\n\t\tif(item.data && item.data.title !== undefined)\n\t\t\treturn item.data.title;\n\n\t\tvar src = mfp.st.image.titleSrc;\n\n\t\tif(src) {\n\t\t\tif($.isFunction(src)) {\n\t\t\t\treturn src.call(mfp, item);\n\t\t\t} else if(item.el) {\n\t\t\t\treturn item.el.attr(src) || '';\n\t\t\t}\n\t\t}\n\t\treturn '';\n\t};\n\n$.magnificPopup.registerModule('image', {\n\n\toptions: {\n\t\tmarkup: '<div class=\"mfp-figure\">'+\n\t\t\t\t\t'<div class=\"mfp-close\"></div>'+\n\t\t\t\t\t'<figure>'+\n\t\t\t\t\t\t'<div class=\"mfp-img\"></div>'+\n\t\t\t\t\t\t'<figcaption>'+\n\t\t\t\t\t\t\t'<div class=\"mfp-bottom-bar\">'+\n\t\t\t\t\t\t\t\t'<div class=\"mfp-title\"></div>'+\n\t\t\t\t\t\t\t\t'<div class=\"mfp-counter\"></div>'+\n\t\t\t\t\t\t\t'</div>'+\n\t\t\t\t\t\t'</figcaption>'+\n\t\t\t\t\t'</figure>'+\n\t\t\t\t'</div>',\n\t\tcursor: 'mfp-zoom-out-cur',\n\t\ttitleSrc: 'title',\n\t\tverticalFit: true,\n\t\ttError: '<a href=\"%url%\">The image</a> could not be loaded.'\n\t},\n\n\tproto: {\n\t\tinitImage: function() {\n\t\t\tvar imgSt = mfp.st.image,\n\t\t\t\tns = '.image';\n\n\t\t\tmfp.types.push('image');\n\n\t\t\t_mfpOn(OPEN_EVENT+ns, function() {\n\t\t\t\tif(mfp.currItem.type === 'image' && imgSt.cursor) {\n\t\t\t\t\t$(document.body).addClass(imgSt.cursor);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t_mfpOn(CLOSE_EVENT+ns, function() {\n\t\t\t\tif(imgSt.cursor) {\n\t\t\t\t\t$(document.body).removeClass(imgSt.cursor);\n\t\t\t\t}\n\t\t\t\t_window.off('resize' + EVENT_NS);\n\t\t\t});\n\n\t\t\t_mfpOn('Resize'+ns, mfp.resizeImage);\n\t\t\tif(mfp.isLowIE) {\n\t\t\t\t_mfpOn('AfterChange', mfp.resizeImage);\n\t\t\t}\n\t\t},\n\t\tresizeImage: function() {\n\t\t\tvar item = mfp.currItem;\n\t\t\tif(!item || !item.img) return;\n\n\t\t\tif(mfp.st.image.verticalFit) {\n\t\t\t\tvar decr = 0;\n\t\t\t\t// fix box-sizing in ie7/8\n\t\t\t\tif(mfp.isLowIE) {\n\t\t\t\t\tdecr = parseInt(item.img.css('padding-top'), 10) + parseInt(item.img.css('padding-bottom'),10);\n\t\t\t\t}\n\t\t\t\titem.img.css('max-height', mfp.wH-decr);\n\t\t\t}\n\t\t},\n\t\t_onImageHasSize: function(item) {\n\t\t\tif(item.img) {\n\n\t\t\t\titem.hasSize = true;\n\n\t\t\t\tif(_imgInterval) {\n\t\t\t\t\tclearInterval(_imgInterval);\n\t\t\t\t}\n\n\t\t\t\titem.isCheckingImgSize = false;\n\n\t\t\t\t_mfpTrigger('ImageHasSize', item);\n\n\t\t\t\tif(item.imgHidden) {\n\t\t\t\t\tif(mfp.content)\n\t\t\t\t\t\tmfp.content.removeClass('mfp-loading');\n\n\t\t\t\t\titem.imgHidden = false;\n\t\t\t\t}\n\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Function that loops until the image has size to display elements that rely on it asap\n\t\t */\n\t\tfindImageSize: function(item) {\n\n\t\t\tvar counter = 0,\n\t\t\t\timg = item.img[0],\n\t\t\t\tmfpSetInterval = function(delay) {\n\n\t\t\t\t\tif(_imgInterval) {\n\t\t\t\t\t\tclearInterval(_imgInterval);\n\t\t\t\t\t}\n\t\t\t\t\t// decelerating interval that checks for size of an image\n\t\t\t\t\t_imgInterval = setInterval(function() {\n\t\t\t\t\t\tif(img.naturalWidth > 0) {\n\t\t\t\t\t\t\tmfp._onImageHasSize(item);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif(counter > 200) {\n\t\t\t\t\t\t\tclearInterval(_imgInterval);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tcounter++;\n\t\t\t\t\t\tif(counter === 3) {\n\t\t\t\t\t\t\tmfpSetInterval(10);\n\t\t\t\t\t\t} else if(counter === 40) {\n\t\t\t\t\t\t\tmfpSetInterval(50);\n\t\t\t\t\t\t} else if(counter === 100) {\n\t\t\t\t\t\t\tmfpSetInterval(500);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, delay);\n\t\t\t\t};\n\n\t\t\tmfpSetInterval(1);\n\t\t},\n\n\t\tgetImage: function(item, template) {\n\n\t\t\tvar guard = 0,\n\n\t\t\t\t// image load complete handler\n\t\t\t\tonLoadComplete = function() {\n\t\t\t\t\tif(item) {\n\t\t\t\t\t\tif (item.img[0].complete) {\n\t\t\t\t\t\t\titem.img.off('.mfploader');\n\n\t\t\t\t\t\t\tif(item === mfp.currItem){\n\t\t\t\t\t\t\t\tmfp._onImageHasSize(item);\n\n\t\t\t\t\t\t\t\tmfp.updateStatus('ready');\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\titem.hasSize = true;\n\t\t\t\t\t\t\titem.loaded = true;\n\n\t\t\t\t\t\t\t_mfpTrigger('ImageLoadComplete');\n\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t// if image complete check fails 200 times (20 sec), we assume that there was an error.\n\t\t\t\t\t\t\tguard++;\n\t\t\t\t\t\t\tif(guard < 200) {\n\t\t\t\t\t\t\t\tsetTimeout(onLoadComplete,100);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tonLoadError();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\t// image error handler\n\t\t\t\tonLoadError = function() {\n\t\t\t\t\tif(item) {\n\t\t\t\t\t\titem.img.off('.mfploader');\n\t\t\t\t\t\tif(item === mfp.currItem){\n\t\t\t\t\t\t\tmfp._onImageHasSize(item);\n\t\t\t\t\t\t\tmfp.updateStatus('error', imgSt.tError.replace('%url%', item.src) );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\titem.hasSize = true;\n\t\t\t\t\t\titem.loaded = true;\n\t\t\t\t\t\titem.loadError = true;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\timgSt = mfp.st.image;\n\n\n\t\t\tvar el = template.find('.mfp-img');\n\t\t\tif(el.length) {\n\t\t\t\tvar img = document.createElement('img');\n\t\t\t\timg.className = 'mfp-img';\n\t\t\t\tif(item.el && item.el.find('img').length) {\n\t\t\t\t\timg.alt = item.el.find('img').attr('alt');\n\t\t\t\t}\n\t\t\t\titem.img = $(img).on('load.mfploader', onLoadComplete).on('error.mfploader', onLoadError);\n\t\t\t\timg.src = item.src;\n\n\t\t\t\t// without clone() \"error\" event is not firing when IMG is replaced by new IMG\n\t\t\t\t// TODO: find a way to avoid such cloning\n\t\t\t\tif(el.is('img')) {\n\t\t\t\t\titem.img = item.img.clone();\n\t\t\t\t}\n\n\t\t\t\timg = item.img[0];\n\t\t\t\tif(img.naturalWidth > 0) {\n\t\t\t\t\titem.hasSize = true;\n\t\t\t\t} else if(!img.width) {\n\t\t\t\t\titem.hasSize = false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tmfp._parseMarkup(template, {\n\t\t\t\ttitle: _getTitle(item),\n\t\t\t\timg_replaceWith: item.img\n\t\t\t}, item);\n\n\t\t\tmfp.resizeImage();\n\n\t\t\tif(item.hasSize) {\n\t\t\t\tif(_imgInterval) clearInterval(_imgInterval);\n\n\t\t\t\tif(item.loadError) {\n\t\t\t\t\ttemplate.addClass('mfp-loading');\n\t\t\t\t\tmfp.updateStatus('error', imgSt.tError.replace('%url%', item.src) );\n\t\t\t\t} else {\n\t\t\t\t\ttemplate.removeClass('mfp-loading');\n\t\t\t\t\tmfp.updateStatus('ready');\n\t\t\t\t}\n\t\t\t\treturn template;\n\t\t\t}\n\n\t\t\tmfp.updateStatus('loading');\n\t\t\titem.loading = true;\n\n\t\t\tif(!item.hasSize) {\n\t\t\t\titem.imgHidden = true;\n\t\t\t\ttemplate.addClass('mfp-loading');\n\t\t\t\tmfp.findImageSize(item);\n\t\t\t}\n\n\t\t\treturn template;\n\t\t}\n\t}\n});\n\n/*>>image*/\n\n/*>>zoom*/\nvar hasMozTransform,\n\tgetHasMozTransform = function() {\n\t\tif(hasMozTransform === undefined) {\n\t\t\thasMozTransform = document.createElement('p').style.MozTransform !== undefined;\n\t\t}\n\t\treturn hasMozTransform;\n\t};\n\n$.magnificPopup.registerModule('zoom', {\n\n\toptions: {\n\t\tenabled: false,\n\t\teasing: 'ease-in-out',\n\t\tduration: 300,\n\t\topener: function(element) {\n\t\t\treturn element.is('img') ? element : element.find('img');\n\t\t}\n\t},\n\n\tproto: {\n\n\t\tinitZoom: function() {\n\t\t\tvar zoomSt = mfp.st.zoom,\n\t\t\t\tns = '.zoom',\n\t\t\t\timage;\n\n\t\t\tif(!zoomSt.enabled || !mfp.supportsTransition) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar duration = zoomSt.duration,\n\t\t\t\tgetElToAnimate = function(image) {\n\t\t\t\t\tvar newImg = image.clone().removeAttr('style').removeAttr('class').addClass('mfp-animated-image'),\n\t\t\t\t\t\ttransition = 'all '+(zoomSt.duration/1000)+'s ' + zoomSt.easing,\n\t\t\t\t\t\tcssObj = {\n\t\t\t\t\t\t\tposition: 'fixed',\n\t\t\t\t\t\t\tzIndex: 9999,\n\t\t\t\t\t\t\tleft: 0,\n\t\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\t\t'-webkit-backface-visibility': 'hidden'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tt = 'transition';\n\n\t\t\t\t\tcssObj['-webkit-'+t] = cssObj['-moz-'+t] = cssObj['-o-'+t] = cssObj[t] = transition;\n\n\t\t\t\t\tnewImg.css(cssObj);\n\t\t\t\t\treturn newImg;\n\t\t\t\t},\n\t\t\t\tshowMainContent = function() {\n\t\t\t\t\tmfp.content.css('visibility', 'visible');\n\t\t\t\t},\n\t\t\t\topenTimeout,\n\t\t\t\tanimatedImg;\n\n\t\t\t_mfpOn('BuildControls'+ns, function() {\n\t\t\t\tif(mfp._allowZoom()) {\n\n\t\t\t\t\tclearTimeout(openTimeout);\n\t\t\t\t\tmfp.content.css('visibility', 'hidden');\n\n\t\t\t\t\t// Basically, all code below does is clones existing image, puts in on top of the current one and animated it\n\n\t\t\t\t\timage = mfp._getItemToZoom();\n\n\t\t\t\t\tif(!image) {\n\t\t\t\t\t\tshowMainContent();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tanimatedImg = getElToAnimate(image);\n\n\t\t\t\t\tanimatedImg.css( mfp._getOffset() );\n\n\t\t\t\t\tmfp.wrap.append(animatedImg);\n\n\t\t\t\t\topenTimeout = setTimeout(function() {\n\t\t\t\t\t\tanimatedImg.css( mfp._getOffset( true ) );\n\t\t\t\t\t\topenTimeout = setTimeout(function() {\n\n\t\t\t\t\t\t\tshowMainContent();\n\n\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\tanimatedImg.remove();\n\t\t\t\t\t\t\t\timage = animatedImg = null;\n\t\t\t\t\t\t\t\t_mfpTrigger('ZoomAnimationEnded');\n\t\t\t\t\t\t\t}, 16); // avoid blink when switching images\n\n\t\t\t\t\t\t}, duration); // this timeout equals animation duration\n\n\t\t\t\t\t}, 16); // by adding this timeout we avoid short glitch at the beginning of animation\n\n\n\t\t\t\t\t// Lots of timeouts...\n\t\t\t\t}\n\t\t\t});\n\t\t\t_mfpOn(BEFORE_CLOSE_EVENT+ns, function() {\n\t\t\t\tif(mfp._allowZoom()) {\n\n\t\t\t\t\tclearTimeout(openTimeout);\n\n\t\t\t\t\tmfp.st.removalDelay = duration;\n\n\t\t\t\t\tif(!image) {\n\t\t\t\t\t\timage = mfp._getItemToZoom();\n\t\t\t\t\t\tif(!image) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tanimatedImg = getElToAnimate(image);\n\t\t\t\t\t}\n\n\t\t\t\t\tanimatedImg.css( mfp._getOffset(true) );\n\t\t\t\t\tmfp.wrap.append(animatedImg);\n\t\t\t\t\tmfp.content.css('visibility', 'hidden');\n\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tanimatedImg.css( mfp._getOffset() );\n\t\t\t\t\t}, 16);\n\t\t\t\t}\n\n\t\t\t});\n\n\t\t\t_mfpOn(CLOSE_EVENT+ns, function() {\n\t\t\t\tif(mfp._allowZoom()) {\n\t\t\t\t\tshowMainContent();\n\t\t\t\t\tif(animatedImg) {\n\t\t\t\t\t\tanimatedImg.remove();\n\t\t\t\t\t}\n\t\t\t\t\timage = null;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t_allowZoom: function() {\n\t\t\treturn mfp.currItem.type === 'image';\n\t\t},\n\n\t\t_getItemToZoom: function() {\n\t\t\tif(mfp.currItem.hasSize) {\n\t\t\t\treturn mfp.currItem.img;\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\n\t\t// Get element postion relative to viewport\n\t\t_getOffset: function(isLarge) {\n\t\t\tvar el;\n\t\t\tif(isLarge) {\n\t\t\t\tel = mfp.currItem.img;\n\t\t\t} else {\n\t\t\t\tel = mfp.st.zoom.opener(mfp.currItem.el || mfp.currItem);\n\t\t\t}\n\n\t\t\tvar offset = el.offset();\n\t\t\tvar paddingTop = parseInt(el.css('padding-top'),10);\n\t\t\tvar paddingBottom = parseInt(el.css('padding-bottom'),10);\n\t\t\toffset.top -= ( $(window).scrollTop() - paddingTop );\n\n\n\t\t\t/*\n\n\t\t\tAnimating left + top + width/height looks glitchy in Firefox, but perfect in Chrome. And vice-versa.\n\n\t\t\t */\n\t\t\tvar obj = {\n\t\t\t\twidth: el.width(),\n\t\t\t\t// fix Zepto height+padding issue\n\t\t\t\theight: (_isJQ ? el.innerHeight() : el[0].offsetHeight) - paddingBottom - paddingTop\n\t\t\t};\n\n\t\t\t// I hate to do this, but there is no another option\n\t\t\tif( getHasMozTransform() ) {\n\t\t\t\tobj['-moz-transform'] = obj['transform'] = 'translate(' + offset.left + 'px,' + offset.top + 'px)';\n\t\t\t} else {\n\t\t\t\tobj.left = offset.left;\n\t\t\t\tobj.top = offset.top;\n\t\t\t}\n\t\t\treturn obj;\n\t\t}\n\n\t}\n});\n\n\n\n/*>>zoom*/\n\n/*>>iframe*/\n\nvar IFRAME_NS = 'iframe',\n\t_emptyPage = '//about:blank',\n\n\t_fixIframeBugs = function(isShowing) {\n\t\tif(mfp.currTemplate[IFRAME_NS]) {\n\t\t\tvar el = mfp.currTemplate[IFRAME_NS].find('iframe');\n\t\t\tif(el.length) {\n\t\t\t\t// reset src after the popup is closed to avoid \"video keeps playing after popup is closed\" bug\n\t\t\t\tif(!isShowing) {\n\t\t\t\t\tel[0].src = _emptyPage;\n\t\t\t\t}\n\n\t\t\t\t// IE8 black screen bug fix\n\t\t\t\tif(mfp.isIE8) {\n\t\t\t\t\tel.css('display', isShowing ? 'block' : 'none');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n$.magnificPopup.registerModule(IFRAME_NS, {\n\n\toptions: {\n\t\tmarkup: '<div class=\"mfp-iframe-scaler\">'+\n\t\t\t\t\t'<div class=\"mfp-close\"></div>'+\n\t\t\t\t\t'<iframe class=\"mfp-iframe\" src=\"//about:blank\" frameborder=\"0\" allowfullscreen></iframe>'+\n\t\t\t\t'</div>',\n\n\t\tsrcAction: 'iframe_src',\n\n\t\t// we don't care and support only one default type of URL by default\n\t\tpatterns: {\n\t\t\tyoutube: {\n\t\t\t\tindex: 'youtube.com',\n\t\t\t\tid: 'v=',\n\t\t\t\tsrc: '//www.youtube.com/embed/%id%?autoplay=1'\n\t\t\t},\n\t\t\tvimeo: {\n\t\t\t\tindex: 'vimeo.com/',\n\t\t\t\tid: '/',\n\t\t\t\tsrc: '//player.vimeo.com/video/%id%?autoplay=1'\n\t\t\t},\n\t\t\tgmaps: {\n\t\t\t\tindex: '//maps.google.',\n\t\t\t\tsrc: '%id%&output=embed'\n\t\t\t}\n\t\t}\n\t},\n\n\tproto: {\n\t\tinitIframe: function() {\n\t\t\tmfp.types.push(IFRAME_NS);\n\n\t\t\t_mfpOn('BeforeChange', function(e, prevType, newType) {\n\t\t\t\tif(prevType !== newType) {\n\t\t\t\t\tif(prevType === IFRAME_NS) {\n\t\t\t\t\t\t_fixIframeBugs(); // iframe if removed\n\t\t\t\t\t} else if(newType === IFRAME_NS) {\n\t\t\t\t\t\t_fixIframeBugs(true); // iframe is showing\n\t\t\t\t\t}\n\t\t\t\t}// else {\n\t\t\t\t\t// iframe source is switched, don't do anything\n\t\t\t\t//}\n\t\t\t});\n\n\t\t\t_mfpOn(CLOSE_EVENT + '.' + IFRAME_NS, function() {\n\t\t\t\t_fixIframeBugs();\n\t\t\t});\n\t\t},\n\n\t\tgetIframe: function(item, template) {\n\t\t\tvar embedSrc = item.src;\n\t\t\tvar iframeSt = mfp.st.iframe;\n\n\t\t\t$.each(iframeSt.patterns, function() {\n\t\t\t\tif(embedSrc.indexOf( this.index ) > -1) {\n\t\t\t\t\tif(this.id) {\n\t\t\t\t\t\tif(typeof this.id === 'string') {\n\t\t\t\t\t\t\tembedSrc = embedSrc.substr(embedSrc.lastIndexOf(this.id)+this.id.length, embedSrc.length);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tembedSrc = this.id.call( this, embedSrc );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tembedSrc = this.src.replace('%id%', embedSrc );\n\t\t\t\t\treturn false; // break;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tvar dataObj = {};\n\t\t\tif(iframeSt.srcAction) {\n\t\t\t\tdataObj[iframeSt.srcAction] = embedSrc;\n\t\t\t}\n\t\t\tmfp._parseMarkup(template, dataObj, item);\n\n\t\t\tmfp.updateStatus('ready');\n\n\t\t\treturn template;\n\t\t}\n\t}\n});\n\n\n\n/*>>iframe*/\n\n/*>>gallery*/\n/**\n * Get looped index depending on number of slides\n */\nvar _getLoopedId = function(index) {\n\t\tvar numSlides = mfp.items.length;\n\t\tif(index > numSlides - 1) {\n\t\t\treturn index - numSlides;\n\t\t} else  if(index < 0) {\n\t\t\treturn numSlides + index;\n\t\t}\n\t\treturn index;\n\t},\n\t_replaceCurrTotal = function(text, curr, total) {\n\t\treturn text.replace(/%curr%/gi, curr + 1).replace(/%total%/gi, total);\n\t};\n\n$.magnificPopup.registerModule('gallery', {\n\n\toptions: {\n\t\tenabled: false,\n\t\tarrowMarkup: '<button title=\"%title%\" type=\"button\" class=\"mfp-arrow mfp-arrow-%dir%\"></button>',\n\t\tpreload: [0,2],\n\t\tnavigateByImgClick: true,\n\t\tarrows: true,\n\n\t\ttPrev: 'Previous (Left arrow key)',\n\t\ttNext: 'Next (Right arrow key)',\n\t\ttCounter: '%curr% of %total%'\n\t},\n\n\tproto: {\n\t\tinitGallery: function() {\n\n\t\t\tvar gSt = mfp.st.gallery,\n\t\t\t\tns = '.mfp-gallery';\n\n\t\t\tmfp.direction = true; // true - next, false - prev\n\n\t\t\tif(!gSt || !gSt.enabled ) return false;\n\n\t\t\t_wrapClasses += ' mfp-gallery';\n\n\t\t\t_mfpOn(OPEN_EVENT+ns, function() {\n\n\t\t\t\tif(gSt.navigateByImgClick) {\n\t\t\t\t\tmfp.wrap.on('click'+ns, '.mfp-img', function() {\n\t\t\t\t\t\tif(mfp.items.length > 1) {\n\t\t\t\t\t\t\tmfp.next();\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t_document.on('keydown'+ns, function(e) {\n\t\t\t\t\tif (e.keyCode === 37) {\n\t\t\t\t\t\tmfp.prev();\n\t\t\t\t\t} else if (e.keyCode === 39) {\n\t\t\t\t\t\tmfp.next();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\n\t\t\t_mfpOn('UpdateStatus'+ns, function(e, data) {\n\t\t\t\tif(data.text) {\n\t\t\t\t\tdata.text = _replaceCurrTotal(data.text, mfp.currItem.index, mfp.items.length);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t_mfpOn(MARKUP_PARSE_EVENT+ns, function(e, element, values, item) {\n\t\t\t\tvar l = mfp.items.length;\n\t\t\t\tvalues.counter = l > 1 ? _replaceCurrTotal(gSt.tCounter, item.index, l) : '';\n\t\t\t});\n\n\t\t\t_mfpOn('BuildControls' + ns, function() {\n\t\t\t\tif(mfp.items.length > 1 && gSt.arrows && !mfp.arrowLeft) {\n\t\t\t\t\tvar markup = gSt.arrowMarkup,\n\t\t\t\t\t\tarrowLeft = mfp.arrowLeft = $( markup.replace(/%title%/gi, gSt.tPrev).replace(/%dir%/gi, 'left') ).addClass(PREVENT_CLOSE_CLASS),\n\t\t\t\t\t\tarrowRight = mfp.arrowRight = $( markup.replace(/%title%/gi, gSt.tNext).replace(/%dir%/gi, 'right') ).addClass(PREVENT_CLOSE_CLASS);\n\n\t\t\t\t\tarrowLeft.click(function() {\n\t\t\t\t\t\tmfp.prev();\n\t\t\t\t\t});\n\t\t\t\t\tarrowRight.click(function() {\n\t\t\t\t\t\tmfp.next();\n\t\t\t\t\t});\n\n\t\t\t\t\tmfp.container.append(arrowLeft.add(arrowRight));\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t_mfpOn(CHANGE_EVENT+ns, function() {\n\t\t\t\tif(mfp._preloadTimeout) clearTimeout(mfp._preloadTimeout);\n\n\t\t\t\tmfp._preloadTimeout = setTimeout(function() {\n\t\t\t\t\tmfp.preloadNearbyImages();\n\t\t\t\t\tmfp._preloadTimeout = null;\n\t\t\t\t}, 16);\n\t\t\t});\n\n\n\t\t\t_mfpOn(CLOSE_EVENT+ns, function() {\n\t\t\t\t_document.off(ns);\n\t\t\t\tmfp.wrap.off('click'+ns);\n\t\t\t\tmfp.arrowRight = mfp.arrowLeft = null;\n\t\t\t});\n\n\t\t},\n\t\tnext: function() {\n\t\t\tmfp.direction = true;\n\t\t\tmfp.index = _getLoopedId(mfp.index + 1);\n\t\t\tmfp.updateItemHTML();\n\t\t},\n\t\tprev: function() {\n\t\t\tmfp.direction = false;\n\t\t\tmfp.index = _getLoopedId(mfp.index - 1);\n\t\t\tmfp.updateItemHTML();\n\t\t},\n\t\tgoTo: function(newIndex) {\n\t\t\tmfp.direction = (newIndex >= mfp.index);\n\t\t\tmfp.index = newIndex;\n\t\t\tmfp.updateItemHTML();\n\t\t},\n\t\tpreloadNearbyImages: function() {\n\t\t\tvar p = mfp.st.gallery.preload,\n\t\t\t\tpreloadBefore = Math.min(p[0], mfp.items.length),\n\t\t\t\tpreloadAfter = Math.min(p[1], mfp.items.length),\n\t\t\t\ti;\n\n\t\t\tfor(i = 1; i <= (mfp.direction ? preloadAfter : preloadBefore); i++) {\n\t\t\t\tmfp._preloadItem(mfp.index+i);\n\t\t\t}\n\t\t\tfor(i = 1; i <= (mfp.direction ? preloadBefore : preloadAfter); i++) {\n\t\t\t\tmfp._preloadItem(mfp.index-i);\n\t\t\t}\n\t\t},\n\t\t_preloadItem: function(index) {\n\t\t\tindex = _getLoopedId(index);\n\n\t\t\tif(mfp.items[index].preloaded) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar item = mfp.items[index];\n\t\t\tif(!item.parsed) {\n\t\t\t\titem = mfp.parseEl( index );\n\t\t\t}\n\n\t\t\t_mfpTrigger('LazyLoad', item);\n\n\t\t\tif(item.type === 'image') {\n\t\t\t\titem.img = $('<img class=\"mfp-img\" />').on('load.mfploader', function() {\n\t\t\t\t\titem.hasSize = true;\n\t\t\t\t}).on('error.mfploader', function() {\n\t\t\t\t\titem.hasSize = true;\n\t\t\t\t\titem.loadError = true;\n\t\t\t\t\t_mfpTrigger('LazyLoadError', item);\n\t\t\t\t}).attr('src', item.src);\n\t\t\t}\n\n\n\t\t\titem.preloaded = true;\n\t\t}\n\t}\n});\n\n/*>>gallery*/\n\n/*>>retina*/\n\nvar RETINA_NS = 'retina';\n\n$.magnificPopup.registerModule(RETINA_NS, {\n\toptions: {\n\t\treplaceSrc: function(item) {\n\t\t\treturn item.src.replace(/\\.\\w+$/, function(m) { return '@2x' + m; });\n\t\t},\n\t\tratio: 1 // Function or number.  Set to 1 to disable.\n\t},\n\tproto: {\n\t\tinitRetina: function() {\n\t\t\tif(window.devicePixelRatio > 1) {\n\n\t\t\t\tvar st = mfp.st.retina,\n\t\t\t\t\tratio = st.ratio;\n\n\t\t\t\tratio = !isNaN(ratio) ? ratio : ratio();\n\n\t\t\t\tif(ratio > 1) {\n\t\t\t\t\t_mfpOn('ImageHasSize' + '.' + RETINA_NS, function(e, item) {\n\t\t\t\t\t\titem.img.css({\n\t\t\t\t\t\t\t'max-width': item.img[0].naturalWidth / ratio,\n\t\t\t\t\t\t\t'width': '100%'\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t\t_mfpOn('ElementParse' + '.' + RETINA_NS, function(e, item) {\n\t\t\t\t\t\titem.src = st.replaceSrc(item, ratio);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t}\n});\n\n/*>>retina*/\n _checkInstance(); }));","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n(function (global, factory) {\n    (typeof exports === 'undefined' ? 'undefined' : _typeof(exports)) === 'object' && typeof module !== 'undefined' ? module.exports = factory() : typeof define === 'function' && define.amd ? define(factory) : global.LazyLoad = factory();\n})(this, function () {\n    'use strict';\n\n    var defaultSettings = {\n        elements_selector: \"img\",\n        container: window,\n        threshold: 300,\n        throttle: 150,\n        data_src: \"original\",\n        data_srcset: \"original-set\",\n        class_loading: \"loading\",\n        class_loaded: \"loaded\",\n        class_error: \"error\",\n        class_initial: \"initial\",\n        skip_invisible: true,\n        callback_load: null,\n        callback_error: null,\n        callback_set: null,\n        callback_processed: null\n    };\n\n    var isBot = !(\"onscroll\" in window) || /glebot/.test(navigator.userAgent);\n\n    var callCallback = function callCallback(callback, argument) {\n        if (callback) {\n            callback(argument);\n        }\n    };\n\n    var getTopOffset = function getTopOffset(element) {\n        return element.getBoundingClientRect().top + window.pageYOffset - element.ownerDocument.documentElement.clientTop;\n    };\n\n    var isBelowViewport = function isBelowViewport(element, container, threshold) {\n        var fold = container === window ? window.innerHeight + window.pageYOffset : getTopOffset(container) + container.offsetHeight;\n        return fold <= getTopOffset(element) - threshold;\n    };\n\n    var getLeftOffset = function getLeftOffset(element) {\n        return element.getBoundingClientRect().left + window.pageXOffset - element.ownerDocument.documentElement.clientLeft;\n    };\n\n    var isAtRightOfViewport = function isAtRightOfViewport(element, container, threshold) {\n        var documentWidth = window.innerWidth;\n        var fold = container === window ? documentWidth + window.pageXOffset : getLeftOffset(container) + documentWidth;\n        return fold <= getLeftOffset(element) - threshold;\n    };\n\n    var isAboveViewport = function isAboveViewport(element, container, threshold) {\n        var fold = container === window ? window.pageYOffset : getTopOffset(container);\n        return fold >= getTopOffset(element) + threshold + element.offsetHeight;\n    };\n\n    var isAtLeftOfViewport = function isAtLeftOfViewport(element, container, threshold) {\n        var fold = container === window ? window.pageXOffset : getLeftOffset(container);\n        return fold >= getLeftOffset(element) + threshold + element.offsetWidth;\n    };\n\n    var isInsideViewport = function isInsideViewport(element, container, threshold) {\n        return !isBelowViewport(element, container, threshold) && !isAboveViewport(element, container, threshold) && !isAtRightOfViewport(element, container, threshold) && !isAtLeftOfViewport(element, container, threshold);\n    };\n\n    /* Creates instance and notifies it through the window element */\n    var createInstance = function createInstance(classObj, options) {\n        var instance = new classObj(options);\n        var event = new CustomEvent(\"LazyLoad::Initialized\", { detail: { instance: instance } });\n        window.dispatchEvent(event);\n    };\n\n    /* Auto initialization of one or more instances of lazyload, depending on the \n        options passed in (plain object or an array) */\n    var autoInitialize = function autoInitialize(classObj, options) {\n        var optsLength = options.length;\n        if (!optsLength) {\n            // Plain object\n            createInstance(classObj, options);\n        } else {\n            // Array of objects\n            for (var i = 0; i < optsLength; i++) {\n                createInstance(classObj, options[i]);\n            }\n        }\n    };\n\n    var dataPrefix = \"data-\";\n\n    var getData = function getData(element, attribute) {\n        return element.getAttribute(dataPrefix + attribute);\n    };\n\n    var setData = function setData(element, attribute, value) {\n        return element.setAttribute(dataPrefix + attribute, value);\n    };\n\n    var setSourcesForPicture = function setSourcesForPicture(element, srcsetDataAttribute) {\n        var parent = element.parentElement;\n        if (parent.tagName !== \"PICTURE\") {\n            return;\n        }\n        for (var i = 0; i < parent.children.length; i++) {\n            var pictureChild = parent.children[i];\n            if (pictureChild.tagName === \"SOURCE\") {\n                var sourceSrcset = getData(pictureChild, srcsetDataAttribute);\n                if (sourceSrcset) {\n                    pictureChild.setAttribute(\"srcset\", sourceSrcset);\n                }\n            }\n        }\n    };\n\n    var setSources = function setSources(element, srcsetDataAttribute, srcDataAttribute) {\n        var tagName = element.tagName;\n        var elementSrc = getData(element, srcDataAttribute);\n        if (tagName === \"IMG\") {\n            setSourcesForPicture(element, srcsetDataAttribute);\n            var imgSrcset = getData(element, srcsetDataAttribute);\n            if (imgSrcset) {\n                element.setAttribute(\"srcset\", imgSrcset);\n            }\n            if (elementSrc) {\n                element.setAttribute(\"src\", elementSrc);\n            }\n            return;\n        }\n        if (tagName === \"IFRAME\") {\n            if (elementSrc) {\n                element.setAttribute(\"src\", elementSrc);\n            }\n            return;\n        }\n        if (elementSrc) {\n            element.style.backgroundImage = 'url(\"' + elementSrc + '\")';\n        }\n    };\n\n    var supportsClassList = \"classList\" in document.createElement(\"p\");\n\n    var addClass = function addClass(element, className) {\n        if (supportsClassList) {\n            element.classList.add(className);\n            return;\n        }\n        element.className += (element.className ? \" \" : \"\") + className;\n    };\n\n    var removeClass = function removeClass(element, className) {\n        if (supportsClassList) {\n            element.classList.remove(className);\n            return;\n        }\n        element.className = element.className.replace(new RegExp(\"(^|\\\\s+)\" + className + \"(\\\\s+|$)\"), \" \").replace(/^\\s+/, \"\").replace(/\\s+$/, \"\");\n    };\n\n    /*\n     * Constructor\n     */\n\n    var LazyLoad = function LazyLoad(instanceSettings) {\n        this._settings = _extends({}, defaultSettings, instanceSettings);\n        this._queryOriginNode = this._settings.container === window ? document : this._settings.container;\n\n        this._previousLoopTime = 0;\n        this._loopTimeout = null;\n        this._boundHandleScroll = this.handleScroll.bind(this);\n\n        this._isFirstLoop = true;\n        window.addEventListener(\"resize\", this._boundHandleScroll);\n        this.update();\n    };\n\n    LazyLoad.prototype = {\n\n        /*\n         * Private methods\n         */\n\n        _reveal: function _reveal(element) {\n            var settings = this._settings;\n\n            var errorCallback = function errorCallback() {\n                /* As this method is asynchronous, it must be protected against external destroy() calls */\n                if (!settings) {\n                    return;\n                }\n                element.removeEventListener(\"load\", loadCallback);\n                element.removeEventListener(\"error\", errorCallback);\n                removeClass(element, settings.class_loading);\n                addClass(element, settings.class_error);\n                callCallback(settings.callback_error, element);\n            };\n\n            var loadCallback = function loadCallback() {\n                /* As this method is asynchronous, it must be protected against external destroy() calls */\n                if (!settings) {\n                    return;\n                }\n                removeClass(element, settings.class_loading);\n                addClass(element, settings.class_loaded);\n                element.removeEventListener(\"load\", loadCallback);\n                element.removeEventListener(\"error\", errorCallback);\n                /* Calling LOAD callback */\n                callCallback(settings.callback_load, element);\n            };\n\n            if (element.tagName === \"IMG\" || element.tagName === \"IFRAME\") {\n                element.addEventListener(\"load\", loadCallback);\n                element.addEventListener(\"error\", errorCallback);\n                addClass(element, settings.class_loading);\n            }\n\n            setSources(element, settings.data_srcset, settings.data_src);\n            /* Calling SET callback */\n            callCallback(settings.callback_set, element);\n        },\n\n        _loopThroughElements: function _loopThroughElements() {\n            var settings = this._settings,\n                elements = this._elements,\n                elementsLength = !elements ? 0 : elements.length;\n            var i = void 0,\n                processedIndexes = [],\n                firstLoop = this._isFirstLoop;\n\n            for (i = 0; i < elementsLength; i++) {\n                var element = elements[i];\n                /* If must skip_invisible and element is invisible, skip it */\n                if (settings.skip_invisible && element.offsetParent === null) {\n                    continue;\n                }\n\n                if (isBot || isInsideViewport(element, settings.container, settings.threshold)) {\n                    if (firstLoop) {\n                        addClass(element, settings.class_initial);\n                    }\n                    /* Start loading the image */\n                    this._reveal(element);\n                    /* Marking the element as processed. */\n                    processedIndexes.push(i);\n                    setData(element, \"was-processed\", true);\n                }\n            }\n            /* Removing processed elements from this._elements. */\n            while (processedIndexes.length) {\n                elements.splice(processedIndexes.pop(), 1);\n                /* Calling the end loop callback */\n                callCallback(settings.callback_processed, elements.length);\n            }\n            /* Stop listening to scroll event when 0 elements remains */\n            if (elementsLength === 0) {\n                this._stopScrollHandler();\n            }\n            /* Sets isFirstLoop to false */\n            if (firstLoop) {\n                this._isFirstLoop = false;\n            }\n        },\n\n        _purgeElements: function _purgeElements() {\n            var elements = this._elements,\n                elementsLength = elements.length;\n            var i = void 0,\n                elementsToPurge = [];\n\n            for (i = 0; i < elementsLength; i++) {\n                var element = elements[i];\n                /* If the element has already been processed, skip it */\n                if (getData(element, \"was-processed\")) {\n                    elementsToPurge.push(i);\n                }\n            }\n            /* Removing elements to purge from this._elements. */\n            while (elementsToPurge.length > 0) {\n                elements.splice(elementsToPurge.pop(), 1);\n            }\n        },\n\n        _startScrollHandler: function _startScrollHandler() {\n            if (!this._isHandlingScroll) {\n                this._isHandlingScroll = true;\n                this._settings.container.addEventListener(\"scroll\", this._boundHandleScroll);\n            }\n        },\n\n        _stopScrollHandler: function _stopScrollHandler() {\n            if (this._isHandlingScroll) {\n                this._isHandlingScroll = false;\n                this._settings.container.removeEventListener(\"scroll\", this._boundHandleScroll);\n            }\n        },\n\n        /* \n         * Public methods\n         */\n\n        handleScroll: function handleScroll() {\n            var throttle = this._settings.throttle;\n\n            if (throttle !== 0) {\n                var now = Date.now();\n                var remainingTime = throttle - (now - this._previousLoopTime);\n                if (remainingTime <= 0 || remainingTime > throttle) {\n                    if (this._loopTimeout) {\n                        clearTimeout(this._loopTimeout);\n                        this._loopTimeout = null;\n                    }\n                    this._previousLoopTime = now;\n                    this._loopThroughElements();\n                } else if (!this._loopTimeout) {\n                    this._loopTimeout = setTimeout(function () {\n                        this._previousLoopTime = Date.now();\n                        this._loopTimeout = null;\n                        this._loopThroughElements();\n                    }.bind(this), remainingTime);\n                }\n            } else {\n                this._loopThroughElements();\n            }\n        },\n\n        update: function update() {\n            // Converts to array the nodeset obtained querying the DOM from _queryOriginNode with elements_selector\n            this._elements = Array.prototype.slice.call(this._queryOriginNode.querySelectorAll(this._settings.elements_selector));\n            this._purgeElements();\n            this._loopThroughElements();\n            this._startScrollHandler();\n        },\n\n        destroy: function destroy() {\n            window.removeEventListener(\"resize\", this._boundHandleScroll);\n            if (this._loopTimeout) {\n                clearTimeout(this._loopTimeout);\n                this._loopTimeout = null;\n            }\n            this._stopScrollHandler();\n            this._elements = null;\n            this._queryOriginNode = null;\n            this._settings = null;\n        }\n    };\n\n    /* Automatic instances creation if required (useful for async script loading!) */\n    var autoInitOptions = window.lazyLoadOptions;\n    if (autoInitOptions) {\n        autoInitialize(LazyLoad, autoInitOptions);\n    }\n\n    return LazyLoad;\n});","/**\n * what-input - A global utility for tracking the current input method (mouse, keyboard or touch).\n * @version v4.0.6\n * @link https://github.com/ten1seven/what-input\n * @license MIT\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n  if(typeof exports === 'object' && typeof module === 'object')\n    module.exports = factory();\n  else if(typeof define === 'function' && define.amd)\n    define(\"whatInput\", [], factory);\n  else if(typeof exports === 'object')\n    exports[\"whatInput\"] = factory();\n  else\n    root[\"whatInput\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/  // The module cache\n/******/  var installedModules = {};\n\n/******/  // The require function\n/******/  function __webpack_require__(moduleId) {\n\n/******/    // Check if module is in cache\n/******/    if(installedModules[moduleId])\n/******/      return installedModules[moduleId].exports;\n\n/******/    // Create a new module (and put it into the cache)\n/******/    var module = installedModules[moduleId] = {\n/******/      exports: {},\n/******/      id: moduleId,\n/******/      loaded: false\n/******/    };\n\n/******/    // Execute the module function\n/******/    modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n/******/    // Flag the module as loaded\n/******/    module.loaded = true;\n\n/******/    // Return the exports of the module\n/******/    return module.exports;\n/******/  }\n\n\n/******/  // expose the modules object (__webpack_modules__)\n/******/  __webpack_require__.m = modules;\n\n/******/  // expose the module cache\n/******/  __webpack_require__.c = installedModules;\n\n/******/  // __webpack_public_path__\n/******/  __webpack_require__.p = \"\";\n\n/******/  // Load entry module and return exports\n/******/  return __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports) {\n\n  module.exports = (function() {\n\n    /*\n      ---------------\n      Variables\n      ---------------\n    */\n\n    // cache document.documentElement\n    var docElem = document.documentElement;\n\n    // last used input type\n    var currentInput = 'initial';\n\n    // last used input intent\n    var currentIntent = null;\n\n    // form input types\n    var formInputs = [\n      'input',\n      'select',\n      'textarea'\n    ];\n\n    // list of modifier keys commonly used with the mouse and\n    // can be safely ignored to prevent false keyboard detection\n    var ignoreMap = [\n      16, // shift\n      17, // control\n      18, // alt\n      91, // Windows key / left Apple cmd\n      93  // Windows menu / right Apple cmd\n    ];\n\n    // mapping of events to input types\n    var inputMap = {\n      'keyup': 'keyboard',\n      'mousedown': 'mouse',\n      'mousemove': 'mouse',\n      'MSPointerDown': 'pointer',\n      'MSPointerMove': 'pointer',\n      'pointerdown': 'pointer',\n      'pointermove': 'pointer',\n      'touchstart': 'touch'\n    };\n\n    // array of all used input types\n    var inputTypes = [];\n\n    // boolean: true if touch buffer timer is running\n    var isBuffering = false;\n\n    // map of IE 10 pointer events\n    var pointerMap = {\n      2: 'touch',\n      3: 'touch', // treat pen like touch\n      4: 'mouse'\n    };\n\n    // touch buffer timer\n    var touchTimer = null;\n\n\n    /*\n      ---------------\n      Set up\n      ---------------\n    */\n\n    var setUp = function() {\n\n      // add correct mouse wheel event mapping to `inputMap`\n      inputMap[detectWheel()] = 'mouse';\n\n      addListeners();\n      setInput();\n    };\n\n\n    /*\n      ---------------\n      Events\n      ---------------\n    */\n\n    var addListeners = function() {\n\n      // `pointermove`, `MSPointerMove`, `mousemove` and mouse wheel event binding\n      // can only demonstrate potential, but not actual, interaction\n      // and are treated separately\n\n      // pointer events (mouse, pen, touch)\n      if (window.PointerEvent) {\n        docElem.addEventListener('pointerdown', updateInput);\n        docElem.addEventListener('pointermove', setIntent);\n      } else if (window.MSPointerEvent) {\n        docElem.addEventListener('MSPointerDown', updateInput);\n        docElem.addEventListener('MSPointerMove', setIntent);\n      } else {\n\n        // mouse events\n        docElem.addEventListener('mousedown', updateInput);\n        docElem.addEventListener('mousemove', setIntent);\n\n        // touch events\n        if ('ontouchstart' in window) {\n          docElem.addEventListener('touchstart', touchBuffer);\n        }\n      }\n\n      // mouse wheel\n      docElem.addEventListener(detectWheel(), setIntent);\n\n      // keyboard events\n      docElem.addEventListener('keydown', updateInput);\n      docElem.addEventListener('keyup', updateInput);\n    };\n\n    // checks conditions before updating new input\n    var updateInput = function(event) {\n\n      // only execute if the touch buffer timer isn't running\n      if (!isBuffering) {\n        var eventKey = event.which;\n        var value = inputMap[event.type];\n        if (value === 'pointer') value = pointerType(event);\n\n        if (\n          currentInput !== value ||\n          currentIntent !== value\n        ) {\n\n          var activeElem = document.activeElement;\n          var activeInput = (\n            activeElem &&\n            activeElem.nodeName &&\n            formInputs.indexOf(activeElem.nodeName.toLowerCase()) === -1\n          ) ? true : false;\n\n          if (\n            value === 'touch' ||\n\n            // ignore mouse modifier keys\n            (value === 'mouse' && ignoreMap.indexOf(eventKey) === -1) ||\n\n            // don't switch if the current element is a form input\n            (value === 'keyboard' && activeInput)\n          ) {\n\n            // set the current and catch-all variable\n            currentInput = currentIntent = value;\n\n            setInput();\n          }\n        }\n      }\n    };\n\n    // updates the doc and `inputTypes` array with new input\n    var setInput = function() {\n      docElem.setAttribute('data-whatinput', currentInput);\n      docElem.setAttribute('data-whatintent', currentInput);\n\n      if (inputTypes.indexOf(currentInput) === -1) {\n        inputTypes.push(currentInput);\n        docElem.className += ' whatinput-types-' + currentInput;\n      }\n    };\n\n    // updates input intent for `mousemove` and `pointermove`\n    var setIntent = function(event) {\n\n      // only execute if the touch buffer timer isn't running\n      if (!isBuffering) {\n        var value = inputMap[event.type];\n        if (value === 'pointer') value = pointerType(event);\n\n        if (currentIntent !== value) {\n          currentIntent = value;\n\n          docElem.setAttribute('data-whatintent', currentIntent);\n        }\n      }\n    };\n\n    // buffers touch events because they frequently also fire mouse events\n    var touchBuffer = function(event) {\n\n      // clear the timer if it happens to be running\n      window.clearTimeout(touchTimer);\n\n      // set the current input\n      updateInput(event);\n\n      // set the isBuffering to `true`\n      isBuffering = true;\n\n      // run the timer\n      touchTimer = window.setTimeout(function() {\n\n        // if the timer runs out, set isBuffering back to `false`\n        isBuffering = false;\n      }, 200);\n    };\n\n\n    /*\n      ---------------\n      Utilities\n      ---------------\n    */\n\n    var pointerType = function(event) {\n     if (typeof event.pointerType === 'number') {\n        return pointerMap[event.pointerType];\n     } else {\n        return (event.pointerType === 'pen') ? 'touch' : event.pointerType; // treat pen like touch\n     }\n    };\n\n    // detect version of mouse wheel event to use\n    // via https://developer.mozilla.org/en-US/docs/Web/Events/wheel\n    var detectWheel = function() {\n      return 'onwheel' in document.createElement('div') ?\n        'wheel' : // Modern browsers support \"wheel\"\n\n        document.onmousewheel !== undefined ?\n          'mousewheel' : // Webkit and IE support at least \"mousewheel\"\n          'DOMMouseScroll'; // let's assume that remaining browsers are older Firefox\n    };\n\n\n    /*\n      ---------------\n      Init\n\n      don't start script unless browser cuts the mustard\n      (also passes if polyfills are used)\n      ---------------\n    */\n\n    if (\n      'addEventListener' in window &&\n      Array.prototype.indexOf\n    ) {\n      setUp();\n    }\n\n\n    /*\n      ---------------\n      API\n      ---------------\n    */\n\n    return {\n\n      // returns string: the current input type\n      // opt: 'loose'|'strict'\n      // 'strict' (default): returns the same value as the `data-whatinput` attribute\n      // 'loose': includes `data-whatintent` value if it's more current than `data-whatinput`\n      ask: function(opt) { return (opt === 'loose') ? currentIntent : currentInput; },\n\n      // returns array: all the detected input types\n      types: function() { return inputTypes; }\n\n    };\n\n  }());\n\n\n/***/ }\n/******/ ])\n});\n;","\n$(function(){\n\t$('.main-nav').setup_navigation();\n});\n\nvar keyCodeMap = {\n        48:\"0\", 49:\"1\", 50:\"2\", 51:\"3\", 52:\"4\", 53:\"5\", 54:\"6\", 55:\"7\", 56:\"8\", 57:\"9\", 59:\";\",\n        65:\"a\", 66:\"b\", 67:\"c\", 68:\"d\", 69:\"e\", 70:\"f\", 71:\"g\", 72:\"h\", 73:\"i\", 74:\"j\", 75:\"k\", 76:\"l\",\n        77:\"m\", 78:\"n\", 79:\"o\", 80:\"p\", 81:\"q\", 82:\"r\", 83:\"s\", 84:\"t\", 85:\"u\", 86:\"v\", 87:\"w\", 88:\"x\", 89:\"y\", 90:\"z\",\n        96:\"0\", 97:\"1\", 98:\"2\", 99:\"3\", 100:\"4\", 101:\"5\", 102:\"6\", 103:\"7\", 104:\"8\", 105:\"9\"\n}\n\n$.fn.setup_navigation = function(settings) {\n\n\tsettings = jQuery.extend({\n\t\tmenuHoverClass: 'show-menu',\n\t}, settings);\n\n\t// Add ARIA role to menubar and menu items\n\t$(this).attr('role', 'menubar').find('li').attr('role', 'menuitem');\n\n\tvar top_level_links = $(this).find('> li > a');\n\n\t// Added by Terrill: (removed temporarily: doesn't fix the JAWS problem after all)\n\t// Add tabindex=\"0\" to all top-level links\n\t// Without at least one of these, JAWS doesn't read widget as a menu, despite all the other ARIA\n\t//$(top_level_links).attr('tabindex','0');\n\n\t// Set tabIndex to -1 so that top_level_links can't receive focus until menu is open\n\t$(top_level_links).next('ul')\n\t\t.attr('data-test','true')\n\t\t.attr({ 'aria-hidden': 'true', 'role': 'menu' })\n\t\t.find('a')\n\t\t\t.attr('tabIndex',-1);\n\n\t// Adding aria-haspopup for appropriate items\n\t$(top_level_links).each(function(){\n\t\tif($(this).next('ul').length > 0)\n\t\t\t$(this).parent('li').attr('aria-haspopup', 'true');\n\t});\n\n\t$(top_level_links).hover(function(){\n\t\t$(this).closest('ul')\n\t\t\t.attr('aria-hidden', 'false')\n\t\t\t.find('.'+settings.menuHoverClass)\n\t\t\t\t.attr('aria-hidden', 'true')\n\t\t\t\t.removeClass(settings.menuHoverClass)\n\t\t\t\t.find('a')\n\t\t\t\t\t.attr('tabIndex',-1);\n\t\t$(this).next('ul')\n\t\t\t.attr('aria-hidden', 'false')\n\t\t\t.find('a').attr('tabIndex',0);\n\t});\n\n\n\t$(top_level_links).focus(function(){\n\t\t$(this).closest('ul')\n\t\t\t// Removed by Terrill\n\t\t\t// The following was adding aria-hidden=\"false\" to root ul since menu is never hidden\n\t\t\t// and seemed to be causing flakiness in JAWS (needs more testing)\n\t\t\t// .attr('aria-hidden', 'false')\n\t\t\t.find('.'+settings.menuHoverClass)\n\t\t\t\t.attr('aria-hidden', 'true')\n\t\t\t\t.removeClass(settings.menuHoverClass)\n\t\t\t\t.find('a')\n\t\t\t\t\t.attr('tabIndex',-1);\n\t\t$(this).next('ul')\n\t\t\t.attr('aria-hidden', 'false')\n\t\t\t.addClass(settings.menuHoverClass)\n\t\t\t.find('a').attr('tabIndex',0);\n\t});\n\n\t// Bind arrow keys for navigation\n\t$(top_level_links).keydown(function(e){\n\t\tif(e.keyCode == 37) {\n\t\t\te.preventDefault();\n\t\t\t// This is the first item\n\t\t\tif($(this).parent('li').prev('li').length == 0) {\n\t\t\t\t$(this).parents('ul').find('> li').last().find('a').first().focus();\n\t\t\t} else {\n\t\t\t\t$(this).parent('li').prev('li').find('a').first().focus();\n\t\t\t}\n\t\t} else if(e.keyCode == 38) {\n\t\t\te.preventDefault();\n\t\t\tif($(this).parent('li').find('ul').length > 0) {\n\t\t\t\t$(this).parent('li').find('ul')\n\t\t\t\t\t.attr('aria-hidden', 'false')\n\t\t\t\t\t.addClass(settings.menuHoverClass)\n\t\t\t\t\t.find('a').attr('tabIndex',0)\n\t\t\t\t\t\t.last().focus();\n\t\t\t}\n\t\t} else if(e.keyCode == 39) {\n\t\t\te.preventDefault();\n\t\t\t// This is the last item\n\t\t\tif($(this).parent('li').next('li').length == 0) {\n\t\t\t\t$(this).parents('ul').find('> li').first().find('a').first().focus();\n\t\t\t} else {\n\t\t\t\t$(this).parent('li').next('li').find('a').first().focus();\n\t\t\t}\n\t\t} else if(e.keyCode == 40) {\n\t\t\te.preventDefault();\n\t\t\tif($(this).parent('li').find('ul').length > 0) {\n\t\t\t\t$(this).parent('li').find('ul')\n\t\t\t\t\t.attr('aria-hidden', 'false')\n\t\t\t\t\t.addClass(settings.menuHoverClass)\n\t\t\t\t\t.find('a').attr('tabIndex',0)\n\t\t\t\t\t\t.first().focus();\n\t\t\t}\n\t\t} else if(e.keyCode == 13 || e.keyCode == 32) {\n\t\t\t// If submenu is hidden, open it\n\t\t\te.preventDefault();\n\t\t\t$(this).parent('li').find('ul[aria-hidden=true]')\n\t\t\t\t\t.attr('aria-hidden', 'false')\n\t\t\t\t\t.addClass(settings.menuHoverClass)\n\t\t\t\t\t.find('a').attr('tabIndex',0)\n\t\t\t\t\t\t.first().focus();\n\t\t} else if(e.keyCode == 27) {\n\t\t\te.preventDefault();\n\t\t\t$('.'+settings.menuHoverClass)\n\t\t\t\t.attr('aria-hidden', 'true')\n\t\t\t\t.removeClass(settings.menuHoverClass)\n\t\t\t\t.find('a')\n\t\t\t\t\t.attr('tabIndex',-1);\n\t\t} else {\n\t\t\t$(this).parent('li').find('ul[aria-hidden=false] a').each(function(){\n\t\t\t\tif($(this).text().substring(0,1).toLowerCase() == keyCodeMap[e.keyCode]) {\n\t\t\t\t\t$(this).focus();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n\n\n\tvar links = $(top_level_links).parent('li').find('ul').find('a');\n\t$(links).keydown(function(e){\n\t\tif(e.keyCode == 38) {\n\t\t\te.preventDefault();\n\t\t\t// This is the first item\n\t\t\tif($(this).parent('li').prev('li').length == 0) {\n\t\t\t\t$(this).parents('ul').parents('li').find('a').first().focus();\n\t\t\t} else {\n\t\t\t\t$(this).parent('li').prev('li').find('a').first().focus();\n\t\t\t}\n\t\t} else if(e.keyCode == 40) {\n\t\t\te.preventDefault();\n\t\t\tif($(this).parent('li').next('li').length == 0) {\n\t\t\t\t$(this).parents('ul').parents('li').find('a').first().focus();\n\t\t\t} else {\n\t\t\t\t$(this).parent('li').next('li').find('a').first().focus();\n\t\t\t}\n\t\t} else if(e.keyCode == 27 || e.keyCode == 37) {\n\t\t\te.preventDefault();\n\t\t\t$(this)\n\t\t\t\t.parents('ul').first()\n\t\t\t\t\t.prev('a').focus()\n\t\t\t\t\t.parents('ul').first().find('.'+settings.menuHoverClass)\n\t\t\t\t\t\t.attr('aria-hidden', 'true')\n\t\t\t\t\t\t.removeClass(settings.menuHoverClass)\n\t\t\t\t\t\t.find('a')\n\t\t\t\t\t\t\t.attr('tabIndex',-1);\n\t\t} else if(e.keyCode == 32) {\n\t\t\te.preventDefault();\n\t\t\twindow.location = $(this).attr('href');\n\t\t} else {\n\t\t\tvar found = false;\n\t\t\t$(this).parent('li').nextAll('li').find('a').each(function(){\n\t\t\t\tif($(this).text().substring(0,1).toLowerCase() == keyCodeMap[e.keyCode]) {\n\t\t\t\t\t$(this).focus();\n\t\t\t\t\tfound = true;\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif(!found) {\n\t\t\t\t$(this).parent('li').prevAll('li').find('a').each(function(){\n\t\t\t\t\tif($(this).text().substring(0,1).toLowerCase() == keyCodeMap[e.keyCode]) {\n\t\t\t\t\t\t$(this).focus();\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t});\n\n\n\t// Hide menu if click or focus occurs outside of navigation\n\t$(this).find('a').last().keydown(function(e){\n\t\tif(e.keyCode == 9) {\n\t\t\t// If the user tabs out of the navigation hide all menus\n\t\t\t$('.'+settings.menuHoverClass)\n\t\t\t\t.attr('aria-hidden', 'true')\n\t\t\t\t.removeClass(settings.menuHoverClass)\n\t\t\t\t.find('a')\n\t\t\t\t\t.attr('tabIndex',-1);\n\t\t}\n\t});\n\t$(document).click(function(){ $('.'+settings.menuHoverClass).attr('aria-hidden', 'true').removeClass(settings.menuHoverClass).find('a').attr('tabIndex',-1); });\n\n\t$(this).click(function(e){\n\t\te.stopPropagation();\n\t});\n}\n"]}